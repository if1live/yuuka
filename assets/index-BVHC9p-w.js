var pA=Object.defineProperty;var mA=(t,e,r)=>e in t?pA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ie=(t,e,r)=>(mA(t,typeof e!="symbol"?e+"":e,r),r),A0=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var d=(t,e,r)=>(A0(t,e,"read from private field"),r?r.call(t):e.get(t)),ie=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},oe=(t,e,r,n)=>(A0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var _t=(t,e,r)=>(A0(t,e,"access private method"),r);function Pk(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var $k={exports:{}},cv={},jk={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=Symbol.for("react.element"),gA=Symbol.for("react.portal"),vA=Symbol.for("react.fragment"),wA=Symbol.for("react.strict_mode"),bA=Symbol.for("react.profiler"),_A=Symbol.for("react.provider"),xA=Symbol.for("react.context"),SA=Symbol.for("react.forward_ref"),EA=Symbol.for("react.suspense"),NA=Symbol.for("react.memo"),kA=Symbol.for("react.lazy"),FS=Symbol.iterator;function CA(t){return t===null||typeof t!="object"?null:(t=FS&&t[FS]||t["@@iterator"],typeof t=="function"?t:null)}var Lk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dk=Object.assign,Mk={};function Rd(t,e,r){this.props=t,this.context=e,this.refs=Mk,this.updater=r||Lk}Rd.prototype.isReactComponent={};Rd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bk(){}Bk.prototype=Rd.prototype;function Jb(t,e,r){this.props=t,this.context=e,this.refs=Mk,this.updater=r||Lk}var Yb=Jb.prototype=new Bk;Yb.constructor=Jb;Dk(Yb,Rd.prototype);Yb.isPureReactComponent=!0;var WS=Array.isArray,Fk=Object.prototype.hasOwnProperty,Kb={current:null},Wk={key:!0,ref:!0,__self:!0,__source:!0};function qk(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Fk.call(e,n)&&!Wk.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:pp,type:t,key:s,ref:o,props:i,_owner:Kb.current}}function TA(t,e){return{$$typeof:pp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zb(t){return typeof t=="object"&&t!==null&&t.$$typeof===pp}function RA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var qS=/\/+/g;function I0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RA(""+t.key):e.toString(36)}function Lm(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pp:case gA:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+I0(o,0):n,WS(i)?(r="",t!=null&&(r=t.replace(qS,"$&/")+"/"),Lm(i,e,r,"",function(u){return u})):i!=null&&(Zb(i)&&(i=TA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",WS(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+I0(s,a);o+=Lm(s,e,r,l,i)}else if(l=CA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+I0(s,a++),o+=Lm(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function em(t,e,r){if(t==null)return t;var n=[],i=0;return Lm(t,n,"","",function(s){return e.call(r,s,i++)}),n}function OA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yn={current:null},Dm={transition:null},AA={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:Dm,ReactCurrentOwner:Kb};Tt.Children={map:em,forEach:function(t,e,r){em(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return em(t,function(){e++}),e},toArray:function(t){return em(t,function(e){return e})||[]},only:function(t){if(!Zb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tt.Component=Rd;Tt.Fragment=vA;Tt.Profiler=bA;Tt.PureComponent=Jb;Tt.StrictMode=wA;Tt.Suspense=EA;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AA;Tt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Dk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Fk.call(e,l)&&!Wk.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:pp,type:t.type,key:i,ref:s,props:n,_owner:o}};Tt.createContext=function(t){return t={$$typeof:xA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_A,_context:t},t.Consumer=t};Tt.createElement=qk;Tt.createFactory=function(t){var e=qk.bind(null,t);return e.type=t,e};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(t){return{$$typeof:SA,render:t}};Tt.isValidElement=Zb;Tt.lazy=function(t){return{$$typeof:kA,_payload:{_status:-1,_result:t},_init:OA}};Tt.memo=function(t,e){return{$$typeof:NA,type:t,compare:e===void 0?null:e}};Tt.startTransition=function(t){var e=Dm.transition;Dm.transition={};try{t()}finally{Dm.transition=e}};Tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Tt.useCallback=function(t,e){return Yn.current.useCallback(t,e)};Tt.useContext=function(t){return Yn.current.useContext(t)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(t){return Yn.current.useDeferredValue(t)};Tt.useEffect=function(t,e){return Yn.current.useEffect(t,e)};Tt.useId=function(){return Yn.current.useId()};Tt.useImperativeHandle=function(t,e,r){return Yn.current.useImperativeHandle(t,e,r)};Tt.useInsertionEffect=function(t,e){return Yn.current.useInsertionEffect(t,e)};Tt.useLayoutEffect=function(t,e){return Yn.current.useLayoutEffect(t,e)};Tt.useMemo=function(t,e){return Yn.current.useMemo(t,e)};Tt.useReducer=function(t,e,r){return Yn.current.useReducer(t,e,r)};Tt.useRef=function(t){return Yn.current.useRef(t)};Tt.useState=function(t){return Yn.current.useState(t)};Tt.useSyncExternalStore=function(t,e,r){return Yn.current.useSyncExternalStore(t,e,r)};Tt.useTransition=function(){return Yn.current.useTransition()};Tt.version="18.2.0";jk.exports=Tt;var O=jk.exports;const T=hp(O),IA=Pk({__proto__:null,default:T},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=O,$A=Symbol.for("react.element"),jA=Symbol.for("react.fragment"),LA=Object.prototype.hasOwnProperty,DA=PA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MA={key:!0,ref:!0,__self:!0,__source:!0};function Uk(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)LA.call(e,n)&&!MA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:$A,type:t,key:s,ref:o,props:i,_owner:DA.current}}cv.Fragment=jA;cv.jsx=Uk;cv.jsxs=Uk;$k.exports=cv;var y=$k.exports,Gw={},zk={exports:{}},Oi={},Vk={exports:{}},Hk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ge){var Ce=X.length;X.push(ge);e:for(;0<Ce;){var Ae=Ce-1>>>1,ue=X[Ae];if(0<i(ue,ge))X[Ae]=ge,X[Ce]=ue,Ce=Ae;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ge=X[0],Ce=X.pop();if(Ce!==ge){X[0]=Ce;e:for(var Ae=0,ue=X.length,_e=ue>>>1;Ae<_e;){var ve=2*(Ae+1)-1,Le=X[ve],V=ve+1,Ve=X[V];if(0>i(Le,Ce))V<ue&&0>i(Ve,Le)?(X[Ae]=Ve,X[V]=Ce,Ae=V):(X[Ae]=Le,X[ve]=Ce,Ae=ve);else if(V<ue&&0>i(Ve,Ce))X[Ae]=Ve,X[V]=Ce,Ae=V;else break e}}return ge}function i(X,ge){var Ce=X.sortIndex-ge.sortIndex;return Ce!==0?Ce:X.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,p=3,g=!1,_=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(X){for(var ge=r(u);ge!==null;){if(ge.callback===null)n(u);else if(ge.startTime<=X)n(u),ge.sortIndex=ge.expirationTime,e(l,ge);else break;ge=r(u)}}function I(X){if(S=!1,N(X),!_)if(r(l)!==null)_=!0,Fe(R);else{var ge=r(u);ge!==null&&Pe(I,ge.startTime-X)}}function R(X,ge){_=!1,S&&(S=!1,w(j),j=-1),g=!0;var Ce=p;try{for(N(ge),h=r(l);h!==null&&(!(h.expirationTime>ge)||X&&!te());){var Ae=h.callback;if(typeof Ae=="function"){h.callback=null,p=h.priorityLevel;var ue=Ae(h.expirationTime<=ge);ge=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===r(l)&&n(l),N(ge)}else n(l);h=r(l)}if(h!==null)var _e=!0;else{var ve=r(u);ve!==null&&Pe(I,ve.startTime-ge),_e=!1}return _e}finally{h=null,p=Ce,g=!1}}var k=!1,L=null,j=-1,Z=5,Q=-1;function te(){return!(t.unstable_now()-Q<Z)}function re(){if(L!==null){var X=t.unstable_now();Q=X;var ge=!0;try{ge=L(!0,X)}finally{ge?G():(k=!1,L=null)}}else k=!1}var G;if(typeof v=="function")G=function(){v(re)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,je=fe.port2;fe.port1.onmessage=re,G=function(){je.postMessage(null)}}else G=function(){E(re,0)};function Fe(X){L=X,k||(k=!0,G())}function Pe(X,ge){j=E(function(){X(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Fe(R))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(X){switch(p){case 1:case 2:case 3:var ge=3;break;default:ge=p}var Ce=p;p=ge;try{return X()}finally{p=Ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ge){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Ce=p;p=X;try{return ge()}finally{p=Ce}},t.unstable_scheduleCallback=function(X,ge,Ce){var Ae=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Ae+Ce:Ae):Ce=Ae,X){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Ce+ue,X={id:c++,callback:ge,priorityLevel:X,startTime:Ce,expirationTime:ue,sortIndex:-1},Ce>Ae?(X.sortIndex=Ce,e(u,X),r(l)===null&&X===r(u)&&(S?(w(j),j=-1):S=!0,Pe(I,Ce-Ae))):(X.sortIndex=ue,e(l,X),_||g||(_=!0,Fe(R))),X},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(X){var ge=p;return function(){var Ce=p;p=ge;try{return X.apply(this,arguments)}finally{p=Ce}}}})(Hk);Vk.exports=Hk;var BA=Vk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qk=O,Ci=BA;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gk=new Set,Xf={};function ku(t,e){od(t,e),od(t+"Capture",e)}function od(t,e){for(Xf[t]=e,t=0;t<e.length;t++)Gk.add(e[t])}var Vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jw=Object.prototype.hasOwnProperty,FA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,US={},zS={};function WA(t){return Jw.call(zS,t)?!0:Jw.call(US,t)?!1:FA.test(t)?zS[t]=!0:(US[t]=!0,!1)}function qA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UA(t,e,r,n){if(e===null||typeof e>"u"||qA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kn(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xn[t]=new Kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xn[e]=new Kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xn[t]=new Kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xn[t]=new Kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xn[t]=new Kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xn[t]=new Kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xn[t]=new Kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xn[t]=new Kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xn[t]=new Kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xb=/[\-:]([a-z])/g;function e_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xb,e_);xn[e]=new Kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xb,e_);xn[e]=new Kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xb,e_);xn[e]=new Kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xn[t]=new Kn(t,1,!1,t.toLowerCase(),null,!1,!1)});xn.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xn[t]=new Kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function t_(t,e,r,n){var i=xn.hasOwnProperty(e)?xn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UA(e,r,i,n)&&(r=null),n||i===null?WA(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ta=Qk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tm=Symbol.for("react.element"),sc=Symbol.for("react.portal"),oc=Symbol.for("react.fragment"),r_=Symbol.for("react.strict_mode"),Yw=Symbol.for("react.profiler"),Jk=Symbol.for("react.provider"),Yk=Symbol.for("react.context"),n_=Symbol.for("react.forward_ref"),Kw=Symbol.for("react.suspense"),Zw=Symbol.for("react.suspense_list"),i_=Symbol.for("react.memo"),ma=Symbol.for("react.lazy"),Kk=Symbol.for("react.offscreen"),VS=Symbol.iterator;function Gd(t){return t===null||typeof t!="object"?null:(t=VS&&t[VS]||t["@@iterator"],typeof t=="function"?t:null)}var Rr=Object.assign,P0;function gf(t){if(P0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);P0=e&&e[1]||""}return`
`+P0+t}var $0=!1;function j0(t,e){if(!t||$0)return"";$0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?gf(t):""}function zA(t){switch(t.tag){case 5:return gf(t.type);case 16:return gf("Lazy");case 13:return gf("Suspense");case 19:return gf("SuspenseList");case 0:case 2:case 15:return t=j0(t.type,!1),t;case 11:return t=j0(t.type.render,!1),t;case 1:return t=j0(t.type,!0),t;default:return""}}function Xw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oc:return"Fragment";case sc:return"Portal";case Yw:return"Profiler";case r_:return"StrictMode";case Kw:return"Suspense";case Zw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yk:return(t.displayName||"Context")+".Consumer";case Jk:return(t._context.displayName||"Context")+".Provider";case n_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i_:return e=t.displayName||null,e!==null?e:Xw(t.type)||"Memo";case ma:e=t._payload,t=t._init;try{return Xw(t(e))}catch{}}return null}function VA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xw(e);case 8:return e===r_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HA(t){var e=Zk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rm(t){t._valueTracker||(t._valueTracker=HA(t))}function Xk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Zk(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function my(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function e1(t,e){var r=e.checked;return Rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function HS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=rl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eC(t,e){e=e.checked,e!=null&&t_(t,"checked",e,!1)}function t1(t,e){eC(t,e);var r=rl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?r1(t,e.type,r):e.hasOwnProperty("defaultValue")&&r1(t,e.type,rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function QS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function r1(t,e,r){(e!=="number"||my(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var vf=Array.isArray;function Cc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+rl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function n1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Rr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function GS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ke(92));if(vf(r)){if(1<r.length)throw Error(ke(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:rl(r)}}function tC(t,e){var r=rl(e.value),n=rl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function JS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nm,nC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nm=nm||document.createElement("div"),nm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function eh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QA=["Webkit","ms","Moz","O"];Object.keys(Ef).forEach(function(t){QA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ef[e]=Ef[t]})});function iC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ef.hasOwnProperty(t)&&Ef[t]?(""+e).trim():e+"px"}function sC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=iC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var GA=Rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s1(t,e){if(e){if(GA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function o1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a1=null;function s_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var l1=null,Tc=null,Rc=null;function YS(t){if(t=gp(t)){if(typeof l1!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=mv(e),l1(t.stateNode,t.type,e))}}function oC(t){Tc?Rc?Rc.push(t):Rc=[t]:Tc=t}function aC(){if(Tc){var t=Tc,e=Rc;if(Rc=Tc=null,YS(t),e)for(t=0;t<e.length;t++)YS(e[t])}}function lC(t,e){return t(e)}function uC(){}var L0=!1;function cC(t,e,r){if(L0)return t(e,r);L0=!0;try{return lC(t,e,r)}finally{L0=!1,(Tc!==null||Rc!==null)&&(uC(),aC())}}function th(t,e){var r=t.stateNode;if(r===null)return null;var n=mv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ke(231,e,typeof r));return r}var u1=!1;if(Vo)try{var Jd={};Object.defineProperty(Jd,"passive",{get:function(){u1=!0}}),window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{u1=!1}function JA(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Nf=!1,yy=null,gy=!1,c1=null,YA={onError:function(t){Nf=!0,yy=t}};function KA(t,e,r,n,i,s,o,a,l){Nf=!1,yy=null,JA.apply(YA,arguments)}function ZA(t,e,r,n,i,s,o,a,l){if(KA.apply(this,arguments),Nf){if(Nf){var u=yy;Nf=!1,yy=null}else throw Error(ke(198));gy||(gy=!0,c1=u)}}function Cu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function KS(t){if(Cu(t)!==t)throw Error(ke(188))}function XA(t){var e=t.alternate;if(!e){if(e=Cu(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return KS(i),t;if(s===n)return KS(i),e;s=s.sibling}throw Error(ke(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ke(189))}}if(r.alternate!==n)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?t:e}function fC(t){return t=XA(t),t!==null?hC(t):null}function hC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hC(t);if(e!==null)return e;t=t.sibling}return null}var pC=Ci.unstable_scheduleCallback,ZS=Ci.unstable_cancelCallback,e5=Ci.unstable_shouldYield,t5=Ci.unstable_requestPaint,Ur=Ci.unstable_now,r5=Ci.unstable_getCurrentPriorityLevel,o_=Ci.unstable_ImmediatePriority,mC=Ci.unstable_UserBlockingPriority,vy=Ci.unstable_NormalPriority,n5=Ci.unstable_LowPriority,yC=Ci.unstable_IdlePriority,dv=null,eo=null;function i5(t){if(eo&&typeof eo.onCommitFiberRoot=="function")try{eo.onCommitFiberRoot(dv,t,void 0,(t.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:a5,s5=Math.log,o5=Math.LN2;function a5(t){return t>>>=0,t===0?32:31-(s5(t)/o5|0)|0}var im=64,sm=4194304;function wf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wy(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=wf(a):(s&=o,s!==0&&(n=wf(s)))}else o=r&~i,o!==0?n=wf(o):s!==0&&(n=wf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Rs(e),i=1<<r,n|=t[r],e&=~i;return n}function l5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rs(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=l5(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function d1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gC(){var t=im;return im<<=1,!(im&4194240)&&(im=64),t}function D0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function mp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rs(e),t[e]=r}function c5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Rs(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function a_(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Rs(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Yt=0;function vC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wC,l_,bC,_C,xC,f1=!1,om=[],Fa=null,Wa=null,qa=null,rh=new Map,nh=new Map,_a=[],d5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XS(t,e){switch(t){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":rh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nh.delete(e.pointerId)}}function Yd(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gp(e),e!==null&&l_(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function f5(t,e,r,n,i){switch(e){case"focusin":return Fa=Yd(Fa,t,e,r,n,i),!0;case"dragenter":return Wa=Yd(Wa,t,e,r,n,i),!0;case"mouseover":return qa=Yd(qa,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return rh.set(s,Yd(rh.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,nh.set(s,Yd(nh.get(s)||null,t,e,r,n,i)),!0}return!1}function SC(t){var e=Ll(t.target);if(e!==null){var r=Cu(e);if(r!==null){if(e=r.tag,e===13){if(e=dC(r),e!==null){t.blockedOn=e,xC(t.priority,function(){bC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=h1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);a1=n,r.target.dispatchEvent(n),a1=null}else return e=gp(r),e!==null&&l_(e),t.blockedOn=r,!1;e.shift()}return!0}function e2(t,e,r){Mm(t)&&r.delete(e)}function h5(){f1=!1,Fa!==null&&Mm(Fa)&&(Fa=null),Wa!==null&&Mm(Wa)&&(Wa=null),qa!==null&&Mm(qa)&&(qa=null),rh.forEach(e2),nh.forEach(e2)}function Kd(t,e){t.blockedOn===e&&(t.blockedOn=null,f1||(f1=!0,Ci.unstable_scheduleCallback(Ci.unstable_NormalPriority,h5)))}function ih(t){function e(i){return Kd(i,t)}if(0<om.length){Kd(om[0],t);for(var r=1;r<om.length;r++){var n=om[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fa!==null&&Kd(Fa,t),Wa!==null&&Kd(Wa,t),qa!==null&&Kd(qa,t),rh.forEach(e),nh.forEach(e),r=0;r<_a.length;r++)n=_a[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<_a.length&&(r=_a[0],r.blockedOn===null);)SC(r),r.blockedOn===null&&_a.shift()}var Oc=ta.ReactCurrentBatchConfig,by=!0;function p5(t,e,r,n){var i=Yt,s=Oc.transition;Oc.transition=null;try{Yt=1,u_(t,e,r,n)}finally{Yt=i,Oc.transition=s}}function m5(t,e,r,n){var i=Yt,s=Oc.transition;Oc.transition=null;try{Yt=4,u_(t,e,r,n)}finally{Yt=i,Oc.transition=s}}function u_(t,e,r,n){if(by){var i=h1(t,e,r,n);if(i===null)Q0(t,e,n,_y,r),XS(t,n);else if(f5(i,t,e,r,n))n.stopPropagation();else if(XS(t,n),e&4&&-1<d5.indexOf(t)){for(;i!==null;){var s=gp(i);if(s!==null&&wC(s),s=h1(t,e,r,n),s===null&&Q0(t,e,n,_y,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Q0(t,e,n,null,r)}}var _y=null;function h1(t,e,r,n){if(_y=null,t=s_(n),t=Ll(t),t!==null)if(e=Cu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _y=t,null}function EC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r5()){case o_:return 1;case mC:return 4;case vy:case n5:return 16;case yC:return 536870912;default:return 16}default:return 16}}var ja=null,c_=null,Bm=null;function NC(){if(Bm)return Bm;var t,e=c_,r=e.length,n,i="value"in ja?ja.value:ja.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Bm=i.slice(t,1<n?1-n:void 0)}function Fm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function am(){return!0}function t2(){return!1}function Ai(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?am:t2,this.isPropagationStopped=t2,this}return Rr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=am)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=am)},persist:function(){},isPersistent:am}),e}var Od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d_=Ai(Od),yp=Rr({},Od,{view:0,detail:0}),y5=Ai(yp),M0,B0,Zd,fv=Rr({},yp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zd&&(Zd&&t.type==="mousemove"?(M0=t.screenX-Zd.screenX,B0=t.screenY-Zd.screenY):B0=M0=0,Zd=t),M0)},movementY:function(t){return"movementY"in t?t.movementY:B0}}),r2=Ai(fv),g5=Rr({},fv,{dataTransfer:0}),v5=Ai(g5),w5=Rr({},yp,{relatedTarget:0}),F0=Ai(w5),b5=Rr({},Od,{animationName:0,elapsedTime:0,pseudoElement:0}),_5=Ai(b5),x5=Rr({},Od,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S5=Ai(x5),E5=Rr({},Od,{data:0}),n2=Ai(E5),N5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C5[t])?!!e[t]:!1}function f_(){return T5}var R5=Rr({},yp,{key:function(t){if(t.key){var e=N5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f_,charCode:function(t){return t.type==="keypress"?Fm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O5=Ai(R5),A5=Rr({},fv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i2=Ai(A5),I5=Rr({},yp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f_}),P5=Ai(I5),$5=Rr({},Od,{propertyName:0,elapsedTime:0,pseudoElement:0}),j5=Ai($5),L5=Rr({},fv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D5=Ai(L5),M5=[9,13,27,32],h_=Vo&&"CompositionEvent"in window,kf=null;Vo&&"documentMode"in document&&(kf=document.documentMode);var B5=Vo&&"TextEvent"in window&&!kf,kC=Vo&&(!h_||kf&&8<kf&&11>=kf),s2=" ",o2=!1;function CC(t,e){switch(t){case"keyup":return M5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ac=!1;function F5(t,e){switch(t){case"compositionend":return TC(e);case"keypress":return e.which!==32?null:(o2=!0,s2);case"textInput":return t=e.data,t===s2&&o2?null:t;default:return null}}function W5(t,e){if(ac)return t==="compositionend"||!h_&&CC(t,e)?(t=NC(),Bm=c_=ja=null,ac=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kC&&e.locale!=="ko"?null:e.data;default:return null}}var q5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q5[t.type]:e==="textarea"}function RC(t,e,r,n){oC(n),e=xy(e,"onChange"),0<e.length&&(r=new d_("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cf=null,sh=null;function U5(t){FC(t,0)}function hv(t){var e=cc(t);if(Xk(e))return t}function z5(t,e){if(t==="change")return e}var OC=!1;if(Vo){var W0;if(Vo){var q0="oninput"in document;if(!q0){var l2=document.createElement("div");l2.setAttribute("oninput","return;"),q0=typeof l2.oninput=="function"}W0=q0}else W0=!1;OC=W0&&(!document.documentMode||9<document.documentMode)}function u2(){Cf&&(Cf.detachEvent("onpropertychange",AC),sh=Cf=null)}function AC(t){if(t.propertyName==="value"&&hv(sh)){var e=[];RC(e,sh,t,s_(t)),cC(U5,e)}}function V5(t,e,r){t==="focusin"?(u2(),Cf=e,sh=r,Cf.attachEvent("onpropertychange",AC)):t==="focusout"&&u2()}function H5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hv(sh)}function Q5(t,e){if(t==="click")return hv(e)}function G5(t,e){if(t==="input"||t==="change")return hv(e)}function J5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $s=typeof Object.is=="function"?Object.is:J5;function oh(t,e){if($s(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Jw.call(e,i)||!$s(t[i],e[i]))return!1}return!0}function c2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function d2(t,e){var r=c2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=c2(r)}}function IC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PC(){for(var t=window,e=my();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=my(t.document)}return e}function p_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Y5(t){var e=PC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&IC(r.ownerDocument.documentElement,r)){if(n!==null&&p_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=d2(r,s);var o=d2(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K5=Vo&&"documentMode"in document&&11>=document.documentMode,lc=null,p1=null,Tf=null,m1=!1;function f2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;m1||lc==null||lc!==my(n)||(n=lc,"selectionStart"in n&&p_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tf&&oh(Tf,n)||(Tf=n,n=xy(p1,"onSelect"),0<n.length&&(e=new d_("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=lc)))}function lm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var uc={animationend:lm("Animation","AnimationEnd"),animationiteration:lm("Animation","AnimationIteration"),animationstart:lm("Animation","AnimationStart"),transitionend:lm("Transition","TransitionEnd")},U0={},$C={};Vo&&($C=document.createElement("div").style,"AnimationEvent"in window||(delete uc.animationend.animation,delete uc.animationiteration.animation,delete uc.animationstart.animation),"TransitionEvent"in window||delete uc.transitionend.transition);function pv(t){if(U0[t])return U0[t];if(!uc[t])return t;var e=uc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in $C)return U0[t]=e[r];return t}var jC=pv("animationend"),LC=pv("animationiteration"),DC=pv("animationstart"),MC=pv("transitionend"),BC=new Map,h2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(t,e){BC.set(t,e),ku(e,[t])}for(var z0=0;z0<h2.length;z0++){var V0=h2[z0],Z5=V0.toLowerCase(),X5=V0[0].toUpperCase()+V0.slice(1);fl(Z5,"on"+X5)}fl(jC,"onAnimationEnd");fl(LC,"onAnimationIteration");fl(DC,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(MC,"onTransitionEnd");od("onMouseEnter",["mouseout","mouseover"]);od("onMouseLeave",["mouseout","mouseover"]);od("onPointerEnter",["pointerout","pointerover"]);od("onPointerLeave",["pointerout","pointerover"]);ku("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ku("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ku("onBeforeInput",["compositionend","keypress","textInput","paste"]);ku("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ku("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ku("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eI=new Set("cancel close invalid load scroll toggle".split(" ").concat(bf));function p2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ZA(n,e,void 0,t),t.currentTarget=null}function FC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;p2(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;p2(i,a,u),s=l}}}if(gy)throw t=c1,gy=!1,c1=null,t}function hr(t,e){var r=e[b1];r===void 0&&(r=e[b1]=new Set);var n=t+"__bubble";r.has(n)||(WC(e,t,2,!1),r.add(n))}function H0(t,e,r){var n=0;e&&(n|=4),WC(r,t,n,e)}var um="_reactListening"+Math.random().toString(36).slice(2);function ah(t){if(!t[um]){t[um]=!0,Gk.forEach(function(r){r!=="selectionchange"&&(eI.has(r)||H0(r,!1,t),H0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[um]||(e[um]=!0,H0("selectionchange",!1,e))}}function WC(t,e,r,n){switch(EC(e)){case 1:var i=p5;break;case 4:i=m5;break;default:i=u_}r=i.bind(null,e,r,t),i=void 0,!u1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Q0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ll(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}cC(function(){var u=s,c=s_(r),h=[];e:{var p=BC.get(t);if(p!==void 0){var g=d_,_=t;switch(t){case"keypress":if(Fm(r)===0)break e;case"keydown":case"keyup":g=O5;break;case"focusin":_="focus",g=F0;break;case"focusout":_="blur",g=F0;break;case"beforeblur":case"afterblur":g=F0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=r2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=v5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=P5;break;case jC:case LC:case DC:g=_5;break;case MC:g=j5;break;case"scroll":g=y5;break;case"wheel":g=D5;break;case"copy":case"cut":case"paste":g=S5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=i2}var S=(e&4)!==0,E=!S&&t==="scroll",w=S?p!==null?p+"Capture":null:p;S=[];for(var v=u,N;v!==null;){N=v;var I=N.stateNode;if(N.tag===5&&I!==null&&(N=I,w!==null&&(I=th(v,w),I!=null&&S.push(lh(v,I,N)))),E)break;v=v.return}0<S.length&&(p=new g(p,_,null,r,c),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==a1&&(_=r.relatedTarget||r.fromElement)&&(Ll(_)||_[Ho]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=r.relatedTarget||r.toElement,g=u,_=_?Ll(_):null,_!==null&&(E=Cu(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(S=r2,I="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(S=i2,I="onPointerLeave",w="onPointerEnter",v="pointer"),E=g==null?p:cc(g),N=_==null?p:cc(_),p=new S(I,v+"leave",g,r,c),p.target=E,p.relatedTarget=N,I=null,Ll(c)===u&&(S=new S(w,v+"enter",_,r,c),S.target=N,S.relatedTarget=E,I=S),E=I,g&&_)t:{for(S=g,w=_,v=0,N=S;N;N=Uu(N))v++;for(N=0,I=w;I;I=Uu(I))N++;for(;0<v-N;)S=Uu(S),v--;for(;0<N-v;)w=Uu(w),N--;for(;v--;){if(S===w||w!==null&&S===w.alternate)break t;S=Uu(S),w=Uu(w)}S=null}else S=null;g!==null&&m2(h,p,g,S,!1),_!==null&&E!==null&&m2(h,E,_,S,!0)}}e:{if(p=u?cc(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var R=z5;else if(a2(p))if(OC)R=G5;else{R=H5;var k=V5}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=Q5);if(R&&(R=R(t,u))){RC(h,R,r,c);break e}k&&k(t,p,u),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&r1(p,"number",p.value)}switch(k=u?cc(u):window,t){case"focusin":(a2(k)||k.contentEditable==="true")&&(lc=k,p1=u,Tf=null);break;case"focusout":Tf=p1=lc=null;break;case"mousedown":m1=!0;break;case"contextmenu":case"mouseup":case"dragend":m1=!1,f2(h,r,c);break;case"selectionchange":if(K5)break;case"keydown":case"keyup":f2(h,r,c)}var L;if(h_)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ac?CC(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(kC&&r.locale!=="ko"&&(ac||j!=="onCompositionStart"?j==="onCompositionEnd"&&ac&&(L=NC()):(ja=c,c_="value"in ja?ja.value:ja.textContent,ac=!0)),k=xy(u,j),0<k.length&&(j=new n2(j,t,null,r,c),h.push({event:j,listeners:k}),L?j.data=L:(L=TC(r),L!==null&&(j.data=L)))),(L=B5?F5(t,r):W5(t,r))&&(u=xy(u,"onBeforeInput"),0<u.length&&(c=new n2("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=L))}FC(h,e)})}function lh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function xy(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=th(t,r),s!=null&&n.unshift(lh(t,s,i)),s=th(t,e),s!=null&&n.push(lh(t,s,i))),t=t.return}return n}function Uu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function m2(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=th(r,s),l!=null&&o.unshift(lh(r,l,a))):i||(l=th(r,s),l!=null&&o.push(lh(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var tI=/\r\n?/g,rI=/\u0000|\uFFFD/g;function y2(t){return(typeof t=="string"?t:""+t).replace(tI,`
`).replace(rI,"")}function cm(t,e,r){if(e=y2(e),y2(t)!==e&&r)throw Error(ke(425))}function Sy(){}var y1=null,g1=null;function v1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var w1=typeof setTimeout=="function"?setTimeout:void 0,nI=typeof clearTimeout=="function"?clearTimeout:void 0,g2=typeof Promise=="function"?Promise:void 0,iI=typeof queueMicrotask=="function"?queueMicrotask:typeof g2<"u"?function(t){return g2.resolve(null).then(t).catch(sI)}:w1;function sI(t){setTimeout(function(){throw t})}function G0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ih(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ih(e)}function Ua(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function v2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ad=Math.random().toString(36).slice(2),Ys="__reactFiber$"+Ad,uh="__reactProps$"+Ad,Ho="__reactContainer$"+Ad,b1="__reactEvents$"+Ad,oI="__reactListeners$"+Ad,aI="__reactHandles$"+Ad;function Ll(t){var e=t[Ys];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ho]||r[Ys]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=v2(t);t!==null;){if(r=t[Ys])return r;t=v2(t)}return e}t=r,r=t.parentNode}return null}function gp(t){return t=t[Ys]||t[Ho],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function mv(t){return t[uh]||null}var _1=[],dc=-1;function hl(t){return{current:t}}function mr(t){0>dc||(t.current=_1[dc],_1[dc]=null,dc--)}function dr(t,e){dc++,_1[dc]=t.current,t.current=e}var nl={},$n=hl(nl),ii=hl(!1),fu=nl;function ad(t,e){var r=t.type.contextTypes;if(!r)return nl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function si(t){return t=t.childContextTypes,t!=null}function Ey(){mr(ii),mr($n)}function w2(t,e,r){if($n.current!==nl)throw Error(ke(168));dr($n,e),dr(ii,r)}function qC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ke(108,VA(t)||"Unknown",i));return Rr({},r,n)}function Ny(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nl,fu=$n.current,dr($n,t),dr(ii,ii.current),!0}function b2(t,e,r){var n=t.stateNode;if(!n)throw Error(ke(169));r?(t=qC(t,e,fu),n.__reactInternalMemoizedMergedChildContext=t,mr(ii),mr($n),dr($n,t)):mr(ii),dr(ii,r)}var xo=null,yv=!1,J0=!1;function UC(t){xo===null?xo=[t]:xo.push(t)}function lI(t){yv=!0,UC(t)}function pl(){if(!J0&&xo!==null){J0=!0;var t=0,e=Yt;try{var r=xo;for(Yt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}xo=null,yv=!1}catch(i){throw xo!==null&&(xo=xo.slice(t+1)),pC(o_,pl),i}finally{Yt=e,J0=!1}}return null}var fc=[],hc=0,ky=null,Cy=0,zi=[],Vi=0,hu=null,$o=1,jo="";function El(t,e){fc[hc++]=Cy,fc[hc++]=ky,ky=t,Cy=e}function zC(t,e,r){zi[Vi++]=$o,zi[Vi++]=jo,zi[Vi++]=hu,hu=t;var n=$o;t=jo;var i=32-Rs(n)-1;n&=~(1<<i),r+=1;var s=32-Rs(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,$o=1<<32-Rs(e)+i|r<<i|n,jo=s+t}else $o=1<<s|r<<i|n,jo=t}function m_(t){t.return!==null&&(El(t,1),zC(t,1,0))}function y_(t){for(;t===ky;)ky=fc[--hc],fc[hc]=null,Cy=fc[--hc],fc[hc]=null;for(;t===hu;)hu=zi[--Vi],zi[Vi]=null,jo=zi[--Vi],zi[Vi]=null,$o=zi[--Vi],zi[Vi]=null}var ki=null,Ni=null,wr=!1,Ss=null;function VC(t,e){var r=Hi(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ki=t,Ni=Ua(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ki=t,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=hu!==null?{id:$o,overflow:jo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Hi(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ki=t,Ni=null,!0):!1;default:return!1}}function x1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function S1(t){if(wr){var e=Ni;if(e){var r=e;if(!_2(t,e)){if(x1(t))throw Error(ke(418));e=Ua(r.nextSibling);var n=ki;e&&_2(t,e)?VC(n,r):(t.flags=t.flags&-4097|2,wr=!1,ki=t)}}else{if(x1(t))throw Error(ke(418));t.flags=t.flags&-4097|2,wr=!1,ki=t}}}function x2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ki=t}function dm(t){if(t!==ki)return!1;if(!wr)return x2(t),wr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!v1(t.type,t.memoizedProps)),e&&(e=Ni)){if(x1(t))throw HC(),Error(ke(418));for(;e;)VC(t,e),e=Ua(e.nextSibling)}if(x2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ni=Ua(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ni=null}}else Ni=ki?Ua(t.stateNode.nextSibling):null;return!0}function HC(){for(var t=Ni;t;)t=Ua(t.nextSibling)}function ld(){Ni=ki=null,wr=!1}function g_(t){Ss===null?Ss=[t]:Ss.push(t)}var uI=ta.ReactCurrentBatchConfig;function us(t,e){if(t&&t.defaultProps){e=Rr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ty=hl(null),Ry=null,pc=null,v_=null;function w_(){v_=pc=Ry=null}function b_(t){var e=Ty.current;mr(Ty),t._currentValue=e}function E1(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ac(t,e){Ry=t,v_=pc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ri=!0),t.firstContext=null)}function Gi(t){var e=t._currentValue;if(v_!==t)if(t={context:t,memoizedValue:e,next:null},pc===null){if(Ry===null)throw Error(ke(308));pc=t,Ry.dependencies={lanes:0,firstContext:t}}else pc=pc.next=t;return e}var Dl=null;function __(t){Dl===null?Dl=[t]:Dl.push(t)}function QC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,__(e)):(r.next=i.next,i.next=r),e.interleaved=r,Qo(t,n)}function Qo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ya=!1;function x_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function za(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Dt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Qo(t,r)}return i=n.interleaved,i===null?(e.next=e,__(n)):(e.next=i.next,i.next=e),n.interleaved=e,Qo(t,r)}function Wm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,a_(t,r)}}function S2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Oy(t,e,r,n){var i=t.updateQueue;ya=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,S=a;switch(p=e,g=r,S.tag){case 1:if(_=S.payload,typeof _=="function"){h=_.call(g,h,p);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,p=typeof _=="function"?_.call(g,h,p):_,p==null)break e;h=Rr({},h,p);break e;case 2:ya=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mu|=o,t.lanes=o,t.memoizedState=h}}function E2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ke(191,i));i.call(n)}}}var JC=new Qk.Component().refs;function N1(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Rr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gv={isMounted:function(t){return(t=t._reactInternals)?Cu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Gn(),i=Ha(t),s=Fo(n,i);s.payload=e,r!=null&&(s.callback=r),e=za(t,s,i),e!==null&&(Os(e,t,i,n),Wm(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Gn(),i=Ha(t),s=Fo(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=za(t,s,i),e!==null&&(Os(e,t,i,n),Wm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Gn(),n=Ha(t),i=Fo(r,n);i.tag=2,e!=null&&(i.callback=e),e=za(t,i,n),e!==null&&(Os(e,t,n,r),Wm(e,t,n))}};function N2(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!oh(r,n)||!oh(i,s):!0}function YC(t,e,r){var n=!1,i=nl,s=e.contextType;return typeof s=="object"&&s!==null?s=Gi(s):(i=si(e)?fu:$n.current,n=e.contextTypes,s=(n=n!=null)?ad(t,i):nl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function k2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&gv.enqueueReplaceState(e,e.state,null)}function k1(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=JC,x_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gi(s):(s=si(e)?fu:$n.current,i.context=ad(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(N1(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gv.enqueueReplaceState(i,i.state,null),Oy(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var n=r.stateNode}if(!n)throw Error(ke(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===JC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,t))}return t}function fm(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C2(t){var e=t._init;return e(t._payload)}function KC(t){function e(w,v){if(t){var N=w.deletions;N===null?(w.deletions=[v],w.flags|=16):N.push(v)}}function r(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Qa(w,v),w.index=0,w.sibling=null,w}function s(w,v,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<v?(w.flags|=2,v):N):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,N,I){return v===null||v.tag!==6?(v=rw(N,w.mode,I),v.return=w,v):(v=i(v,N),v.return=w,v)}function l(w,v,N,I){var R=N.type;return R===oc?c(w,v,N.props.children,I,N.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ma&&C2(R)===v.type)?(I=i(v,N.props),I.ref=Xd(w,v,N),I.return=w,I):(I=Qm(N.type,N.key,N.props,null,w.mode,I),I.ref=Xd(w,v,N),I.return=w,I)}function u(w,v,N,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=nw(N,w.mode,I),v.return=w,v):(v=i(v,N.children||[]),v.return=w,v)}function c(w,v,N,I,R){return v===null||v.tag!==7?(v=ou(N,w.mode,I,R),v.return=w,v):(v=i(v,N),v.return=w,v)}function h(w,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=rw(""+v,w.mode,N),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case tm:return N=Qm(v.type,v.key,v.props,null,w.mode,N),N.ref=Xd(w,null,v),N.return=w,N;case sc:return v=nw(v,w.mode,N),v.return=w,v;case ma:var I=v._init;return h(w,I(v._payload),N)}if(vf(v)||Gd(v))return v=ou(v,w.mode,N,null),v.return=w,v;fm(w,v)}return null}function p(w,v,N,I){var R=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return R!==null?null:a(w,v,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case tm:return N.key===R?l(w,v,N,I):null;case sc:return N.key===R?u(w,v,N,I):null;case ma:return R=N._init,p(w,v,R(N._payload),I)}if(vf(N)||Gd(N))return R!==null?null:c(w,v,N,I,null);fm(w,N)}return null}function g(w,v,N,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(N)||null,a(v,w,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case tm:return w=w.get(I.key===null?N:I.key)||null,l(v,w,I,R);case sc:return w=w.get(I.key===null?N:I.key)||null,u(v,w,I,R);case ma:var k=I._init;return g(w,v,N,k(I._payload),R)}if(vf(I)||Gd(I))return w=w.get(N)||null,c(v,w,I,R,null);fm(v,I)}return null}function _(w,v,N,I){for(var R=null,k=null,L=v,j=v=0,Z=null;L!==null&&j<N.length;j++){L.index>j?(Z=L,L=null):Z=L.sibling;var Q=p(w,L,N[j],I);if(Q===null){L===null&&(L=Z);break}t&&L&&Q.alternate===null&&e(w,L),v=s(Q,v,j),k===null?R=Q:k.sibling=Q,k=Q,L=Z}if(j===N.length)return r(w,L),wr&&El(w,j),R;if(L===null){for(;j<N.length;j++)L=h(w,N[j],I),L!==null&&(v=s(L,v,j),k===null?R=L:k.sibling=L,k=L);return wr&&El(w,j),R}for(L=n(w,L);j<N.length;j++)Z=g(L,w,j,N[j],I),Z!==null&&(t&&Z.alternate!==null&&L.delete(Z.key===null?j:Z.key),v=s(Z,v,j),k===null?R=Z:k.sibling=Z,k=Z);return t&&L.forEach(function(te){return e(w,te)}),wr&&El(w,j),R}function S(w,v,N,I){var R=Gd(N);if(typeof R!="function")throw Error(ke(150));if(N=R.call(N),N==null)throw Error(ke(151));for(var k=R=null,L=v,j=v=0,Z=null,Q=N.next();L!==null&&!Q.done;j++,Q=N.next()){L.index>j?(Z=L,L=null):Z=L.sibling;var te=p(w,L,Q.value,I);if(te===null){L===null&&(L=Z);break}t&&L&&te.alternate===null&&e(w,L),v=s(te,v,j),k===null?R=te:k.sibling=te,k=te,L=Z}if(Q.done)return r(w,L),wr&&El(w,j),R;if(L===null){for(;!Q.done;j++,Q=N.next())Q=h(w,Q.value,I),Q!==null&&(v=s(Q,v,j),k===null?R=Q:k.sibling=Q,k=Q);return wr&&El(w,j),R}for(L=n(w,L);!Q.done;j++,Q=N.next())Q=g(L,w,j,Q.value,I),Q!==null&&(t&&Q.alternate!==null&&L.delete(Q.key===null?j:Q.key),v=s(Q,v,j),k===null?R=Q:k.sibling=Q,k=Q);return t&&L.forEach(function(re){return e(w,re)}),wr&&El(w,j),R}function E(w,v,N,I){if(typeof N=="object"&&N!==null&&N.type===oc&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case tm:e:{for(var R=N.key,k=v;k!==null;){if(k.key===R){if(R=N.type,R===oc){if(k.tag===7){r(w,k.sibling),v=i(k,N.props.children),v.return=w,w=v;break e}}else if(k.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ma&&C2(R)===k.type){r(w,k.sibling),v=i(k,N.props),v.ref=Xd(w,k,N),v.return=w,w=v;break e}r(w,k);break}else e(w,k);k=k.sibling}N.type===oc?(v=ou(N.props.children,w.mode,I,N.key),v.return=w,w=v):(I=Qm(N.type,N.key,N.props,null,w.mode,I),I.ref=Xd(w,v,N),I.return=w,w=I)}return o(w);case sc:e:{for(k=N.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){r(w,v.sibling),v=i(v,N.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else e(w,v);v=v.sibling}v=nw(N,w.mode,I),v.return=w,w=v}return o(w);case ma:return k=N._init,E(w,v,k(N._payload),I)}if(vf(N))return _(w,v,N,I);if(Gd(N))return S(w,v,N,I);fm(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(r(w,v.sibling),v=i(v,N),v.return=w,w=v):(r(w,v),v=rw(N,w.mode,I),v.return=w,w=v),o(w)):r(w,v)}return E}var ud=KC(!0),ZC=KC(!1),vp={},to=hl(vp),ch=hl(vp),dh=hl(vp);function Ml(t){if(t===vp)throw Error(ke(174));return t}function S_(t,e){switch(dr(dh,e),dr(ch,t),dr(to,vp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:i1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=i1(e,t)}mr(to),dr(to,e)}function cd(){mr(to),mr(ch),mr(dh)}function XC(t){Ml(dh.current);var e=Ml(to.current),r=i1(e,t.type);e!==r&&(dr(ch,t),dr(to,r))}function E_(t){ch.current===t&&(mr(to),mr(ch))}var Cr=hl(0);function Ay(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Y0=[];function N_(){for(var t=0;t<Y0.length;t++)Y0[t]._workInProgressVersionPrimary=null;Y0.length=0}var qm=ta.ReactCurrentDispatcher,K0=ta.ReactCurrentBatchConfig,pu=0,Tr=null,nn=null,fn=null,Iy=!1,Rf=!1,fh=0,cI=0;function Rn(){throw Error(ke(321))}function k_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!$s(t[r],e[r]))return!1;return!0}function C_(t,e,r,n,i,s){if(pu=s,Tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qm.current=t===null||t.memoizedState===null?pI:mI,t=r(n,i),Rf){s=0;do{if(Rf=!1,fh=0,25<=s)throw Error(ke(301));s+=1,fn=nn=null,e.updateQueue=null,qm.current=yI,t=r(n,i)}while(Rf)}if(qm.current=Py,e=nn!==null&&nn.next!==null,pu=0,fn=nn=Tr=null,Iy=!1,e)throw Error(ke(300));return t}function T_(){var t=fh!==0;return fh=0,t}function Vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Tr.memoizedState=fn=t:fn=fn.next=t,fn}function Ji(){if(nn===null){var t=Tr.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var e=fn===null?Tr.memoizedState:fn.next;if(e!==null)fn=e,nn=t;else{if(t===null)throw Error(ke(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},fn===null?Tr.memoizedState=fn=t:fn=fn.next=t}return fn}function hh(t,e){return typeof e=="function"?e(t):e}function Z0(t){var e=Ji(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=nn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((pu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Tr.lanes|=c,mu|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,$s(n,e.memoizedState)||(ri=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Tr.lanes|=s,mu|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function X0(t){var e=Ji(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$s(s,e.memoizedState)||(ri=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function e3(){}function t3(t,e){var r=Tr,n=Ji(),i=e(),s=!$s(n.memoizedState,i);if(s&&(n.memoizedState=i,ri=!0),n=n.queue,R_(i3.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||fn!==null&&fn.memoizedState.tag&1){if(r.flags|=2048,ph(9,n3.bind(null,r,n,i,e),void 0,null),hn===null)throw Error(ke(349));pu&30||r3(r,e,i)}return i}function r3(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function n3(t,e,r,n){e.value=r,e.getSnapshot=n,s3(e)&&o3(t)}function i3(t,e,r){return r(function(){s3(e)&&o3(t)})}function s3(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!$s(t,r)}catch{return!0}}function o3(t){var e=Qo(t,1);e!==null&&Os(e,t,1,-1)}function T2(t){var e=Vs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:t},e.queue=t,t=t.dispatch=hI.bind(null,Tr,t),[e.memoizedState,t]}function ph(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function a3(){return Ji().memoizedState}function Um(t,e,r,n){var i=Vs();Tr.flags|=t,i.memoizedState=ph(1|e,r,void 0,n===void 0?null:n)}function vv(t,e,r,n){var i=Ji();n=n===void 0?null:n;var s=void 0;if(nn!==null){var o=nn.memoizedState;if(s=o.destroy,n!==null&&k_(n,o.deps)){i.memoizedState=ph(e,r,s,n);return}}Tr.flags|=t,i.memoizedState=ph(1|e,r,s,n)}function R2(t,e){return Um(8390656,8,t,e)}function R_(t,e){return vv(2048,8,t,e)}function l3(t,e){return vv(4,2,t,e)}function u3(t,e){return vv(4,4,t,e)}function c3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function d3(t,e,r){return r=r!=null?r.concat([t]):null,vv(4,4,c3.bind(null,e,t),r)}function O_(){}function f3(t,e){var r=Ji();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&k_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function h3(t,e){var r=Ji();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&k_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function p3(t,e,r){return pu&21?($s(r,e)||(r=gC(),Tr.lanes|=r,mu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ri=!0),t.memoizedState=r)}function dI(t,e){var r=Yt;Yt=r!==0&&4>r?r:4,t(!0);var n=K0.transition;K0.transition={};try{t(!1),e()}finally{Yt=r,K0.transition=n}}function m3(){return Ji().memoizedState}function fI(t,e,r){var n=Ha(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},y3(t))g3(e,r);else if(r=QC(t,e,r,n),r!==null){var i=Gn();Os(r,t,n,i),v3(r,e,n)}}function hI(t,e,r){var n=Ha(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(y3(t))g3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,$s(a,o)){var l=e.interleaved;l===null?(i.next=i,__(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=QC(t,e,i,n),r!==null&&(i=Gn(),Os(r,t,n,i),v3(r,e,n))}}function y3(t){var e=t.alternate;return t===Tr||e!==null&&e===Tr}function g3(t,e){Rf=Iy=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function v3(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,a_(t,r)}}var Py={readContext:Gi,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},pI={readContext:Gi,useCallback:function(t,e){return Vs().memoizedState=[t,e===void 0?null:e],t},useContext:Gi,useEffect:R2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Um(4194308,4,c3.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Um(4194308,4,t,e)},useInsertionEffect:function(t,e){return Um(4,2,t,e)},useMemo:function(t,e){var r=Vs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Vs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fI.bind(null,Tr,t),[n.memoizedState,t]},useRef:function(t){var e=Vs();return t={current:t},e.memoizedState=t},useState:T2,useDebugValue:O_,useDeferredValue:function(t){return Vs().memoizedState=t},useTransition:function(){var t=T2(!1),e=t[0];return t=dI.bind(null,t[1]),Vs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tr,i=Vs();if(wr){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=e(),hn===null)throw Error(ke(349));pu&30||r3(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,R2(i3.bind(null,n,s,t),[t]),n.flags|=2048,ph(9,n3.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Vs(),e=hn.identifierPrefix;if(wr){var r=jo,n=$o;r=(n&~(1<<32-Rs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=fh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mI={readContext:Gi,useCallback:f3,useContext:Gi,useEffect:R_,useImperativeHandle:d3,useInsertionEffect:l3,useLayoutEffect:u3,useMemo:h3,useReducer:Z0,useRef:a3,useState:function(){return Z0(hh)},useDebugValue:O_,useDeferredValue:function(t){var e=Ji();return p3(e,nn.memoizedState,t)},useTransition:function(){var t=Z0(hh)[0],e=Ji().memoizedState;return[t,e]},useMutableSource:e3,useSyncExternalStore:t3,useId:m3,unstable_isNewReconciler:!1},yI={readContext:Gi,useCallback:f3,useContext:Gi,useEffect:R_,useImperativeHandle:d3,useInsertionEffect:l3,useLayoutEffect:u3,useMemo:h3,useReducer:X0,useRef:a3,useState:function(){return X0(hh)},useDebugValue:O_,useDeferredValue:function(t){var e=Ji();return nn===null?e.memoizedState=t:p3(e,nn.memoizedState,t)},useTransition:function(){var t=X0(hh)[0],e=Ji().memoizedState;return[t,e]},useMutableSource:e3,useSyncExternalStore:t3,useId:m3,unstable_isNewReconciler:!1};function dd(t,e){try{var r="",n=e;do r+=zA(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ew(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function C1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var gI=typeof WeakMap=="function"?WeakMap:Map;function w3(t,e,r){r=Fo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){jy||(jy=!0,D1=n),C1(t,e)},r}function b3(t,e,r){r=Fo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){C1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){C1(t,e),typeof n!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function O2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new gI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=AI.bind(null,t,e,r),e.then(t,t))}function A2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Fo(-1,1),e.tag=2,za(r,e,1))),r.lanes|=1),t)}var vI=ta.ReactCurrentOwner,ri=!1;function qn(t,e,r,n){e.child=t===null?ZC(e,null,r,n):ud(e,t.child,r,n)}function P2(t,e,r,n,i){r=r.render;var s=e.ref;return Ac(e,i),n=C_(t,e,r,n,s,i),r=T_(),t!==null&&!ri?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Go(t,e,i)):(wr&&r&&m_(e),e.flags|=1,qn(t,e,n,i),e.child)}function $2(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!M_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,_3(t,e,s,n,i)):(t=Qm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:oh,r(o,n)&&t.ref===e.ref)return Go(t,e,i)}return e.flags|=1,t=Qa(s,n),t.ref=e.ref,t.return=e,e.child=t}function _3(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(oh(s,n)&&t.ref===e.ref)if(ri=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ri=!0);else return e.lanes=t.lanes,Go(t,e,i)}return T1(t,e,r,n,i)}function x3(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(yc,_i),_i|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dr(yc,_i),_i|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,dr(yc,_i),_i|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,dr(yc,_i),_i|=n;return qn(t,e,i,r),e.child}function S3(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function T1(t,e,r,n,i){var s=si(r)?fu:$n.current;return s=ad(e,s),Ac(e,i),r=C_(t,e,r,n,s,i),n=T_(),t!==null&&!ri?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Go(t,e,i)):(wr&&n&&m_(e),e.flags|=1,qn(t,e,r,i),e.child)}function j2(t,e,r,n,i){if(si(r)){var s=!0;Ny(e)}else s=!1;if(Ac(e,i),e.stateNode===null)zm(t,e),YC(e,r,n),k1(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Gi(u):(u=si(r)?fu:$n.current,u=ad(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&k2(e,o,n,u),ya=!1;var p=e.memoizedState;o.state=p,Oy(e,n,o,i),l=e.memoizedState,a!==n||p!==l||ii.current||ya?(typeof c=="function"&&(N1(e,r,c,n),l=e.memoizedState),(a=ya||N2(e,r,a,n,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,GC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:us(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gi(l):(l=si(r)?fu:$n.current,l=ad(e,l));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&k2(e,o,n,l),ya=!1,p=e.memoizedState,o.state=p,Oy(e,n,o,i);var _=e.memoizedState;a!==h||p!==_||ii.current||ya?(typeof g=="function"&&(N1(e,r,g,n),_=e.memoizedState),(u=ya||N2(e,r,u,n,p,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return R1(t,e,r,n,s,i)}function R1(t,e,r,n,i,s){S3(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&b2(e,r,!1),Go(t,e,s);n=e.stateNode,vI.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ud(e,t.child,null,s),e.child=ud(e,null,a,s)):qn(t,e,a,s),e.memoizedState=n.state,i&&b2(e,r,!0),e.child}function E3(t){var e=t.stateNode;e.pendingContext?w2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w2(t,e.context,!1),S_(t,e.containerInfo)}function L2(t,e,r,n,i){return ld(),g_(i),e.flags|=256,qn(t,e,r,n),e.child}var O1={dehydrated:null,treeContext:null,retryLane:0};function A1(t){return{baseLanes:t,cachePool:null,transitions:null}}function N3(t,e,r){var n=e.pendingProps,i=Cr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dr(Cr,i&1),t===null)return S1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_v(o,n,0,null),t=ou(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=A1(r),e.memoizedState=O1,t):A_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wI(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Qa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qa(a,s):(s=ou(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?A1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=O1,n}return s=t.child,t=s.sibling,n=Qa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function A_(t,e){return e=_v({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hm(t,e,r,n){return n!==null&&g_(n),ud(e,t.child,null,r),t=A_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wI(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=ew(Error(ke(422))),hm(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=_v({mode:"visible",children:n.children},i,0,null),s=ou(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ud(e,t.child,null,o),e.child.memoizedState=A1(o),e.memoizedState=O1,s);if(!(e.mode&1))return hm(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ke(419)),n=ew(s,n,void 0),hm(t,e,o,n)}if(a=(o&t.childLanes)!==0,ri||a){if(n=hn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qo(t,i),Os(n,t,i,-1))}return D_(),n=ew(Error(ke(421))),hm(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=II.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ni=Ua(i.nextSibling),ki=e,wr=!0,Ss=null,t!==null&&(zi[Vi++]=$o,zi[Vi++]=jo,zi[Vi++]=hu,$o=t.id,jo=t.overflow,hu=e),e=A_(e,n.children),e.flags|=4096,e)}function D2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),E1(t.return,e,r)}function tw(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function k3(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(qn(t,e,n.children,r),n=Cr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D2(t,r,e);else if(t.tag===19)D2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(dr(Cr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ay(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),tw(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ay(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}tw(e,!0,r,null,s);break;case"together":tw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Go(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),mu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,r=Qa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function bI(t,e,r){switch(e.tag){case 3:E3(e),ld();break;case 5:XC(e);break;case 1:si(e.type)&&Ny(e);break;case 4:S_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;dr(Ty,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(dr(Cr,Cr.current&1),e.flags|=128,null):r&e.child.childLanes?N3(t,e,r):(dr(Cr,Cr.current&1),t=Go(t,e,r),t!==null?t.sibling:null);dr(Cr,Cr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return k3(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dr(Cr,Cr.current),n)break;return null;case 22:case 23:return e.lanes=0,x3(t,e,r)}return Go(t,e,r)}var C3,I1,T3,R3;C3=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};I1=function(){};T3=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ml(to.current);var s=null;switch(r){case"input":i=e1(t,i),n=e1(t,n),s=[];break;case"select":i=Rr({},i,{value:void 0}),n=Rr({},n,{value:void 0}),s=[];break;case"textarea":i=n1(t,i),n=n1(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Sy)}s1(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&hr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};R3=function(t,e,r,n){r!==n&&(e.flags|=4)};function ef(t,e){if(!wr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function On(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function _I(t,e,r){var n=e.pendingProps;switch(y_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(e),null;case 1:return si(e.type)&&Ey(),On(e),null;case 3:return n=e.stateNode,cd(),mr(ii),mr($n),N_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(dm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ss!==null&&(F1(Ss),Ss=null))),I1(t,e),On(e),null;case 5:E_(e);var i=Ml(dh.current);if(r=e.type,t!==null&&e.stateNode!=null)T3(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ke(166));return On(e),null}if(t=Ml(to.current),dm(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ys]=e,n[uh]=s,t=(e.mode&1)!==0,r){case"dialog":hr("cancel",n),hr("close",n);break;case"iframe":case"object":case"embed":hr("load",n);break;case"video":case"audio":for(i=0;i<bf.length;i++)hr(bf[i],n);break;case"source":hr("error",n);break;case"img":case"image":case"link":hr("error",n),hr("load",n);break;case"details":hr("toggle",n);break;case"input":HS(n,s),hr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},hr("invalid",n);break;case"textarea":GS(n,s),hr("invalid",n)}s1(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&cm(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cm(n.textContent,a,t),i=["children",""+a]):Xf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&hr("scroll",n)}switch(r){case"input":rm(n),QS(n,s,!0);break;case"textarea":rm(n),JS(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Sy)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ys]=e,t[uh]=n,C3(t,e,!1,!1),e.stateNode=t;e:{switch(o=o1(r,n),r){case"dialog":hr("cancel",t),hr("close",t),i=n;break;case"iframe":case"object":case"embed":hr("load",t),i=n;break;case"video":case"audio":for(i=0;i<bf.length;i++)hr(bf[i],t);i=n;break;case"source":hr("error",t),i=n;break;case"img":case"image":case"link":hr("error",t),hr("load",t),i=n;break;case"details":hr("toggle",t),i=n;break;case"input":HS(t,n),i=e1(t,n),hr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Rr({},n,{value:void 0}),hr("invalid",t);break;case"textarea":GS(t,n),i=n1(t,n),hr("invalid",t);break;default:i=n}s1(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nC(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&eh(t,l):typeof l=="number"&&eh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&hr("scroll",t):l!=null&&t_(t,s,l,o))}switch(r){case"input":rm(t),QS(t,n,!1);break;case"textarea":rm(t),JS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+rl(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Cc(t,!!n.multiple,s,!1):n.defaultValue!=null&&Cc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return On(e),null;case 6:if(t&&e.stateNode!=null)R3(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ke(166));if(r=Ml(dh.current),Ml(to.current),dm(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ys]=e,(s=n.nodeValue!==r)&&(t=ki,t!==null))switch(t.tag){case 3:cm(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cm(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ys]=e,e.stateNode=n}return On(e),null;case 13:if(mr(Cr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wr&&Ni!==null&&e.mode&1&&!(e.flags&128))HC(),ld(),e.flags|=98560,s=!1;else if(s=dm(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ke(317));s[Ys]=e}else ld(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;On(e),s=!1}else Ss!==null&&(F1(Ss),Ss=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Cr.current&1?on===0&&(on=3):D_())),e.updateQueue!==null&&(e.flags|=4),On(e),null);case 4:return cd(),I1(t,e),t===null&&ah(e.stateNode.containerInfo),On(e),null;case 10:return b_(e.type._context),On(e),null;case 17:return si(e.type)&&Ey(),On(e),null;case 19:if(mr(Cr),s=e.memoizedState,s===null)return On(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)ef(s,!1);else{if(on!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ay(t),o!==null){for(e.flags|=128,ef(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return dr(Cr,Cr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ur()>fd&&(e.flags|=128,n=!0,ef(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ay(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ef(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wr)return On(e),null}else 2*Ur()-s.renderingStartTime>fd&&r!==1073741824&&(e.flags|=128,n=!0,ef(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ur(),e.sibling=null,r=Cr.current,dr(Cr,n?r&1|2:r&1),e):(On(e),null);case 22:case 23:return L_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?_i&1073741824&&(On(e),e.subtreeFlags&6&&(e.flags|=8192)):On(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function xI(t,e){switch(y_(e),e.tag){case 1:return si(e.type)&&Ey(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cd(),mr(ii),mr($n),N_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return E_(e),null;case 13:if(mr(Cr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));ld()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mr(Cr),null;case 4:return cd(),null;case 10:return b_(e.type._context),null;case 22:case 23:return L_(),null;case 24:return null;default:return null}}var pm=!1,Pn=!1,SI=typeof WeakSet=="function"?WeakSet:Set,ze=null;function mc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pr(t,e,n)}else r.current=null}function P1(t,e,r){try{r()}catch(n){Pr(t,e,n)}}var M2=!1;function EI(t,e){if(y1=by,t=PC(),p_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,p=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===r&&++u===i&&(a=o),p===s&&++c===n&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(g1={focusedElem:t,selectionRange:r},by=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,E=_.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:us(e.type,S),E);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(I){Pr(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return _=M2,M2=!1,_}function Of(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&P1(e,r,s)}i=i.next}while(i!==n)}}function wv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function $1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function O3(t){var e=t.alternate;e!==null&&(t.alternate=null,O3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ys],delete e[uh],delete e[b1],delete e[oI],delete e[aI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function A3(t){return t.tag===5||t.tag===3||t.tag===4}function B2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function j1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Sy));else if(n!==4&&(t=t.child,t!==null))for(j1(t,e,r),t=t.sibling;t!==null;)j1(t,e,r),t=t.sibling}function L1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(L1(t,e,r),t=t.sibling;t!==null;)L1(t,e,r),t=t.sibling}var wn=null,bs=!1;function ua(t,e,r){for(r=r.child;r!==null;)I3(t,e,r),r=r.sibling}function I3(t,e,r){if(eo&&typeof eo.onCommitFiberUnmount=="function")try{eo.onCommitFiberUnmount(dv,r)}catch{}switch(r.tag){case 5:Pn||mc(r,e);case 6:var n=wn,i=bs;wn=null,ua(t,e,r),wn=n,bs=i,wn!==null&&(bs?(t=wn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):wn.removeChild(r.stateNode));break;case 18:wn!==null&&(bs?(t=wn,r=r.stateNode,t.nodeType===8?G0(t.parentNode,r):t.nodeType===1&&G0(t,r),ih(t)):G0(wn,r.stateNode));break;case 4:n=wn,i=bs,wn=r.stateNode.containerInfo,bs=!0,ua(t,e,r),wn=n,bs=i;break;case 0:case 11:case 14:case 15:if(!Pn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&P1(r,e,o),i=i.next}while(i!==n)}ua(t,e,r);break;case 1:if(!Pn&&(mc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Pr(r,e,a)}ua(t,e,r);break;case 21:ua(t,e,r);break;case 22:r.mode&1?(Pn=(n=Pn)||r.memoizedState!==null,ua(t,e,r),Pn=n):ua(t,e,r);break;default:ua(t,e,r)}}function F2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new SI),e.forEach(function(n){var i=PI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function os(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wn=a.stateNode,bs=!1;break e;case 3:wn=a.stateNode.containerInfo,bs=!0;break e;case 4:wn=a.stateNode.containerInfo,bs=!0;break e}a=a.return}if(wn===null)throw Error(ke(160));I3(s,o,i),wn=null,bs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P3(e,t),e=e.sibling}function P3(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(os(e,t),zs(t),n&4){try{Of(3,t,t.return),wv(3,t)}catch(S){Pr(t,t.return,S)}try{Of(5,t,t.return)}catch(S){Pr(t,t.return,S)}}break;case 1:os(e,t),zs(t),n&512&&r!==null&&mc(r,r.return);break;case 5:if(os(e,t),zs(t),n&512&&r!==null&&mc(r,r.return),t.flags&32){var i=t.stateNode;try{eh(i,"")}catch(S){Pr(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eC(i,s),o1(a,o);var u=o1(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?sC(i,h):c==="dangerouslySetInnerHTML"?nC(i,h):c==="children"?eh(i,h):t_(i,c,h,u)}switch(a){case"input":t1(i,s);break;case"textarea":tC(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Cc(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Cc(i,!!s.multiple,s.defaultValue,!0):Cc(i,!!s.multiple,s.multiple?[]:"",!1))}i[uh]=s}catch(S){Pr(t,t.return,S)}}break;case 6:if(os(e,t),zs(t),n&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Pr(t,t.return,S)}}break;case 3:if(os(e,t),zs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ih(e.containerInfo)}catch(S){Pr(t,t.return,S)}break;case 4:os(e,t),zs(t);break;case 13:os(e,t),zs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($_=Ur())),n&4&&F2(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Pn=(u=Pn)||c,os(e,t),Pn=u):os(e,t),zs(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ze=t,c=t.child;c!==null;){for(h=ze=c;ze!==null;){switch(p=ze,g=p.child,p.tag){case 0:case 11:case 14:case 15:Of(4,p,p.return);break;case 1:mc(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){Pr(n,r,S)}}break;case 5:mc(p,p.return);break;case 22:if(p.memoizedState!==null){q2(h);continue}}g!==null?(g.return=p,ze=g):q2(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iC("display",o))}catch(S){Pr(t,t.return,S)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){Pr(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:os(e,t),zs(t),n&4&&F2(t);break;case 21:break;default:os(e,t),zs(t)}}function zs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(A3(r)){var n=r;break e}r=r.return}throw Error(ke(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(eh(i,""),n.flags&=-33);var s=B2(t);L1(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=B2(t);j1(t,a,o);break;default:throw Error(ke(161))}}catch(l){Pr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NI(t,e,r){ze=t,$3(t)}function $3(t,e,r){for(var n=(t.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||pm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pn;a=pm;var u=Pn;if(pm=o,(Pn=l)&&!u)for(ze=i;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?U2(i):l!==null?(l.return=o,ze=l):U2(i);for(;s!==null;)ze=s,$3(s),s=s.sibling;ze=i,pm=a,Pn=u}W2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):W2(t)}}function W2(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||wv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Pn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:us(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&E2(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}E2(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ih(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Pn||e.flags&512&&$1(e)}catch(p){Pr(e,e.return,p)}}if(e===t){ze=null;break}if(r=e.sibling,r!==null){r.return=e.return,ze=r;break}ze=e.return}}function q2(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ze=r;break}ze=e.return}}function U2(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{wv(4,e)}catch(l){Pr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Pr(e,i,l)}}var s=e.return;try{$1(e)}catch(l){Pr(e,s,l)}break;case 5:var o=e.return;try{$1(e)}catch(l){Pr(e,o,l)}}}catch(l){Pr(e,e.return,l)}if(e===t){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var kI=Math.ceil,$y=ta.ReactCurrentDispatcher,I_=ta.ReactCurrentOwner,Qi=ta.ReactCurrentBatchConfig,Dt=0,hn=null,Kr=null,_n=0,_i=0,yc=hl(0),on=0,mh=null,mu=0,bv=0,P_=0,Af=null,ti=null,$_=0,fd=1/0,bo=null,jy=!1,D1=null,Va=null,mm=!1,La=null,Ly=0,If=0,M1=null,Vm=-1,Hm=0;function Gn(){return Dt&6?Ur():Vm!==-1?Vm:Vm=Ur()}function Ha(t){return t.mode&1?Dt&2&&_n!==0?_n&-_n:uI.transition!==null?(Hm===0&&(Hm=gC()),Hm):(t=Yt,t!==0||(t=window.event,t=t===void 0?16:EC(t.type)),t):1}function Os(t,e,r,n){if(50<If)throw If=0,M1=null,Error(ke(185));mp(t,r,n),(!(Dt&2)||t!==hn)&&(t===hn&&(!(Dt&2)&&(bv|=r),on===4&&xa(t,_n)),oi(t,n),r===1&&Dt===0&&!(e.mode&1)&&(fd=Ur()+500,yv&&pl()))}function oi(t,e){var r=t.callbackNode;u5(t,e);var n=wy(t,t===hn?_n:0);if(n===0)r!==null&&ZS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ZS(r),e===1)t.tag===0?lI(z2.bind(null,t)):UC(z2.bind(null,t)),iI(function(){!(Dt&6)&&pl()}),r=null;else{switch(vC(n)){case 1:r=o_;break;case 4:r=mC;break;case 16:r=vy;break;case 536870912:r=yC;break;default:r=vy}r=q3(r,j3.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function j3(t,e){if(Vm=-1,Hm=0,Dt&6)throw Error(ke(327));var r=t.callbackNode;if(Ic()&&t.callbackNode!==r)return null;var n=wy(t,t===hn?_n:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Dy(t,n);else{e=n;var i=Dt;Dt|=2;var s=D3();(hn!==t||_n!==e)&&(bo=null,fd=Ur()+500,su(t,e));do try{RI();break}catch(a){L3(t,a)}while(!0);w_(),$y.current=s,Dt=i,Kr!==null?e=0:(hn=null,_n=0,e=on)}if(e!==0){if(e===2&&(i=d1(t),i!==0&&(n=i,e=B1(t,i))),e===1)throw r=mh,su(t,0),xa(t,n),oi(t,Ur()),r;if(e===6)xa(t,n);else{if(i=t.current.alternate,!(n&30)&&!CI(i)&&(e=Dy(t,n),e===2&&(s=d1(t),s!==0&&(n=s,e=B1(t,s))),e===1))throw r=mh,su(t,0),xa(t,n),oi(t,Ur()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ke(345));case 2:Nl(t,ti,bo);break;case 3:if(xa(t,n),(n&130023424)===n&&(e=$_+500-Ur(),10<e)){if(wy(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=w1(Nl.bind(null,t,ti,bo),e);break}Nl(t,ti,bo);break;case 4:if(xa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Rs(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Ur()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kI(n/1960))-n,10<n){t.timeoutHandle=w1(Nl.bind(null,t,ti,bo),n);break}Nl(t,ti,bo);break;case 5:Nl(t,ti,bo);break;default:throw Error(ke(329))}}}return oi(t,Ur()),t.callbackNode===r?j3.bind(null,t):null}function B1(t,e){var r=Af;return t.current.memoizedState.isDehydrated&&(su(t,e).flags|=256),t=Dy(t,e),t!==2&&(e=ti,ti=r,e!==null&&F1(e)),t}function F1(t){ti===null?ti=t:ti.push.apply(ti,t)}function CI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!$s(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xa(t,e){for(e&=~P_,e&=~bv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Rs(e),n=1<<r;t[r]=-1,e&=~n}}function z2(t){if(Dt&6)throw Error(ke(327));Ic();var e=wy(t,0);if(!(e&1))return oi(t,Ur()),null;var r=Dy(t,e);if(t.tag!==0&&r===2){var n=d1(t);n!==0&&(e=n,r=B1(t,n))}if(r===1)throw r=mh,su(t,0),xa(t,e),oi(t,Ur()),r;if(r===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nl(t,ti,bo),oi(t,Ur()),null}function j_(t,e){var r=Dt;Dt|=1;try{return t(e)}finally{Dt=r,Dt===0&&(fd=Ur()+500,yv&&pl())}}function yu(t){La!==null&&La.tag===0&&!(Dt&6)&&Ic();var e=Dt;Dt|=1;var r=Qi.transition,n=Yt;try{if(Qi.transition=null,Yt=1,t)return t()}finally{Yt=n,Qi.transition=r,Dt=e,!(Dt&6)&&pl()}}function L_(){_i=yc.current,mr(yc)}function su(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,nI(r)),Kr!==null)for(r=Kr.return;r!==null;){var n=r;switch(y_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ey();break;case 3:cd(),mr(ii),mr($n),N_();break;case 5:E_(n);break;case 4:cd();break;case 13:mr(Cr);break;case 19:mr(Cr);break;case 10:b_(n.type._context);break;case 22:case 23:L_()}r=r.return}if(hn=t,Kr=t=Qa(t.current,null),_n=_i=e,on=0,mh=null,P_=bv=mu=0,ti=Af=null,Dl!==null){for(e=0;e<Dl.length;e++)if(r=Dl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Dl=null}return t}function L3(t,e){do{var r=Kr;try{if(w_(),qm.current=Py,Iy){for(var n=Tr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Iy=!1}if(pu=0,fn=nn=Tr=null,Rf=!1,fh=0,I_.current=null,r===null||r.return===null){on=1,mh=e,Kr=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=_n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=A2(o);if(g!==null){g.flags&=-257,I2(g,o,a,s,e),g.mode&1&&O2(s,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var S=new Set;S.add(l),e.updateQueue=S}else _.add(l);break e}else{if(!(e&1)){O2(s,u,e),D_();break e}l=Error(ke(426))}}else if(wr&&a.mode&1){var E=A2(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),I2(E,o,a,s,e),g_(dd(l,a));break e}}s=l=dd(l,a),on!==4&&(on=2),Af===null?Af=[s]:Af.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=w3(s,l,e);S2(s,w);break e;case 1:a=l;var v=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Va===null||!Va.has(N)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=b3(s,a,e);S2(s,I);break e}}s=s.return}while(s!==null)}B3(r)}catch(R){e=R,Kr===r&&r!==null&&(Kr=r=r.return);continue}break}while(!0)}function D3(){var t=$y.current;return $y.current=Py,t===null?Py:t}function D_(){(on===0||on===3||on===2)&&(on=4),hn===null||!(mu&268435455)&&!(bv&268435455)||xa(hn,_n)}function Dy(t,e){var r=Dt;Dt|=2;var n=D3();(hn!==t||_n!==e)&&(bo=null,su(t,e));do try{TI();break}catch(i){L3(t,i)}while(!0);if(w_(),Dt=r,$y.current=n,Kr!==null)throw Error(ke(261));return hn=null,_n=0,on}function TI(){for(;Kr!==null;)M3(Kr)}function RI(){for(;Kr!==null&&!e5();)M3(Kr)}function M3(t){var e=W3(t.alternate,t,_i);t.memoizedProps=t.pendingProps,e===null?B3(t):Kr=e,I_.current=null}function B3(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xI(r,e),r!==null){r.flags&=32767,Kr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{on=6,Kr=null;return}}else if(r=_I(r,e,_i),r!==null){Kr=r;return}if(e=e.sibling,e!==null){Kr=e;return}Kr=e=t}while(e!==null);on===0&&(on=5)}function Nl(t,e,r){var n=Yt,i=Qi.transition;try{Qi.transition=null,Yt=1,OI(t,e,r,n)}finally{Qi.transition=i,Yt=n}return null}function OI(t,e,r,n){do Ic();while(La!==null);if(Dt&6)throw Error(ke(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(c5(t,s),t===hn&&(Kr=hn=null,_n=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mm||(mm=!0,q3(vy,function(){return Ic(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Qi.transition,Qi.transition=null;var o=Yt;Yt=1;var a=Dt;Dt|=4,I_.current=null,EI(t,r),P3(r,t),Y5(g1),by=!!y1,g1=y1=null,t.current=r,NI(r),t5(),Dt=a,Yt=o,Qi.transition=s}else t.current=r;if(mm&&(mm=!1,La=t,Ly=i),s=t.pendingLanes,s===0&&(Va=null),i5(r.stateNode),oi(t,Ur()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(jy)throw jy=!1,t=D1,D1=null,t;return Ly&1&&t.tag!==0&&Ic(),s=t.pendingLanes,s&1?t===M1?If++:(If=0,M1=t):If=0,pl(),null}function Ic(){if(La!==null){var t=vC(Ly),e=Qi.transition,r=Yt;try{if(Qi.transition=null,Yt=16>t?16:t,La===null)var n=!1;else{if(t=La,La=null,Ly=0,Dt&6)throw Error(ke(331));var i=Dt;for(Dt|=4,ze=t.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ze=u;ze!==null;){var c=ze;switch(c.tag){case 0:case 11:case 15:Of(8,c,s)}var h=c.child;if(h!==null)h.return=c,ze=h;else for(;ze!==null;){c=ze;var p=c.sibling,g=c.return;if(O3(c),c===u){ze=null;break}if(p!==null){p.return=g,ze=p;break}ze=g}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Of(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ze=w;break e}ze=s.return}}var v=t.current;for(ze=v;ze!==null;){o=ze;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,ze=N;else e:for(o=v;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wv(9,a)}}catch(R){Pr(a,a.return,R)}if(a===o){ze=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ze=I;break e}ze=a.return}}if(Dt=i,pl(),eo&&typeof eo.onPostCommitFiberRoot=="function")try{eo.onPostCommitFiberRoot(dv,t)}catch{}n=!0}return n}finally{Yt=r,Qi.transition=e}}return!1}function V2(t,e,r){e=dd(r,e),e=w3(t,e,1),t=za(t,e,1),e=Gn(),t!==null&&(mp(t,1,e),oi(t,e))}function Pr(t,e,r){if(t.tag===3)V2(t,t,r);else for(;e!==null;){if(e.tag===3){V2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Va===null||!Va.has(n))){t=dd(r,t),t=b3(e,t,1),e=za(e,t,1),t=Gn(),e!==null&&(mp(e,1,t),oi(e,t));break}}e=e.return}}function AI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Gn(),t.pingedLanes|=t.suspendedLanes&r,hn===t&&(_n&r)===r&&(on===4||on===3&&(_n&130023424)===_n&&500>Ur()-$_?su(t,0):P_|=r),oi(t,e)}function F3(t,e){e===0&&(t.mode&1?(e=sm,sm<<=1,!(sm&130023424)&&(sm=4194304)):e=1);var r=Gn();t=Qo(t,e),t!==null&&(mp(t,e,r),oi(t,r))}function II(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),F3(t,r)}function PI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ke(314))}n!==null&&n.delete(e),F3(t,r)}var W3;W3=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ii.current)ri=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ri=!1,bI(t,e,r);ri=!!(t.flags&131072)}else ri=!1,wr&&e.flags&1048576&&zC(e,Cy,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;zm(t,e),t=e.pendingProps;var i=ad(e,$n.current);Ac(e,r),i=C_(null,e,n,t,i,r);var s=T_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,si(n)?(s=!0,Ny(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x_(e),i.updater=gv,e.stateNode=i,i._reactInternals=e,k1(e,n,t,r),e=R1(null,e,n,!0,s,r)):(e.tag=0,wr&&s&&m_(e),qn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(zm(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=jI(n),t=us(n,t),i){case 0:e=T1(null,e,n,t,r);break e;case 1:e=j2(null,e,n,t,r);break e;case 11:e=P2(null,e,n,t,r);break e;case 14:e=$2(null,e,n,us(n.type,t),r);break e}throw Error(ke(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:us(n,i),T1(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:us(n,i),j2(t,e,n,i,r);case 3:e:{if(E3(e),t===null)throw Error(ke(387));n=e.pendingProps,s=e.memoizedState,i=s.element,GC(t,e),Oy(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dd(Error(ke(423)),e),e=L2(t,e,n,r,i);break e}else if(n!==i){i=dd(Error(ke(424)),e),e=L2(t,e,n,r,i);break e}else for(Ni=Ua(e.stateNode.containerInfo.firstChild),ki=e,wr=!0,Ss=null,r=ZC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ld(),n===i){e=Go(t,e,r);break e}qn(t,e,n,r)}e=e.child}return e;case 5:return XC(e),t===null&&S1(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,v1(n,i)?o=null:s!==null&&v1(n,s)&&(e.flags|=32),S3(t,e),qn(t,e,o,r),e.child;case 6:return t===null&&S1(e),null;case 13:return N3(t,e,r);case 4:return S_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ud(e,null,n,r):qn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:us(n,i),P2(t,e,n,i,r);case 7:return qn(t,e,e.pendingProps,r),e.child;case 8:return qn(t,e,e.pendingProps.children,r),e.child;case 12:return qn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,dr(Ty,n._currentValue),n._currentValue=o,s!==null)if($s(s.value,o)){if(s.children===i.children&&!ii.current){e=Go(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Fo(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),E1(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ke(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),E1(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ac(e,r),i=Gi(i),n=n(i),e.flags|=1,qn(t,e,n,r),e.child;case 14:return n=e.type,i=us(n,e.pendingProps),i=us(n.type,i),$2(t,e,n,i,r);case 15:return _3(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:us(n,i),zm(t,e),e.tag=1,si(n)?(t=!0,Ny(e)):t=!1,Ac(e,r),YC(e,n,i),k1(e,n,i,r),R1(null,e,n,!0,t,r);case 19:return k3(t,e,r);case 22:return x3(t,e,r)}throw Error(ke(156,e.tag))};function q3(t,e){return pC(t,e)}function $I(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(t,e,r,n){return new $I(t,e,r,n)}function M_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jI(t){if(typeof t=="function")return M_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===n_)return 11;if(t===i_)return 14}return 2}function Qa(t,e){var r=t.alternate;return r===null?(r=Hi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qm(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")M_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oc:return ou(r.children,i,s,e);case r_:o=8,i|=8;break;case Yw:return t=Hi(12,r,e,i|2),t.elementType=Yw,t.lanes=s,t;case Kw:return t=Hi(13,r,e,i),t.elementType=Kw,t.lanes=s,t;case Zw:return t=Hi(19,r,e,i),t.elementType=Zw,t.lanes=s,t;case Kk:return _v(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jk:o=10;break e;case Yk:o=9;break e;case n_:o=11;break e;case i_:o=14;break e;case ma:o=16,n=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Hi(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ou(t,e,r,n){return t=Hi(7,t,n,e),t.lanes=r,t}function _v(t,e,r,n){return t=Hi(22,t,n,e),t.elementType=Kk,t.lanes=r,t.stateNode={isHidden:!1},t}function rw(t,e,r){return t=Hi(6,t,null,e),t.lanes=r,t}function nw(t,e,r){return e=Hi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D0(0),this.expirationTimes=D0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function B_(t,e,r,n,i,s,o,a,l){return t=new LI(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},x_(s),t}function DI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function U3(t){if(!t)return nl;t=t._reactInternals;e:{if(Cu(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(si(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var r=t.type;if(si(r))return qC(t,r,e)}return e}function z3(t,e,r,n,i,s,o,a,l){return t=B_(r,n,!0,t,i,s,o,a,l),t.context=U3(null),r=t.current,n=Gn(),i=Ha(r),s=Fo(n,i),s.callback=e??null,za(r,s,i),t.current.lanes=i,mp(t,i,n),oi(t,n),t}function xv(t,e,r,n){var i=e.current,s=Gn(),o=Ha(i);return r=U3(r),e.context===null?e.context=r:e.pendingContext=r,e=Fo(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=za(i,e,o),t!==null&&(Os(t,i,o,s),Wm(t,i,o)),o}function My(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function H2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function F_(t,e){H2(t,e),(t=t.alternate)&&H2(t,e)}function MI(){return null}var V3=typeof reportError=="function"?reportError:function(t){console.error(t)};function W_(t){this._internalRoot=t}Sv.prototype.render=W_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));xv(t,e,null,null)};Sv.prototype.unmount=W_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yu(function(){xv(null,t,null,null)}),e[Ho]=null}};function Sv(t){this._internalRoot=t}Sv.prototype.unstable_scheduleHydration=function(t){if(t){var e=_C();t={blockedOn:null,target:t,priority:e};for(var r=0;r<_a.length&&e!==0&&e<_a[r].priority;r++);_a.splice(r,0,t),r===0&&SC(t)}};function q_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Q2(){}function BI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=My(o);s.call(u)}}var o=z3(e,n,t,0,null,!1,!1,"",Q2);return t._reactRootContainer=o,t[Ho]=o.current,ah(t.nodeType===8?t.parentNode:t),yu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=My(l);a.call(u)}}var l=B_(t,0,!1,null,null,!1,!1,"",Q2);return t._reactRootContainer=l,t[Ho]=l.current,ah(t.nodeType===8?t.parentNode:t),yu(function(){xv(e,l,r,n)}),l}function Nv(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=My(o);a.call(l)}}xv(e,o,t,i)}else o=BI(r,e,t,i,n);return My(o)}wC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=wf(e.pendingLanes);r!==0&&(a_(e,r|1),oi(e,Ur()),!(Dt&6)&&(fd=Ur()+500,pl()))}break;case 13:yu(function(){var n=Qo(t,1);if(n!==null){var i=Gn();Os(n,t,1,i)}}),F_(t,1)}};l_=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var r=Gn();Os(e,t,134217728,r)}F_(t,134217728)}};bC=function(t){if(t.tag===13){var e=Ha(t),r=Qo(t,e);if(r!==null){var n=Gn();Os(r,t,e,n)}F_(t,e)}};_C=function(){return Yt};xC=function(t,e){var r=Yt;try{return Yt=t,e()}finally{Yt=r}};l1=function(t,e,r){switch(e){case"input":if(t1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=mv(n);if(!i)throw Error(ke(90));Xk(n),t1(n,i)}}}break;case"textarea":tC(t,r);break;case"select":e=r.value,e!=null&&Cc(t,!!r.multiple,e,!1)}};lC=j_;uC=yu;var FI={usingClientEntryPoint:!1,Events:[gp,cc,mv,oC,aC,j_]},tf={findFiberByHostInstance:Ll,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},WI={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fC(t),t===null?null:t.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance||MI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{dv=ym.inject(WI),eo=ym}catch{}}Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FI;Oi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q_(e))throw Error(ke(200));return DI(t,e,null,r)};Oi.createRoot=function(t,e){if(!q_(t))throw Error(ke(299));var r=!1,n="",i=V3;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=B_(t,1,!1,null,null,r,!1,n,i),t[Ho]=e.current,ah(t.nodeType===8?t.parentNode:t),new W_(e)};Oi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=fC(e),t=t===null?null:t.stateNode,t};Oi.flushSync=function(t){return yu(t)};Oi.hydrate=function(t,e,r){if(!Ev(e))throw Error(ke(200));return Nv(null,t,e,!0,r)};Oi.hydrateRoot=function(t,e,r){if(!q_(t))throw Error(ke(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=V3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=z3(e,null,t,1,r??null,i,!1,s,o),t[Ho]=e.current,ah(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Sv(e)};Oi.render=function(t,e,r){if(!Ev(e))throw Error(ke(200));return Nv(null,t,e,!1,r)};Oi.unmountComponentAtNode=function(t){if(!Ev(t))throw Error(ke(40));return t._reactRootContainer?(yu(function(){Nv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ho]=null})}),!0):!1};Oi.unstable_batchedUpdates=j_;Oi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ev(r))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return Nv(t,e,r,!1,n)};Oi.version="18.2.0-next-9e3b772b8-20220608";function H3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H3)}catch(t){console.error(t)}}H3(),zk.exports=Oi;var U_=zk.exports;const Q3=hp(U_),qI=Pk({__proto__:null,default:Q3},[U_]);var G2=U_;Gw.createRoot=G2.createRoot,Gw.hydrateRoot=G2.hydrateRoot;function ro(t){return Object.keys(t)}function iw(t){return t&&typeof t=="object"&&!Array.isArray(t)}function z_(t,e){const r={...t},n=e;return iw(t)&&iw(e)&&Object.keys(e).forEach(i=>{iw(n[i])&&i in t?r[i]=z_(r[i],n[i]):r[i]=n[i]}),r}function UI(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function zI(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function VI(t){const e=zI(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function sw(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function G3(t,{shouldScale:e=!1}={}){function r(n){if(n===0||n==="0")return`0${t}`;if(typeof n=="number"){const i=`${n/16}${t}`;return e?sw(i):i}if(typeof n=="string"){if(n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(s=>r(s)).join(",");if(n.includes(" "))return n.split(" ").map(s=>r(s)).join(" ");if(n.includes(t))return e?sw(n):n;const i=n.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${t}`;return e?sw(s):s}}return n}return r}const we=G3("rem",{shouldScale:!0}),J2=G3("em");function V_(t){return Object.keys(t).reduce((e,r)=>(t[r]!==void 0&&(e[r]=t[r]),e),{})}function J3(t){return typeof t=="number"?!0:typeof t=="string"?t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!==""?!0:/[0-9]/.test(t.trim().replace("-","")[0]):!1}function H_(t){const e=O.createContext(null);return[({children:i,value:s})=>T.createElement(e.Provider,{value:s},i),()=>{const i=O.useContext(e);if(i===null)throw new Error(t);return i}]}function HI(t=null){const e=O.createContext(t);return[({children:i,value:s})=>T.createElement(e.Provider,{value:s},i),()=>O.useContext(e)]}function js(t,e="size",r=!0){if(t!==void 0)return J3(t)?r?we(t):t:`var(--${e}-${t})`}function By(t){return js(t,"mantine-spacing")}function kv(t){return t===void 0?"var(--mantine-radius-default)":js(t,"mantine-radius")}function As(t){return js(t,"mantine-font-size")}function QI(t){return js(t,"mantine-line-height",!1)}function GI(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Rl(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Cv(t,e){const r=Rl(t),n=O.useRef(0);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),O.useCallback((...i)=>{window.clearTimeout(n.current),n.current=window.setTimeout(()=>r(...i),e)},[r,e])}function JI(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function YI(t,e){return typeof e=="boolean"?e:typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function KI(t,e,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,i]=O.useState(r?e:YI(t)),s=O.useRef();return O.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(t),i(s.current.matches),JI(s.current,o=>i(o.matches))},[t]),n}const Tv=typeof document<"u"?O.useLayoutEffect:O.useEffect;function ZI(t,e){const r=O.useRef(!1);O.useEffect(()=>()=>{r.current=!1},[]),O.useEffect(()=>{if(r.current)return t();r.current=!0},e)}const XI=T.useId||(()=>{});function eP(){const t=XI();return t?`mantine-${t.replace(/:/g,"")}`:""}function Y3(t){const e=eP(),[r,n]=O.useState(e);return Tv(()=>{n(GI())},[]),typeof t=="string"?t:typeof window>"u"?e:r}function tP(t,e){typeof t=="function"?t(e):typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function rP(...t){return e=>{t.forEach(r=>tP(r,e))}}function ml(...t){return O.useCallback(rP(...t),t)}function nP({value:t,defaultValue:e,finalValue:r,onChange:n=()=>{}}){const[i,s]=O.useState(e!==void 0?e:r),o=(a,...l)=>{s(a),n==null||n(a,...l)};return t!==void 0?[t,n,!0]:[i,o,!1]}function iP(t,e){return KI("(prefers-reduced-motion: reduce)",t,e)}function sP(t,e,r={autoInvoke:!1}){const n=O.useRef(null),i=O.useCallback((...o)=>{n.current||(n.current=window.setTimeout(()=>{t(o),n.current=null},e))},[e]),s=O.useCallback(()=>{n.current&&(window.clearTimeout(n.current),n.current=null)},[]);return O.useEffect(()=>(r.autoInvoke&&i(),s),[s,i]),{start:i,clear:s}}function oP(t,e,r){const n=O.useRef(),i=O.useRef(null);return O.useEffect(()=>{const s=typeof r=="function"?r():r;return(s||i.current)&&(n.current=new MutationObserver(t),n.current.observe(s||i.current,e)),()=>{var o;(o=n.current)==null||o.disconnect()}},[t,e]),i}function aP(){const[t,e]=O.useState(!1);return O.useEffect(()=>e(!0),[]),t}var lP={};function uP(){return typeof process<"u"&&lP?"production":"development"}function K3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=K3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function yl(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=K3(t))&&(n&&(n+=" "),n+=e);return n}const cP={};function dP(t){const e={};return t.forEach(r=>{Object.entries(r).forEach(([n,i])=>{e[n]?e[n]=yl(e[n],i):e[n]=i})}),e}function Q_({theme:t,classNames:e,props:r,stylesCtx:n}){const s=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o(t,r,n):o||cP);return dP(s)}function W1({theme:t,styles:e,props:r,stylesCtx:n}){return(Array.isArray(e)?e:[e]).reduce((s,o)=>typeof o=="function"?{...s,...o(t,r,n)}:{...s,...o},{})}const Z3=O.createContext(null);function wp(){const t=O.useContext(Z3);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function fP(){return wp().cssVariablesResolver}function hP(){return wp().classNamesPrefix}function G_(){return wp().getStyleNonce}function pP(){return wp().withStaticClasses}function mP(){return wp().headless}function yP(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function gP(t){let e=t.replace("#","");if(e.length===3){const o=e.split("");e=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(e.length===8){const o=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:o}}const r=parseInt(e,16),n=r>>16&255,i=r>>8&255,s=r&255;return{r:n,g:i,b:s,a:1}}function vP(t){const[e,r,n,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:r,b:n,a:i||1}}function wP(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=t.match(e);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),i=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,o=r[5]?parseFloat(r[5]):void 0,a=(1-Math.abs(2*s-1))*i,l=n/60,u=a*(1-Math.abs(l%2-1)),c=s-a/2;let h,p,g;return l>=0&&l<1?(h=a,p=u,g=0):l>=1&&l<2?(h=u,p=a,g=0):l>=2&&l<3?(h=0,p=a,g=u):l>=3&&l<4?(h=0,p=u,g=a):l>=4&&l<5?(h=u,p=0,g=a):(h=a,p=0,g=u),{r:Math.round((h+c)*255),g:Math.round((p+c)*255),b:Math.round((g+c)*255),a:o||1}}function J_(t){return yP(t)?gP(t):t.startsWith("rgb")?vP(t):t.startsWith("hsl")?wP(t):{r:0,g:0,b:0,a:1}}function gm(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r,g:n,b:i,a:s}=J_(t),o=1-e,a=l=>Math.round(l*o);return`rgba(${a(r)}, ${a(n)}, ${a(i)}, ${s})`}function yh(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function ow(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function bP(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function _P(t){if(t.startsWith("oklch("))return(bP(t)||0)/100;const{r:e,g:r,b:n}=J_(t),i=e/255,s=r/255,o=n/255,a=ow(i),l=ow(s),u=ow(o);return .2126*a+.7152*l+.0722*u}function rf(t,e=.179){return t.startsWith("var(")?!1:_P(t)>e}function bp({color:t,theme:e,colorScheme:r}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:r==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:rf(r==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:r==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:rf(r==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:rf(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[n,i]=t.split("."),s=i?Number(i):void 0,o=n in e.colors;if(o){const a=s!==void 0?e.colors[n][s]:e.colors[n][yh(e,r||"light")];return{color:n,value:a,shade:s,isThemeColor:o,isLight:rf(a,e.luminanceThreshold),variable:i?`--mantine-color-${n}-${s}`:`--mantine-color-${n}-filled`}}return{color:t,value:t,isThemeColor:o,isLight:rf(t,e.luminanceThreshold),shade:s,variable:void 0}}function Ga(t,e){const r=bp({color:t||e.primaryColor,theme:e});return r.variable?`var(${r.variable})`:t}function q1(t,e){const r={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},n=Ga(r.from,e),i=Ga(r.to,e);return`linear-gradient(${r.deg}deg, ${n} 0%, ${i} 100%)`}function vo(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const s=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${s}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r,g:n,b:i}=J_(t);return`rgba(${r}, ${n}, ${i}, ${e})`}const zu=vo,xP=({color:t,theme:e,variant:r,gradient:n,autoContrast:i})=>{const s=bp({color:t,theme:e}),o=typeof i=="boolean"?i:e.autoContrast;if(r==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${we(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${we(1)} solid transparent`}:{background:t,hover:gm(t,.1),color:a,border:`${we(1)} solid transparent`}}if(r==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${we(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:vo(a,.1),hover:vo(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${we(1)} solid transparent`}}return{background:vo(t,.1),hover:vo(t,.12),color:t,border:`${we(1)} solid transparent`}}if(r==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${we(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:vo(e.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${we(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:vo(t,.05),color:t,border:`${we(1)} solid ${t}`};if(r==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${we(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:"transparent",hover:vo(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${we(1)} solid transparent`}}return{background:"transparent",hover:vo(t,.12),color:t,border:`${we(1)} solid transparent`}}return r==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${we(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${we(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${we(1)} solid transparent`}:r==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:gm(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${we(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:gm(e.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${we(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:gm(e.white,.01),color:t,border:`${we(1)} solid transparent`}:r==="gradient"?{background:q1(n,e),hover:q1(n,e),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${we(1)} solid var(--mantine-color-default-border)`}:{}},SP={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Y2="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Y_={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:SP,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:xP,autoContrast:!1,luminanceThreshold:.3,fontFamily:Y2,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Y2,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:we(34),lineHeight:"1.3"},h2:{fontSize:we(26),lineHeight:"1.35"},h3:{fontSize:we(22),lineHeight:"1.4"},h4:{fontSize:we(18),lineHeight:"1.45"},h5:{fontSize:we(16),lineHeight:"1.5"},h6:{fontSize:we(14),lineHeight:"1.5"}}},fontSizes:{xs:we(12),sm:we(14),md:we(16),lg:we(18),xl:we(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:we(2),sm:we(4),md:we(8),lg:we(16),xl:we(32)},spacing:{xs:we(10),sm:we(12),md:we(16),lg:we(20),xl:we(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), 0 ${we(1)} ${we(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${we(10)} ${we(15)} ${we(-5)}, rgba(0, 0, 0, 0.04) 0 ${we(7)} ${we(7)} ${we(-5)}`,md:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${we(20)} ${we(25)} ${we(-5)}, rgba(0, 0, 0, 0.04) 0 ${we(10)} ${we(10)} ${we(-5)}`,lg:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${we(28)} ${we(23)} ${we(-7)}, rgba(0, 0, 0, 0.04) 0 ${we(12)} ${we(12)} ${we(-7)}`,xl:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${we(36)} ${we(28)} ${we(-7)}, rgba(0, 0, 0, 0.04) 0 ${we(17)} ${we(17)} ${we(-7)}`},other:{},components:{}};function K2(t){return t==="auto"||t==="dark"||t==="light"}function EP({key:t="mantine-color-scheme-value"}={}){let e;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(t);return K2(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(t,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{e=n=>{n.storageArea===window.localStorage&&n.key===t&&K2(n.newValue)&&r(n.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const NP="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Z2="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function aw(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function X2(t){if(!(t.primaryColor in t.colors))throw new Error(NP);if(typeof t.primaryShade=="object"&&(!aw(t.primaryShade.dark)||!aw(t.primaryShade.light)))throw new Error(Z2);if(typeof t.primaryShade=="number"&&!aw(t.primaryShade))throw new Error(Z2)}function kP(t,e){var n;if(!e)return X2(t),t;const r=z_(t,e);return e.fontFamily&&!((n=e.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=e.fontFamily),X2(r),r}const K_=O.createContext(null),CP=()=>O.useContext(K_)||Y_;function Tu(){const t=O.useContext(K_);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function X3({theme:t,children:e,inherit:r=!0}){const n=CP(),i=O.useMemo(()=>kP(r?n:Y_,t),[t,n,r]);return T.createElement(K_.Provider,{value:i},e)}X3.displayName="@mantine/core/MantineThemeProvider";function TP(){const t=Tu(),e=G_(),r=ro(t.breakpoints).reduce((n,i)=>{const s=t.breakpoints[i].includes("px"),o=VI(t.breakpoints[i]),a=s?`${o-.1}px`:J2(o-.1),l=s?`${o}px`:J2(o);return`${n}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return T.createElement("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:r}})}function lw(t){return Object.entries(t).map(([e,r])=>`${e}: ${r};`).join("")}function uw(t,e){return(Array.isArray(t)?t:[t]).reduce((n,i)=>`${i}{${n}}`,e)}function RP(t,e){const r=lw(t.variables),n=r?uw(e,r):"",i=lw(t.dark),s=i?uw(`${e}[data-mantine-color-scheme="dark"]`,i):"",o=lw(t.light),a=o?uw(`${e}[data-mantine-color-scheme="light"]`,o):"";return`${n}${s}${a}`}function eT({color:t,theme:e,autoContrast:r}){return(typeof r=="boolean"?r:e.autoContrast)&&bp({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function eE(t,e){return eT({color:t.colors[t.primaryColor][yh(t,e)],theme:t,autoContrast:null})}function vm({theme:t,color:e,colorScheme:r,name:n=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(r==="light"){const a=yh(t,"light"),l={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:zu(t.colors[e][a],.1),[`--mantine-color-${n}-light-hover`]:zu(t.colors[e][a],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline-hover`]:zu(t.colors[e][a],.05)};return i?{[`--mantine-color-${n}-0`]:t.colors[e][0],[`--mantine-color-${n}-1`]:t.colors[e][1],[`--mantine-color-${n}-2`]:t.colors[e][2],[`--mantine-color-${n}-3`]:t.colors[e][3],[`--mantine-color-${n}-4`]:t.colors[e][4],[`--mantine-color-${n}-5`]:t.colors[e][5],[`--mantine-color-${n}-6`]:t.colors[e][6],[`--mantine-color-${n}-7`]:t.colors[e][7],[`--mantine-color-${n}-8`]:t.colors[e][8],[`--mantine-color-${n}-9`]:t.colors[e][9],...l}:l}const s=yh(t,"dark"),o={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${s})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${s===9?8:s+1})`,[`--mantine-color-${n}-light`]:zu(t.colors[e][Math.max(0,s-2)],.15),[`--mantine-color-${n}-light-hover`]:zu(t.colors[e][Math.max(0,s-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(s-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(s-4,0)})`,[`--mantine-color-${n}-outline-hover`]:zu(t.colors[e][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${n}-0`]:t.colors[e][0],[`--mantine-color-${n}-1`]:t.colors[e][1],[`--mantine-color-${n}-2`]:t.colors[e][2],[`--mantine-color-${n}-3`]:t.colors[e][3],[`--mantine-color-${n}-4`]:t.colors[e][4],[`--mantine-color-${n}-5`]:t.colors[e][5],[`--mantine-color-${n}-6`]:t.colors[e][6],[`--mantine-color-${n}-7`]:t.colors[e][7],[`--mantine-color-${n}-8`]:t.colors[e][8],[`--mantine-color-${n}-9`]:t.colors[e][9],...o}:o}function OP(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function Vu(t,e,r){ro(e).forEach(n=>Object.assign(t,{[`--mantine-${r}-${n}`]:e[n]}))}const tT=t=>{const e=yh(t,"light"),r=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:we(t.defaultRadius),n={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":eE(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":eE(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Vu(n.variables,t.breakpoints,"breakpoint"),Vu(n.variables,t.spacing,"spacing"),Vu(n.variables,t.fontSizes,"font-size"),Vu(n.variables,t.lineHeights,"line-height"),Vu(n.variables,t.shadows,"shadow"),Vu(n.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((s,o)=>{n.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${t.primaryColor}-${o})`}),ro(t.colors).forEach(s=>{const o=t.colors[s];if(OP(o)){Object.assign(n.light,vm({theme:t,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,vm({theme:t,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{n.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(n.light,vm({theme:t,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,vm({theme:t,color:s,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return ro(i).forEach(s=>{n.variables[`--mantine-${s}-font-size`]=i[s].fontSize,n.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,n.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||t.headings.fontWeight}),n};function AP({theme:t,generator:e}){const r=tT(t),n=e==null?void 0:e(t);return n?z_(r,n):r}const cw=tT(Y_);function IP(t){const e={variables:{},light:{},dark:{}};return ro(t.variables).forEach(r=>{cw.variables[r]!==t.variables[r]&&(e.variables[r]=t.variables[r])}),ro(t.light).forEach(r=>{cw.light[r]!==t.light[r]&&(e.light[r]=t.light[r])}),ro(t.dark).forEach(r=>{cw.dark[r]!==t.dark[r]&&(e.dark[r]=t.dark[r])}),e}function PP(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function rT({cssVariablesSelector:t,deduplicateCssVariables:e}){const r=Tu(),n=G_(),i=fP(),s=AP({theme:r,generator:i}),o=t===":root"&&e,a=o?IP(s):s,l=RP(a,t);return l?T.createElement("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${l}${o?"":PP(t)}`}}):null}rT.displayName="@mantine/CssVariables";function $P(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function Hu(t,e){var n;const r=t!=="auto"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(n=e())==null||n.setAttribute("data-mantine-color-scheme",r)}function jP({manager:t,defaultColorScheme:e,getRootElement:r,forceColorScheme:n}){const i=O.useRef(),[s,o]=O.useState(()=>t.get(e)),a=n||s,l=O.useCallback(c=>{n||(Hu(c,r),o(c),t.set(c))},[t.set,a,n]),u=O.useCallback(()=>{o(e),Hu(e,r),t.clear()},[t.clear,e]);return O.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),Tv(()=>{Hu(t.get(e),r)},[]),O.useEffect(()=>{var h;if(n)return Hu(n,r),()=>{};n===void 0&&Hu(s,r),i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=p=>{s==="auto"&&Hu(p.matches?"dark":"light",r)};return(h=i.current)==null||h.addEventListener("change",c),()=>{var p;return(p=i.current)==null?void 0:p.removeEventListener("change",c)}},[s,n]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function LP({respectReducedMotion:t,getRootElement:e}){Tv(()=>{var r;t&&((r=e())==null||r.setAttribute("data-respect-reduced-motion","true"))},[t])}$P();function nT({theme:t,children:e,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=EP(),defaultColorScheme:c="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:g}){const{colorScheme:_,setColorScheme:S,clearColorScheme:E}=jP({defaultColorScheme:c,forceColorScheme:g,manager:u,getRootElement:h});return LP({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:h}),T.createElement(Z3.Provider,{value:{colorScheme:_,setColorScheme:S,clearColorScheme:E,getRootElement:h,classNamesPrefix:l,getStyleNonce:r,cssVariablesResolver:p,cssVariablesSelector:a,withStaticClasses:n}},T.createElement(X3,{theme:t},o&&T.createElement(rT,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&T.createElement(TP,null),e))}nT.displayName="@mantine/core/MantineProvider";const DP={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function MP({theme:t,options:e,unstyled:r}){return yl((e==null?void 0:e.focusable)&&!r&&(t.focusClassName||DP[t.focusRing]),(e==null?void 0:e.active)&&!r&&t.activeClassName)}function BP({selector:t,stylesCtx:e,options:r,props:n,theme:i}){return Q_({theme:i,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:e})[t]}function FP({selector:t,stylesCtx:e,theme:r,classNames:n,props:i}){return Q_({theme:r,classNames:n,props:i,stylesCtx:e})[t]}function WP({rootSelector:t,selector:e,className:r}){return t===e?r:void 0}function qP({selector:t,classes:e,unstyled:r}){return r?void 0:e[t]}function UP({themeName:t,classNamesPrefix:e,selector:r,withStaticClass:n}){return n===!1?[]:t.map(i=>`${e}-${i}-${r}`)}function zP({themeName:t,theme:e,selector:r,props:n,stylesCtx:i}){return t.map(s=>{var o,a;return(a=Q_({theme:e,classNames:(o=e.components[s])==null?void 0:o.classNames,props:n,stylesCtx:i}))==null?void 0:a[r]})}function VP({options:t,classes:e,selector:r,unstyled:n}){return t!=null&&t.variant&&!n?e[`${r}--${t.variant}`]:void 0}function HP({theme:t,options:e,themeName:r,selector:n,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:h,withStaticClasses:p,headless:g}){return yl(MP({theme:t,options:e,unstyled:a||g}),zP({theme:t,themeName:r,selector:n,props:c,stylesCtx:h}),VP({options:e,classes:o,selector:n,unstyled:a}),FP({selector:n,stylesCtx:h,theme:t,classNames:s,props:c}),BP({selector:n,stylesCtx:h,options:e,props:c,theme:t}),WP({rootSelector:u,selector:n,className:l}),qP({selector:n,classes:o,unstyled:a||g}),p&&!g&&UP({themeName:r,classNamesPrefix:i,selector:n,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function QP({theme:t,themeName:e,props:r,stylesCtx:n,selector:i}){return e.map(s=>{var o;return W1({theme:t,styles:(o=t.components[s])==null?void 0:o.styles,props:r,stylesCtx:n})[i]}).reduce((s,o)=>({...s,...o}),{})}function U1({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((r,n)=>({...r,...U1({style:n,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function GP(t){return t.reduce((e,r)=>(r&&Object.keys(r).forEach(n=>{e[n]={...e[n],...V_(r[n])}}),e),{})}function JP({vars:t,varsResolver:e,theme:r,props:n,stylesCtx:i,selector:s,themeName:o,headless:a}){var l;return(l=GP([a?{}:e==null?void 0:e(r,n,i),...o.map(u=>{var c,h,p;return(p=(h=(c=r.components)==null?void 0:c[u])==null?void 0:h.vars)==null?void 0:p.call(h,r,n,i)}),t==null?void 0:t(r,n,i)]))==null?void 0:l[s]}function YP({theme:t,themeName:e,selector:r,options:n,props:i,stylesCtx:s,rootSelector:o,styles:a,style:l,vars:u,varsResolver:c,headless:h}){return{...QP({theme:t,themeName:e,props:i,stylesCtx:s,selector:r}),...W1({theme:t,styles:a,props:i,stylesCtx:s})[r],...W1({theme:t,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||i,stylesCtx:s})[r],...JP({theme:t,props:i,stylesCtx:s,vars:u,varsResolver:c,selector:r,themeName:e,headless:h}),...o===r?U1({style:l,theme:t}):null,...U1({style:n==null?void 0:n.style,theme:t})}}function ln({name:t,classes:e,props:r,stylesCtx:n,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:h}){const p=Tu(),g=hP(),_=pP(),S=mP(),E=(Array.isArray(t)?t:[t]).filter(w=>w);return(w,v)=>({className:HP({theme:p,options:v,themeName:E,selector:w,classNamesPrefix:g,classNames:l,classes:e,unstyled:a,className:i,rootSelector:o,props:r,stylesCtx:n,withStaticClasses:_,headless:S}),style:YP({theme:p,themeName:E,selector:w,options:v,props:r,stylesCtx:n,rootSelector:o,styles:u,style:s,vars:c,varsResolver:h,headless:S})})}function Kt(t,e,r){var o;const n=Tu(),i=(o=n.components[t])==null?void 0:o.defaultProps,s=typeof i=="function"?i(n):i;return{...e,...s,...V_(r)}}function tE(t){return ro(t).reduce((e,r)=>t[r]!==void 0?`${e}${UI(r)}:${t[r]};`:e,"").trim()}function KP({selector:t,styles:e,media:r}){const n=e?tE(e):"",i=Array.isArray(r)?r.map(s=>`@media${s.query}{${t}{${tE(s.styles)}}}`):[];return`${n?`${t}{${n}}`:""}${i.join("")}`.trim()}function ZP({selector:t,styles:e,media:r}){const n=G_();return T.createElement("style",{"data-mantine-styles":"inline",nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:KP({selector:t,styles:e,media:r})}})}function Z_(t){const{m:e,mx:r,my:n,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:h,py:p,pt:g,pb:_,pl:S,pr:E,pe:w,ps:v,bg:N,c:I,opacity:R,ff:k,fz:L,fw:j,lts:Z,ta:Q,lh:te,fs:re,tt:G,td:fe,w:je,miw:Fe,maw:Pe,h:X,mih:ge,mah:Ce,bgsz:Ae,bgp:ue,bgr:_e,bga:ve,pos:Le,top:V,left:Ve,bottom:se,right:ct,inset:st,display:Ge,flex:pe,hiddenFrom:me,visibleFrom:Be,lightHidden:$e,darkHidden:pt,...it}=t;return{styleProps:V_({m:e,mx:r,my:n,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:h,py:p,pt:g,pb:_,pl:S,pr:E,pe:w,ps:v,bg:N,c:I,opacity:R,ff:k,fz:L,fw:j,lts:Z,ta:Q,lh:te,fs:re,tt:G,td:fe,w:je,miw:Fe,maw:Pe,h:X,mih:ge,mah:Ce,bgsz:Ae,bgp:ue,bgr:_e,bga:ve,pos:Le,top:V,left:Ve,bottom:se,right:ct,inset:st,display:Ge,flex:pe,hiddenFrom:me,visibleFrom:Be,lightHidden:$e,darkHidden:pt}),rest:it}}const XP={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function iT(t,e){const r=bp({color:t,theme:e});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function e$(t,e){const r=bp({color:t,theme:e});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:iT(t,e)}const rE={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function t$(t){return typeof t=="string"&&t in rE?rE[t]:t}const r$=["h1","h2","h3","h4","h5","h6"];function n$(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&r$.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?we(t):t}function i$(t){return t}const s$=["h1","h2","h3","h4","h5","h6"];function o$(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&s$.includes(t)?`var(--mantine-${t}-line-height)`:t}function a$(t){return typeof t=="number"?we(t):t}function l$(t,e){if(typeof t=="number")return we(t);if(typeof t=="string"){const r=t.replace("-","");if(!(r in e.spacing))return we(t);const n=`--mantine-spacing-${r}`;return t.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return t}const dw={color:iT,textColor:e$,fontSize:n$,spacing:l$,identity:i$,size:a$,lineHeight:o$,fontFamily:t$};function nE(t){return t.replace("(min-width: ","").replace("em)","")}function u$({media:t,...e}){const n=Object.keys(t).sort((i,s)=>Number(nE(i))-Number(nE(s))).map(i=>({query:i,styles:t[i]}));return{...e,media:n}}function c$(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function d$(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function f$(t){return typeof t=="object"&&t!==null?ro(t).filter(e=>e!=="base"):[]}function h$(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function p$({styleProps:t,data:e,theme:r}){return u$(ro(t).reduce((n,i)=>{if(i==="hiddenFrom"||i==="visibleFrom")return n;const s=e[i],o=Array.isArray(s.property)?s.property:[s.property],a=d$(t[i]);if(!c$(t[i]))return o.forEach(u=>{n.inlineStyles[u]=dw[s.type](a,r)}),n;n.hasResponsiveStyles=!0;const l=f$(t[i]);return o.forEach(u=>{a&&(n.styles[u]=dw[s.type](a,r)),l.forEach(c=>{const h=`(min-width: ${r.breakpoints[c]})`;n.media[h]={...n.media[h],[u]:dw[s.type](h$(t[i],c),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function m$(){return`__m__-${O.useId().replace(/:/g,"")}`}function sT(t){return t.startsWith("data-")?t:`data-${t}`}function y$(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return n===void 0||n===""||n===!1||n===null||(e[sT(r)]=t[r]),e},{})}function oT(t){return t?typeof t=="string"?{[sT(t)]:!0}:Array.isArray(t)?[...t].reduce((e,r)=>({...e,...oT(r)}),{}):y$(t):null}function z1(t,e){return Array.isArray(t)?[...t].reduce((r,n)=>({...r,...z1(n,e)}),{}):typeof t=="function"?t(e):t??{}}function g$({theme:t,style:e,vars:r,styleProps:n}){const i=z1(e,t),s=z1(r,t);return{...i,...s,...n}}const aT=O.forwardRef(({component:t,style:e,__vars:r,className:n,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:h,...p},g)=>{const _=Tu(),S=t||"div",{styleProps:E,rest:w}=Z_(p),v=m$(),N=p$({styleProps:E,theme:_,data:XP}),I={ref:g,style:g$({theme:_,style:e,vars:r,styleProps:N.inlineStyles}),className:yl(n,{[v]:N.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":J3(o)?void 0:o||void 0,...oT(s),...w};return T.createElement(T.Fragment,null,N.hasResponsiveStyles&&T.createElement(ZP,{selector:`.${v}`,styles:N.styles,media:N.media}),typeof h=="function"?h(I):T.createElement(S,{...I}))});aT.displayName="@mantine/core/Box";const Pt=aT;function lT(t){return t}function En(t){const e=O.forwardRef(t);return e.extend=lT,e}function Ru(t){const e=O.forwardRef(t);return e.extend=lT,e}const v$=O.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function w$(){return O.useContext(v$)}const[b$,Ki]=H_("ScrollArea.Root component was not found in tree");function hd(t,e){const r=Rl(e);Tv(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}const _$=T.forwardRef((t,e)=>{const{style:r,...n}=t,i=Ki(),[s,o]=T.useState(0),[a,l]=T.useState(0),u=!!(s&&a);return hd(i.scrollbarX,()=>{var h;const c=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),hd(i.scrollbarY,()=>{var h;const c=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(c),o(c)}),u?T.createElement("div",{...n,ref:e,style:{...r,width:s,height:a}}):null}),x$=T.forwardRef((t,e)=>{const r=Ki(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?T.createElement(_$,{...t,ref:e}):null}),S$={scrollHideDelay:1e3,type:"hover"},uT=O.forwardRef((t,e)=>{const r=Kt("ScrollAreaRoot",S$,t),{type:n,scrollHideDelay:i,scrollbars:s,...o}=r,[a,l]=O.useState(null),[u,c]=O.useState(null),[h,p]=O.useState(null),[g,_]=O.useState(null),[S,E]=O.useState(null),[w,v]=O.useState(0),[N,I]=O.useState(0),[R,k]=O.useState(!1),[L,j]=O.useState(!1),Z=ml(e,Q=>l(Q));return T.createElement(b$,{value:{type:n,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:_,scrollbarXEnabled:R,onScrollbarXEnabledChange:k,scrollbarY:S,onScrollbarYChange:E,scrollbarYEnabled:L,onScrollbarYEnabledChange:j,onCornerWidthChange:v,onCornerHeightChange:I}},T.createElement(Pt,{...o,ref:Z,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${w}px`,"--sa-corner-height":s!=="xy"?"0px":`${N}px`}}))});uT.displayName="@mantine/core/ScrollAreaRoot";function cT(t,e){const r=t/e;return Number.isNaN(r)?0:r}function Rv(t){const e=cT(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function dT(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function E$(t,[e,r]){return Math.min(r,Math.max(e,t))}function iE(t,e,r="ltr"){const n=Rv(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-n,l=r==="ltr"?[0,o]:[o*-1,0],u=E$(t,l);return dT([0,o],[0,a])(u)}function N$(t,e,r,n="ltr"){const i=Rv(r),s=i/2,o=e||s,a=i-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,c=r.content-r.viewport,h=n==="ltr"?[0,c]:[c*-1,0];return dT([l,u],h)(t)}function fT(t,e){return t>0&&t<e}function Fy(t){return t?parseInt(t,10):0}function au(t,e,{checkForDefaultPrevented:r=!0}={}){return n=>{t==null||t(n),(r===!1||!n.defaultPrevented)&&(e==null||e(n))}}const[k$,hT]=H_("ScrollAreaScrollbar was not found in tree"),pT=O.forwardRef((t,e)=>{const{sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...h}=t,p=Ki(),[g,_]=T.useState(null),S=ml(e,j=>_(j)),E=T.useRef(null),w=T.useRef(""),{viewport:v}=p,N=r.content-r.viewport,I=Rl(u),R=Rl(a),k=Cv(c,10),L=j=>{if(E.current){const Z=j.clientX-E.current.left,Q=j.clientY-E.current.top;l({x:Z,y:Q})}};return O.useEffect(()=>{const j=Z=>{const Q=Z.target;(g==null?void 0:g.contains(Q))&&I(Z,N)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[v,g,N,I]),O.useEffect(R,[r,R]),hd(g,k),hd(p.content,k),T.createElement(k$,{value:{scrollbar:g,hasThumb:n,onThumbChange:Rl(i),onThumbPointerUp:Rl(s),onThumbPositionChange:R,onThumbPointerDown:Rl(o)}},T.createElement("div",{...h,ref:S,style:{position:"absolute",...h.style},onPointerDown:au(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),E.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",L(j))}),onPointerMove:au(t.onPointerMove,L),onPointerUp:au(t.onPointerUp,j=>{const Z=j.target;Z.hasPointerCapture(j.pointerId)&&Z.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=w.current,E.current=null})}))}),C$=O.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,style:i,...s}=t,o=Ki(),[a,l]=O.useState(),u=O.useRef(null),c=ml(e,u,o.onScrollbarXChange);return O.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),T.createElement(pT,{"data-orientation":"horizontal",...s,ref:c,sizes:r,style:{...i,"--sa-thumb-width":`${Rv(r)}px`},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(o.viewport){const g=o.viewport.scrollLeft+h.deltaX;t.onWheelScroll(g),fT(g,p)&&h.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Fy(a.paddingLeft),paddingEnd:Fy(a.paddingRight)}})}})}),T$=O.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,style:i,...s}=t,o=Ki(),[a,l]=T.useState(),u=O.useRef(null),c=ml(e,u,o.onScrollbarYChange);return O.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),T.createElement(pT,{...s,"data-orientation":"vertical",ref:c,sizes:r,style:{"--sa-thumb-height":`${Rv(r)}px`,...i},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(o.viewport){const g=o.viewport.scrollTop+h.deltaY;t.onWheelScroll(g),fT(g,p)&&h.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Fy(a.paddingTop),paddingEnd:Fy(a.paddingBottom)}})}})}),X_=O.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,{dir:i}=w$(),s=Ki(),o=O.useRef(null),a=O.useRef(0),[l,u]=O.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=cT(l.viewport,l.content),h={...n,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:g=>{o.current=g},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:g=>{a.current=g}},p=(g,_)=>N$(g,a.current,l,_);return r==="horizontal"?T.createElement(C$,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollLeft,_=iE(g,l,i);o.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=p(g,i))}}):r==="vertical"?T.createElement(T$,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollTop,_=iE(g,l);o.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=p(g))}}):null}),mT=O.forwardRef((t,e)=>{const r=Ki(),{forceMount:n,...i}=t,[s,o]=O.useState(!1),a=t.orientation==="horizontal",l=Cv(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,c=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?u:c)}},10);return hd(r.viewport,l),hd(r.content,l),n||s?T.createElement(X_,{"data-state":s?"visible":"hidden",...i,ref:e}):null}),R$=O.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ki(),[s,o]=O.useState(!1);return O.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),r||s?T.createElement(mT,{"data-state":s?"visible":"hidden",...n,ref:e}):null}),O$=O.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ki(),s=t.orientation==="horizontal",[o,a]=O.useState("hidden"),l=Cv(()=>a("idle"),100);return O.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay]),O.useEffect(()=>{const{viewport:u}=i,c=s?"scrollLeft":"scrollTop";if(u){let h=u[c];const p=()=>{const g=u[c];h!==g&&(a("scrolling"),l()),h=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,s,l]),r||o!=="hidden"?T.createElement(X_,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:au(t.onPointerEnter,()=>a("interacting")),onPointerLeave:au(t.onPointerLeave,()=>a("idle"))}):null}),sE=T.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ki(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return T.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?T.createElement(R$,{...n,ref:e,forceMount:r}):i.type==="scroll"?T.createElement(O$,{...n,ref:e,forceMount:r}):i.type==="auto"?T.createElement(mT,{...n,ref:e,forceMount:r}):i.type==="always"?T.createElement(X_,{...n,ref:e}):null});function A$(t,e=()=>{}){let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=r.left!==s.left,a=r.top!==s.top;(o||a)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)}const I$=O.forwardRef((t,e)=>{const{style:r,...n}=t,i=Ki(),s=hT(),{onThumbPositionChange:o}=s,a=ml(e,c=>s.onThumbChange(c)),l=O.useRef(),u=Cv(()=>{l.current&&(l.current(),l.current=void 0)},100);return O.useEffect(()=>{const{viewport:c}=i;if(c){const h=()=>{if(u(),!l.current){const p=A$(c,o);l.current=p,o()}};return o(),c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,u,o]),T.createElement("div",{"data-state":s.hasThumb?"visible":"hidden",...n,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:au(t.onPointerDownCapture,c=>{const p=c.target.getBoundingClientRect(),g=c.clientX-p.left,_=c.clientY-p.top;s.onThumbPointerDown({x:g,y:_})}),onPointerUp:au(t.onPointerUp,s.onThumbPointerUp)})}),oE=T.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=hT();return r||i.hasThumb?T.createElement(I$,{ref:e,...n}):null}),yT=O.forwardRef(({children:t,style:e,...r},n)=>{const i=Ki(),s=ml(n,i.onViewportChange);return T.createElement(Pt,{...r,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e}},T.createElement("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange},t))});yT.displayName="@mantine/core/ScrollAreaViewport";var ex={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const gT={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},P$=(t,{scrollbarSize:e})=>({root:{"--scrollarea-scrollbar-size":we(e)}}),_p=En((t,e)=>{const r=Kt("ScrollArea",gT,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:h,viewportProps:p,viewportRef:g,onScrollPositionChange:_,children:S,offsetScrollbars:E,scrollbars:w,...v}=r,[N,I]=O.useState(!1),R=ln({name:"ScrollArea",props:r,classes:ex,className:i,style:s,classNames:n,styles:o,unstyled:a,vars:u,varsResolver:P$});return T.createElement(uT,{type:c==="never"?"always":c,scrollHideDelay:h,ref:e,scrollbars:w,...R("root"),...v},T.createElement(yT,{...p,...R("viewport",{style:p==null?void 0:p.style}),ref:g,"data-offset-scrollbars":E===!0?"xy":E||void 0,"data-scrollbars":w||void 0,onScroll:k=>{var L;(L=p==null?void 0:p.onScroll)==null||L.call(p,k),_==null||_({x:k.currentTarget.scrollLeft,y:k.currentTarget.scrollTop})}},S),(w==="xy"||w==="x")&&T.createElement(sE,{...R("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1)},T.createElement(oE,{...R("thumb")})),(w==="xy"||w==="y")&&T.createElement(sE,{...R("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1)},T.createElement(oE,{...R("thumb")})),T.createElement(x$,{...R("corner"),"data-hovered":N||void 0,"data-hidden":c==="never"||void 0}))});_p.displayName="@mantine/core/ScrollArea";const tx=En((t,e)=>{const{children:r,classNames:n,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:h,unstyled:p,variant:g,viewportProps:_,scrollbars:S,style:E,vars:w,...v}=Kt("ScrollAreaAutosize",gT,t);return T.createElement(Pt,{...v,ref:e,style:[{display:"flex",overflow:"auto"},E]},T.createElement(Pt,{style:{display:"flex",flexDirection:"column",flex:1}},T.createElement(_p,{classNames:n,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:h,unstyled:p,variant:g,viewportProps:_,vars:w,scrollbars:S},r)))});_p.classes=ex;tx.displayName="@mantine/core/ScrollAreaAutosize";tx.classes=ex;_p.Autosize=tx;var vT={root:"m_87cf2631"};const $$={__staticSelector:"UnstyledButton"},rx=Ru((t,e)=>{const r=Kt("UnstyledButton",$$,t),{className:n,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:l,style:u,...c}=r,h=ln({name:s,props:r,classes:vT,className:n,style:u,classNames:a,styles:l,unstyled:o});return T.createElement(Pt,{...h("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...c})});rx.classes=vT;rx.displayName="@mantine/core/UnstyledButton";const nf=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${we(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),wm={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${we(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${we(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${we(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${we(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${we(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${we(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${we(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${we(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...nf("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...nf("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...nf("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...nf("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...nf("top"),common:{transformOrigin:"top right"}}},aE={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function j$({transition:t,state:e,duration:r,timingFunction:n}){const i={transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof t=="string"?t in wm?{transitionProperty:wm[t].transitionProperty,...i,...wm[t].common,...wm[t][aE[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[aE[e]]}}function L$({duration:t,exitDuration:e,timingFunction:r,mounted:n,onEnter:i,onExit:s,onEntered:o,onExited:a}){const l=Tu(),u=iP(),c=l.respectReducedMotion?u:!1,[h,p]=O.useState(c?0:t),[g,_]=O.useState(n?"entered":"exited"),S=O.useRef(-1),E=O.useRef(-1),w=v=>{const N=v?i:s,I=v?o:a;window.clearTimeout(S.current);const R=c?0:v?t:e;p(R),R===0?(typeof N=="function"&&N(),typeof I=="function"&&I(),_(v?"entered":"exited")):E.current=requestAnimationFrame(()=>{Q3.flushSync(()=>{_(v?"pre-entering":"pre-exiting")}),E.current=requestAnimationFrame(()=>{typeof N=="function"&&N(),_(v?"entering":"exiting"),S.current=window.setTimeout(()=>{typeof I=="function"&&I(),_(v?"entered":"exited")},R)})})};return ZI(()=>{w(n)},[n]),O.useEffect(()=>()=>{window.clearTimeout(S.current),cancelAnimationFrame(E.current)},[]),{transitionDuration:h,transitionStatus:g,transitionTimingFunction:r||"ease"}}function wT({keepMounted:t,transition:e="fade",duration:r=250,exitDuration:n=r,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:u,onExited:c}){const{transitionDuration:h,transitionStatus:p,transitionTimingFunction:g}=L$({mounted:i,exitDuration:n,duration:r,timingFunction:o,onExit:a,onEntered:l,onEnter:u,onExited:c});return h===0?i?T.createElement(T.Fragment,null,s({})):t?s({display:"none"}):null:p==="exited"?t?s({display:"none"}):null:T.createElement(T.Fragment,null,s(j$({transition:e,duration:h,state:p,timingFunction:g})))}wT.displayName="@mantine/core/Transition";var Cs={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const D$=O.forwardRef(({className:t,...e},r)=>T.createElement(Pt,{component:"span",className:yl(Cs.barsLoader,t),...e,ref:r},T.createElement("span",{className:Cs.bar}),T.createElement("span",{className:Cs.bar}),T.createElement("span",{className:Cs.bar}))),M$=O.forwardRef(({className:t,...e},r)=>T.createElement(Pt,{component:"span",className:yl(Cs.dotsLoader,t),...e,ref:r},T.createElement("span",{className:Cs.dot}),T.createElement("span",{className:Cs.dot}),T.createElement("span",{className:Cs.dot}))),B$=O.forwardRef(({className:t,...e},r)=>T.createElement(Pt,{component:"span",className:yl(Cs.ovalLoader,t),...e,ref:r})),bT={bars:D$,oval:B$,dots:M$},F$={loaders:bT,type:"oval"},W$=(t,{size:e,color:r})=>({root:{"--loader-size":js(e,"loader-size"),"--loader-color":r?Ga(r,t):void 0}}),Ov=En((t,e)=>{const r=Kt("Loader",F$,t),{size:n,color:i,type:s,vars:o,className:a,style:l,classNames:u,styles:c,unstyled:h,loaders:p,variant:g,children:_,...S}=r,E=ln({name:"Loader",props:r,classes:Cs,className:a,style:l,classNames:u,styles:c,unstyled:h,vars:o,varsResolver:W$});return _?T.createElement(Pt,{...E("root"),ref:e,...S},_):T.createElement(Pt,{...E("root"),ref:e,component:p[s],variant:g,size:n,...S})});Ov.defaultLoaders=bT;Ov.classes=Cs;Ov.displayName="@mantine/core/Loader";function q$(t){return O.Children.toArray(t).filter(Boolean)}var _T={root:"m_4081bf90"};const U$={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},z$=(t,{grow:e,preventGrowOverflow:r,gap:n,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":e&&r?a:void 0,"--group-gap":By(n),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),nx=En((t,e)=>{const r=Kt("Group",U$,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,children:l,gap:u,align:c,justify:h,wrap:p,grow:g,preventGrowOverflow:_,vars:S,variant:E,__size:w,mod:v,...N}=r,I=q$(l),R=I.length,k=By(u??"md"),j={childWidth:`calc(${100/R}% - (${k} - ${k} / ${R}))`},Z=ln({name:"Group",props:r,stylesCtx:j,className:i,style:s,classes:_T,classNames:n,styles:o,unstyled:a,vars:S,varsResolver:z$});return T.createElement(Pt,{...Z("root"),ref:e,variant:E,mod:[{grow:g},v],size:w,...N},I)});nx.classes=_T;nx.displayName="@mantine/core/Group";const[V$,Av]=HI({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Zi={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const lE={},H$=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${As(e)} - ${we(2)})`}}),Iv=En((t,e)=>{const r=Kt("InputDescription",lE,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:h=!0,variant:p,...g}=Kt("InputDescription",lE,r),_=Av(),S=ln({name:["InputWrapper",c],props:r,classes:Zi,className:i,style:s,classNames:n,styles:o,unstyled:a,rootSelector:"description",vars:l,varsResolver:H$}),E=h&&(_==null?void 0:_.getStyles)||S;return T.createElement(Pt,{component:"p",ref:e,variant:p,size:u,...E("description",_!=null&&_.getStyles?{className:i,style:s}:void 0),...g})});Iv.classes=Zi;Iv.displayName="@mantine/core/InputDescription";const Q$={},G$=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${As(e)} - ${we(2)})`}}),Pv=En((t,e)=>{const r=Kt("InputError",Q$,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:h=!0,variant:p,...g}=r,_=ln({name:["InputWrapper",c],props:r,classes:Zi,className:i,style:s,classNames:n,styles:o,unstyled:a,rootSelector:"error",vars:l,varsResolver:G$}),S=Av(),E=h&&(S==null?void 0:S.getStyles)||_;return T.createElement(Pt,{component:"p",ref:e,variant:p,size:u,...E("error",S!=null&&S.getStyles?{className:i,style:s}:void 0),...g})});Pv.classes=Zi;Pv.displayName="@mantine/core/InputError";const uE={labelElement:"label"},J$=(t,{size:e})=>({label:{"--input-label-size":As(e),"--input-asterisk-color":void 0}}),$v=En((t,e)=>{const r=Kt("InputLabel",uE,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,labelElement:u,size:c,required:h,htmlFor:p,onMouseDown:g,children:_,__staticSelector:S,variant:E,mod:w,...v}=Kt("InputLabel",uE,r),N=ln({name:["InputWrapper",S],props:r,classes:Zi,className:i,style:s,classNames:n,styles:o,unstyled:a,rootSelector:"label",vars:l,varsResolver:J$}),I=Av(),R=(I==null?void 0:I.getStyles)||N;return T.createElement(Pt,{...R("label",I!=null&&I.getStyles?{className:i,style:s}:void 0),component:u,variant:E,size:c,ref:e,htmlFor:u==="label"?p:void 0,mod:[{required:h},w],onMouseDown:k=>{g==null||g(k),!k.defaultPrevented&&k.detail>1&&k.preventDefault()},...v},_,h&&T.createElement("span",{...R("required"),"aria-hidden":!0}," *"))});$v.classes=Zi;$v.displayName="@mantine/core/InputLabel";const cE={},ix=En((t,e)=>{const r=Kt("InputPlaceholder",cE,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,variant:c,error:h,mod:p,...g}=Kt("InputPlaceholder",cE,r),_=ln({name:["InputPlaceholder",u],props:r,classes:Zi,className:i,style:s,classNames:n,styles:o,unstyled:a,rootSelector:"placeholder"});return T.createElement(Pt,{..._("placeholder"),mod:[{error:!!h},p],component:"span",variant:c,ref:e,...g})});ix.classes=Zi;ix.displayName="@mantine/core/InputPlaceholder";function Y$(t,{hasDescription:e,hasError:r}){const n=t.findIndex(l=>l==="input"),i=t[n-1],s=t[n+1];return{offsetBottom:e&&s==="description"||r&&s==="error",offsetTop:e&&i==="description"||r&&i==="error"}}const K$={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},Z$=(t,{size:e})=>({label:{"--input-label-size":As(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${As(e)} - ${we(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${As(e)} - ${we(2)})`}}),sx=En((t,e)=>{const r=Kt("InputWrapper",K$,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,variant:c,__staticSelector:h,inputContainer:p,inputWrapperOrder:g,label:_,error:S,description:E,labelProps:w,descriptionProps:v,errorProps:N,labelElement:I,children:R,withAsterisk:k,id:L,required:j,__stylesApiProps:Z,mod:Q,...te}=r,re=ln({name:["InputWrapper",h],props:Z||r,classes:Zi,className:i,style:s,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:Z$}),G={size:u,variant:c,__staticSelector:h},fe=Y3(L),je=typeof k=="boolean"?k:j,Fe=(N==null?void 0:N.id)||`${fe}-error`,Pe=(v==null?void 0:v.id)||`${fe}-description`,X=fe,ge=!!S&&typeof S!="boolean",Ce=!!E,Ae=`${ge?Fe:""} ${Ce?Pe:""}`,ue=Ae.trim().length>0?Ae.trim():void 0,_e=(w==null?void 0:w.id)||`${fe}-label`,ve=_&&T.createElement($v,{key:"label",labelElement:I,id:_e,htmlFor:X,required:je,...G,...w},_),Le=Ce&&T.createElement(Iv,{key:"description",...v,...G,size:(v==null?void 0:v.size)||G.size,id:(v==null?void 0:v.id)||Pe},E),V=T.createElement(T.Fragment,{key:"input"},p(R)),Ve=ge&&T.createElement(Pv,{...N,...G,size:(N==null?void 0:N.size)||G.size,key:"error",id:(N==null?void 0:N.id)||Fe},S),se=g.map(ct=>{switch(ct){case"label":return ve;case"input":return V;case"description":return Le;case"error":return Ve;default:return null}});return T.createElement(V$,{value:{getStyles:re,describedBy:ue,inputId:X,labelId:_e,...Y$(g,{hasDescription:Ce,hasError:ge})}},T.createElement(Pt,{ref:e,variant:c,size:u,mod:[{error:!!S},Q],...re("root"),...te},se))});sx.classes=Zi;sx.displayName="@mantine/core/InputWrapper";const X$={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},ej=(t,e,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":js(e.size,"input-height"),"--input-fz":As(e.size),"--input-radius":e.radius===void 0?void 0:kv(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?we(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?we(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?js(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),Ht=Ru((t,e)=>{const r=Kt("Input",X$,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:h,wrapperProps:p,error:g,disabled:_,leftSection:S,leftSectionProps:E,leftSectionWidth:w,rightSection:v,rightSectionProps:N,rightSectionWidth:I,rightSectionPointerEvents:R,leftSectionPointerEvents:k,variant:L,vars:j,pointer:Z,multiline:Q,radius:te,id:re,withAria:G,withErrorStyles:fe,mod:je,...Fe}=r,{styleProps:Pe,rest:X}=Z_(Fe),ge=Av(),Ce={offsetBottom:ge==null?void 0:ge.offsetBottom,offsetTop:ge==null?void 0:ge.offsetTop},Ae=ln({name:["Input",u],props:c||r,classes:Zi,className:i,style:s,classNames:n,styles:o,unstyled:a,stylesCtx:Ce,rootSelector:"wrapper",vars:j,varsResolver:ej}),ue=G?{required:l,disabled:_,"aria-invalid":!!g,"aria-describedby":ge==null?void 0:ge.describedBy,id:(ge==null?void 0:ge.inputId)||re}:{};return T.createElement(Pt,{...Ae("wrapper"),...Pe,...p,mod:[{error:!!g&&fe,pointer:Z,disabled:_,multiline:Q,"data-with-right-section":!!v,"data-with-left-section":!!S},je],variant:L,size:h},S&&T.createElement("div",{...E,"data-position":"left",...Ae("section",{className:E==null?void 0:E.className,style:E==null?void 0:E.style})},S),T.createElement(Pt,{component:"input",...X,...ue,ref:e,required:l,mod:{disabled:_,error:!!g&&fe},variant:L,...Ae("input")}),v&&T.createElement("div",{...N,"data-position":"right",...Ae("section",{className:N==null?void 0:N.className,style:N==null?void 0:N.style})},v))});Ht.classes=Zi;Ht.Wrapper=sx;Ht.Label=$v;Ht.Error=Pv;Ht.Description=Iv;Ht.Placeholder=ix;Ht.displayName="@mantine/core/Input";function tj(t,e,r){const n=Kt(t,e,r),{label:i,description:s,error:o,required:a,classNames:l,styles:u,className:c,unstyled:h,__staticSelector:p,__stylesApiProps:g,errorProps:_,labelProps:S,descriptionProps:E,wrapperProps:w,id:v,size:N,style:I,inputContainer:R,inputWrapperOrder:k,withAsterisk:L,variant:j,vars:Z,mod:Q,...te}=n,{styleProps:re,rest:G}=Z_(te),fe={label:i,description:s,error:o,required:a,classNames:l,className:c,__staticSelector:p,__stylesApiProps:g||n,errorProps:_,labelProps:S,descriptionProps:E,unstyled:h,styles:u,size:N,style:I,inputContainer:R,inputWrapperOrder:k,withAsterisk:L,variant:j,id:v,mod:Q,...w};return{...G,classNames:l,styles:u,unstyled:h,wrapperProps:{...fe,...re},inputProps:{required:a,classNames:l,styles:u,unstyled:h,size:N,__staticSelector:p,__stylesApiProps:g||n,error:o,variant:j,id:v}}}const rj={__staticSelector:"InputBase",withAria:!0},jv=Ru((t,e)=>{const{inputProps:r,wrapperProps:n,...i}=tj("InputBase",rj,t);return T.createElement(Ht.Wrapper,{...n},T.createElement(Ht,{...r,...i,ref:e}))});jv.classes={...Ht.classes,...Ht.Wrapper.classes};jv.displayName="@mantine/core/InputBase";function nj(t,e){if(!e||!t)return!1;let r=e.parentNode;for(;r!=null;){if(r===t)return!0;r=r.parentNode}return!1}function ij({target:t,parent:e,ref:r,displayAfterTransitionEnd:n}){const i=O.useRef(),[s,o]=O.useState(!1),[a,l]=O.useState(typeof n=="boolean"?n:!1),u=()=>{if(!t||!e)return;const g=t.getBoundingClientRect(),_=e.getBoundingClientRect(),S={top:g.top-_.top,left:g.left-_.left,width:g.width,height:g.height};r.current&&(r.current.style.transform=`translateY(${S.top}px) translateX(${S.left}px)`,r.current.style.width=`${S.width}px`,r.current.style.height=`${S.height}px`)},c=()=>{window.clearTimeout(i.current),r.current&&(r.current.style.transitionDuration="0ms"),u(),i.current=window.setTimeout(()=>{r.current&&(r.current.style.transitionDuration="")},30)},h=O.useRef(),p=O.useRef();return O.useEffect(()=>{if(u(),t)return h.current=new ResizeObserver(c),h.current.observe(t),p.current=new ResizeObserver(c),p.current.observe(e),()=>{var g,_;(g=h.current)==null||g.disconnect(),(_=p.current)==null||_.disconnect()}},[e,t]),O.useEffect(()=>{if(e){const g=_=>{nj(_.target,e)&&(c(),l(!1))};return document.addEventListener("transitionend",g),()=>{document.removeEventListener("transitionend",g)}}},[e]),sP(()=>{uP()!=="test"&&o(!0)},20,{autoInvoke:!0}),oP(g=>{g.forEach(_=>{_.type==="attributes"&&_.attributeName==="dir"&&c()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:s,hidden:a}}var xT={root:"m_96b553a6"};const sj={},oj=(t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}}),ox=En((t,e)=>{const r=Kt("FloatingIndicator",sj,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,target:u,parent:c,transitionDuration:h,mod:p,displayAfterTransitionEnd:g,..._}=r,S=ln({name:"FloatingIndicator",classes:xT,props:r,className:i,style:s,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:oj}),E=O.useRef(null),{initialized:w,hidden:v}=ij({target:u,parent:c,ref:E,displayAfterTransitionEnd:g}),N=ml(e,E);return!u||!c?null:T.createElement(Pt,{ref:N,mod:[{initialized:w,hidden:v},p],...S("root"),..._})});ox.displayName="@mantine/core/FloatingIndicator";ox.classes=xT;var ST={root:"m_b6d8b162"};function aj(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const lj={inherit:!1},uj=(t,{variant:e,lineClamp:r,gradient:n,size:i,color:s})=>({root:{"--text-fz":As(i),"--text-lh":QI(i),"--text-gradient":e==="gradient"?q1(n,t):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":s?Ga(s,t):void 0}}),pd=Ru((t,e)=>{const r=Kt("Text",lj,t),{lineClamp:n,truncate:i,inline:s,inherit:o,gradient:a,span:l,__staticSelector:u,vars:c,className:h,style:p,classNames:g,styles:_,unstyled:S,variant:E,mod:w,size:v,...N}=r,I=ln({name:["Text",u],props:r,classes:ST,className:h,style:p,classNames:g,styles:_,unstyled:S,vars:c,varsResolver:uj});return T.createElement(Pt,{...I("root",{focusable:!0}),ref:e,component:l?"span":"p",variant:E,mod:[{"data-truncate":aj(i),"data-line-clamp":typeof n=="number","data-inline":s,"data-inherit":o},w],size:v,...N})});pd.classes=ST;pd.displayName="@mantine/core/Text";var ET={root:"m_849cf0da"};const cj={underline:"hover"},Hn=Ru((t,e)=>{const{underline:r,className:n,unstyled:i,mod:s,...o}=Kt("Anchor",cj,t);return T.createElement(pd,{component:"a",ref:e,className:yl({[ET.root]:!i},n),...o,mod:[{underline:r},s],__staticSelector:"Anchor",unstyled:i})});Hn.classes=ET;Hn.displayName="@mantine/core/Anchor";var Lv={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const dE={orientation:"horizontal"},dj=(t,{borderWidth:e})=>({group:{"--button-border-width":we(e)}}),ax=En((t,e)=>{const r=Kt("ButtonGroup",dE,t),{className:n,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:h,mod:p,...g}=Kt("ButtonGroup",dE,t),_=ln({name:"ButtonGroup",props:r,classes:Lv,className:n,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:dj,rootSelector:"group"});return T.createElement(Pt,{..._("group"),ref:e,variant:h,mod:[{"data-orientation":l},p],role:"group",...g})});ax.classes=Lv;ax.displayName="@mantine/core/ButtonGroup";const fj={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${we(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},hj={},pj=(t,{radius:e,color:r,gradient:n,variant:i,size:s,justify:o,autoContrast:a})=>{const l=t.variantColorResolver({color:r||t.primaryColor,theme:t,gradient:n,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":js(s,"button-height"),"--button-padding-x":js(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?As(s.replace("compact-","")):As(s),"--button-radius":e===void 0?void 0:kv(e),"--button-bg":r||i?l.background:void 0,"--button-hover":r||i?l.hover:void 0,"--button-color":l.color,"--button-bd":r||i?l.border:void 0,"--button-hover-color":r||i?l.hoverColor:void 0}}},jr=Ru((t,e)=>{const r=Kt("Button",hj,t),{style:n,vars:i,className:s,color:o,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:h,variant:p,radius:g,loading:_,loaderProps:S,gradient:E,classNames:w,styles:v,unstyled:N,"data-disabled":I,autoContrast:R,mod:k,...L}=r,j=ln({name:"Button",props:r,classes:Lv,className:s,style:n,classNames:w,styles:v,unstyled:N,vars:i,varsResolver:pj}),Z=!!u,Q=!!c;return T.createElement(rx,{ref:e,...j("root",{active:!a&&!_&&!I}),unstyled:N,variant:p,disabled:a||_,mod:[{disabled:a||I,loading:_,block:h,"with-left-section":Z,"with-right-section":Q},k],...L},T.createElement(wT,{mounted:!!_,transition:fj,duration:150},te=>T.createElement(Pt,{component:"span",...j("loader",{style:te}),"aria-hidden":!0},T.createElement(Ov,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...S}))),T.createElement("span",{...j("inner")},u&&T.createElement(Pt,{component:"span",...j("section"),mod:{position:"left"}},u),T.createElement(Pt,{component:"span",mod:{loading:_},...j("label")},l),c&&T.createElement(Pt,{component:"span",...j("section"),mod:{position:"right"}},c)))});jr.classes=Lv;jr.displayName="@mantine/core/Button";jr.Group=ax;var NT={root:"m_7485cace"};const mj={},yj=(t,{size:e,fluid:r})=>({root:{"--container-size":r?void 0:js(e,"container-size")}}),il=En((t,e)=>{const r=Kt("Container",mj,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,fluid:u,mod:c,...h}=r,p=ln({name:"Container",classes:NT,props:r,className:i,style:s,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:yj});return T.createElement(Pt,{ref:e,mod:[{fluid:u},c],...p("root"),...h})});il.classes=NT;il.displayName="@mantine/core/Container";var kT={root:"m_9e117634"};const gj={},vj=(t,{radius:e,fit:r})=>({root:{"--image-radius":e===void 0?void 0:kv(e),"--image-object-fit":r}}),Dv=Ru((t,e)=>{const r=Kt("Image",gj,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,onError:u,src:c,radius:h,fit:p,fallbackSrc:g,mod:_,...S}=r,[E,w]=O.useState(!c);O.useEffect(()=>w(!c),[c]);const v=ln({name:"Image",classes:kT,props:r,className:i,style:s,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:vj});return E&&g?T.createElement(Pt,{component:"img",ref:e,src:g,...v("root"),onError:u,mod:["fallback",_],...S}):T.createElement(Pt,{component:"img",ref:e,...v("root"),src:c,onError:N=>{u==null||u(N),w(!0)},mod:_,...S})});Dv.classes=kT;Dv.displayName="@mantine/core/Image";var CT={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const wj={withItemsBorders:!0},bj=(t,{radius:e,color:r,transitionDuration:n,size:i,transitionTimingFunction:s})=>({root:{"--sc-radius":e===void 0?void 0:kv(e),"--sc-color":r?Ga(r,t):void 0,"--sc-shadow":r?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":n===void 0?void 0:`${n}ms`,"--sc-transition-timing-function":s,"--sc-padding":js(i,"sc-padding"),"--sc-font-size":As(i)}}),lx=En((t,e)=>{var V,Ve;const r=Kt("SegmentedControl",wj,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,data:u,value:c,defaultValue:h,onChange:p,size:g,name:_,disabled:S,readOnly:E,fullWidth:w,orientation:v,radius:N,color:I,transitionDuration:R,transitionTimingFunction:k,variant:L,autoContrast:j,withItemsBorders:Z,mod:Q,...te}=r,re=ln({name:"SegmentedControl",props:r,classes:CT,className:i,style:s,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:bj}),G=Tu(),fe=u.map(se=>typeof se=="string"?{label:se,value:se}:se),je=aP(),[Fe,Pe]=O.useState(null),[X,ge]=O.useState({}),Ce=(se,ct)=>{X[ct]=se,ge(X)},[Ae,ue]=nP({value:c,defaultValue:h,finalValue:Array.isArray(u)?((V=fe.find(se=>!se.disabled))==null?void 0:V.value)??((Ve=u[0])==null?void 0:Ve.value)??null:null,onChange:p}),_e=Y3(_),ve=fe.map(se=>T.createElement(Pt,{...re("control"),mod:{active:Ae===se.value,orientation:v},key:se.value},T.createElement("input",{...re("input"),disabled:S||se.disabled,type:"radio",name:_e,value:se.value,id:`${_e}-${se.value}`,checked:Ae===se.value,onChange:()=>!E&&ue(se.value),"data-focus-ring":G.focusRing}),T.createElement(Pt,{component:"label",...re("label"),mod:{active:Ae===se.value&&!(S||se.disabled),disabled:S||se.disabled,"read-only":E},htmlFor:`${_e}-${se.value}`,ref:ct=>Ce(ct,se.value),__vars:{"--sc-label-color":I!==void 0?eT({color:I,theme:G,autoContrast:j}):void 0}},T.createElement("span",{...re("innerLabel")},se.label)))),Le=ml(e,se=>Pe(se));return u.length===0?null:T.createElement(Pt,{...re("root"),variant:L,size:g,ref:Le,mod:[{"full-width":w,orientation:v,initialized:je,"with-items-borders":Z},Q],...te,role:"radiogroup"},typeof Ae=="string"&&T.createElement(ox,{target:X[Ae],parent:Fe,component:"span",transitionDuration:"var(--sc-transition-duration)",...re("indicator")}),ve)});lx.classes=CT;lx.displayName="@mantine/core/SegmentedControl";const[_j,xj]=H_("Table component was not found in the tree");var xp={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function Sj(t,e){if(!e)return;const r={};return e.columnBorder&&t.withColumnBorders&&(r["data-with-column-border"]=!0),e.rowBorder&&t.withRowBorders&&(r["data-with-row-border"]=!0),e.striped&&t.striped&&(r["data-striped"]=t.striped),e.highlightOnHover&&t.highlightOnHover&&(r["data-hover"]=!0),e.captionSide&&t.captionSide&&(r["data-side"]=t.captionSide),e.stickyHeader&&t.stickyHeader&&(r["data-sticky"]=!0),r}function Ou(t,e){const r=`Table${t.charAt(0).toUpperCase()}${t.slice(1)}`,n=En((i,s)=>{const o=Kt(r,{},i),{classNames:a,className:l,style:u,styles:c,...h}=o,p=xj();return T.createElement(Pt,{component:t,ref:s,...Sj(p,e),...p.getStyles(t,{className:l,classNames:a,style:u,styles:c,props:o}),...h})});return n.displayName=`@mantine/core/${r}`,n.classes=xp,n}const V1=Ou("th",{columnBorder:!0}),TT=Ou("td",{columnBorder:!0}),Gm=Ou("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),RT=Ou("thead",{stickyHeader:!0}),OT=Ou("tbody"),AT=Ou("tfoot"),IT=Ou("caption",{captionSide:!0});function ux({data:t}){return T.createElement(T.Fragment,null,t.caption&&T.createElement(IT,null,t.caption),t.head&&T.createElement(RT,null,T.createElement(Gm,null,t.head.map((e,r)=>T.createElement(V1,{key:r},e)))),t.body&&T.createElement(OT,null,t.body.map((e,r)=>T.createElement(Gm,{key:r},e.map((n,i)=>T.createElement(TT,{key:i},n))))),t.foot&&T.createElement(AT,null,T.createElement(Gm,null,t.foot.map((e,r)=>T.createElement(V1,{key:r},e)))))}ux.displayName="@mantine/core/TableDataRenderer";const Ej={type:"scrollarea"},Nj=(t,{minWidth:e,type:r})=>({scrollContainer:{"--table-min-width":we(e),"--table-overflow":r==="native"?"auto":void 0}}),cx=En((t,e)=>{const r=Kt("TableScrollContainer",Ej,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,minWidth:c,type:h,...p}=r,g=ln({name:"TableScrollContainer",classes:xp,props:r,className:i,style:s,classNames:n,styles:o,unstyled:a,vars:l,varsResolver:Nj,rootSelector:"scrollContainer"});return T.createElement(Pt,{component:h==="scrollarea"?_p:"div",...h==="scrollarea"?{offsetScrollbars:"x"}:{},ref:e,...g("scrollContainer"),...p},T.createElement("div",{...g("scrollContainerInner")},u))});cx.classes=xp;cx.displayName="@mantine/core/TableScrollContainer";const kj={withRowBorders:!0,verticalSpacing:7},Cj=(t,{layout:e,captionSide:r,horizontalSpacing:n,verticalSpacing:i,borderColor:s,stripedColor:o,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:h})=>({table:{"--table-layout":e,"--table-caption-side":r,"--table-horizontal-spacing":By(n),"--table-vertical-spacing":By(i),"--table-border-color":s?Ga(s,t):void 0,"--table-striped-color":l&&o?Ga(o,t):void 0,"--table-highlight-on-hover-color":u&&a?Ga(a,t):void 0,"--table-sticky-header-offset":h?we(c):void 0}}),U=En((t,e)=>{const r=Kt("Table",kj,t),{classNames:n,className:i,style:s,styles:o,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:h,stripedColor:p,highlightOnHoverColor:g,striped:_,highlightOnHover:S,withColumnBorders:E,withRowBorders:w,withTableBorder:v,borderColor:N,layout:I,variant:R,data:k,children:L,stickyHeader:j,stickyHeaderOffset:Z,mod:Q,...te}=r,re=ln({name:"Table",props:r,className:i,style:s,classes:xp,classNames:n,styles:o,unstyled:a,rootSelector:"table",vars:l,varsResolver:Cj});return T.createElement(_j,{value:{getStyles:re,stickyHeader:j,striped:_===!0?"odd":_||void 0,highlightOnHover:S,withColumnBorders:E,withRowBorders:w,captionSide:h||"bottom"}},T.createElement(Pt,{component:"table",variant:R,ref:e,mod:[{"data-with-table-border":v},Q],...re("table"),...te},L||!!k&&T.createElement(ux,{data:k})))});U.classes=xp;U.displayName="@mantine/core/Table";U.Td=TT;U.Th=V1;U.Tr=Gm;U.Thead=RT;U.Tbody=OT;U.Tfoot=AT;U.Caption=IT;U.ScrollContainer=cx;U.DataRenderer=ux;const Tj={},dx=En((t,e)=>{const r=Kt("TextInput",Tj,t);return T.createElement(jv,{component:"input",ref:e,...r,__staticSelector:"TextInput"})});dx.classes=jv.classes;dx.displayName="@mantine/core/TextInput";var fE,tr="colors",Dn="sizes",He="space",Rj={gap:He,gridGap:He,columnGap:He,gridColumnGap:He,rowGap:He,gridRowGap:He,inset:He,insetBlock:He,insetBlockEnd:He,insetBlockStart:He,insetInline:He,insetInlineEnd:He,insetInlineStart:He,margin:He,marginTop:He,marginRight:He,marginBottom:He,marginLeft:He,marginBlock:He,marginBlockEnd:He,marginBlockStart:He,marginInline:He,marginInlineEnd:He,marginInlineStart:He,padding:He,paddingTop:He,paddingRight:He,paddingBottom:He,paddingLeft:He,paddingBlock:He,paddingBlockEnd:He,paddingBlockStart:He,paddingInline:He,paddingInlineEnd:He,paddingInlineStart:He,top:He,right:He,bottom:He,left:He,scrollMargin:He,scrollMarginTop:He,scrollMarginRight:He,scrollMarginBottom:He,scrollMarginLeft:He,scrollMarginX:He,scrollMarginY:He,scrollMarginBlock:He,scrollMarginBlockEnd:He,scrollMarginBlockStart:He,scrollMarginInline:He,scrollMarginInlineEnd:He,scrollMarginInlineStart:He,scrollPadding:He,scrollPaddingTop:He,scrollPaddingRight:He,scrollPaddingBottom:He,scrollPaddingLeft:He,scrollPaddingX:He,scrollPaddingY:He,scrollPaddingBlock:He,scrollPaddingBlockEnd:He,scrollPaddingBlockStart:He,scrollPaddingInline:He,scrollPaddingInlineEnd:He,scrollPaddingInlineStart:He,fontSize:"fontSizes",background:tr,backgroundColor:tr,backgroundImage:tr,borderImage:tr,border:tr,borderBlock:tr,borderBlockEnd:tr,borderBlockStart:tr,borderBottom:tr,borderBottomColor:tr,borderColor:tr,borderInline:tr,borderInlineEnd:tr,borderInlineStart:tr,borderLeft:tr,borderLeftColor:tr,borderRight:tr,borderRightColor:tr,borderTop:tr,borderTopColor:tr,caretColor:tr,color:tr,columnRuleColor:tr,fill:tr,outline:tr,outlineColor:tr,stroke:tr,textDecorationColor:tr,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Dn,minBlockSize:Dn,maxBlockSize:Dn,inlineSize:Dn,minInlineSize:Dn,maxInlineSize:Dn,width:Dn,minWidth:Dn,maxWidth:Dn,height:Dn,minHeight:Dn,maxHeight:Dn,flexBasis:Dn,gridTemplateColumns:Dn,gridTemplateRows:Dn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Oj=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Sp=()=>{const t=Object.create(null);return(e,r,...n)=>{const i=(s=>JSON.stringify(s,Oj))(e);return i in t?t[i]:t[i]=r(e,...n)}},Jm=Symbol.for("sxs.internal"),fx=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),hE=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:Aj}=Object.prototype,H1=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Ij=/\s+(?![^()]*\))/,Qu=t=>e=>t(...typeof e=="string"?String(e).split(Ij):[e]),pE={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Qu((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Qu((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Qu((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Qu((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Qu((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Qu((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},fw=/([\d.]+)([^]*)/,Pj=(t,e)=>t.length?t.reduce((r,n)=>(r.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i)),r),[]):e,$j=(t,e)=>t in jj&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(r,n,i,s)=>n+(i==="stretch"?`-moz-available${s};${H1(t)}:${n}-webkit-fill-available`:`-moz-fit-content${s};${H1(t)}:${n}fit-content`)+s):String(e),jj={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Jo=t=>t?t+"-":"",PT=(t,e,r)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,i,s,o,a)=>o=="$"==!!s?n:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Jo(e)+(a.includes("$")?"":Jo(r))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Lj=/\s*,\s*(?![^()]*\))/,Dj=Object.prototype.toString,gc=(t,e,r,n,i)=>{let s,o,a;const l=(u,c,h)=>{let p,g;const _=S=>{for(p in S){const v=p.charCodeAt(0)===64,N=v&&Array.isArray(S[p])?S[p]:[S[p]];for(g of N){const I=/[A-Z]/.test(w=p)?w:w.replace(/-[^]/g,k=>k[1].toUpperCase()),R=typeof g=="object"&&g&&g.toString===Dj&&(!n.utils[I]||!c.length);if(I in n.utils&&!R){const k=n.utils[I];if(k!==o){o=k,_(k(g)),o=null;continue}}else if(I in pE){const k=pE[I];if(k!==a){a=k,_(k(g)),a=null;continue}}if(v&&(E=p.slice(1)in n.media?"@media "+n.media[p.slice(1)]:p,p=E.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(k,L,j,Z,Q,te)=>{const re=fw.test(L),G=.0625*(re?-1:1),[fe,je]=re?[Z,L]:[L,Z];return"("+(j[0]==="="?"":j[0]===">"===re?"max-":"min-")+fe+":"+(j[0]!=="="&&j.length===1?je.replace(fw,(Fe,Pe,X)=>Number(Pe)+G*(j===">"?1:-1)+X):je)+(Q?") and ("+(Q[0]===">"?"min-":"max-")+fe+":"+(Q.length===1?te.replace(fw,(Fe,Pe,X)=>Number(Pe)+G*(Q===">"?-1:1)+X):te):"")+")"})),R){const k=v?h.concat(p):[...h],L=v?[...c]:Pj(c,p.split(Lj));s!==void 0&&i(mE(...s)),s=void 0,l(g,L,k)}else s===void 0&&(s=[[],c,h]),p=v||p.charCodeAt(0)!==36?p:`--${Jo(n.prefix)}${p.slice(1).replace(/\$/g,"-")}`,g=R?g:typeof g=="number"?g&&I in Mj?String(g)+"px":String(g):PT($j(I,g??""),n.prefix,n.themeMap[I]),s[0].push(`${v?`${p} `:`${H1(p)}:`}${g}`)}}var E,w};_(u),s!==void 0&&i(mE(...s)),s=void 0};l(t,e,r)},mE=(t,e,r)=>`${r.map(n=>`${n}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,Mj={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},yE=t=>String.fromCharCode(t+(t>25?39:97)),lu=t=>(e=>{let r,n="";for(r=Math.abs(e);r>52;r=r/52|0)n=yE(r%52)+n;return yE(r%52)+n})(((e,r)=>{let n=r.length;for(;n;)e=33*e^r.charCodeAt(--n);return e})(5381,JSON.stringify(t))>>>0),_f=["themed","global","styled","onevar","resonevar","allvar","inline"],Bj=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},Fj=t=>{let e;const r=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},n=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(t).styleSheets||[];for(const a of i)if(Bj(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const h=Object(u[l+1]);if(h.type!==4)continue;++l;const{cssText:p}=c;if(!p.startsWith("--sxs"))continue;const g=p.slice(14,-3).trim().split(/\s+/),_=_f[g[0]];_&&(e||(e={sheet:a,reset:n,rules:{},toString:r}),e.rules[_]={group:h,index:l,cache:new Set(g)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,h){this.cssRules.splice(h,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:n,toString:r}}const{sheet:s,rules:o}=e;for(let a=_f.length-1;a>=0;--a){const l=_f[a];if(!o[l]){const u=_f[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}Wj(o[l])}};return n(),e},Wj=t=>{const e=t.group;let r=e.cssRules.length;t.apply=n=>{try{e.insertRule(n,r),++r}catch{}}},sf=Symbol(),qj=Sp(),Uj=(t,e)=>qj(t,()=>(...r)=>{let n={type:null,composers:new Set};for(const i of r)if(i!=null)if(i[Jm]){n.type==null&&(n.type=i[Jm].type);for(const s of i[Jm].composers)n.composers.add(s)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(zj(i,t));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),Vj(t,n,e)}),zj=({variants:t,compoundVariants:e,defaultVariants:r,...n},i)=>{const s=`${Jo(i.prefix)}c-${lu(n)}`,o=[],a=[],l=Object.create(null),u=[];for(const p in r)l[p]=String(r[p]);if(typeof t=="object"&&t)for(const p in t){c=l,h=p,Aj.call(c,h)||(l[p]="undefined");const g=t[p];for(const _ in g){const S={[p]:String(_)};String(_)==="undefined"&&u.push(p);const E=g[_],w=[S,E,!hE(E)];o.push(w)}}var c,h;if(typeof e=="object"&&e)for(const p of e){let{css:g,..._}=p;g=typeof g=="object"&&g||{};for(const E in _)_[E]=String(_[E]);const S=[_,g,!hE(g)];a.push(S)}return[s,n,o,a,l,u]},Vj=(t,e,r)=>{const[n,i,s,o]=Hj(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function p(){for(let g=0;g<p[sf].length;g++){const[_,S]=p[sf][g];h.rules[_].apply(S)}return p[sf]=[],null}return p[sf]=[],p.rules={},_f.forEach(g=>p.rules[g]={apply:_=>p[sf].push([g,_])}),p})(r):null,l=(a||r).rules,u=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=h=>{h=typeof h=="object"&&h||Qj;const{css:p,...g}=h,_={};for(const w in s)if(delete g[w],w in h){let v=h[w];typeof v=="object"&&v?_[w]={"@initial":s[w],...v}:(v=String(v),_[w]=v!=="undefined"||o.has(w)?v:s[w])}else _[w]=s[w];const S=new Set([...i]);for(const[w,v,N,I]of e.composers){r.rules.styled.cache.has(w)||(r.rules.styled.cache.add(w),gc(v,[`.${w}`],[],t,L=>{l.styled.apply(L)}));const R=gE(N,_,t.media),k=gE(I,_,t.media,!0);for(const L of R)if(L!==void 0)for(const[j,Z,Q]of L){const te=`${w}-${lu(Z)}-${j}`;S.add(te);const re=(Q?r.rules.resonevar:r.rules.onevar).cache,G=Q?l.resonevar:l.onevar;re.has(te)||(re.add(te),gc(Z,[`.${te}`],[],t,fe=>{G.apply(fe)}))}for(const L of k)if(L!==void 0)for(const[j,Z]of L){const Q=`${w}-${lu(Z)}-${j}`;S.add(Q),r.rules.allvar.cache.has(Q)||(r.rules.allvar.cache.add(Q),gc(Z,[`.${Q}`],[],t,te=>{l.allvar.apply(te)}))}}if(typeof p=="object"&&p){const w=`${n}-i${lu(p)}-css`;S.add(w),r.rules.inline.cache.has(w)||(r.rules.inline.cache.add(w),gc(p,[`.${w}`],[],t,v=>{l.inline.apply(v)}))}for(const w of String(h.className||"").trim().split(/\s+/))w&&S.add(w);const E=g.className=[...S].join(" ");return{type:e.type,className:E,selector:u,props:g,toString:()=>E,deferredInjector:a}};return fx(c,{className:n,selector:u,[Jm]:e,toString:()=>(r.rules.styled.cache.has(n)||c(),n)})},Hj=t=>{let e="";const r=[],n={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),r.push(s),i.push(...a);for(const l in o){const u=o[l];(n[l]===void 0||u!=="undefined"||a.includes(u))&&(n[l]=u)}}return[e,r,n,new Set(i)]},gE=(t,e,r,n)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,u=0,c=!1;for(l in s){const h=s[l];let p=e[l];if(p!==h){if(typeof p!="object"||!p)continue e;{let g,_,S=0;for(const E in p){if(h===String(p[E])){if(E!=="@initial"){const w=E.slice(1);(_=_||[]).push(w in r?r[w]:E.replace(/^@media ?/,"")),c=!0}u+=S,g=!0}++S}if(_&&_.length&&(o={["@media "+_.join(", ")]:o}),!g)continue e}}}(i[u]=i[u]||[]).push([n?"cv":`${l}-${s[l]}`,o,c])}return i},Qj={},Gj=Sp(),Jj=(t,e)=>Gj(t,()=>(...r)=>{const n=()=>{for(let i of r){i=typeof i=="object"&&i||{};let s=lu(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}gc(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return fx(n,{toString:n})}),Yj=Sp(),Kj=(t,e)=>Yj(t,()=>r=>{const n=`${Jo(t.prefix)}k-${lu(r)}`,i=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);const s=[];gc(r,[],[],t,a=>s.push(a));const o=`@keyframes ${n}{${s.join("")}}`;e.rules.global.apply(o)}return n};return fx(i,{get name(){return i()},toString:i})}),Zj=class{constructor(e,r,n,i){this.token=e==null?"":String(e),this.value=r==null?"":String(r),this.scale=n==null?"":String(n),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Jo(this.prefix)+Jo(this.scale)+this.token}toString(){return this.computedValue}},Xj=Sp(),e8=(t,e)=>Xj(t,()=>(r,n)=>{n=typeof r=="object"&&r||Object(n);const i=`.${r=(r=typeof r=="string"?r:"")||`${Jo(t.prefix)}t-${lu(n)}`}`,s={},o=[];for(const l in n){s[l]={};for(const u in n[l]){const c=`--${Jo(t.prefix)}${l}-${u}`,h=PT(String(n[l][u]),t.prefix,l);s[l][u]=new Zj(u,h,l,t.prefix),o.push(`${c}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(r)){e.rules.themed.cache.add(r);const l=`${n===t.theme?":root,":""}.${r}{${o.join(";")}}`;e.rules.themed.apply(l)}return r};return{...s,get className(){return a()},selector:i,toString:a}}),t8=Sp(),$T=t=>{let e=!1;const r=t8(t,n=>{e=!0;const i="prefix"in(n=typeof n=="object"&&n||{})?String(n.prefix):"",s=typeof n.media=="object"&&n.media||{},o=typeof n.root=="object"?n.root||null:globalThis.document||null,a=typeof n.theme=="object"&&n.theme||{},l={prefix:i,media:s,theme:a,themeMap:typeof n.themeMap=="object"&&n.themeMap||{...Rj},utils:typeof n.utils=="object"&&n.utils||{}},u=Fj(o),c={css:Uj(l,u),globalCss:Jj(l,u),keyframes:Kj(l,u),createTheme:e8(l,u),reset(){u.reset(),c.theme.toString()},theme:{},sheet:u,config:l,prefix:i,getCssText:u.toString,toString:u.toString};return String(c.theme=c.createTheme(a)),c});return e||r.reset(),r},jT=()=>fE||(fE=$T()),r8=(...t)=>jT().createTheme(...t),ra=(...t)=>jT().css(...t),n8={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},qr={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},i8="supabase-auth-ui",s8={ROOT:"root",SIGN_IN:qr.SIGN_IN,SIGN_UP:qr.SIGN_UP,FORGOTTEN_PASSWORD:qr.FORGOTTEN_PASSWORD,MAGIC_LINK:qr.MAGIC_LINK,UPDATE_PASSWORD:qr.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function Au(t,e,r){var n,i;const s=[],o=s8[t];return s.push(r!=null&&r.prependedClassName?(r==null?void 0:r.prependedClassName)+"_"+o:i8+"_"+o),(n=r==null?void 0:r.className)!=null&&n[t]&&s.push((i=r==null?void 0:r.className)==null?void 0:i[t]),((r==null?void 0:r.extend)===void 0||(r==null?void 0:r.extend)===!0)&&s.push(e),s}function Q1(t,e){let r;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(e))for(r=0;r<e.length;r++)t[r]=Q1(t[r],e[r]);else for(r in e)t[r]=Q1(t[r],e[r]);return t}return e}function hw(t,...e){let r=e.length;for(let n=0;n<r;n++)t=Q1(t,e[n]);return t}function o8(t,e){return t.replace(/{{(\w+)}}/g,(r,n)=>e.hasOwnProperty(n)?e[n]:r)}var a8={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const l8=ra({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Bl=({children:t,appearance:e,...r})=>{var n;const i=Au("anchor",l8(),e);return T.createElement("a",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.anchor,className:i.join(" ")},t)},u8=ra({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),Id=({children:t,color:e="default",appearance:r,icon:n,loading:i=!1,...s})=>{var o;const a=Au("button",u8({color:e}),r);return T.createElement("button",{...s,style:(o=r==null?void 0:r.style)==null?void 0:o.button,className:a.join(" "),disabled:i},n,t)},c8=ra({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),no=({children:t,appearance:e,...r})=>{var n;const i=Au("container",c8({direction:r.direction,gap:r.gap}),e);return T.createElement("div",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.container,className:i.join(" ")},t)},d8=ra({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),f8=({children:t,appearance:e,...r})=>{var n;const i=Au("divider",d8(),e);return T.createElement("div",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.divider,className:i.join(" ")})},h8=ra({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Ja=({children:t,appearance:e,...r})=>{var n;const i=Au("input",h8({type:r.type==="password"?"password":"default"}),e);return T.createElement("input",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.input,className:i.join(" ")},t)},p8=ra({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Ya=({children:t,appearance:e,...r})=>{var n;const i=Au("label",p8(),e);return T.createElement("label",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.label,className:i.join(" ")},t)},m8=ra({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),io=({children:t,appearance:e,...r})=>{var n;const i=Au("message",m8({color:r.color}),e);return T.createElement("span",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.message,className:i.join(" ")},t)};function LT({setAuthView:t=()=>{},supabaseClient:e,redirectTo:r,i18n:n,appearance:i,showLinks:s=!1}){var o;const[a,l]=O.useState(""),[u,c]=O.useState(""),[h,p]=O.useState(""),[g,_]=O.useState(!1),S=async w=>{var v,N;if(w.preventDefault(),c(""),p(""),_(!0),a.length===0){c((v=n==null?void 0:n.magic_link)==null?void 0:v.empty_email_address),_(!1);return}const{error:I}=await e.auth.signInWithOtp({email:a,options:{emailRedirectTo:r}});I?c(I.message):p((N=n==null?void 0:n.magic_link)==null?void 0:N.confirmation_text),_(!1)},E=n==null?void 0:n.magic_link;return T.createElement("form",{id:"auth-magic-link",onSubmit:S},T.createElement(no,{gap:"large",direction:"vertical",appearance:i},T.createElement("div",null,T.createElement(Ya,{htmlFor:"email",appearance:i},E==null?void 0:E.email_input_label),T.createElement(Ja,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:E==null?void 0:E.email_input_placeholder,onChange:w=>{c&&c(""),l(w.target.value)},appearance:i})),T.createElement(Id,{color:"primary",type:"submit",loading:g,appearance:i},g?E==null?void 0:E.loading_button_label:E==null?void 0:E.button_label),s&&T.createElement(Bl,{href:"#auth-sign-in",onClick:w=>{w.preventDefault(),t(qr.SIGN_IN)},appearance:i},(o=n==null?void 0:n.sign_in)==null?void 0:o.link_text),h&&T.createElement(io,{appearance:i},h),u&&T.createElement(io,{color:"danger",appearance:i},u)))}const Nn=ra({width:"21px",height:"21px"}),y8=({provider:t})=>t=="google"?g8():t=="facebook"?v8():t=="twitter"?w8():t=="apple"?b8():t=="github"?_8():t=="gitlab"?x8():t=="bitbucket"?S8():t=="discord"?E8():t=="azure"?N8():t=="keycloak"?k8():t=="linkedin"?C8():t=="notion"?T8():t=="slack"?R8():t=="spotify"?O8():t=="twitch"?A8():t=="workos"?I8():t=="kakao"?P8():null,g8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),T.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),T.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),T.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),v8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),T.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),w8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),b8=()=>T.createElement("svg",{className:Nn(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",T.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),_8=()=>T.createElement("svg",{className:Nn(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",T.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),x8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),T.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),T.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),T.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),T.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),T.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),T.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),S8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},T.createElement("defs",null,T.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},T.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),T.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),T.createElement("title",null,"Bitbucket-blue"),T.createElement("g",{id:"Layer_2","data-name":"Layer 2"},T.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},T.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),T.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),E8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),N8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},T.createElement("stop",{offset:"0",stopColor:"#114a8b"}),T.createElement("stop",{offset:"1",stopColor:"#0669bc"})),T.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),T.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),T.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},T.createElement("stop",{offset:"0",stopOpacity:".3"}),T.createElement("stop",{offset:".071",stopOpacity:".2"}),T.createElement("stop",{offset:".321",stopOpacity:".1"}),T.createElement("stop",{offset:".623",stopOpacity:".05"}),T.createElement("stop",{offset:"1",stopOpacity:"0"})),T.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),T.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},T.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),T.createElement("stop",{offset:"1",stopColor:"#2892df"})),T.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),k8=()=>T.createElement("svg",{className:Nn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),C8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),T.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),T8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},T.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),T.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),T.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),R8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),T.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),T.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),T.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),T.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),T.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),T.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),T.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),O8=()=>T.createElement("svg",{className:Nn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),A8=()=>T.createElement("svg",{className:Nn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),T.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),T.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),T.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),I8=()=>T.createElement("svg",{className:Nn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),T.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),P8=()=>T.createElement("svg",{className:Nn(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},T.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),T.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),T.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function $8({supabaseClient:t,socialLayout:e="vertical",providers:r=["github","google","azure"],providerScopes:n,queryParams:i,redirectTo:s,onlyThirdPartyProviders:o=!0,view:a="sign_in",i18n:l,appearance:u}){const[c,h]=O.useState(!1),[p,g]=O.useState(""),_=e==="vertical",S=a==="magic_link"?"sign_in":a,E=async v=>{h(!0);const{error:N}=await t.auth.signInWithOAuth({provider:v,options:{redirectTo:s,scopes:n==null?void 0:n[v],queryParams:i}});N&&g(N.message),h(!1)};function w(v){const N=v.toLowerCase();return v.charAt(0).toUpperCase()+N.slice(1)}return T.createElement(T.Fragment,null,r&&r.length>0&&T.createElement(T.Fragment,null,T.createElement(no,{gap:"large",direction:"vertical",appearance:u},T.createElement(no,{direction:_?"vertical":"horizontal",gap:_?"small":"medium",appearance:u},r.map(v=>{var N;return T.createElement(Id,{key:v,color:"default",loading:c,onClick:()=>E(v),appearance:u},T.createElement(y8,{provider:v}),_&&o8((N=l==null?void 0:l[S])==null?void 0:N.social_provider_text,{provider:w(v)}))}))),!o&&T.createElement(f8,{appearance:u})))}function vE({authView:t="sign_in",defaultEmail:e="",defaultPassword:r="",setAuthView:n=()=>{},setDefaultEmail:i=_=>{},setDefaultPassword:s=_=>{},supabaseClient:o,showLinks:a=!1,redirectTo:l,additionalData:u,magicLink:c,i18n:h,appearance:p,children:g}){var _,S,E,w;const v=O.useRef(!0),[N,I]=O.useState(e),[R,k]=O.useState(r),[L,j]=O.useState(""),[Z,Q]=O.useState(!1),[te,re]=O.useState("");O.useEffect(()=>(v.current=!0,I(e),k(r),()=>{v.current=!1}),[t]);const G=async Fe=>{var Pe;switch(Fe.preventDefault(),j(""),Q(!0),t){case"sign_in":const{error:X}=await o.auth.signInWithPassword({email:N,password:R});X&&j(X.message);break;case"sign_up":let ge={emailRedirectTo:l};u&&(ge.data=u);const{data:{user:Ce,session:Ae},error:ue}=await o.auth.signUp({email:N,password:R,options:ge});ue?j(ue.message):Ce&&!Ae&&re((Pe=h==null?void 0:h.sign_up)==null?void 0:Pe.confirmation_text);break}v.current&&Q(!1)},fe=Fe=>{i(N),s(R),n(Fe)},je=h==null?void 0:h[t];return T.createElement("form",{id:t==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:G,autoComplete:"on",style:{width:"100%"}},T.createElement(no,{direction:"vertical",gap:"large",appearance:p},T.createElement(no,{direction:"vertical",gap:"large",appearance:p},T.createElement("div",null,T.createElement(Ya,{htmlFor:"email",appearance:p},je==null?void 0:je.email_label),T.createElement(Ja,{id:"email",type:"email",name:"email",placeholder:je==null?void 0:je.email_input_placeholder,defaultValue:N,onChange:Fe=>I(Fe.target.value),autoComplete:"email",appearance:p})),T.createElement("div",null,T.createElement(Ya,{htmlFor:"password",appearance:p},je==null?void 0:je.password_label),T.createElement(Ja,{id:"password",type:"password",name:"password",placeholder:je==null?void 0:je.password_input_placeholder,defaultValue:R,onChange:Fe=>k(Fe.target.value),autoComplete:t==="sign_in"?"current-password":"new-password",appearance:p})),g),T.createElement(Id,{type:"submit",color:"primary",loading:Z,appearance:p},Z?je==null?void 0:je.loading_button_label:je==null?void 0:je.button_label),a&&T.createElement(no,{direction:"vertical",gap:"small",appearance:p},t===qr.SIGN_IN&&c&&T.createElement(Bl,{href:"#auth-magic-link",onClick:Fe=>{Fe.preventDefault(),n(qr.MAGIC_LINK)},appearance:p},(_=h==null?void 0:h.magic_link)==null?void 0:_.link_text),t===qr.SIGN_IN&&T.createElement(Bl,{href:"#auth-forgot-password",onClick:Fe=>{Fe.preventDefault(),n(qr.FORGOTTEN_PASSWORD)},appearance:p},(S=h==null?void 0:h.forgotten_password)==null?void 0:S.link_text),t===qr.SIGN_IN?T.createElement(Bl,{href:"#auth-sign-up",onClick:Fe=>{Fe.preventDefault(),fe(qr.SIGN_UP)},appearance:p},(E=h==null?void 0:h.sign_up)==null?void 0:E.link_text):T.createElement(Bl,{href:"#auth-sign-in",onClick:Fe=>{Fe.preventDefault(),fe(qr.SIGN_IN)},appearance:p},(w=h==null?void 0:h.sign_in)==null?void 0:w.link_text))),te&&T.createElement(io,{appearance:p},te),L&&T.createElement(io,{color:"danger",appearance:p},L))}function DT({setAuthView:t=()=>{},supabaseClient:e,redirectTo:r,i18n:n,appearance:i,showLinks:s=!1}){var o;const[a,l]=O.useState(""),[u,c]=O.useState(""),[h,p]=O.useState(""),[g,_]=O.useState(!1),S=async w=>{var v;w.preventDefault(),c(""),p(""),_(!0);const{error:N}=await e.auth.resetPasswordForEmail(a,{redirectTo:r});N?c(N.message):p((v=n==null?void 0:n.forgotten_password)==null?void 0:v.confirmation_text),_(!1)},E=n==null?void 0:n.forgotten_password;return T.createElement("form",{id:"auth-forgot-password",onSubmit:S},T.createElement(no,{direction:"vertical",gap:"large",appearance:i},T.createElement(no,{gap:"large",direction:"vertical",appearance:i},T.createElement("div",null,T.createElement(Ya,{htmlFor:"email",appearance:i},E==null?void 0:E.email_label),T.createElement(Ja,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:E==null?void 0:E.email_input_placeholder,onChange:w=>l(w.target.value),appearance:i})),T.createElement(Id,{type:"submit",color:"primary",loading:g,appearance:i},g?E==null?void 0:E.loading_button_label:E==null?void 0:E.button_label),s&&T.createElement(Bl,{href:"#auth-sign-in",onClick:w=>{w.preventDefault(),t(qr.SIGN_IN)},appearance:i},(o=n==null?void 0:n.sign_in)==null?void 0:o.link_text),h&&T.createElement(io,{appearance:i},h),u&&T.createElement(io,{color:"danger",appearance:i},u))))}function MT({supabaseClient:t,i18n:e,appearance:r}){const[n,i]=O.useState(""),[s,o]=O.useState(""),[a,l]=O.useState(""),[u,c]=O.useState(!1),h=async g=>{var _;g.preventDefault(),o(""),l(""),c(!0);const{error:S}=await t.auth.updateUser({password:n});S?o(S.message):l((_=e==null?void 0:e.update_password)==null?void 0:_.confirmation_text),c(!1)},p=e==null?void 0:e.update_password;return T.createElement("form",{id:"auth-update-password",onSubmit:h},T.createElement(no,{gap:"large",direction:"vertical",appearance:r},T.createElement("div",null,T.createElement(Ya,{htmlFor:"password",appearance:r},p==null?void 0:p.password_label),T.createElement(Ja,{id:"password",name:"password",placeholder:p==null?void 0:p.password_input_placeholder,type:"password",autoFocus:!0,onChange:g=>i(g.target.value),appearance:r})),T.createElement(Id,{type:"submit",color:"primary",loading:u,appearance:r},u?p==null?void 0:p.loading_button_label:p==null?void 0:p.button_label),a&&T.createElement(io,{appearance:r},a),s&&T.createElement(io,{color:"danger",appearance:r},s)))}function j8({setAuthView:t=()=>{},supabaseClient:e,otpType:r="email",i18n:n,appearance:i,showLinks:s=!1}){var o;const[a,l]=O.useState(""),[u,c]=O.useState(""),[h,p]=O.useState(""),[g,_]=O.useState(""),[S,E]=O.useState(""),[w,v]=O.useState(!1),N=async R=>{R.preventDefault(),_(""),E(""),v(!0);let k={email:a,token:h,type:r};["sms","phone_change"].includes(r)&&(k={phone:u,token:h,type:r});const{error:L}=await e.auth.verifyOtp(k);L&&_(L.message),v(!1)},I=n==null?void 0:n.verify_otp;return T.createElement("form",{id:"auth-magic-link",onSubmit:N},T.createElement(no,{gap:"large",direction:"vertical",appearance:i},["sms","phone_change"].includes(r)?T.createElement("div",null,T.createElement(Ya,{htmlFor:"phone",appearance:i},I==null?void 0:I.phone_input_label),T.createElement(Ja,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:I==null?void 0:I.phone_input_placeholder,onChange:R=>c(R.target.value),appearance:i})):T.createElement("div",null,T.createElement(Ya,{htmlFor:"email",appearance:i},I==null?void 0:I.email_input_label),T.createElement(Ja,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:I==null?void 0:I.email_input_placeholder,onChange:R=>l(R.target.value),appearance:i})),T.createElement("div",null,T.createElement(Ya,{htmlFor:"token",appearance:i},I==null?void 0:I.token_input_label),T.createElement(Ja,{id:"token",name:"token",type:"text",placeholder:I==null?void 0:I.token_input_placeholder,onChange:R=>p(R.target.value),appearance:i})),T.createElement(Id,{color:"primary",type:"submit",loading:w,appearance:i},w?I==null?void 0:I.loading_button_label:I==null?void 0:I.button_label),s&&T.createElement(Bl,{href:"#auth-sign-in",onClick:R=>{R.preventDefault(),t(qr.SIGN_IN)},appearance:i},(o=n==null?void 0:n.sign_in)==null?void 0:o.link_text),S&&T.createElement(io,{appearance:i},S),g&&T.createElement(io,{color:"danger",appearance:i},g)))}const BT=O.createContext({user:null,session:null}),L8=t=>{const{supabaseClient:e}=t,[r,n]=O.useState(null),[i,s]=O.useState((r==null?void 0:r.user)??null);O.useEffect(()=>{(async()=>{var l;const{data:u}=await e.auth.getSession();n(u.session),s(((l=u.session)==null?void 0:l.user)??null)})();const{data:a}=e.auth.onAuthStateChange(async(l,u)=>{n(u),s((u==null?void 0:u.user)??null)});return()=>{a==null||a.subscription.unsubscribe()}},[]);const o={session:r,user:i};return T.createElement(BT.Provider,{value:o,...t})},D8=()=>{const t=O.useContext(BT);if(t===void 0)throw new Error("useUser must be used within a UserContextProvider.");return t};function Pd({supabaseClient:t,socialLayout:e="vertical",providers:r,providerScopes:n,queryParams:i,view:s="sign_in",redirectTo:o,onlyThirdPartyProviders:a=!1,magicLink:l=!1,showLinks:u=!0,appearance:c,theme:h="default",localization:p={variables:{}},otpType:g="email",additionalData:_,children:S}){const E=hw(a8,p.variables??{}),[w,v]=O.useState(s),[N,I]=O.useState(""),[R,k]=O.useState(""),L=w==="sign_in"||w==="sign_up"||w==="magic_link";O.useEffect(()=>{var Q,te;$T({theme:hw(((Q=c==null?void 0:c.theme)==null?void 0:Q.default)??{},((te=c==null?void 0:c.variables)==null?void 0:te.default)??{})})},[c]);const j=({children:Q})=>{var te;return T.createElement("div",{className:h!=="default"?r8(hw(c==null?void 0:c.theme[h],((te=c==null?void 0:c.variables)==null?void 0:te[h])??{})):""},L&&T.createElement($8,{appearance:c,supabaseClient:t,providers:r,providerScopes:n,queryParams:i,socialLayout:e,redirectTo:o,onlyThirdPartyProviders:a,i18n:E,view:w}),!a&&Q)};O.useEffect(()=>{const{data:Q}=t.auth.onAuthStateChange(te=>{te==="PASSWORD_RECOVERY"?v("update_password"):te==="USER_UPDATED"&&v("sign_in")});return v(s),()=>Q.subscription.unsubscribe()},[s]);const Z={supabaseClient:t,setAuthView:v,defaultEmail:N,defaultPassword:R,setDefaultEmail:I,setDefaultPassword:k,redirectTo:o,magicLink:l,showLinks:u,i18n:E,appearance:c};switch(w){case qr.SIGN_IN:return T.createElement(j,null,T.createElement(vE,{...Z,authView:"sign_in"}));case qr.SIGN_UP:return T.createElement(j,null,T.createElement(vE,{appearance:c,supabaseClient:t,authView:"sign_up",setAuthView:v,defaultEmail:N,defaultPassword:R,setDefaultEmail:I,setDefaultPassword:k,redirectTo:o,magicLink:l,showLinks:u,i18n:E,additionalData:_,children:S}));case qr.FORGOTTEN_PASSWORD:return T.createElement(j,null,T.createElement(DT,{appearance:c,supabaseClient:t,setAuthView:v,redirectTo:o,showLinks:u,i18n:E}));case qr.MAGIC_LINK:return T.createElement(j,null,T.createElement(LT,{appearance:c,supabaseClient:t,setAuthView:v,redirectTo:o,showLinks:u,i18n:E}));case qr.UPDATE_PASSWORD:return T.createElement(MT,{appearance:c,supabaseClient:t,i18n:E});case qr.VERIFY_OTP:return T.createElement(j8,{appearance:c,supabaseClient:t,otpType:g,i18n:E});default:return null}}Pd.ForgottenPassword=DT;Pd.UpdatePassword=MT;Pd.MagicLink=LT;Pd.UserContextProvider=L8;Pd.useUser=D8;ra({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$r.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const wE="popstate";function M8(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=fo(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),gh("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:vu(s))}function n(i,s){gu(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return F8(e,r,n,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B8(){return Math.random().toString(36).substr(2,8)}function bE(t,e){return{usr:t.state,key:t.key,idx:e}}function gh(t,e,r,n){return r===void 0&&(r=null),$r({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fo(e):e,{state:r,key:e&&e.key||n||B8()})}function vu(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function F8(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Fr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState($r({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Fr.Pop;let E=c(),w=E==null?null:E-u;u=E,l&&l({action:a,location:S.location,delta:w})}function p(E,w){a=Fr.Push;let v=gh(S.location,E,w);r&&r(v,E),u=c()+1;let N=bE(v,u),I=S.createHref(v);try{o.pushState(N,"",I)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(I)}s&&l&&l({action:a,location:S.location,delta:1})}function g(E,w){a=Fr.Replace;let v=gh(S.location,E,w);r&&r(v,E),u=c();let N=bE(v,u),I=S.createHref(v);o.replaceState(N,"",I),s&&l&&l({action:a,location:S.location,delta:0})}function _(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof E=="string"?E:vu(E);return v=v.replace(/ $/,"%20"),xt(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let S={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wE,h),l=E,()=>{i.removeEventListener(wE,h),l=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let w=_(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(E){return o.go(E)}};return S}var Ir;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ir||(Ir={}));const W8=new Set(["lazy","caseSensitive","path","id","index","children"]);function q8(t){return t.index===!0}function G1(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,s],a=typeof i.id=="string"?i.id:o.join("-");if(xt(i.index!==!0||!i.children,"Cannot specify children on an index route"),xt(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),q8(i)){let l=$r({},i,e(i),{id:a});return n[a]=l,l}else{let l=$r({},i,e(i),{id:a,children:void 0});return n[a]=l,i.children&&(l.children=G1(i.children,e,o,n)),l}})}function vc(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?fo(e):e,i=$d(n.pathname||"/",r);if(i==null)return null;let s=FT(t);z8(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=rL(i);o=X8(s[a],l)}return o}function U8(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function FT(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Wo([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(xt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),FT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:K8(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of WT(s.path))i(s,o,l)}),e}function WT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=WT(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function z8(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Z8(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const V8=/^:[\w-]+$/,H8=3,Q8=2,G8=1,J8=10,Y8=-2,_E=t=>t==="*";function K8(t,e){let r=t.split("/"),n=r.length;return r.some(_E)&&(n+=Y8),e&&(n+=Q8),r.filter(i=>!_E(i)).reduce((i,s)=>i+(V8.test(s)?H8:s===""?G8:J8),n)}function Z8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function X8(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],l=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=eL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);let h=a.route;s.push({params:n,pathname:Wo([i,c.pathname]),pathnameBase:sL(Wo([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Wo([i,c.pathnameBase]))}return s}function eL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:p,isOptional:g}=c;if(p==="*"){let S=a[h]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=a[h];return g&&!_?u[p]=void 0:u[p]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function tL(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),gu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function rL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $d(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function nL(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?fo(t):t;return{pathname:r?r.startsWith("/")?r:iL(r,e):e,search:oL(n),hash:aL(i)}}function iL(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function pw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qT(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function hx(t,e){let r=qT(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function px(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=fo(t):(i=$r({},t),xt(!i.pathname||!i.pathname.includes("?"),pw("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),pw("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),pw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=nL(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Wo=t=>t.join("/").replace(/\/\/+/g,"/"),sL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class mx{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function UT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zT=["post","put","patch","delete"],lL=new Set(zT),uL=["get",...zT],cL=new Set(uL),dL=new Set([301,302,303,307,308]),fL=new Set([307,308]),mw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},of={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},VT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pL=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),HT="remix-router-transitions";function mL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;xt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let z=t.detectErrorBoundary;i=K=>({hasErrorBoundary:z(K)})}else i=pL;let s={},o=G1(t.routes,i,void 0,s),a,l=t.basename||"/",u=$r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,p=null,g=null,_=null,S=t.hydrationData!=null,E=vc(o,t.history.location,l),w=null;if(E==null){let z=Ui(404,{pathname:t.history.location.pathname}),{matches:K,route:ae}=RE(o);E=K,w={[ae.id]:z}}let v,N=E.some(z=>z.route.lazy),I=E.some(z=>z.route.loader);if(N)v=!1;else if(!I)v=!0;else if(u.v7_partialHydration){let z=t.hydrationData?t.hydrationData.loaderData:null,K=t.hydrationData?t.hydrationData.errors:null,ae=H=>H.route.loader?H.route.loader.hydrate===!0?!1:z&&z[H.route.id]!==void 0||K&&K[H.route.id]!==void 0:!0;if(K){let H=E.findIndex(We=>K[We.route.id]!==void 0);v=E.slice(0,H+1).every(ae)}else v=E.every(ae)}else v=t.hydrationData!=null;let R,k={historyAction:t.history.action,location:t.history.location,matches:E,initialized:v,navigation:mw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},L=Fr.Pop,j=!1,Z,Q=!1,te=new Map,re=null,G=!1,fe=!1,je=[],Fe=[],Pe=new Map,X=0,ge=-1,Ce=new Map,Ae=new Set,ue=new Map,_e=new Map,ve=new Set,Le=new Map,V=new Map,Ve=!1;function se(){if(c=t.history.listen(z=>{let{action:K,location:ae,delta:H}=z;if(Ve){Ve=!1;return}gu(V.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let We=Bu({currentLocation:k.location,nextLocation:ae,historyAction:K});if(We&&H!=null){Ve=!0,t.history.go(H*-1),es(We,{state:"blocked",location:ae,proceed(){es(We,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),t.history.go(H)},reset(){let Ze=new Map(k.blockers);Ze.set(We,of),Ge({blockers:Ze})}});return}return $e(K,ae)}),r){kL(e,te);let z=()=>CL(e,te);e.addEventListener("pagehide",z),re=()=>e.removeEventListener("pagehide",z)}return k.initialized||$e(Fr.Pop,k.location,{initialHydration:!0}),R}function ct(){c&&c(),re&&re(),h.clear(),Z&&Z.abort(),k.fetchers.forEach((z,K)=>Mt(K)),k.blockers.forEach((z,K)=>Bs(K))}function st(z){return h.add(z),()=>h.delete(z)}function Ge(z,K){K===void 0&&(K={}),k=$r({},k,z);let ae=[],H=[];u.v7_fetcherPersist&&k.fetchers.forEach((We,Ze)=>{We.state==="idle"&&(ve.has(Ze)?H.push(Ze):ae.push(Ze))}),[...h].forEach(We=>We(k,{deletedFetchers:H,unstable_viewTransitionOpts:K.viewTransitionOpts,unstable_flushSync:K.flushSync===!0})),u.v7_fetcherPersist&&(ae.forEach(We=>k.fetchers.delete(We)),H.forEach(We=>Mt(We)))}function pe(z,K,ae){var H,We;let{flushSync:Ze}=ae===void 0?{}:ae,et=k.actionData!=null&&k.navigation.formMethod!=null&&_s(k.navigation.formMethod)&&k.navigation.state==="loading"&&((H=z.state)==null?void 0:H._isRedirect)!==!0,Xe;K.actionData?Object.keys(K.actionData).length>0?Xe=K.actionData:Xe=null:et?Xe=k.actionData:Xe=null;let Je=K.loaderData?TE(k.loaderData,K.loaderData,K.matches||[],K.errors):k.loaderData,ft=k.blockers;ft.size>0&&(ft=new Map(ft),ft.forEach((Ut,ir)=>ft.set(ir,of)));let _r=j===!0||k.navigation.formMethod!=null&&_s(k.navigation.formMethod)&&((We=z.state)==null?void 0:We._isRedirect)!==!0;a&&(o=a,a=void 0),G||L===Fr.Pop||(L===Fr.Push?t.history.push(z,z.state):L===Fr.Replace&&t.history.replace(z,z.state));let Ke;if(L===Fr.Pop){let Ut=te.get(k.location.pathname);Ut&&Ut.has(z.pathname)?Ke={currentLocation:k.location,nextLocation:z}:te.has(z.pathname)&&(Ke={currentLocation:z,nextLocation:k.location})}else if(Q){let Ut=te.get(k.location.pathname);Ut?Ut.add(z.pathname):(Ut=new Set([z.pathname]),te.set(k.location.pathname,Ut)),Ke={currentLocation:k.location,nextLocation:z}}Ge($r({},K,{actionData:Xe,loaderData:Je,historyAction:L,location:z,initialized:!0,navigation:mw,revalidation:"idle",restoreScrollPosition:wl(z,K.matches||k.matches),preventScrollReset:_r,blockers:ft}),{viewTransitionOpts:Ke,flushSync:Ze===!0}),L=Fr.Pop,j=!1,Q=!1,G=!1,fe=!1,je=[],Fe=[]}async function me(z,K){if(typeof z=="number"){t.history.go(z);return}let ae=J1(k.location,k.matches,l,u.v7_prependBasename,z,u.v7_relativeSplatPath,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:H,submission:We,error:Ze}=xE(u.v7_normalizeFormMethod,!1,ae,K),et=k.location,Xe=gh(k.location,H,K&&K.state);Xe=$r({},Xe,t.history.encodeLocation(Xe));let Je=K&&K.replace!=null?K.replace:void 0,ft=Fr.Push;Je===!0?ft=Fr.Replace:Je===!1||We!=null&&_s(We.formMethod)&&We.formAction===k.location.pathname+k.location.search&&(ft=Fr.Replace);let _r=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Ke=(K&&K.unstable_flushSync)===!0,Ut=Bu({currentLocation:et,nextLocation:Xe,historyAction:ft});if(Ut){es(Ut,{state:"blocked",location:Xe,proceed(){es(Ut,{state:"proceeding",proceed:void 0,reset:void 0,location:Xe}),me(z,K)},reset(){let ir=new Map(k.blockers);ir.set(Ut,of),Ge({blockers:ir})}});return}return await $e(ft,Xe,{submission:We,pendingError:Ze,preventScrollReset:_r,replace:K&&K.replace,enableViewTransition:K&&K.unstable_viewTransition,flushSync:Ke})}function Be(){if(he(),Ge({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){$e(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}$e(L||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}}async function $e(z,K,ae){Z&&Z.abort(),Z=null,L=z,G=(ae&&ae.startUninterruptedRevalidation)===!0,Xn(k.location,k.matches),j=(ae&&ae.preventScrollReset)===!0,Q=(ae&&ae.enableViewTransition)===!0;let H=a||o,We=ae&&ae.overrideNavigation,Ze=vc(H,K,l),et=(ae&&ae.flushSync)===!0;if(!Ze){let ir=Ui(404,{pathname:K.pathname}),{matches:un,route:xr}=RE(H);Fs(),pe(K,{matches:un,loaderData:{},errors:{[xr.id]:ir}},{flushSync:et});return}if(k.initialized&&!fe&&bL(k.location,K)&&!(ae&&ae.submission&&_s(ae.submission.formMethod))){pe(K,{matches:Ze},{flushSync:et});return}Z=new AbortController;let Xe=lf(t.history,K,Z.signal,ae&&ae.submission),Je,ft;if(ae&&ae.pendingError)ft={[Pf(Ze).route.id]:ae.pendingError};else if(ae&&ae.submission&&_s(ae.submission.formMethod)){let ir=await pt(Xe,K,ae.submission,Ze,{replace:ae.replace,flushSync:et});if(ir.shortCircuited)return;Je=ir.pendingActionData,ft=ir.pendingActionError,We=yw(K,ae.submission),et=!1,Xe=new Request(Xe.url,{signal:Xe.signal})}let{shortCircuited:_r,loaderData:Ke,errors:Ut}=await it(Xe,K,Ze,We,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,et,Je,ft);_r||(Z=null,pe(K,$r({matches:Ze},Je?{actionData:Je}:{},{loaderData:Ke,errors:Ut})))}async function pt(z,K,ae,H,We){We===void 0&&(We={}),he();let Ze=EL(K,ae);Ge({navigation:Ze},{flushSync:We.flushSync===!0});let et,Xe=K1(H,K);if(!Xe.route.action&&!Xe.route.lazy)et={type:Ir.error,error:Ui(405,{method:z.method,pathname:K.pathname,routeId:Xe.route.id})};else if(et=await af("action",z,Xe,H,s,i,l,u.v7_relativeSplatPath),z.signal.aborted)return{shortCircuited:!0};if(Wl(et)){let Je;return We&&We.replace!=null?Je=We.replace:Je=et.location===k.location.pathname+k.location.search,await Te(k,et,{submission:ae,replace:Je}),{shortCircuited:!0}}if(wc(et)){let Je=Pf(H,Xe.route.id);return(We&&We.replace)!==!0&&(L=Fr.Push),{pendingActionData:{},pendingActionError:{[Je.route.id]:et.error}}}if(Fl(et))throw Ui(400,{type:"defer-action"});return{pendingActionData:{[Xe.route.id]:et.data}}}async function it(z,K,ae,H,We,Ze,et,Xe,Je,ft,_r){let Ke=H||yw(K,We),Ut=We||Ze||IE(Ke),ir=a||o,[un,xr]=SE(t.history,k,ae,Ut,K,u.v7_partialHydration&&Xe===!0,fe,je,Fe,ve,ue,Ae,ir,l,ft,_r);if(Fs(Ct=>!(ae&&ae.some(It=>It.route.id===Ct))||un&&un.some(It=>It.route.id===Ct)),ge=++X,un.length===0&&xr.length===0){let Ct=ji();return pe(K,$r({matches:ae,loaderData:{},errors:_r||null},ft?{actionData:ft}:{},Ct?{fetchers:new Map(k.fetchers)}:{}),{flushSync:Je}),{shortCircuited:!0}}if(!G&&(!u.v7_partialHydration||!Xe)){xr.forEach(It=>{let Sr=k.fetchers.get(It.key),di=uf(void 0,Sr?Sr.data:void 0);k.fetchers.set(It.key,di)});let Ct=ft||k.actionData;Ge($r({navigation:Ke},Ct?Object.keys(Ct).length===0?{actionData:null}:{actionData:Ct}:{},xr.length>0?{fetchers:new Map(k.fetchers)}:{}),{flushSync:Je})}xr.forEach(Ct=>{Pe.has(Ct.key)&&Hr(Ct.key),Ct.controller&&Pe.set(Ct.key,Ct.controller)});let Ws=()=>xr.forEach(Ct=>Hr(Ct.key));Z&&Z.signal.addEventListener("abort",Ws);let{results:Dr,loaderResults:ts,fetcherResults:Li}=await xe(k.matches,ae,un,xr,z);if(z.signal.aborted)return{shortCircuited:!0};Z&&Z.signal.removeEventListener("abort",Ws),xr.forEach(Ct=>Pe.delete(Ct.key));let ui=OE(Dr);if(ui){if(ui.idx>=un.length){let Ct=xr[ui.idx-un.length].key;Ae.add(Ct)}return await Te(k,ui.result,{replace:et}),{shortCircuited:!0}}let{loaderData:sa,errors:Di}=CE(k,ae,un,ts,_r,xr,Li,Le);Le.forEach((Ct,It)=>{Ct.subscribe(Sr=>{(Sr||Ct.done)&&Le.delete(It)})}),u.v7_partialHydration&&Xe&&k.errors&&Object.entries(k.errors).filter(Ct=>{let[It]=Ct;return!un.some(Sr=>Sr.route.id===It)}).forEach(Ct=>{let[It,Sr]=Ct;Di=Object.assign(Di||{},{[It]:Sr})});let Cn=ji(),ci=Ds(ge),qs=Cn||ci||xr.length>0;return $r({loaderData:sa,errors:Di},qs?{fetchers:new Map(k.fetchers)}:{})}function $(z,K,ae,H){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Pe.has(z)&&Hr(z);let We=(H&&H.unstable_flushSync)===!0,Ze=a||o,et=J1(k.location,k.matches,l,u.v7_prependBasename,ae,u.v7_relativeSplatPath,K,H==null?void 0:H.relative),Xe=vc(Ze,et,l);if(!Xe){De(z,K,Ui(404,{pathname:et}),{flushSync:We});return}let{path:Je,submission:ft,error:_r}=xE(u.v7_normalizeFormMethod,!0,et,H);if(_r){De(z,K,_r,{flushSync:We});return}let Ke=K1(Xe,Je);if(j=(H&&H.preventScrollReset)===!0,ft&&_s(ft.formMethod)){W(z,K,Je,Ke,Xe,We,ft);return}ue.set(z,{routeId:K,path:Je}),J(z,K,Je,Ke,Xe,We,ft)}async function W(z,K,ae,H,We,Ze,et){if(he(),ue.delete(z),!H.route.action&&!H.route.lazy){let It=Ui(405,{method:et.formMethod,pathname:ae,routeId:K});De(z,K,It,{flushSync:Ze});return}let Xe=k.fetchers.get(z);ne(z,NL(et,Xe),{flushSync:Ze});let Je=new AbortController,ft=lf(t.history,ae,Je.signal,et);Pe.set(z,Je);let _r=X,Ke=await af("action",ft,H,We,s,i,l,u.v7_relativeSplatPath);if(ft.signal.aborted){Pe.get(z)===Je&&Pe.delete(z);return}if(u.v7_fetcherPersist&&ve.has(z)){if(Wl(Ke)||wc(Ke)){ne(z,da(void 0));return}}else{if(Wl(Ke))if(Pe.delete(z),ge>_r){ne(z,da(void 0));return}else return Ae.add(z),ne(z,uf(et)),Te(k,Ke,{fetcherSubmission:et});if(wc(Ke)){De(z,K,Ke.error);return}}if(Fl(Ke))throw Ui(400,{type:"defer-action"});let Ut=k.navigation.location||k.location,ir=lf(t.history,Ut,Je.signal),un=a||o,xr=k.navigation.state!=="idle"?vc(un,k.navigation.location,l):k.matches;xt(xr,"Didn't find any matches after fetcher action");let Ws=++X;Ce.set(z,Ws);let Dr=uf(et,Ke.data);k.fetchers.set(z,Dr);let[ts,Li]=SE(t.history,k,xr,et,Ut,!1,fe,je,Fe,ve,ue,Ae,un,l,{[H.route.id]:Ke.data},void 0);Li.filter(It=>It.key!==z).forEach(It=>{let Sr=It.key,di=k.fetchers.get(Sr),rs=uf(void 0,di?di.data:void 0);k.fetchers.set(Sr,rs),Pe.has(Sr)&&Hr(Sr),It.controller&&Pe.set(Sr,It.controller)}),Ge({fetchers:new Map(k.fetchers)});let ui=()=>Li.forEach(It=>Hr(It.key));Je.signal.addEventListener("abort",ui);let{results:sa,loaderResults:Di,fetcherResults:Cn}=await xe(k.matches,xr,ts,Li,ir);if(Je.signal.aborted)return;Je.signal.removeEventListener("abort",ui),Ce.delete(z),Pe.delete(z),Li.forEach(It=>Pe.delete(It.key));let ci=OE(sa);if(ci){if(ci.idx>=ts.length){let It=Li[ci.idx-ts.length].key;Ae.add(It)}return Te(k,ci.result)}let{loaderData:qs,errors:Ct}=CE(k,k.matches,ts,Di,void 0,Li,Cn,Le);if(k.fetchers.has(z)){let It=da(Ke.data);k.fetchers.set(z,It)}Ds(Ws),k.navigation.state==="loading"&&Ws>ge?(xt(L,"Expected pending action"),Z&&Z.abort(),pe(k.navigation.location,{matches:xr,loaderData:qs,errors:Ct,fetchers:new Map(k.fetchers)})):(Ge({errors:Ct,loaderData:TE(k.loaderData,qs,xr,Ct),fetchers:new Map(k.fetchers)}),fe=!1)}async function J(z,K,ae,H,We,Ze,et){let Xe=k.fetchers.get(z);ne(z,uf(et,Xe?Xe.data:void 0),{flushSync:Ze});let Je=new AbortController,ft=lf(t.history,ae,Je.signal);Pe.set(z,Je);let _r=X,Ke=await af("loader",ft,H,We,s,i,l,u.v7_relativeSplatPath);if(Fl(Ke)&&(Ke=await JT(Ke,ft.signal,!0)||Ke),Pe.get(z)===Je&&Pe.delete(z),!ft.signal.aborted){if(ve.has(z)){ne(z,da(void 0));return}if(Wl(Ke))if(ge>_r){ne(z,da(void 0));return}else{Ae.add(z),await Te(k,Ke);return}if(wc(Ke)){De(z,K,Ke.error);return}xt(!Fl(Ke),"Unhandled fetcher deferred data"),ne(z,da(Ke.data))}}async function Te(z,K,ae){let{submission:H,fetcherSubmission:We,replace:Ze}=ae===void 0?{}:ae;K.revalidate&&(fe=!0);let et=gh(z.location,K.location,{_isRedirect:!0});if(xt(et,"Expected a location on the redirect navigation"),r){let Ut=!1;if(K.reloadDocument)Ut=!0;else if(VT.test(K.location)){const ir=t.history.createURL(K.location);Ut=ir.origin!==e.location.origin||$d(ir.pathname,l)==null}if(Ut){Ze?e.location.replace(K.location):e.location.assign(K.location);return}}Z=null;let Xe=Ze===!0?Fr.Replace:Fr.Push,{formMethod:Je,formAction:ft,formEncType:_r}=z.navigation;!H&&!We&&Je&&ft&&_r&&(H=IE(z.navigation));let Ke=H||We;if(fL.has(K.status)&&Ke&&_s(Ke.formMethod))await $e(Xe,et,{submission:$r({},Ke,{formAction:K.location}),preventScrollReset:j});else{let Ut=yw(et,H);await $e(Xe,et,{overrideNavigation:Ut,fetcherSubmission:We,preventScrollReset:j})}}async function xe(z,K,ae,H,We){let Ze=await Promise.all([...ae.map(Je=>af("loader",We,Je,K,s,i,l,u.v7_relativeSplatPath)),...H.map(Je=>Je.matches&&Je.match&&Je.controller?af("loader",lf(t.history,Je.path,Je.controller.signal),Je.match,Je.matches,s,i,l,u.v7_relativeSplatPath):{type:Ir.error,error:Ui(404,{pathname:Je.path})})]),et=Ze.slice(0,ae.length),Xe=Ze.slice(ae.length);return await Promise.all([AE(z,ae,et,et.map(()=>We.signal),!1,k.loaderData),AE(z,H.map(Je=>Je.match),Xe,H.map(Je=>Je.controller?Je.controller.signal:null),!0)]),{results:Ze,loaderResults:et,fetcherResults:Xe}}function he(){fe=!0,je.push(...Fs()),ue.forEach((z,K)=>{Pe.has(K)&&(Fe.push(K),Hr(K))})}function ne(z,K,ae){ae===void 0&&(ae={}),k.fetchers.set(z,K),Ge({fetchers:new Map(k.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function De(z,K,ae,H){H===void 0&&(H={});let We=Pf(k.matches,K);Mt(z),Ge({errors:{[We.route.id]:ae},fetchers:new Map(k.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Rt(z){return u.v7_fetcherPersist&&(_e.set(z,(_e.get(z)||0)+1),ve.has(z)&&ve.delete(z)),k.fetchers.get(z)||hL}function Mt(z){let K=k.fetchers.get(z);Pe.has(z)&&!(K&&K.state==="loading"&&Ce.has(z))&&Hr(z),ue.delete(z),Ce.delete(z),Ae.delete(z),ve.delete(z),k.fetchers.delete(z)}function er(z){if(u.v7_fetcherPersist){let K=(_e.get(z)||0)-1;K<=0?(_e.delete(z),ve.add(z)):_e.set(z,K)}else Mt(z);Ge({fetchers:new Map(k.fetchers)})}function Hr(z){let K=Pe.get(z);xt(K,"Expected fetch controller: "+z),K.abort(),Pe.delete(z)}function kn(z){for(let K of z){let ae=Rt(K),H=da(ae.data);k.fetchers.set(K,H)}}function ji(){let z=[],K=!1;for(let ae of Ae){let H=k.fetchers.get(ae);xt(H,"Expected fetcher: "+ae),H.state==="loading"&&(Ae.delete(ae),z.push(ae),K=!0)}return kn(z),K}function Ds(z){let K=[];for(let[ae,H]of Ce)if(H<z){let We=k.fetchers.get(ae);xt(We,"Expected fetcher: "+ae),We.state==="loading"&&(Hr(ae),Ce.delete(ae),K.push(ae))}return kn(K),K.length>0}function Ms(z,K){let ae=k.blockers.get(z)||of;return V.get(z)!==K&&V.set(z,K),ae}function Bs(z){k.blockers.delete(z),V.delete(z)}function es(z,K){let ae=k.blockers.get(z)||of;xt(ae.state==="unblocked"&&K.state==="blocked"||ae.state==="blocked"&&K.state==="blocked"||ae.state==="blocked"&&K.state==="proceeding"||ae.state==="blocked"&&K.state==="unblocked"||ae.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+ae.state+" -> "+K.state);let H=new Map(k.blockers);H.set(z,K),Ge({blockers:H})}function Bu(z){let{currentLocation:K,nextLocation:ae,historyAction:H}=z;if(V.size===0)return;V.size>1&&gu(!1,"A router only supports one blocker at a time");let We=Array.from(V.entries()),[Ze,et]=We[We.length-1],Xe=k.blockers.get(Ze);if(!(Xe&&Xe.state==="proceeding")&&et({currentLocation:K,nextLocation:ae,historyAction:H}))return Ze}function Fs(z){let K=[];return Le.forEach((ae,H)=>{(!z||z(H))&&(ae.cancel(),K.push(H),Le.delete(H))}),K}function gt(z,K,ae){if(p=z,_=K,g=ae||null,!S&&k.navigation===mw){S=!0;let H=wl(k.location,k.matches);H!=null&&Ge({restoreScrollPosition:H})}return()=>{p=null,_=null,g=null}}function vl(z,K){return g&&g(z,K.map(H=>U8(H,k.loaderData)))||z.key}function Xn(z,K){if(p&&_){let ae=vl(z,K);p[ae]=_()}}function wl(z,K){if(p){let ae=vl(z,K),H=p[ae];if(typeof H=="number")return H}return null}function ho(z){s={},a=G1(z,i,void 0,s)}return R={get basename(){return l},get future(){return u},get state(){return k},get routes(){return o},get window(){return e},initialize:se,subscribe:st,enableScrollRestoration:gt,navigate:me,fetch:$,revalidate:Be,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:Rt,deleteFetcher:er,dispose:ct,getBlocker:Ms,deleteBlocker:Bs,_internalFetchControllers:Pe,_internalActiveDeferreds:Le,_internalSetRoutes:ho},R}function yL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function J1(t,e,r,n,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let c=px(i||".",hx(l,s),$d(t.pathname,r)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!yx(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:Wo([r,c.pathname])),vu(c)}function xE(t,e,r,n){if(!n||!yL(n))return{path:r};if(n.formMethod&&!SL(n.formMethod))return{path:r,error:Ui(405,{method:n.formMethod})};let i=()=>({path:r,error:Ui(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=GT(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!_s(o))return i();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,_)=>{let[S,E]=_;return""+g+S+"="+E+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!_s(o))return i();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}xt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=Y1(n.formData),u=n.formData;else if(n.body instanceof FormData)l=Y1(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=kE(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=kE(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(_s(c.formMethod))return{path:r,submission:c};let h=fo(r);return e&&h.search&&yx(h.search)&&l.append("index",""),h.search="?"+l,{path:vu(h),submission:c}}function gL(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function SE(t,e,r,n,i,s,o,a,l,u,c,h,p,g,_,S){let E=S?Object.values(S)[0]:_?Object.values(_)[0]:void 0,w=t.createURL(e.location),v=t.createURL(i),N=S?Object.keys(S)[0]:void 0,R=gL(r,N).filter((L,j)=>{let{route:Z}=L;if(Z.lazy)return!0;if(Z.loader==null)return!1;if(s)return Z.loader.hydrate?!0:e.loaderData[Z.id]===void 0&&(!e.errors||e.errors[Z.id]===void 0);if(vL(e.loaderData,e.matches[j],L)||a.some(re=>re===L.route.id))return!0;let Q=e.matches[j],te=L;return EE(L,$r({currentUrl:w,currentParams:Q.params,nextUrl:v,nextParams:te.params},n,{actionResult:E,defaultShouldRevalidate:o||w.pathname+w.search===v.pathname+v.search||w.search!==v.search||QT(Q,te)}))}),k=[];return c.forEach((L,j)=>{if(s||!r.some(G=>G.route.id===L.routeId)||u.has(j))return;let Z=vc(p,L.path,g);if(!Z){k.push({key:j,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let Q=e.fetchers.get(j),te=K1(Z,L.path),re=!1;h.has(j)?re=!1:l.includes(j)?re=!0:Q&&Q.state!=="idle"&&Q.data===void 0?re=o:re=EE(te,$r({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:E,defaultShouldRevalidate:o})),re&&k.push({key:j,routeId:L.routeId,path:L.path,matches:Z,match:te,controller:new AbortController})}),[R,k]}function vL(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function QT(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function EE(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function NE(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];xt(i,"No route found in manifest");let s={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";gu(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!W8.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,$r({},e(i),{lazy:void 0}))}async function af(t,e,r,n,i,s,o,a,l){l===void 0&&(l={});let u,c,h,p=S=>{let E,w=new Promise((v,N)=>E=N);return h=()=>E(),e.signal.addEventListener("abort",h),Promise.race([S({request:e,params:r.params,context:l.requestContext}),w])};try{let S=r.route[t];if(r.route.lazy)if(S){let E,w=await Promise.all([p(S).catch(v=>{E=v}),NE(r.route,s,i)]);if(E)throw E;c=w[0]}else if(await NE(r.route,s,i),S=r.route[t],S)c=await p(S);else if(t==="action"){let E=new URL(e.url),w=E.pathname+E.search;throw Ui(405,{method:e.method,pathname:w,routeId:r.route.id})}else return{type:Ir.data,data:void 0};else if(S)c=await p(S);else{let E=new URL(e.url),w=E.pathname+E.search;throw Ui(404,{pathname:w})}xt(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(S){u=Ir.error,c=S}finally{h&&e.signal.removeEventListener("abort",h)}if(xL(c)){let S=c.status;if(dL.has(S)){let w=c.headers.get("Location");if(xt(w,"Redirects returned/thrown from loaders/actions must have a Location header"),!VT.test(w))w=J1(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,w,a);else if(!l.isStaticRequest){let v=new URL(e.url),N=w.startsWith("//")?new URL(v.protocol+w):new URL(w),I=$d(N.pathname,o)!=null;N.origin===v.origin&&I&&(w=N.pathname+N.search+N.hash)}if(l.isStaticRequest)throw c.headers.set("Location",w),c;return{type:Ir.redirect,status:S,location:w,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Ir.error?Ir.error:Ir.data,response:c};let E;try{let w=c.headers.get("Content-Type");w&&/\bapplication\/json\b/.test(w)?c.body==null?E=null:E=await c.json():E=await c.text()}catch(w){return{type:Ir.error,error:w}}return u===Ir.error?{type:u,error:new mx(S,c.statusText,E),headers:c.headers}:{type:Ir.data,data:E,statusCode:c.status,headers:c.headers}}if(u===Ir.error)return{type:u,error:c};if(_L(c)){var g,_;return{type:Ir.deferred,deferredData:c,statusCode:(g=c.init)==null?void 0:g.status,headers:((_=c.init)==null?void 0:_.headers)&&new Headers(c.init.headers)}}return{type:Ir.data,data:c}}function lf(t,e,r,n){let i=t.createURL(GT(e)).toString(),s={signal:r};if(n&&_s(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=Y1(n.formData):s.body=n.formData}return new Request(i,s)}function Y1(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function kE(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function wL(t,e,r,n,i){let s={},o=null,a,l=!1,u={};return r.forEach((c,h)=>{let p=e[h].route.id;if(xt(!Wl(c),"Cannot handle redirect results in processLoaderData"),wc(c)){let g=Pf(t,p),_=c.error;n&&(_=Object.values(n)[0],n=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=_),s[p]=void 0,l||(l=!0,a=UT(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else Fl(c)?(i.set(p,c.deferredData),s[p]=c.deferredData.data):s[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[p]=c.headers)}),n&&(o=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function CE(t,e,r,n,i,s,o,a){let{loaderData:l,errors:u}=wL(e,r,n,i,a);for(let c=0;c<s.length;c++){let{key:h,match:p,controller:g}=s[c];xt(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let _=o[c];if(!(g&&g.signal.aborted))if(wc(_)){let S=Pf(t.matches,p==null?void 0:p.route.id);u&&u[S.route.id]||(u=$r({},u,{[S.route.id]:_.error})),t.fetchers.delete(h)}else if(Wl(_))xt(!1,"Unhandled fetcher revalidation redirect");else if(Fl(_))xt(!1,"Unhandled fetcher deferred data");else{let S=da(_.data);t.fetchers.set(h,S)}}return{loaderData:l,errors:u}}function TE(t,e,r,n){let i=$r({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function Pf(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function RE(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ui(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",a='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new mx(t||500,o,new Error(a),!0)}function OE(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Wl(r))return{result:r,idx:e}}}function GT(t){let e=typeof t=="string"?fo(t):t;return vu($r({},e,{hash:""}))}function bL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Fl(t){return t.type===Ir.deferred}function wc(t){return t.type===Ir.error}function Wl(t){return(t&&t.type)===Ir.redirect}function _L(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function xL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function SL(t){return cL.has(t.toLowerCase())}function _s(t){return lL.has(t.toLowerCase())}async function AE(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],l=e[o];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!QT(u,l)&&(s&&s[l.route.id])!==void 0;if(Fl(a)&&(i||c)){let h=n[o];xt(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await JT(a,h,i).then(p=>{p&&(r[o]=p||r[o])})}}}async function JT(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Ir.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ir.error,error:i}}return{type:Ir.data,data:t.deferredData.data}}}function yx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function K1(t,e){let r=typeof e=="string"?fo(e).search:e.search;if(t[t.length-1].route.index&&yx(r||""))return t[t.length-1];let n=qT(t);return n[n.length-1]}function IE(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function yw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function uf(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function NL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function da(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function kL(t,e){try{let r=t.sessionStorage.getItem(HT);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function CL(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(HT,JSON.stringify(r))}catch(n){gu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vh.apply(this,arguments)}const Mv=O.createContext(null),YT=O.createContext(null),Iu=O.createContext(null),Bv=O.createContext(null),na=O.createContext({outlet:null,matches:[],isDataRoute:!1}),KT=O.createContext(null);function TL(t,e){let{relative:r}=e===void 0?{}:e;Ep()||xt(!1);let{basename:n,navigator:i}=O.useContext(Iu),{hash:s,pathname:o,search:a}=e4(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Wo([n,o])),i.createHref({pathname:l,search:a,hash:s})}function Ep(){return O.useContext(Bv)!=null}function Np(){return Ep()||xt(!1),O.useContext(Bv).location}function ZT(t){O.useContext(Iu).static||O.useLayoutEffect(t)}function XT(){let{isDataRoute:t}=O.useContext(na);return t?qL():RL()}function RL(){Ep()||xt(!1);let t=O.useContext(Mv),{basename:e,future:r,navigator:n}=O.useContext(Iu),{matches:i}=O.useContext(na),{pathname:s}=Np(),o=JSON.stringify(hx(i,r.v7_relativeSplatPath)),a=O.useRef(!1);return ZT(()=>{a.current=!0}),O.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=px(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Wo([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,s,t])}const OL=O.createContext(null);function AL(t){let e=O.useContext(na).outlet;return e&&O.createElement(OL.Provider,{value:t},e)}function kp(){let{matches:t}=O.useContext(na),e=t[t.length-1];return e?e.params:{}}function e4(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=O.useContext(Iu),{matches:i}=O.useContext(na),{pathname:s}=Np(),o=JSON.stringify(hx(i,n.v7_relativeSplatPath));return O.useMemo(()=>px(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function IL(t,e){return t4(t,e)}function t4(t,e,r,n){Ep()||xt(!1);let{navigator:i}=O.useContext(Iu),{matches:s}=O.useContext(na),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Np(),c;if(e){var h;let E=typeof e=="string"?fo(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||xt(!1),c=E}else c=u;let p=c.pathname||"/",g=p;if(l!=="/"){let E=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=vc(t,{pathname:g}),S=DL(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Wo([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Wo([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,r,n);return e&&S?O.createElement(Bv.Provider,{value:{location:vh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Fr.Pop}},S):S}function PL(){let t=WL(),e=UT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:i},r):null,null)}const $L=O.createElement(PL,null);class jL extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?O.createElement(na.Provider,{value:this.props.routeContext},O.createElement(KT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LL(t){let{routeContext:e,match:r,children:n}=t,i=O.useContext(Mv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(na.Provider,{value:e},n)}function DL(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||xt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:g}=r,_=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,p)=>{let g,_=!1,S=null,E=null;r&&(g=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||$L,l&&(u<0&&p===0?(UL("route-fallback",!1),_=!0,E=null):u===p&&(_=!0,E=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),v=()=>{let N;return g?N=S:_?N=E:h.route.Component?N=O.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=c,O.createElement(LL,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?O.createElement(jL,{location:r.location,revalidation:r.revalidation,component:S,error:g,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var r4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r4||{}),Wy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wy||{});function ML(t){let e=O.useContext(Mv);return e||xt(!1),e}function BL(t){let e=O.useContext(YT);return e||xt(!1),e}function FL(t){let e=O.useContext(na);return e||xt(!1),e}function n4(t){let e=FL(),r=e.matches[e.matches.length-1];return r.route.id||xt(!1),r.route.id}function WL(){var t;let e=O.useContext(KT),r=BL(Wy.UseRouteError),n=n4(Wy.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function qL(){let{router:t}=ML(r4.UseNavigateStable),e=n4(Wy.UseNavigateStable),r=O.useRef(!1);return ZT(()=>{r.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vh({fromRouteId:e},s)))},[t,e])}const PE={};function UL(t,e,r){!e&&!PE[t]&&(PE[t]=!0)}function zL(t){return AL(t.context)}function sn(t){xt(!1)}function VL(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Fr.Pop,navigator:s,static:o=!1,future:a}=t;Ep()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:o,future:vh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=fo(n));let{pathname:c="/",search:h="",hash:p="",state:g=null,key:_="default"}=n,S=O.useMemo(()=>{let E=$d(c,l);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:_},navigationType:i}},[l,c,h,p,g,_,i]);return S==null?null:O.createElement(Iu.Provider,{value:u},O.createElement(Bv.Provider,{children:r,value:S}))}function Fv(t){let{children:e,location:r}=t;return IL(qy(e),r)}new Promise(()=>{});function qy(t,e){e===void 0&&(e=[]);let r=[];return O.Children.forEach(t,(n,i)=>{if(!O.isValidElement(n))return;let s=[...e,i];if(n.type===O.Fragment){r.push.apply(r,qy(n.props.children,s));return}n.type!==sn&&xt(!1),!n.props.index||!n.props.children||xt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=qy(n.props.children,s)),r.push(o)}),r}function HL(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:O.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wh.apply(this,arguments)}function QL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function GL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JL(t,e){return t.button===0&&(!e||e==="_self")&&!GL(t)}const YL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KL="6";try{window.__reactRouterVersion=KL}catch{}function ZL(t,e){return mL({basename:e==null?void 0:e.basename,future:wh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:M8({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||XL(),routes:t,mapRouteProperties:HL,window:e==null?void 0:e.window}).initialize()}function XL(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=wh({},e,{errors:e9(e.errors)})),e}function e9(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new mx(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const t9=O.createContext({isTransitioning:!1}),r9=O.createContext(new Map),n9="startTransition",$E=IA[n9],i9="flushSync",jE=qI[i9];function s9(t){$E?$E(t):t()}function cf(t){jE?jE(t):t()}let o9=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function a9(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=O.useState(r.state),[o,a]=O.useState(),[l,u]=O.useState({isTransitioning:!1}),[c,h]=O.useState(),[p,g]=O.useState(),[_,S]=O.useState(),E=O.useRef(new Map),{v7_startTransition:w}=n||{},v=O.useCallback(L=>{w?s9(L):L()},[w]),N=O.useCallback((L,j)=>{let{deletedFetchers:Z,unstable_flushSync:Q,unstable_viewTransitionOpts:te}=j;Z.forEach(G=>E.current.delete(G)),L.fetchers.forEach((G,fe)=>{G.data!==void 0&&E.current.set(fe,G.data)});let re=r.window==null||typeof r.window.document.startViewTransition!="function";if(!te||re){Q?cf(()=>s(L)):v(()=>s(L));return}if(Q){cf(()=>{p&&(c&&c.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:te.currentLocation,nextLocation:te.nextLocation})});let G=r.window.document.startViewTransition(()=>{cf(()=>s(L))});G.finished.finally(()=>{cf(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})})}),cf(()=>g(G));return}p?(c&&c.resolve(),p.skipTransition(),S({state:L,currentLocation:te.currentLocation,nextLocation:te.nextLocation})):(a(L),u({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}))},[r.window,p,c,E,v]);O.useLayoutEffect(()=>r.subscribe(N),[r,N]),O.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new o9)},[l]),O.useEffect(()=>{if(c&&o&&r.window){let L=o,j=c.promise,Z=r.window.document.startViewTransition(async()=>{v(()=>s(L)),await j});Z.finished.finally(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})}),g(Z)}},[v,o,c,r.window]),O.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,p,i.location,o]),O.useEffect(()=>{!l.isTransitioning&&_&&(a(_.state),u({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),S(void 0))},[l.isTransitioning,_]),O.useEffect(()=>{},[]);let I=O.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:L=>r.navigate(L),push:(L,j,Z)=>r.navigate(L,{state:j,preventScrollReset:Z==null?void 0:Z.preventScrollReset}),replace:(L,j,Z)=>r.navigate(L,{replace:!0,state:j,preventScrollReset:Z==null?void 0:Z.preventScrollReset})}),[r]),R=r.basename||"/",k=O.useMemo(()=>({router:r,navigator:I,static:!1,basename:R}),[r,I,R]);return O.createElement(O.Fragment,null,O.createElement(Mv.Provider,{value:k},O.createElement(YT.Provider,{value:i},O.createElement(r9.Provider,{value:E.current},O.createElement(t9.Provider,{value:l},O.createElement(VL,{basename:R,location:i.location,navigationType:i.historyAction,navigator:I,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?O.createElement(l9,{routes:r.routes,future:r.future,state:i}):e))))),null)}function l9(t){let{routes:e,future:r,state:n}=t;return t4(e,void 0,n,r)}const u9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",c9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Si=O.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,p=QL(e,YL),{basename:g}=O.useContext(Iu),_,S=!1;if(typeof u=="string"&&c9.test(u)&&(_=u,u9))try{let N=new URL(window.location.href),I=u.startsWith("//")?new URL(N.protocol+u):new URL(u),R=$d(I.pathname,g);I.origin===N.origin&&R!=null?u=R+I.search+I.hash:S=!0}catch{}let E=TL(u,{relative:i}),w=d9(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function v(N){n&&n(N),N.defaultPrevented||w(N)}return O.createElement("a",wh({},p,{href:_||E,onClick:S||s?n:v,ref:r,target:l}))});var LE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LE||(LE={}));var DE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DE||(DE={}));function d9(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=XT(),u=Np(),c=e4(t,{relative:o});return O.useCallback(h=>{if(JL(h,r)){h.preventDefault();let p=n!==void 0?n:vu(u)===vu(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,n,i,r,t,s,o,a])}var i4={exports:{}},s4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=O;function f9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var h9=typeof Object.is=="function"?Object.is:f9,p9=md.useState,m9=md.useEffect,y9=md.useLayoutEffect,g9=md.useDebugValue;function v9(t,e){var r=e(),n=p9({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return y9(function(){i.value=r,i.getSnapshot=e,gw(i)&&s({inst:i})},[t,r,e]),m9(function(){return gw(i)&&s({inst:i}),t(function(){gw(i)&&s({inst:i})})},[t]),g9(r),r}function gw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!h9(t,r)}catch{return!0}}function w9(t,e){return e()}var b9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w9:v9;s4.useSyncExternalStore=md.useSyncExternalStore!==void 0?md.useSyncExternalStore:b9;i4.exports=s4;var _9=i4.exports;const Da=()=>{},zn=Da(),Ym=Object,Wt=t=>t===zn,Es=t=>typeof t=="function",Yo=(t,e)=>({...t,...e}),x9=t=>Es(t.then),bm=new WeakMap;let S9=0;const bh=t=>{const e=typeof t,r=t&&t.constructor,n=r==Date;let i,s;if(Ym(t)===t&&!n&&r!=RegExp){if(i=bm.get(t),i)return i;if(i=++S9+"~",bm.set(t,i),r==Array){for(i="@",s=0;s<t.length;s++)i+=bh(t[s])+",";bm.set(t,i)}if(r==Ym){i="#";const o=Ym.keys(t).sort();for(;!Wt(s=o.pop());)Wt(t[s])||(i+=s+":"+bh(t[s])+",");bm.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},Po=new WeakMap,vw={},_m={},gx="undefined",Wv=typeof window!=gx,Z1=typeof document!=gx,E9=()=>Wv&&typeof window.requestAnimationFrame!=gx,o4=(t,e)=>{const r=Po.get(t);return[()=>!Wt(e)&&t.get(e)||vw,n=>{if(!Wt(e)){const i=t.get(e);e in _m||(_m[e]=i),r[5](e,Yo(i,n),i||vw)}},r[6],()=>!Wt(e)&&e in _m?_m[e]:!Wt(e)&&t.get(e)||vw]};let X1=!0;const N9=()=>X1,[eb,tb]=Wv&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Da,Da],k9=()=>{const t=Z1&&document.visibilityState;return Wt(t)||t!=="hidden"},C9=t=>(Z1&&document.addEventListener("visibilitychange",t),eb("focus",t),()=>{Z1&&document.removeEventListener("visibilitychange",t),tb("focus",t)}),T9=t=>{const e=()=>{X1=!0,t()},r=()=>{X1=!1};return eb("online",e),eb("offline",r),()=>{tb("online",e),tb("offline",r)}},R9={isOnline:N9,isVisible:k9},O9={initFocus:C9,initReconnect:T9},ME=!T.useId,_h=!Wv||"Deno"in window,A9=t=>E9()?window.requestAnimationFrame(t):setTimeout(t,1),Km=_h?O.useEffect:O.useLayoutEffect,ww=typeof navigator<"u"&&navigator.connection,BE=!_h&&ww&&(["slow-2g","2g"].includes(ww.effectiveType)||ww.saveData),vx=t=>{if(Es(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?bh(t):"",[t,e]};let I9=0;const rb=()=>++I9,a4=0,l4=1,u4=2,P9=3;var df={__proto__:null,ERROR_REVALIDATE_EVENT:P9,FOCUS_EVENT:a4,MUTATE_EVENT:u4,RECONNECT_EVENT:l4};async function c4(...t){const[e,r,n,i]=t,s=Yo({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const a=s.rollbackOnError;let l=s.optimisticData;const u=p=>typeof a=="function"?a(p):a!==!1,c=s.throwOnError;if(Es(r)){const p=r,g=[],_=e.keys();for(const S of _)!/^\$(inf|sub)\$/.test(S)&&p(e.get(S)._k)&&g.push(S);return Promise.all(g.map(h))}return h(r);async function h(p){const[g]=vx(p);if(!g)return;const[_,S]=o4(e,g),[E,w,v,N]=Po.get(e),I=()=>{const G=E[g];return(Es(s.revalidate)?s.revalidate(_().data,p):s.revalidate!==!1)&&(delete v[g],delete N[g],G&&G[0])?G[0](u4).then(()=>_().data):_().data};if(t.length<3)return I();let R=n,k;const L=rb();w[g]=[L,0];const j=!Wt(l),Z=_(),Q=Z.data,te=Z._c,re=Wt(te)?Q:te;if(j&&(l=Es(l)?l(re,Q):l,S({data:l,_c:re})),Es(R))try{R=R(re)}catch(G){k=G}if(R&&x9(R))if(R=await R.catch(G=>{k=G}),L!==w[g][0]){if(k)throw k;return R}else k&&j&&u(k)&&(o=!0,S({data:re,_c:zn}));if(o&&!k)if(Es(o)){const G=o(R,re);S({data:G,error:zn,_c:zn})}else S({data:R,error:zn,_c:zn});if(w[g][1]=rb(),Promise.resolve(I()).then(()=>{S({_c:zn})}),k){if(c)throw k;return}return R}}const FE=(t,e)=>{for(const r in t)t[r][0]&&t[r][0](e)},d4=(t,e)=>{if(!Po.has(t)){const r=Yo(O9,e),n={},i=c4.bind(zn,t);let s=Da;const o={},a=(c,h)=>{const p=o[c]||[];return o[c]=p,p.push(h),()=>p.splice(p.indexOf(h),1)},l=(c,h,p)=>{t.set(c,h);const g=o[c];if(g)for(const _ of g)_(h,p)},u=()=>{if(!Po.has(t)&&(Po.set(t,[n,{},{},{},i,l,a]),!_h)){const c=r.initFocus(setTimeout.bind(zn,FE.bind(zn,n,a4))),h=r.initReconnect(setTimeout.bind(zn,FE.bind(zn,n,l4)));s=()=>{c&&c(),h&&h(),Po.delete(t)}}};return u(),[t,i,u,s]}return[t,Po.get(t)[4]]},$9=(t,e,r,n,i)=>{const s=r.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;!Wt(s)&&o>s||setTimeout(n,a,i)},j9=(t,e)=>bh(t)==bh(e),[wx,L9]=d4(new Map),f4=Yo({onLoadingSlow:Da,onSuccess:Da,onError:Da,onErrorRetry:$9,onDiscarded:Da,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:BE?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:BE?5e3:3e3,compare:j9,isPaused:()=>!1,cache:wx,mutate:L9,fallback:{}},R9),h4=(t,e)=>{const r=Yo(t,e);if(e){const{use:n,fallback:i}=t,{use:s,fallback:o}=e;n&&s&&(r.use=n.concat(s)),i&&o&&(r.fallback=Yo(i,o))}return r},nb=O.createContext({}),D9=t=>{const{value:e}=t,r=O.useContext(nb),n=Es(e),i=O.useMemo(()=>n?e(r):e,[n,r,e]),s=O.useMemo(()=>n?i:h4(r,i),[n,r,i]),o=i&&i.provider,a=O.useRef(zn);o&&!a.current&&(a.current=d4(o(s.cache||wx),i));const l=a.current;return l&&(s.cache=l[0],s.mutate=l[1]),Km(()=>{if(l)return l[2]&&l[2](),l[3]},[]),O.createElement(nb.Provider,Yo(t,{value:s}))},M9="$inf$",p4=Wv&&window.__SWR_DEVTOOLS_USE__,B9=p4?window.__SWR_DEVTOOLS_USE__:[],F9=()=>{p4&&(window.__SWR_DEVTOOLS_REACT__=T)},W9=t=>Es(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],q9=()=>Yo(f4,O.useContext(nb)),U9=t=>(e,r,n)=>t(e,r&&((...s)=>{const[o]=vx(e),[,,,a]=Po.get(wx);if(o.startsWith(M9))return r(...s);const l=a[o];return Wt(l)?r(...s):(delete a[o],l)}),n),z9=B9.concat(U9),V9=t=>function(...r){const n=q9(),[i,s,o]=W9(r),a=h4(n,o);let l=t;const{use:u}=a,c=(u||[]).concat(z9);for(let h=c.length;h--;)l=c[h](l);return l(i,s||a.fetcher||null,a)},H9=(t,e,r)=>{const n=e[t]||(e[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i>=0&&(n[i]=n[n.length-1],n.pop())}};F9();const WE=T.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),bw={dedupe:!0},Q9=(t,e,r)=>{const{cache:n,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:c,refreshWhenOffline:h,keepPreviousData:p}=r,[g,_,S,E]=Po.get(n),[w,v]=vx(t),N=O.useRef(!1),I=O.useRef(!1),R=O.useRef(w),k=O.useRef(e),L=O.useRef(r),j=()=>L.current,Z=()=>j().isVisible()&&j().isOnline(),[Q,te,re,G]=o4(n,w),fe=O.useRef({}).current,je=Wt(o)?r.fallback[w]:o,Fe=(pe,me)=>{for(const Be in fe){const $e=Be;if($e==="data"){if(!i(pe[$e],me[$e])&&(!Wt(pe[$e])||!i(Le,me[$e])))return!1}else if(me[$e]!==pe[$e])return!1}return!0},Pe=O.useMemo(()=>{const pe=!w||!e?!1:Wt(a)?j().isPaused()||s?!1:Wt(l)?!0:l:a,me=W=>{const J=Yo(W);return delete J._k,pe?{isValidating:!0,isLoading:!0,...J}:J},Be=Q(),$e=G(),pt=me(Be),it=Be===$e?pt:me($e);let $=pt;return[()=>{const W=me(Q());return Fe(W,$)?($.data=W.data,$.isLoading=W.isLoading,$.isValidating=W.isValidating,$.error=W.error,$):($=W,W)},()=>it]},[n,w]),X=_9.useSyncExternalStore(O.useCallback(pe=>re(w,(me,Be)=>{Fe(Be,me)||pe()}),[n,w]),Pe[0],Pe[1]),ge=!N.current,Ce=g[w]&&g[w].length>0,Ae=X.data,ue=Wt(Ae)?je:Ae,_e=X.error,ve=O.useRef(ue),Le=p?Wt(Ae)?ve.current:Ae:ue,V=Ce&&!Wt(_e)?!1:ge&&!Wt(a)?a:j().isPaused()?!1:s?Wt(ue)?!1:l:Wt(ue)||l,Ve=!!(w&&e&&ge&&V),se=Wt(X.isValidating)?Ve:X.isValidating,ct=Wt(X.isLoading)?Ve:X.isLoading,st=O.useCallback(async pe=>{const me=k.current;if(!w||!me||I.current||j().isPaused())return!1;let Be,$e,pt=!0;const it=pe||{},$=!S[w]||!it.dedupe,W=()=>ME?!I.current&&w===R.current&&N.current:w===R.current,J={isValidating:!1,isLoading:!1},Te=()=>{te(J)},xe=()=>{const ne=S[w];ne&&ne[1]===$e&&delete S[w]},he={isValidating:!0};Wt(Q().data)&&(he.isLoading=!0);try{if($&&(te(he),r.loadingTimeout&&Wt(Q().data)&&setTimeout(()=>{pt&&W()&&j().onLoadingSlow(w,r)},r.loadingTimeout),S[w]=[me(v),rb()]),[Be,$e]=S[w],Be=await Be,$&&setTimeout(xe,r.dedupingInterval),!S[w]||S[w][1]!==$e)return $&&W()&&j().onDiscarded(w),!1;J.error=zn;const ne=_[w];if(!Wt(ne)&&($e<=ne[0]||$e<=ne[1]||ne[1]===0))return Te(),$&&W()&&j().onDiscarded(w),!1;const De=Q().data;J.data=i(De,Be)?De:Be,$&&W()&&j().onSuccess(Be,w,r)}catch(ne){xe();const De=j(),{shouldRetryOnError:Rt}=De;De.isPaused()||(J.error=ne,$&&W()&&(De.onError(ne,w,De),(Rt===!0||Es(Rt)&&Rt(ne))&&(!j().revalidateOnFocus||!j().revalidateOnReconnect||Z())&&De.onErrorRetry(ne,w,De,Mt=>{const er=g[w];er&&er[0]&&er[0](df.ERROR_REVALIDATE_EVENT,Mt)},{retryCount:(it.retryCount||0)+1,dedupe:!0})))}return pt=!1,Te(),!0},[w,n]),Ge=O.useCallback((...pe)=>c4(n,R.current,...pe),[]);if(Km(()=>{k.current=e,L.current=r,Wt(Ae)||(ve.current=Ae)}),Km(()=>{if(!w)return;const pe=st.bind(zn,bw);let me=0;const $e=H9(w,g,(pt,it={})=>{if(pt==df.FOCUS_EVENT){const $=Date.now();j().revalidateOnFocus&&$>me&&Z()&&(me=$+j().focusThrottleInterval,pe())}else if(pt==df.RECONNECT_EVENT)j().revalidateOnReconnect&&Z()&&pe();else{if(pt==df.MUTATE_EVENT)return st();if(pt==df.ERROR_REVALIDATE_EVENT)return st(it)}});return I.current=!1,R.current=w,N.current=!0,te({_k:v}),V&&(Wt(ue)||_h?pe():A9(pe)),()=>{I.current=!0,$e()}},[w]),Km(()=>{let pe;function me(){const $e=Es(u)?u(Q().data):u;$e&&pe!==-1&&(pe=setTimeout(Be,$e))}function Be(){!Q().error&&(c||j().isVisible())&&(h||j().isOnline())?st(bw).then(me):me()}return me(),()=>{pe&&(clearTimeout(pe),pe=-1)}},[u,c,h,w]),O.useDebugValue(Le),s&&Wt(ue)&&w){if(!ME&&_h)throw new Error("Fallback data is required when using suspense in SSR.");k.current=e,L.current=r,I.current=!1;const pe=E[w];if(!Wt(pe)){const me=Ge(pe);WE(me)}if(Wt(_e)){const me=st(bw);Wt(Le)||(me.status="fulfilled",me.value=!0),WE(me)}else throw _e}return{mutate:Ge,get data(){return fe.data=!0,Le},get error(){return fe.error=!0,_e},get isValidating(){return fe.isValidating=!0,se},get isLoading(){return fe.isLoading=!0,ct}}},qE=Ym.defineProperty(D9,"defaultValue",{value:f4}),jd=V9(Q9);var G9=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};function J9(t,e,r){var n=function(s){return t.apply(void 0,G9([s],Array.from(e),!1))},i=r??t.lazy;return i===void 0?n:Object.assign(n,{lazy:i,lazyArgs:e})}function Zn(t,e,r){var n=t.length-e.length;if(n===0)return t.apply(void 0,Array.from(e));if(n===1)return J9(t,e,r);throw new Error("Wrong number of arguments")}function yd(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var i=t,s=r.map(function(w){return"lazy"in w?Y9(w):void 0}),o=0;o<r.length;){var a=s[o];if(a===void 0||!K9(i)){var l=r[o];i=l(i),o+=1;continue}for(var u=[],c=o;c<r.length;c++){var h=s[c];if(h===void 0||(u.push(h),h.isSingle))break}for(var p=[],g=i[Symbol.iterator]();;){var _=g.next();if((e=_.done)!==null&&e!==void 0&&e)break;var S=m4(_.value,p,u);if(S)break}var E=u[u.length-1].isSingle;i=E?p[0]:p,o+=u.length}return i}function m4(t,e,r){var n;if(r.length===0)return e.push(t),!1;for(var i=t,s={done:!1,hasNext:!1},o=!1,a=0;a<r.length;a++){var l=r[a],u=l.isIndexed,c=l.index,h=l.items;if(h.push(i),s=u?l(i,c,h):l(i),l.index+=1,s.hasNext){if((n=s.hasMany)!==null&&n!==void 0&&n){for(var p=0,g=s.next;p<g.length;p++){var _=g[p],S=m4(_,e,r.slice(a+1));if(S)return!0}return!1}i=s.next}if(!s.hasNext)break;s.done&&(o=!0)}return s.hasNext&&e.push(i),!!o}function Y9(t){var e=t.lazy,r=t.lazyArgs,n=e.apply(void 0,r??[]);return Object.assign(n,{isIndexed:e.indexed,isSingle:e.single,index:0,items:[]})}function K9(t){return typeof t=="string"||typeof t=="object"&&t!==null&&Symbol.iterator in t}function qv(t,e,r){r===void 0&&(r=!1);for(var n=[],i=0;i<t.length;i++){var s=t[i],o=r?e(s,i,t):e(s);if(o.hasMany===!0?n.push.apply(n,o.next):o.hasNext&&n.push(o.next),o.done)break}return n}function xh(){return Zn(Z9,arguments,xh.lazy)}function Z9(t,e,r){var n=xh.lazy(e,r);return qv(t,n)}(function(t){t.lazy=function(e,r){return function(n){return e.every(function(i){return!r(n,i)})?{done:!1,hasNext:!0,next:n}:{done:!1,hasNext:!1}}}})(xh||(xh={}));function ib(){return Zn(Object.entries,arguments)}(function(t){t.strict=t})(ib||(ib={}));var y4=function(t){return Object.assign(t,{indexed:!0})};function wu(){return Zn(g4(!1),arguments,wu.lazy)}var g4=function(t){return function(e,r){return qv(e,t?wu.lazyIndexed(r):wu.lazy(r),t)}},UE=function(t){return function(e){return function(r,n,i){return(t?e(r,n,i):e(r))?{done:!1,hasNext:!0,next:r}:{done:!1,hasNext:!1}}}};(function(t){function e(){return Zn(g4(!0),arguments,t.lazyIndexed)}t.indexed=e,t.lazy=UE(!1),t.lazyIndexed=y4(UE(!0))})(wu||(wu={}));function Sh(){return Zn(X9,arguments,Sh.lazy)}function X9(t){return qv(t,Sh.lazy())}(function(t){t.lazy=function(){return function(e){return Array.isArray(e)?{done:!1,hasNext:!0,hasMany:!0,next:e}:{done:!1,hasNext:!0,next:e}}}})(Sh||(Sh={}));function Eh(){return Zn(eD,arguments,Eh.lazy)}function eD(t,e){return Sh(t.map(function(r){return e(r)}))}(function(t){t.lazy=function(e){return function(r){var n=e(r);return Array.isArray(n)?{done:!1,hasNext:!0,hasMany:!0,next:n}:{done:!1,hasNext:!0,next:n}}}})(Eh||(Eh={}));function Nh(){return Zn(v4(!1),arguments)}var v4=function(t){return function(e,r){for(var n={},i=0;i<e.length;i++){var s=e[i],o=t?r(s,i,e):r(s);if(o!==void 0){var a=String(o),l=n[a];l===void 0&&(l=[],n[a]=l),l.push(s)}}return n}};(function(t){function e(){return Zn(v4(!0),arguments)}t.indexed=e,t.strict=t})(Nh||(Nh={}));function w4(){return Zn(Uy,arguments)}function Uy(t,e){if(t===e)return!0;if(typeof t=="number"&&typeof e=="number")return t!==t&&e!==e;if(typeof t!="object"||typeof e!="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Uy(t[r],e[r]))return!1;return!0}if(t instanceof Date)return t.getTime()===e.getTime();if(t instanceof RegExp)return t.toString()===e.toString();if(t instanceof Map)return tD(t,e);var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(var i=0,s=n;i<s.length;i++){var o=s[i];if(!Object.prototype.hasOwnProperty.call(e,o)||!Uy(t[o],e[o]))return!1}return!0}function tD(t,e){if(t.size!==e.size)return!1;for(var r=Array.from(t.keys()),n=0,i=r;n<i.length;n++){var s=i[n];if(!e.has(s)||!Uy(t.get(s),e.get(s)))return!1}return!0}function rD(t){return Array.isArray(t)}function nD(t){return!!t&&!Array.isArray(t)&&typeof t=="object"}function iD(t){return typeof t=="string"}function sD(t){return t===void 0?!0:rD(t)||iD(t)?t.length===0:nD(t)?Object.keys(t).length===0:!1}function gd(){return Zn(b4(!1),arguments,gd.lazy)}var b4=function(t){return function(e,r){return qv(e,t?gd.lazyIndexed(r):gd.lazy(r),t)}},zE=function(t){return function(e){return function(r,n,i){return{done:!1,hasNext:!0,next:t?e(r,n,i):e(r)}}}};(function(t){function e(){return Zn(b4(!0),arguments,t.lazyIndexed)}t.indexed=e,t.lazy=zE(!1),t.lazyIndexed=y4(zE(!0)),t.strict=t})(gd||(gd={}));function oD(){return Zn(aD,arguments)}function aD(t,e){for(var r=[],n=t;n<e;n++)r.push(n);return r}var _4=function(t){return function(e,r){for(var n=0,i=0;i<e.length;i++){var s=e[i],o=t?r(s,i,e):r(s);n+=o}return n}};function Zr(){return Zn(_4(!1),arguments)}(function(t){function e(){return Zn(_4(!0),arguments)}t.indexed=e})(Zr||(Zr={}));function sb(){return Zn(lD,arguments)}function lD(t,e){for(var r=t.length>e.length?e.length:t.length,n=[],i=0;i<r;i++)n.push([t[i],e[i]]);return n}(function(t){t.strict=t})(sb||(sb={}));const uD=t=>typeof t>"u"||t===null;function cD(t,e){return typeof t=="object"&&t!==null&&e in t}function dD(t){if(cD(t,"toString")&&typeof t.toString=="function"){const e=t.toString();return typeof e=="string"?e:JSON.stringify(t)}else return JSON.stringify(t)}const VE=Object.create(null),xm={Ok:"Ok",Err:"Err"};class bc{constructor(e){this.repr=e}static ok(e){return arguments.length===0?new bc(["Ok",VE]):new bc(["Ok",e])}static err(e){return uD(e)?new bc(["Err",VE]):new bc(["Err",e])}get variant(){return this.repr[0]}get value(){if(this.repr[0]===xm.Err)throw new Error("Cannot get the value of Err");return this.repr[1]}get error(){if(this.repr[0]===xm.Ok)throw new Error("Cannot get the error of Ok");return this.repr[1]}get isOk(){return this.repr[0]===xm.Ok}get isErr(){return this.repr[0]===xm.Err}map(e){return this.repr[0]==="Ok"?ob.ok(e(this.repr[1])):this}mapOr(e,r){return this.repr[0]==="Ok"?r(this.repr[1]):e}mapOrElse(e,r){return this.repr[0]==="Ok"?r(this.repr[1]):e(this.repr[1])}match(e){return this.repr[0]==="Ok"?e.Ok(this.repr[1]):e.Err(this.repr[1])}mapErr(e){return this.repr[0]==="Ok"?this:ob.err(e(this.repr[1]))}or(e){return this.repr[0]==="Ok"?this:e}orElse(e){return this.repr[0]==="Ok"?this:e(this.repr[1])}and(e){return this.repr[0]==="Ok"?e:this}andThen(e){return this.repr[0]==="Ok"?e(this.repr[1]):this}unwrapOr(e){return this.repr[0]==="Ok"?this.repr[1]:e}unwrapOrElse(e){return this.repr[0]==="Ok"?this.repr[1]:e(this.repr[1])}toString(){return`${this.repr[0]}(${dD(this.repr[1])})`}toJSON(){const e=this.repr[0];return e==="Ok"?{variant:e,value:this.repr[1]}:{variant:e,error:this.repr[1]}}equals(e){return this.repr[0]===e.repr[0]&&this.repr[1]===e.repr[1]}ap(e){return e.andThen(r=>this.map(n=>n(r)))}cast(){return this}}const ob=bc,HE=ob;var qt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(qt||(qt={}));var ab;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ab||(ab={}));const Me=qt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Sa=t=>{switch(typeof t){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return isNaN(t)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(t)?Me.array:t===null?Me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Me.promise:typeof Map<"u"&&t instanceof Map?Me.map:typeof Set<"u"&&t instanceof Set?Me.set:typeof Date<"u"&&t instanceof Date?Me.date:Me.object;default:return Me.unknown}},Oe=qt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fD=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Is extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,qt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Is.create=t=>new Is(t);const kh=(t,e)=>{let r;switch(t.code){case Oe.invalid_type:t.received===Me.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Oe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,qt.jsonStringifyReplacer)}`;break;case Oe.unrecognized_keys:r=`Unrecognized key(s) in object: ${qt.joinValues(t.keys,", ")}`;break;case Oe.invalid_union:r="Invalid input";break;case Oe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qt.joinValues(t.options)}`;break;case Oe.invalid_enum_value:r=`Invalid enum value. Expected ${qt.joinValues(t.options)}, received '${t.received}'`;break;case Oe.invalid_arguments:r="Invalid function arguments";break;case Oe.invalid_return_type:r="Invalid function return type";break;case Oe.invalid_date:r="Invalid date";break;case Oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:qt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Oe.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Oe.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Oe.custom:r="Invalid input";break;case Oe.invalid_intersection_types:r="Intersection results could not be merged";break;case Oe.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Oe.not_finite:r="Number must be finite";break;default:r=e.defaultError,qt.assertNever(t)}return{message:r}};let x4=kh;function hD(t){x4=t}function zy(){return x4}const Vy=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},pD=[];function qe(t,e){const r=Vy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,zy(),kh].filter(n=>!!n)});t.common.issues.push(r)}class jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return yt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return jn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return yt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const yt=Object.freeze({status:"aborted"}),S4=t=>({status:"dirty",value:t}),Jn=t=>({status:"valid",value:t}),lb=t=>t.status==="aborted",ub=t=>t.status==="dirty",Ch=t=>t.status==="valid",Hy=t=>typeof Promise<"u"&&t instanceof Promise;var nt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(nt||(nt={}));class so{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const QE=(t,e)=>{if(Ch(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Is(t.common.issues);return this._error=r,this._error}}};function vt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class St{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Sa(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new jn,ctx:{common:e.parent.common,data:e.data,parsedType:Sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Hy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sa(e)},s=this._parseSync({data:e,path:i.path,parent:i});return QE(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sa(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Hy(i)?i:Promise.resolve(i));return QE(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Oe.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ls({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return qo.create(this,this._def)}nullable(){return xu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ps.create(this,this._def)}promise(){return wd.create(this,this._def)}or(e){return Ah.create([this,e],this._def)}and(e){return Ih.create(this,e,this._def)}transform(e){return new Ls({...vt(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Dh({...vt(this._def),innerType:this,defaultValue:r,typeName:at.ZodDefault})}brand(){return new N4({typeName:at.ZodBranded,type:this,...vt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Yy({...vt(this._def),innerType:this,catchValue:r,typeName:at.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Cp.create(this,e)}readonly(){return Zy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mD=/^c[^\s-]{8,}$/i,yD=/^[a-z][a-z0-9]*$/,gD=/^[0-9A-HJKMNP-TV-Z]{26}$/,vD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wD=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _w;const _D=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,xD=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,SD=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ED(t,e){return!!((e==="v4"||!e)&&_D.test(t)||(e==="v6"||!e)&&xD.test(t))}class Ts extends St{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Me.string){const s=this._getOrReturnCtx(e);return qe(s,{code:Oe.invalid_type,expected:Me.string,received:s.parsedType}),yt}const n=new jn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?qe(i,{code:Oe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&qe(i,{code:Oe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")wD.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"email",code:Oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")_w||(_w=new RegExp(bD,"u")),_w.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"emoji",code:Oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")vD.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"uuid",code:Oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")mD.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"cuid",code:Oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")yD.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"cuid2",code:Oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")gD.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"ulid",code:Oe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),qe(i,{validation:"url",code:Oe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"regex",code:Oe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?SD(s).test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?ED(e.data,s.version)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"ip",code:Oe.invalid_string,message:s.message}),n.dirty()):qt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Oe.invalid_string,...nt.errToObj(n)})}_addCheck(e){return new Ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...nt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...nt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...nt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...nt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...nt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...nt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...nt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...nt.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...nt.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...nt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...nt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...nt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...nt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...nt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...nt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...nt.errToObj(r)})}nonempty(e){return this.min(1,nt.errToObj(e))}trim(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ts.create=t=>{var e;return new Ts({checks:[],typeName:at.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};function ND(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class sl extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Me.number){const s=this._getOrReturnCtx(e);return qe(s,{code:Oe.invalid_type,expected:Me.number,received:s.parsedType}),yt}let n;const i=new jn;for(const s of this._def.checks)s.kind==="int"?qt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ND(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.not_finite,message:s.message}),i.dirty()):qt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,nt.toString(r))}setLimit(e,r,n,i){return new sl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:nt.toString(i)}]})}_addCheck(e){return new sl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:nt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:nt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}sl.create=t=>new sl({checks:[],typeName:at.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...vt(t)});class ol extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Me.bigint){const s=this._getOrReturnCtx(e);return qe(s,{code:Oe.invalid_type,expected:Me.bigint,received:s.parsedType}),yt}let n;const i=new jn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):qt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,nt.toString(r))}setLimit(e,r,n,i){return new ol({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:nt.toString(i)}]})}_addCheck(e){return new ol({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ol.create=t=>{var e;return new ol({checks:[],typeName:at.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};class Th extends St{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Me.boolean){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.boolean,received:n.parsedType}),yt}return Jn(e.data)}}Th.create=t=>new Th({typeName:at.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...vt(t)});class bu extends St{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Me.date){const s=this._getOrReturnCtx(e);return qe(s,{code:Oe.invalid_type,expected:Me.date,received:s.parsedType}),yt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return qe(s,{code:Oe.invalid_date}),yt}const n=new jn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):qt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new bu({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:nt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:nt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}bu.create=t=>new bu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:at.ZodDate,...vt(t)});class Qy extends St{_parse(e){if(this._getType(e)!==Me.symbol){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.symbol,received:n.parsedType}),yt}return Jn(e.data)}}Qy.create=t=>new Qy({typeName:at.ZodSymbol,...vt(t)});class Rh extends St{_parse(e){if(this._getType(e)!==Me.undefined){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.undefined,received:n.parsedType}),yt}return Jn(e.data)}}Rh.create=t=>new Rh({typeName:at.ZodUndefined,...vt(t)});class Oh extends St{_parse(e){if(this._getType(e)!==Me.null){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.null,received:n.parsedType}),yt}return Jn(e.data)}}Oh.create=t=>new Oh({typeName:at.ZodNull,...vt(t)});class vd extends St{constructor(){super(...arguments),this._any=!0}_parse(e){return Jn(e.data)}}vd.create=t=>new vd({typeName:at.ZodAny,...vt(t)});class uu extends St{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jn(e.data)}}uu.create=t=>new uu({typeName:at.ZodUnknown,...vt(t)});class Ko extends St{_parse(e){const r=this._getOrReturnCtx(e);return qe(r,{code:Oe.invalid_type,expected:Me.never,received:r.parsedType}),yt}}Ko.create=t=>new Ko({typeName:at.ZodNever,...vt(t)});class Gy extends St{_parse(e){if(this._getType(e)!==Me.undefined){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.void,received:n.parsedType}),yt}return Jn(e.data)}}Gy.create=t=>new Gy({typeName:at.ZodVoid,...vt(t)});class Ps extends St{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Me.array)return qe(r,{code:Oe.invalid_type,expected:Me.array,received:r.parsedType}),yt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(qe(r,{code:o?Oe.too_big:Oe.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(qe(r,{code:Oe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(qe(r,{code:Oe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new so(r,o,r.path,a)))).then(o=>jn.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new so(r,o,r.path,a)));return jn.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Ps({...this._def,minLength:{value:e,message:nt.toString(r)}})}max(e,r){return new Ps({...this._def,maxLength:{value:e,message:nt.toString(r)}})}length(e,r){return new Ps({...this._def,exactLength:{value:e,message:nt.toString(r)}})}nonempty(e){return this.min(1,e)}}Ps.create=(t,e)=>new Ps({type:t,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...vt(e)});function ec(t){if(t instanceof kr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=qo.create(ec(n))}return new kr({...t._def,shape:()=>e})}else return t instanceof Ps?new Ps({...t._def,type:ec(t.element)}):t instanceof qo?qo.create(ec(t.unwrap())):t instanceof xu?xu.create(ec(t.unwrap())):t instanceof oo?oo.create(t.items.map(e=>ec(e))):t}class kr extends St{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=qt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Me.object){const u=this._getOrReturnCtx(e);return qe(u,{code:Oe.invalid_type,expected:Me.object,received:u.parsedType}),yt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ko&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=s[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new so(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ko){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(qe(i,{code:Oe.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new so(i,h,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const h=await c.key;u.push({key:h,value:await c.value,alwaysSet:c.alwaysSet})}return u}).then(u=>jn.mergeObjectSync(n,u)):jn.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return nt.errToObj,new kr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=nt.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new kr({...this._def,unknownKeys:"strip"})}passthrough(){return new kr({...this._def,unknownKeys:"passthrough"})}extend(e){return new kr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:at.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new kr({...this._def,catchall:e})}pick(e){const r={};return qt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new kr({...this._def,shape:()=>r})}omit(e){const r={};return qt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new kr({...this._def,shape:()=>r})}deepPartial(){return ec(this)}partial(e){const r={};return qt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new kr({...this._def,shape:()=>r})}required(e){const r={};return qt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof qo;)s=s._def.innerType;r[n]=s}}),new kr({...this._def,shape:()=>r})}keyof(){return E4(qt.objectKeys(this.shape))}}kr.create=(t,e)=>new kr({shape:()=>t,unknownKeys:"strip",catchall:Ko.create(),typeName:at.ZodObject,...vt(e)});kr.strictCreate=(t,e)=>new kr({shape:()=>t,unknownKeys:"strict",catchall:Ko.create(),typeName:at.ZodObject,...vt(e)});kr.lazycreate=(t,e)=>new kr({shape:t,unknownKeys:"strip",catchall:Ko.create(),typeName:at.ZodObject,...vt(e)});class Ah extends St{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Is(a.ctx.common.issues));return qe(r,{code:Oe.invalid_union,unionErrors:o}),yt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Is(l));return qe(r,{code:Oe.invalid_union,unionErrors:a}),yt}}get options(){return this._def.options}}Ah.create=(t,e)=>new Ah({options:t,typeName:at.ZodUnion,...vt(e)});const Zm=t=>t instanceof $h?Zm(t.schema):t instanceof Ls?Zm(t.innerType()):t instanceof jh?[t.value]:t instanceof al?t.options:t instanceof Lh?Object.keys(t.enum):t instanceof Dh?Zm(t._def.innerType):t instanceof Rh?[void 0]:t instanceof Oh?[null]:null;class Uv extends St{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.object)return qe(r,{code:Oe.invalid_type,expected:Me.object,received:r.parsedType}),yt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(qe(r,{code:Oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=Zm(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Uv({typeName:at.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...vt(n)})}}function cb(t,e){const r=Sa(t),n=Sa(e);if(t===e)return{valid:!0,data:t};if(r===Me.object&&n===Me.object){const i=qt.objectKeys(e),s=qt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=cb(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===Me.array&&n===Me.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=cb(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Me.date&&n===Me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ih extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(lb(s)||lb(o))return yt;const a=cb(s.value,o.value);return a.valid?((ub(s)||ub(o))&&r.dirty(),{status:r.value,value:a.data}):(qe(n,{code:Oe.invalid_intersection_types}),yt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ih.create=(t,e,r)=>new Ih({left:t,right:e,typeName:at.ZodIntersection,...vt(r)});class oo extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.array)return qe(n,{code:Oe.invalid_type,expected:Me.array,received:n.parsedType}),yt;if(n.data.length<this._def.items.length)return qe(n,{code:Oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yt;!this._def.rest&&n.data.length>this._def.items.length&&(qe(n,{code:Oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new so(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>jn.mergeArray(r,o)):jn.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new oo({...this._def,rest:e})}}oo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oo({items:t,typeName:at.ZodTuple,rest:null,...vt(e)})};class Ph extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.object)return qe(n,{code:Oe.invalid_type,expected:Me.object,received:n.parsedType}),yt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new so(n,a,n.path,a)),value:o._parse(new so(n,n.data[a],n.path,a))});return n.common.async?jn.mergeObjectAsync(r,i):jn.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof St?new Ph({keyType:e,valueType:r,typeName:at.ZodRecord,...vt(n)}):new Ph({keyType:Ts.create(),valueType:e,typeName:at.ZodRecord,...vt(r)})}}class Jy extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.map)return qe(n,{code:Oe.invalid_type,expected:Me.map,received:n.parsedType}),yt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,l],u)=>({key:i._parse(new so(n,a,n.path,[u,"key"])),value:s._parse(new so(n,l,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return yt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return yt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}}}}Jy.create=(t,e,r)=>new Jy({valueType:e,keyType:t,typeName:at.ZodMap,...vt(r)});class _u extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.set)return qe(n,{code:Oe.invalid_type,expected:Me.set,received:n.parsedType}),yt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(qe(n,{code:Oe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(qe(n,{code:Oe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return yt;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((l,u)=>s._parse(new so(n,l,n.path,u)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,r){return new _u({...this._def,minSize:{value:e,message:nt.toString(r)}})}max(e,r){return new _u({...this._def,maxSize:{value:e,message:nt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}_u.create=(t,e)=>new _u({valueType:t,minSize:null,maxSize:null,typeName:at.ZodSet,...vt(e)});class Pc extends St{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.function)return qe(r,{code:Oe.invalid_type,expected:Me.function,received:r.parsedType}),yt;function n(a,l){return Vy({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zy(),kh].filter(u=>!!u),issueData:{code:Oe.invalid_arguments,argumentsError:l}})}function i(a,l){return Vy({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zy(),kh].filter(u=>!!u),issueData:{code:Oe.invalid_return_type,returnTypeError:l}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof wd){const a=this;return Jn(async function(...l){const u=new Is([]),c=await a._def.args.parseAsync(l,s).catch(g=>{throw u.addIssue(n(l,g)),u}),h=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(h,s).catch(g=>{throw u.addIssue(i(h,g)),u})})}else{const a=this;return Jn(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new Is([n(l,u.error)]);const c=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(c,s);if(!h.success)throw new Is([i(c,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Pc({...this._def,args:oo.create(e).rest(uu.create())})}returns(e){return new Pc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Pc({args:e||oo.create([]).rest(uu.create()),returns:r||uu.create(),typeName:at.ZodFunction,...vt(n)})}}class $h extends St{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}$h.create=(t,e)=>new $h({getter:t,typeName:at.ZodLazy,...vt(e)});class jh extends St{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return qe(r,{received:r.data,code:Oe.invalid_literal,expected:this._def.value}),yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}jh.create=(t,e)=>new jh({value:t,typeName:at.ZodLiteral,...vt(e)});function E4(t,e){return new al({values:t,typeName:at.ZodEnum,...vt(e)})}class al extends St{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return qe(r,{expected:qt.joinValues(n),received:r.parsedType,code:Oe.invalid_type}),yt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return qe(r,{received:r.data,code:Oe.invalid_enum_value,options:n}),yt}return Jn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return al.create(e)}exclude(e){return al.create(this.options.filter(r=>!e.includes(r)))}}al.create=E4;class Lh extends St{_parse(e){const r=qt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Me.string&&n.parsedType!==Me.number){const i=qt.objectValues(r);return qe(n,{expected:qt.joinValues(i),received:n.parsedType,code:Oe.invalid_type}),yt}if(r.indexOf(e.data)===-1){const i=qt.objectValues(r);return qe(n,{received:n.data,code:Oe.invalid_enum_value,options:i}),yt}return Jn(e.data)}get enum(){return this._def.values}}Lh.create=(t,e)=>new Lh({values:t,typeName:at.ZodNativeEnum,...vt(e)});class wd extends St{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.promise&&r.common.async===!1)return qe(r,{code:Oe.invalid_type,expected:Me.promise,received:r.parsedType}),yt;const n=r.parsedType===Me.promise?r.data:Promise.resolve(r.data);return Jn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}wd.create=(t,e)=>new wd({type:t,typeName:at.ZodPromise,...vt(e)});class Ls extends St{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{qe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?yt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?yt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ch(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ch(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);qt.assertNever(i)}}Ls.create=(t,e,r)=>new Ls({schema:t,typeName:at.ZodEffects,effect:e,...vt(r)});Ls.createWithPreprocess=(t,e,r)=>new Ls({schema:e,effect:{type:"preprocess",transform:t},typeName:at.ZodEffects,...vt(r)});class qo extends St{_parse(e){return this._getType(e)===Me.undefined?Jn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qo.create=(t,e)=>new qo({innerType:t,typeName:at.ZodOptional,...vt(e)});class xu extends St{_parse(e){return this._getType(e)===Me.null?Jn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xu.create=(t,e)=>new xu({innerType:t,typeName:at.ZodNullable,...vt(e)});class Dh extends St{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Me.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Dh.create=(t,e)=>new Dh({innerType:t,typeName:at.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vt(e)});class Yy extends St{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Hy(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Is(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Is(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Yy.create=(t,e)=>new Yy({innerType:t,typeName:at.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vt(e)});class Ky extends St{_parse(e){if(this._getType(e)!==Me.nan){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.nan,received:n.parsedType}),yt}return{status:"valid",value:e.data}}}Ky.create=t=>new Ky({typeName:at.ZodNaN,...vt(t)});const kD=Symbol("zod_brand");class N4 extends St{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Cp extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?yt:s.status==="dirty"?(r.dirty(),S4(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?yt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Cp({in:e,out:r,typeName:at.ZodPipeline})}}class Zy extends St{_parse(e){const r=this._def.innerType._parse(e);return Ch(r)&&(r.value=Object.freeze(r.value)),r}}Zy.create=(t,e)=>new Zy({innerType:t,typeName:at.ZodReadonly,...vt(e)});const k4=(t,e={},r)=>t?vd.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):vd.create(),CD={object:kr.lazycreate};var at;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(at||(at={}));const TD=(t,e={message:`Input not instance of ${t.name}`})=>k4(r=>r instanceof t,e),C4=Ts.create,T4=sl.create,RD=Ky.create,OD=ol.create,R4=Th.create,AD=bu.create,ID=Qy.create,PD=Rh.create,$D=Oh.create,jD=vd.create,LD=uu.create,DD=Ko.create,MD=Gy.create,BD=Ps.create,FD=kr.create,WD=kr.strictCreate,qD=Ah.create,UD=Uv.create,zD=Ih.create,VD=oo.create,HD=Ph.create,QD=Jy.create,GD=_u.create,JD=Pc.create,YD=$h.create,KD=jh.create,ZD=al.create,XD=Lh.create,e7=wd.create,GE=Ls.create,t7=qo.create,r7=xu.create,n7=Ls.createWithPreprocess,i7=Cp.create,s7=()=>C4().optional(),o7=()=>T4().optional(),a7=()=>R4().optional(),l7={string:t=>Ts.create({...t,coerce:!0}),number:t=>sl.create({...t,coerce:!0}),boolean:t=>Th.create({...t,coerce:!0}),bigint:t=>ol.create({...t,coerce:!0}),date:t=>bu.create({...t,coerce:!0})},u7=yt;var fr=Object.freeze({__proto__:null,defaultErrorMap:kh,setErrorMap:hD,getErrorMap:zy,makeIssue:Vy,EMPTY_PATH:pD,addIssueToContext:qe,ParseStatus:jn,INVALID:yt,DIRTY:S4,OK:Jn,isAborted:lb,isDirty:ub,isValid:Ch,isAsync:Hy,get util(){return qt},get objectUtil(){return ab},ZodParsedType:Me,getParsedType:Sa,ZodType:St,ZodString:Ts,ZodNumber:sl,ZodBigInt:ol,ZodBoolean:Th,ZodDate:bu,ZodSymbol:Qy,ZodUndefined:Rh,ZodNull:Oh,ZodAny:vd,ZodUnknown:uu,ZodNever:Ko,ZodVoid:Gy,ZodArray:Ps,ZodObject:kr,ZodUnion:Ah,ZodDiscriminatedUnion:Uv,ZodIntersection:Ih,ZodTuple:oo,ZodRecord:Ph,ZodMap:Jy,ZodSet:_u,ZodFunction:Pc,ZodLazy:$h,ZodLiteral:jh,ZodEnum:al,ZodNativeEnum:Lh,ZodPromise:wd,ZodEffects:Ls,ZodTransformer:Ls,ZodOptional:qo,ZodNullable:xu,ZodDefault:Dh,ZodCatch:Yy,ZodNaN:Ky,BRAND:kD,ZodBranded:N4,ZodPipeline:Cp,ZodReadonly:Zy,custom:k4,Schema:St,ZodSchema:St,late:CD,get ZodFirstPartyTypeKind(){return at},coerce:l7,any:jD,array:BD,bigint:OD,boolean:R4,date:AD,discriminatedUnion:UD,effect:GE,enum:ZD,function:JD,instanceof:TD,intersection:zD,lazy:YD,literal:KD,map:QD,nan:RD,nativeEnum:XD,never:DD,null:$D,nullable:r7,number:T4,object:FD,oboolean:a7,onumber:o7,optional:t7,ostring:s7,pipeline:i7,preprocess:n7,promise:e7,record:HD,set:GD,strictObject:WD,string:C4,symbol:ID,transformer:GE,tuple:VD,undefined:PD,union:qD,unknown:LD,void:MD,NEVER:u7,ZodIssueCode:Oe,quotelessJson:fD,ZodError:Is});function Xm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Error;if(!t)throw typeof e=="string"?new Error(e):e}const c7=/^(\d{4})-(\d{2})-(\d{2})$/,d7=fr.custom(t=>{if(typeof t!="string")throw new Error("must be a string",{cause:{value:t,type:typeof t}});if(!c7.exec(t))throw new Error("invalid date format",{cause:{value:t,type:typeof t}});return t}),Tp=t=>{const e=t.split("-").map(s=>Number.parseInt(s)),r=e[0],n=e[1],i=e[2];return Xm(typeof r=="number"),Xm(typeof n=="number"),Xm(typeof i=="number"),{year:r,month:n,day:i}},Rp=t=>{const{year:e,month:r,day:n}=t,i=r.toString().padStart(2,"0"),s=n.toString().padStart(2,"0");return`${e}-${i}-${s}`},f7=(t,e)=>{const{month:r,day:n}=Tp(t);return Rp({year:e,month:r,day:n})},h7=(t,e)=>{const{year:r,day:n}=Tp(t);return Rp({year:r,month:e,day:n})},p7=(t,e)=>{const{year:r,month:n}=Tp(t);return Rp({year:r,month:n,day:e})},m7=(t,e)=>{const r=Tp(t),n=Math.floor(e/12),i=e%12;return Rp({year:r.year+n,month:r.month+i,day:r.day})},Zo={schema:d7,split:Tp,combine:Rp,setYear:f7,setMonth:h7,setDay:p7,addMonth:m7},y7="account",g7="account",v7=y7,w7=["code"],b7=async t=>{await t.schema.createTable(g7).addColumn("code","integer").addColumn("name","text").addColumn("description","text").addPrimaryKeyConstraint("primary",[...w7]).execute()},_7="accountGroup",x7="account_group",S7=_7,E7=["code"],N7=async t=>{await t.schema.createTable(x7).addColumn("code","integer").addColumn("major","text").addColumn("minor","text").addColumn("name","text").addColumn("description","text").addPrimaryKeyConstraint("primary",[...E7]).execute()},k7="accountStatement",C7="account_statement",T7=k7,R7=["code","date"],O7=async t=>{await t.schema.createTable(C7).addColumn("code","integer").addColumn("date","text").addColumn("closing_balance","integer").addColumn("total_credit","integer").addColumn("total_debit","integer").addPrimaryKeyConstraint("primary_key",[...R7]).execute()},A7="accountTransaction",I7="account_transaction",Pu=A7,P7=["txid"],$7=async t=>{await t.schema.createTable(I7).addColumn("txid","text").addColumn("date","text").addColumn("brief","text").addPrimaryKeyConstraint("primary_key",[...P7]).execute()},j7="ledger_statement",L7=["code","date"],D7=async t=>{await t.schema.createTable(j7).addColumn("code","integer").addColumn("date","text").addColumn("closing_balance","integer").addPrimaryKeyConstraint("primary_key",[...L7]).execute()},M7="ledgerTransaction",B7="ledger_transaction",bd=M7,bx=1,_x=2,F7=["txid","code"],W7=async t=>{await t.schema.createTable(B7).addColumn("txid","text").addColumn("code","integer").addColumn("tag","integer").addColumn("amount","integer").addPrimaryKeyConstraint("primary_key",[...F7]).execute()},O4=fr.object({_tag:fr.literal("debit"),code:fr.number(),debit:fr.number()}),A4=fr.object({_tag:fr.literal("credit"),code:fr.number(),credit:fr.number()}),q7=fr.union([O4,A4]),I4=t=>{if(t.debit<=0)throw new Error("debit is not positive");return t},P4=t=>{if(t.credit<=0)throw new Error("credit is not positive");return t},U7=t=>{switch(t._tag){case"debit":return I4(t);case"credit":return P4(t)}},z7=(t,e)=>t._tag===e._tag?t.code-e.code:t._tag==="debit"&&e._tag==="credit"?-1:t._tag==="credit"&&e._tag==="debit"?1:0,V7=t=>{const e=[];for(const r of t)r._tag==="debit"&&e.push(r);return e},H7=t=>{const e=[];for(const r of t)r._tag==="credit"&&e.push(r);return e},Q7=t=>{switch(t.tag){case bx:return{_tag:"debit",code:t.code,debit:t.amount};case _x:return{_tag:"credit",code:t.code,credit:t.amount}}},Qn={schema:q7,debit_schema:O4,credit_schema:A4,validate:U7,validate_debit:I4,validate_credit:P4,compare:z7,filter_debit:V7,filter_credit:H7,fromRow:Q7},G7=fr.object({id:fr.string(),date:Zo.schema,brief:fr.string(),lines_debit:fr.array(Qn.debit_schema).min(1),lines_credit:fr.array(Qn.credit_schema).min(1)}),$4=t=>{const e=t.lines_debit.map(Qn.validate_debit),r=t.lines_credit.map(Qn.validate_credit);if(e.length===0)throw new Error("lines_debit is empty");if(r.length===0)throw new Error("lines_credit is empty");const n=Zr(e,s=>s.debit),i=Zr(r,s=>s.credit);if(n!==i)throw new Error(`debit(${n}) !== credit(${i})`);return{...t,lines_debit:e,lines_credit:r}},J7=t=>{try{return HE.ok($4(t))}catch(e){return HE.err(e)}},Y7=t=>{const e=t.date.split("-"),r=Number.parseInt(e[1]??"0"),n=Number.parseInt(e[2]??"0"),i=[r,n,t.id,t.brief],s=Array(i.length).fill(""),o=t.lines_debit.map((u,c)=>{const h=[u.code,u.debit,""];return c===0?[...i,...h]:[...s,...h]}),a=t.lines_credit.map(u=>{const c=[u.code,"",u.credit];return[...s,...c]});return[...o,...a]},Mh={schema:G7,validate:$4,safeValidate:J7,toMat:Y7},K7=t=>Math.floor(t/1e3),Z7=t=>({code:t.code,name:t.name,description:t.description}),X7=(t,e)=>{const r=new Map(e.map(n=>[n.code,n]));return t.map(n=>{const i=Su.toGroup(n.code);let s=r.get(i);return s||(s={code:i,description:"unknown",major:"asset",minor:"unknown",name:"unknown"}),{account:n,group:s}})},Su={toGroup:K7,fromRow:Z7,zip:X7},db={asset:"",liability:"",equity:"",revenue:"",expense:""},eM=t=>db[t],tM=t=>{const e=Object.keys(db).find(r=>db[r]===t);if(!e)throw new Error(`Unknown account category name: ${t}`);return e},xx={toKorean:eM,fromKorean:tM},rM=t=>({major:t.major,minor:t.minor,code:t.code,name:t.name,description:t.description}),nM={fromRow:rM},iM={},sM=Object.freeze(Object.defineProperty({__proto__:null,default:iM},Symbol.toStringTag,{value:"Module"})),oM=async t=>{await b7(t),await N7(t),await $7(t),await W7(t),await O7(t),await D7(t)};function j4(t,e){const n=e.exec(t.sql,t.parameters)[0];return{rows:n.values.map(s=>{const o=sb(n.columns,s);return Object.fromEntries(o)}),columns:n.columns}}function L4(t,e){const{rows:r}=j4(t,e);return r}function aM(t,e){return L4(t,e)[0]}var lM={Stringify:1,BeforeStream:2,Stream:3},uM=(t,e)=>{const r=new String(t);return r.isEscaped=!0,r.callbacks=e,r},D4=async(t,e,r,n,i)=>{const s=t.callbacks;if(!(s!=null&&s.length))return Promise.resolve(t);i?i[0]+=t:i=[t];const o=Promise.all(s.map(a=>a({phase:e,buffer:i,context:n}))).then(a=>Promise.all(a.filter(Boolean).map(l=>D4(l,e,!1,n,i))).then(()=>i[0]));return r?uM(await o,s):o},cM="text/plain; charset=UTF-8",xw=(t,e={})=>(Object.entries(e).forEach(([r,n])=>t.set(r,n)),t),Hl,Eo,Ar,Mr,cs,No,Tk,ey=(Tk=class{constructor(t,e){Ie(this,"req");Ie(this,"env",{});Ie(this,"_var",{});Ie(this,"finalized",!1);Ie(this,"error");ie(this,Hl,200);ie(this,Eo,void 0);ie(this,Ar,void 0);ie(this,Mr,void 0);ie(this,cs,void 0);ie(this,No,!0);Ie(this,"layout");Ie(this,"renderer",t=>this.html(t));Ie(this,"notFoundHandler",()=>new Response);Ie(this,"render",(...t)=>this.renderer(...t));Ie(this,"setLayout",t=>this.layout=t);Ie(this,"getLayout",()=>this.layout);Ie(this,"setRenderer",t=>{this.renderer=t});Ie(this,"header",(t,e,r)=>{if(e===void 0){d(this,Ar)?d(this,Ar).delete(t):d(this,Mr)&&delete d(this,Mr)[t.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(t);return}r!=null&&r.append?(d(this,Ar)||(oe(this,No,!1),oe(this,Ar,new Headers(d(this,Mr))),oe(this,Mr,{})),d(this,Ar).append(t,e)):d(this,Ar)?d(this,Ar).set(t,e):(d(this,Mr)??oe(this,Mr,{}),d(this,Mr)[t.toLowerCase()]=e),this.finalized&&(r!=null&&r.append?this.res.headers.append(t,e):this.res.headers.set(t,e))});Ie(this,"status",t=>{oe(this,No,!1),oe(this,Hl,t)});Ie(this,"set",(t,e)=>{this._var??(this._var={}),this._var[t]=e});Ie(this,"get",t=>this._var?this._var[t]:void 0);Ie(this,"newResponse",(t,e,r)=>{if(d(this,No)&&!r&&!e&&d(this,Hl)===200)return new Response(t,{headers:d(this,Mr)});if(e&&typeof e!="number"){const i=new Headers(e.headers);d(this,Ar)&&d(this,Ar).forEach((o,a)=>{i.set(a,o)});const s=xw(i,d(this,Mr));return new Response(t,{headers:s,status:e.status??d(this,Hl)})}const n=typeof e=="number"?e:d(this,Hl);d(this,Mr)??oe(this,Mr,{}),d(this,Ar)??oe(this,Ar,new Headers),xw(d(this,Ar),d(this,Mr)),d(this,cs)&&(d(this,cs).headers.forEach((i,s)=>{var o;(o=d(this,Ar))==null||o.set(s,i)}),xw(d(this,Ar),d(this,Mr))),r??(r={});for(const[i,s]of Object.entries(r))if(typeof s=="string")d(this,Ar).set(i,s);else{d(this,Ar).delete(i);for(const o of s)d(this,Ar).append(i,o)}return new Response(t,{status:n,headers:d(this,Ar)})});Ie(this,"body",(t,e,r)=>typeof e=="number"?this.newResponse(t,e,r):this.newResponse(t,e));Ie(this,"text",(t,e,r)=>{if(!d(this,Mr)){if(d(this,No)&&!r&&!e)return new Response(t);oe(this,Mr,{})}return d(this,Mr)["content-type"]=cM,typeof e=="number"?this.newResponse(t,e,r):this.newResponse(t,e)});Ie(this,"json",(t,e,r)=>{const n=JSON.stringify(t);return d(this,Mr)??oe(this,Mr,{}),d(this,Mr)["content-type"]="application/json; charset=UTF-8",typeof e=="number"?this.newResponse(n,e,r):this.newResponse(n,e)});Ie(this,"html",(t,e,r)=>(d(this,Mr)??oe(this,Mr,{}),d(this,Mr)["content-type"]="text/html; charset=UTF-8",typeof t=="object"&&(t instanceof Promise||(t=t.toString()),t instanceof Promise)?t.then(n=>D4(n,lM.Stringify,!1,{})).then(n=>typeof e=="number"?this.newResponse(n,e,r):this.newResponse(n,e)):typeof e=="number"?this.newResponse(t,e,r):this.newResponse(t,e)));Ie(this,"redirect",(t,e=302)=>(d(this,Ar)??oe(this,Ar,new Headers),d(this,Ar).set("Location",t),this.newResponse(null,e)));Ie(this,"notFound",()=>this.notFoundHandler(this));this.req=t,e&&(oe(this,Eo,e.executionCtx),this.env=e.env,e.notFoundHandler&&(this.notFoundHandler=e.notFoundHandler))}get event(){if(d(this,Eo)&&"respondWith"in d(this,Eo))return d(this,Eo);throw Error("This context has no FetchEvent")}get executionCtx(){if(d(this,Eo))return d(this,Eo);throw Error("This context has no ExecutionContext")}get res(){return oe(this,No,!1),d(this,cs)||oe(this,cs,new Response("404 Not Found",{status:404}))}set res(t){if(oe(this,No,!1),d(this,cs)&&t){d(this,cs).headers.delete("content-type");for(const[e,r]of d(this,cs).headers.entries())if(e==="set-cookie"){const n=d(this,cs).headers.getSetCookie();t.headers.delete("set-cookie");for(const i of n)t.headers.append("set-cookie",i)}else t.headers.set(e,r)}oe(this,cs,t),this.finalized=!0}get var(){return{...this._var}}},Hl=new WeakMap,Eo=new WeakMap,Ar=new WeakMap,Mr=new WeakMap,cs=new WeakMap,No=new WeakMap,Tk),JE=(t,e,r)=>(n,i)=>{let s=-1;return o(0);async function o(a){if(a<=s)throw new Error("next() called multiple times");s=a;let l,u=!1,c;if(t[a]?(c=t[a][0][0],n instanceof ey&&(n.req.routeIndex=a)):c=a===t.length&&i||void 0,!c)n instanceof ey&&n.finalized===!1&&r&&(l=await r(n));else try{l=await c(n,()=>o(a+1))}catch(h){if(h instanceof Error&&n instanceof ey&&e)n.error=h,l=await e(h,n),u=!0;else throw h}return l&&(n.finalized===!1||u)&&(n.res=l),n}},dM=class extends Error{constructor(e=500,r){super(r==null?void 0:r.message,{cause:r==null?void 0:r.cause});Ie(this,"res");Ie(this,"status");this.res=r==null?void 0:r.res,this.status=e}getResponse(){return this.res?this.res:new Response(this.message,{status:this.status})}},fM=async(t,e={all:!1})=>{const n=(t instanceof q4?t.raw.headers:t.headers).get("Content-Type");return hM(n)?pM(t,e):{}};function hM(t){return t===null?!1:t.startsWith("multipart/form-data")||t.startsWith("application/x-www-form-urlencoded")}async function pM(t,e){const r=await t.formData();return r?mM(r,e):{}}function mM(t,e){const r={};return t.forEach((n,i)=>{e.all||i.endsWith("[]")?yM(r,i,n):r[i]=n}),r}var yM=(t,e,r)=>{t[e]&&gM(t[e])?vM(t[e],r):t[e]?wM(t,e,r):t[e]=r};function gM(t){return Array.isArray(t)}var vM=(t,e)=>{t.push(e)},wM=(t,e,r)=>{t[e]=[t[e],r]},M4=t=>{const e=t.split("/");return e[0]===""&&e.shift(),e},bM=t=>{const{groups:e,path:r}=_M(t),n=M4(r);return xM(n,e)},_M=t=>{const e=[];return t=t.replace(/\{[^}]+\}/g,(r,n)=>{const i=`@${n}`;return e.push([i,r]),i}),{groups:e,path:t}},xM=(t,e)=>{for(let r=e.length-1;r>=0;r--){const[n]=e[r];for(let i=t.length-1;i>=0;i--)if(t[i].includes(n)){t[i]=t[i].replace(n,e[r][1]);break}}return t},Sm={},YE=t=>{if(t==="*")return"*";const e=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);return e?(Sm[t]||(e[2]?Sm[t]=[t,e[1],new RegExp("^"+e[2]+"$")]:Sm[t]=[t,e[1],!0]),Sm[t]):null},B4=t=>{const e=t.url,r=e.indexOf("?",8);return e.slice(e.indexOf("/",8),r===-1?void 0:r)},SM=t=>{const e=t.indexOf("?",8);return e===-1?"":"?"+t.slice(e+1)},EM=t=>{const e=B4(t);return e.length>1&&e[e.length-1]==="/"?e.slice(0,-1):e},ff=(...t)=>{let e="",r=!1;for(let n of t)e[e.length-1]==="/"&&(e=e.slice(0,-1),r=!0),n[0]!=="/"&&(n=`/${n}`),n==="/"&&r?e=`${e}/`:n!=="/"&&(e=`${e}${n}`),n==="/"&&e===""&&(e="/");return e},F4=t=>{if(!t.match(/\:.+\?$/))return null;const e=t.split("/"),r=[];let n="";return e.forEach(i=>{if(i!==""&&!/\:/.test(i))n+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){r.length===0&&n===""?r.push("/"):r.push(n);const s=i.replace("?","");n+="/"+s,r.push(n)}else n+="/"+i}),r.filter((i,s,o)=>o.indexOf(i)===s)},Sw=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),/%/.test(t)?fb(t):t):t,W4=(t,e,r)=>{let n;if(!r&&e&&!/[%+]/.test(e)){let o=t.indexOf(`?${e}`,8);for(o===-1&&(o=t.indexOf(`&${e}`,8));o!==-1;){const a=t.charCodeAt(o+e.length+1);if(a===61){const l=o+e.length+2,u=t.indexOf("&",l);return Sw(t.slice(l,u===-1?void 0:u))}else if(a==38||isNaN(a))return"";o=t.indexOf(`&${e}`,o+1)}if(n=/[%+]/.test(t),!n)return}const i={};n??(n=/[%+]/.test(t));let s=t.indexOf("?",8);for(;s!==-1;){const o=t.indexOf("&",s+1);let a=t.indexOf("=",s);a>o&&o!==-1&&(a=-1);let l=t.slice(s+1,a===-1?o===-1?void 0:o:a);if(n&&(l=Sw(l)),s=o,l==="")continue;let u;a===-1?u="":(u=t.slice(a+1,o===-1?void 0:o),n&&(u=Sw(u))),r?(i[l]&&Array.isArray(i[l])||(i[l]=[]),i[l].push(u)):i[l]??(i[l]=u)}return e?i[e]:i},NM=W4,kM=(t,e)=>W4(t,e,!0),fb=decodeURIComponent,Mc,ds,Rk,q4=(Rk=class{constructor(t,e="/",r=[[]]){Ie(this,"raw");ie(this,Mc,void 0);ie(this,ds,void 0);Ie(this,"routeIndex",0);Ie(this,"path");Ie(this,"bodyCache",{});Ie(this,"cachedBody",t=>{const{bodyCache:e,raw:r}=this,n=e[t];if(n)return n;if(!e[t]){for(const i of Object.keys(e))if(i!=="parsedBody")return(async()=>{let s=await e[i];return i==="json"&&(s=JSON.stringify(s)),await new Response(s)[t]()})()}return e[t]=r[t]()});this.raw=t,this.path=e,oe(this,ds,r),oe(this,Mc,{})}param(t){return t?this.getDecodedParam(t):this.getAllDecodedParams()}getDecodedParam(t){const e=d(this,ds)[0][this.routeIndex][1][t],r=this.getParamValue(e);return r?/\%/.test(r)?fb(r):r:void 0}getAllDecodedParams(){const t={},e=Object.keys(d(this,ds)[0][this.routeIndex][1]);for(const r of e){const n=this.getParamValue(d(this,ds)[0][this.routeIndex][1][r]);n&&typeof n=="string"&&(t[r]=/\%/.test(n)?fb(n):n)}return t}getParamValue(t){return d(this,ds)[1]?d(this,ds)[1][t]:t}query(t){return NM(this.url,t)}queries(t){return kM(this.url,t)}header(t){if(t)return this.raw.headers.get(t.toLowerCase())??void 0;const e={};return this.raw.headers.forEach((r,n)=>{e[n]=r}),e}async parseBody(t){if(this.bodyCache.parsedBody)return this.bodyCache.parsedBody;const e=await fM(this,t);return this.bodyCache.parsedBody=e,e}json(){return this.cachedBody("json")}text(){return this.cachedBody("text")}arrayBuffer(){return this.cachedBody("arrayBuffer")}blob(){return this.cachedBody("blob")}formData(){return this.cachedBody("formData")}addValidatedData(t,e){d(this,Mc)[t]=e}valid(t){return d(this,Mc)[t]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return d(this,ds)[0].map(([[,t]])=>t)}get routePath(){return d(this,ds)[0].map(([[,t]])=>t)[this.routeIndex].path}},Mc=new WeakMap,ds=new WeakMap,Rk),tn="ALL",CM="all",TM=["get","post","put","delete","options","patch"],U4="Can not add a route since the matcher is already built.",z4=class extends Error{},RM=Symbol("composedHandler");function OM(){return class{}}var AM=t=>t.text("404 Not Found",404),KE=(t,e)=>t instanceof dM?t.getResponse():(console.error(t),e.text("Internal Server Error",500)),fs,Ok,V4=(Ok=class extends OM(){constructor(r={}){super();Ie(this,"router");Ie(this,"getPath");Ie(this,"_basePath","/");ie(this,fs,"/");Ie(this,"routes",[]);Ie(this,"notFoundHandler",AM);Ie(this,"errorHandler",KE);Ie(this,"onError",r=>(this.errorHandler=r,this));Ie(this,"notFound",r=>(this.notFoundHandler=r,this));Ie(this,"fetch",(r,n,i)=>this.dispatch(r,i,n,r.method));Ie(this,"request",(r,n,i,s)=>{if(r instanceof Request)return n!==void 0&&(r=new Request(r,n)),this.fetch(r,i,s);r=r.toString();const o=/^https?:\/\//.test(r)?r:`http://localhost${ff("/",r)}`,a=new Request(o,n);return this.fetch(a,i,s)});Ie(this,"fire",()=>{addEventListener("fetch",r=>{r.respondWith(this.dispatch(r.request,r,void 0,r.request.method))})});[...TM,CM].forEach(s=>{this[s]=(o,...a)=>(typeof o=="string"?oe(this,fs,o):this.addRoute(s,d(this,fs),o),a.forEach(l=>{typeof l!="string"&&this.addRoute(s,d(this,fs),l)}),this)}),this.on=(s,o,...a)=>{if(!s)return this;for(const l of[o].flat()){oe(this,fs,l);for(const u of[s].flat())a.map(c=>{this.addRoute(u.toUpperCase(),d(this,fs),c)})}return this},this.use=(s,...o)=>(typeof s=="string"?oe(this,fs,s):(oe(this,fs,"*"),o.unshift(s)),o.forEach(a=>{this.addRoute(tn,d(this,fs),a)}),this);const i=r.strict??!0;delete r.strict,Object.assign(this,r),this.getPath=i?r.getPath??B4:EM}clone(){const r=new V4({router:this.router,getPath:this.getPath});return r.routes=this.routes,r}route(r,n){const i=this.basePath(r);return n?(n.routes.map(s=>{let o;n.errorHandler===KE?o=s.handler:(o=async(a,l)=>(await JE([],n.errorHandler)(a,()=>s.handler(a,l))).res,o[RM]=s.handler),i.addRoute(s.method,s.path,o)}),this):i}basePath(r){const n=this.clone();return n._basePath=ff(this._basePath,r),n}mount(r,n,i){const s=ff(this._basePath,r),o=s==="/"?0:s.length,a=async(l,u)=>{let c;try{c=l.executionCtx}catch{}const h=i?i(l):[l.env,c],p=Array.isArray(h)?h:[h],g=SM(l.req.url),_=await n(new Request(new URL((l.req.path.slice(o)||"/")+g,l.req.url),l.req.raw),...p);if(_)return _;await u()};return this.addRoute(tn,ff(r,"*"),a),this}addRoute(r,n,i){r=r.toUpperCase(),n=ff(this._basePath,n);const s={path:n,method:r,handler:i};this.router.add(r,n,[i,s]),this.routes.push(s)}matchRoute(r,n){return this.router.match(r,n)}handleError(r,n){if(r instanceof Error)return this.errorHandler(r,n);throw r}dispatch(r,n,i,s){if(s==="HEAD")return(async()=>new Response(null,await this.dispatch(r,n,i,"GET")))();const o=this.getPath(r,{env:i}),a=this.matchRoute(s,o),l=new ey(new q4(r,o,a),{env:i,executionCtx:n,notFoundHandler:this.notFoundHandler});if(a[0].length===1){let c;try{c=a[0][0][0][0](l,async()=>{l.res=await this.notFoundHandler(l)})}catch(h){return this.handleError(h,l)}return c instanceof Promise?c.then(h=>h||(l.finalized?l.res:this.notFoundHandler(l))).catch(h=>this.handleError(h,l)):c}const u=JE(a[0],this.errorHandler,this.notFoundHandler);return(async()=>{try{const c=await u(l);if(!c.finalized)throw new Error("Context is not finalized. You may forget returning Response object or `await next()`");return c.res}catch(c){return this.handleError(c,l)}})()}},fs=new WeakMap,Ok),Xy="[^/]+",$f=".*",jf="(?:|/.*)",xf=Symbol(),IM=new Set(".\\+*[^]$()");function PM(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===$f||t===jf?1:e===$f||e===jf?-1:t===Xy?1:e===Xy?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var hb=class{constructor(){Ie(this,"index");Ie(this,"varIndex");Ie(this,"children",Object.create(null))}insert(e,r,n,i,s){if(e.length===0){if(this.index!==void 0)throw xf;if(s)return;this.index=r;return}const[o,...a]=e,l=o==="*"?a.length===0?["","",$f]:["","",Xy]:o==="/*"?["","",jf]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let u;if(l){const c=l[1];let h=l[2]||Xy;if(c&&l[2]&&(h=h.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(h)))throw xf;if(u=this.children[h],!u){if(Object.keys(this.children).some(p=>p!==$f&&p!==jf))throw xf;if(s)return;u=this.children[h]=new hb,c!==""&&(u.varIndex=i.varIndex++)}!s&&c!==""&&n.push([c,u.varIndex])}else if(u=this.children[o],!u){if(Object.keys(this.children).some(c=>c.length>1&&c!==$f&&c!==jf))throw xf;if(s)return;u=this.children[o]=new hb}u.insert(a,r,n,i,s)}buildRegExpStr(){const r=Object.keys(this.children).sort(PM).map(n=>{const i=this.children[n];return(typeof i.varIndex=="number"?`(${n})@${i.varIndex}`:IM.has(n)?`\\${n}`:n)+i.buildRegExpStr()});return typeof this.index=="number"&&r.unshift(`#${this.index}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}},$M=class{constructor(){Ie(this,"context",{varIndex:0});Ie(this,"root",new hb)}insert(t,e,r){const n=[],i=[];for(let o=0;;){let a=!1;if(t=t.replace(/\{[^}]+\}/g,l=>{const u=`@\\${o}`;return i[o]=[u,l],o++,a=!0,u}),!a)break}const s=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=i.length-1;o>=0;o--){const[a]=i[o];for(let l=s.length-1;l>=0;l--)if(s[l].indexOf(a)!==-1){s[l]=s[l].replace(a,i[o][1]);break}}return this.root.insert(s,e,n,this.context,r),n}buildRegExp(){let t=this.root.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0;const r=[],n=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,s,o)=>typeof s<"u"?(r[++e]=Number(s),"$()"):(typeof o<"u"&&(n[Number(o)]=++e),"")),[new RegExp(`^${t}`),r,n]}},H4=[],jM=[/^$/,[],Object.create(null)],ty=Object.create(null);function Q4(t){return ty[t]??(ty[t]=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,r)=>r?`\\${r}`:"(?:|/.*)")}$`))}function LM(){ty=Object.create(null)}function DM(t){var u;const e=new $M,r=[];if(t.length===0)return jM;const n=t.map(c=>[!/\*|\/:/.test(c[0]),...c]).sort(([c,h],[p,g])=>c?1:p?-1:h.length-g.length),i=Object.create(null);for(let c=0,h=-1,p=n.length;c<p;c++){const[g,_,S]=n[c];g?i[_]=[S.map(([w])=>[w,Object.create(null)]),H4]:h++;let E;try{E=e.insert(_,h,g)}catch(w){throw w===xf?new z4(_):w}g||(r[h]=S.map(([w,v])=>{const N=Object.create(null);for(v-=1;v>=0;v--){const[I,R]=E[v];N[I]=R}return[w,N]}))}const[s,o,a]=e.buildRegExp();for(let c=0,h=r.length;c<h;c++)for(let p=0,g=r[c].length;p<g;p++){const _=(u=r[c][p])==null?void 0:u[1];if(!_)continue;const S=Object.keys(_);for(let E=0,w=S.length;E<w;E++)_[S[E]]=a[_[S[E]]]}const l=[];for(const c in o)l[c]=r[o[c]];return[s,l,i]}function Gu(t,e){if(t){for(const r of Object.keys(t).sort((n,i)=>i.length-n.length))if(Q4(r).test(e))return[...t[r]]}}var MM=class{constructor(){Ie(this,"name","RegExpRouter");Ie(this,"middleware");Ie(this,"routes");this.middleware={[tn]:Object.create(null)},this.routes={[tn]:Object.create(null)}}add(t,e,r){var a;const{middleware:n,routes:i}=this;if(!n||!i)throw new Error(U4);n[t]||[n,i].forEach(l=>{l[t]=Object.create(null),Object.keys(l[tn]).forEach(u=>{l[t][u]=[...l[tn][u]]})}),e==="/*"&&(e="*");const s=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){const l=Q4(e);t===tn?Object.keys(n).forEach(u=>{var c;(c=n[u])[e]||(c[e]=Gu(n[u],e)||Gu(n[tn],e)||[])}):(a=n[t])[e]||(a[e]=Gu(n[t],e)||Gu(n[tn],e)||[]),Object.keys(n).forEach(u=>{(t===tn||t===u)&&Object.keys(n[u]).forEach(c=>{l.test(c)&&n[u][c].push([r,s])})}),Object.keys(i).forEach(u=>{(t===tn||t===u)&&Object.keys(i[u]).forEach(c=>l.test(c)&&i[u][c].push([r,s]))});return}const o=F4(e)||[e];for(let l=0,u=o.length;l<u;l++){const c=o[l];Object.keys(i).forEach(h=>{var p;(t===tn||t===h)&&((p=i[h])[c]||(p[c]=[...Gu(n[h],c)||Gu(n[tn],c)||[]]),i[h][c].push([r,s-u+l+1]))})}}match(t,e){LM();const r=this.buildAllMatchers();return this.match=(n,i)=>{const s=r[n]||r[tn],o=s[2][i];if(o)return o;const a=i.match(s[0]);if(!a)return[[],H4];const l=a.indexOf("",1);return[s[1][l],a]},this.match(t,e)}buildAllMatchers(){const t=Object.create(null);return[...Object.keys(this.routes),...Object.keys(this.middleware)].forEach(e=>{t[e]||(t[e]=this.buildMatcher(e))}),this.middleware=this.routes=void 0,t}buildMatcher(t){const e=[];let r=t===tn;return[this.middleware,this.routes].forEach(n=>{const i=n[t]?Object.keys(n[t]).map(s=>[s,n[t][s]]):[];i.length!==0?(r||(r=!0),e.push(...i)):t!==tn&&e.push(...Object.keys(n[tn]).map(s=>[s,n[tn][s]]))}),r?DM(e):null}},BM=class{constructor(t){Ie(this,"name","SmartRouter");Ie(this,"routers",[]);Ie(this,"routes",[]);Object.assign(this,t)}add(t,e,r){if(!this.routes)throw new Error(U4);this.routes.push([t,e,r])}match(t,e){if(!this.routes)throw new Error("Fatal error");const{routers:r,routes:n}=this,i=r.length;let s=0,o;for(;s<i;s++){const a=r[s];try{n.forEach(l=>{a.add(...l)}),o=a.match(t,e)}catch(l){if(l instanceof z4)continue;throw l}this.match=a.match.bind(a),this.routers=[a],this.routes=void 0;break}if(s===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(this.routes||this.routers.length!==1)throw new Error("No active router has been determined yet.");return this.routers[0]}},G4=class{constructor(t,e,r){Ie(this,"methods");Ie(this,"children");Ie(this,"patterns");Ie(this,"order",0);Ie(this,"name");Ie(this,"params",Object.create(null));if(this.children=r||Object.create(null),this.methods=[],this.name="",t&&e){const n=Object.create(null);n[t]={handler:e,possibleKeys:[],score:0,name:this.name},this.methods=[n]}this.patterns=[]}insert(t,e,r){this.name=`${t} ${e}`,this.order=++this.order;let n=this;const i=bM(e),s=[];for(let l=0,u=i.length;l<u;l++){const c=i[l];if(Object.keys(n.children).includes(c)){n=n.children[c];const p=YE(c);p&&s.push(p[1]);continue}n.children[c]=new G4;const h=YE(c);h&&(n.patterns.push(h),s.push(h[1])),n=n.children[c]}n.methods.length||(n.methods=[]);const o=Object.create(null),a={handler:r,possibleKeys:s.filter((l,u,c)=>c.indexOf(l)===u),name:this.name,score:this.order};return o[t]=a,n.methods.push(o),n}gHSets(t,e,r,n){const i=[];for(let s=0,o=t.methods.length;s<o;s++){const a=t.methods[s],l=a[e]||a[tn],u=Object.create(null);l!==void 0&&(l.params=Object.create(null),l.possibleKeys.forEach(c=>{const h=u[l.name];l.params[c]=n[c]&&!h?n[c]:r[c]??n[c],u[l.name]=!0}),i.push(l))}return i}search(t,e){const r=[];this.params=Object.create(null);let i=[this];const s=M4(e);for(let a=0,l=s.length;a<l;a++){const u=s[a],c=a===l-1,h=[];for(let p=0,g=i.length;p<g;p++){const _=i[p],S=_.children[u];S&&(S.params=_.params,c===!0?(S.children["*"]&&r.push(...this.gHSets(S.children["*"],t,_.params,Object.create(null))),r.push(...this.gHSets(S,t,_.params,Object.create(null)))):h.push(S));for(let E=0,w=_.patterns.length;E<w;E++){const v=_.patterns[E],N={..._.params};if(v==="*"){const Z=_.children["*"];Z&&(r.push(...this.gHSets(Z,t,_.params,Object.create(null))),h.push(Z));continue}if(u==="")continue;const[I,R,k]=v,L=_.children[I],j=s.slice(a).join("/");if(k instanceof RegExp&&k.test(j)){N[R]=j,r.push(...this.gHSets(L,t,_.params,N));continue}(k===!0||k instanceof RegExp&&k.test(u))&&typeof I=="string"&&(N[R]=u,c===!0?(r.push(...this.gHSets(L,t,N,_.params)),L.children["*"]&&r.push(...this.gHSets(L.children["*"],t,N,_.params))):(L.params=N,h.push(L)))}}i=h}return[r.sort((a,l)=>a.score-l.score).map(({handler:a,params:l})=>[a,l])]}},FM=class{constructor(){Ie(this,"name","TrieRouter");Ie(this,"node");this.node=new G4}add(t,e,r){const n=F4(e);if(n){for(const i of n)this.node.insert(t,i,r);return}this.node.insert(t,e,r)}match(t,e){return this.node.search(t,e)}},J4=class extends V4{constructor(t={}){super(t),this.router=t.router??new BM({routers:[new MM,new FM]})}};const zv=()=>new J4;class ia{constructor(e,r){this._body=e,this.deps=r}get body(){return this._body}get db(){return this.deps.db}}const Y4=async t=>(await t.selectFrom(v7).selectAll().execute()).map(Su.fromRow),WM=async t=>(await t.selectFrom(S7).selectAll().execute()).map(nM.fromRow),K4=async(t,e,r)=>await t.selectFrom(T7).selectAll().where("code","=",e).where("date","=",r).executeTakeFirst(),qM=fr.object({}),UM=async t=>{const e=t.db,[r,n]=await Promise.all([WM(e),Y4(e)]);return{accountGroups:r,accounts:n}},Z4=async(t,e)=>await t.insertInto(bd).values(e).executeTakeFirstOrThrow(),X4=async(t,e)=>{const r=await t.selectFrom(Pu).innerJoin("ledgerTransaction",l=>l.onRef("ledgerTransaction.txid","=","accountTransaction.txid")).selectAll().where("accountTransaction.txid","=",e).execute();if(r.length<=0)return;const[n,i]=r;if(!n)return;const s=r.map(Qn.fromRow).map(Qn.validate).sort(Qn.compare),o=Qn.filter_debit(s),a=Qn.filter_credit(s);return{id:n.txid,brief:n.brief,date:n.date,lines_debit:o,lines_credit:a}},zM=async(t,e)=>{const r=await t.selectFrom(Pu).innerJoin("ledgerTransaction",o=>o.onRef("ledgerTransaction.txid","=","accountTransaction.txid")).selectAll().where("accountTransaction.date",">=",e.start).where("accountTransaction.date","<",e.end).orderBy("date asc").execute();if(r.length===0)return[];const n=Nh(r,o=>o.txid);return Object.entries(n).map(([o,a])=>{const l=a[0];if(!l)throw new Error("not found");const u=a.map(Qn.fromRow).map(Qn.validate).sort(Qn.compare),c=Qn.filter_debit(u),h=Qn.filter_credit(u);return{id:o,brief:l.brief,date:l.date,lines_debit:c,lines_credit:h}})},VM=async(t,e)=>await t.insertInto(Pu).values(e).executeTakeFirstOrThrow(),eR=t=>{const e={txid:t.id,date:t.date,brief:t.brief},r=t.lines_debit.map(i=>({txid:t.id,code:i.code,tag:bx,amount:i.debit})),n=t.lines_credit.map(i=>({txid:t.id,code:i.code,tag:_x,amount:i.credit}));return{accounts:[e],ledgers:[...r,...n]}},HM=async(t,e)=>await X4(t,e),QM=async(t,e)=>{const{accounts:r,ledgers:n}=eR(e),i=await VM(t,r),s=await Z4(t,n);return{account:i,ledger:s}},GM=async(t,e)=>{const r=await HM(t,e.id);if(!r)throw new Error("not found");if(w4(r,e))return 0;const n={brief:e.brief,date:e.date};await t.updateTable(Pu).set(n).where("txid","=",e.id).executeTakeFirstOrThrow(),await t.deleteFrom(bd).where("txid","=",e.id).executeTakeFirstOrThrow();const{ledgers:i}=eR(e);return await Z4(t,i),2},JM=async(t,e)=>{const r=await t.deleteFrom(Pu).where("txid","=",e).executeTakeFirstOrThrow(),n=await t.deleteFrom(bd).where("txid","=",e).executeTakeFirstOrThrow();return{account:r,ledger:n}},tR=fr.object({startDate:Zo.schema,endDate:Zo.schema}),YM=async t=>{const{startDate:e,endDate:r}=t.body;return await zM(t.db,{start:e,end:r})},rR=fr.object({id:fr.string()}),KM=async t=>{const{id:e}=t.body;return await X4(t.db,e)},nR=Mh.schema,ZM=async t=>{const e=t.db,r=t.body;return await e.transaction().execute(async n=>await QM(n,r)),r},XM=async t=>{const e=t.db,r=t.body;return await e.transaction().execute(async n=>await GM(n,r)),r},eB=fr.object({id:fr.string()}),tB=async t=>{const e=t.db,{id:r}=t.body;return await e.transaction().execute(async n=>await JM(n,r)),r},iR=async(t,e,r)=>{const n=Su.toGroup(e),a=n*1e3===e?await(async()=>await t.selectFrom(bd).selectAll().where("code",">=",n*1e3).where("code","<",(n+1)*1e3).execute())():await(async()=>await t.selectFrom(bd).selectAll().where("code","=",e).execute())();if(a.length<=0)return[];const l=new Map;for(const h of a){const p=yd(h,Qn.fromRow),g=l.get(h.txid)??[];l.set(h.txid,[...g,p])}return(await t.selectFrom(Pu).selectAll().where("txid","in",a.map(h=>h.txid)).where("date",">=",r.start).where("date","<",r.end).orderBy("date","asc").execute()).flatMap(h=>{const p=l.get(h.txid);if(!p)throw new Error("entryLine not found");return p.map(g=>({id:h.txid,brief:h.brief,date:h.date,debit:g._tag==="debit"?g.debit:0,credit:g._tag==="credit"?g.credit:0}))})},sR=fr.object({code:fr.coerce.number(),startDate:Zo.schema,endDate:Zo.schema}),rB=async t=>{const e=t.body,r=e.code<1e3?e.code*1e3:e.code,{startDate:n,endDate:i}=e,s=await iR(t.db,r,{start:n,end:i}),a=await K4(t.db,r,n)??{code:r,date:n,closingBalance:0,totalDebit:0,totalCredit:0},l=[{id:"",brief:`${a.date} `,date:a.date,debit:a.totalDebit,credit:a.totalCredit,balance:a.closingBalance}];for(const u of s){const c=l[l.length-1];Xm(c);const h={id:u.id,brief:u.brief,date:u.date,debit:u.debit,credit:u.credit,balance:c.balance+u.debit-u.credit};l.push(h)}return{code:r,lines:l,statement:a,ledgers:s}},nB=async(t,e,r)=>{const n=r.split("-"),i=`${n[0]}-${n[1]}-01`,a=new Date(r).getTime()+24*60*60*1e3,l=new Date(a).toISOString().split("T")[0],u=await K4(t,e,i),c=await iR(t,e,{start:i,end:l});return{statement:u,ledgers:c,balance:iB({statement:u,ledgers:c})}},iB=t=>{const{statement:e,ledgers:r}=t,n=Zr(r,u=>u.debit),i=Zr(r,u=>u.credit),s=(e==null?void 0:e.totalDebit)??0,o=(e==null?void 0:e.totalCredit)??0,a=n+s,l=i+o;return{debit:a,credit:l,balance:a-l}},sB=async(t,e,r)=>{const n=await oB(t,e,r);return n.accounts.map(i=>{const s=i.code,o=n.ledgers.filter(l=>l.code===s);return aB(i,o)})},oB=async(t,e,r)=>{const n=await Y4(t),s=(await t.selectFrom(Pu).select("txid").where("date",">=",e).where("date","<",r).execute()).map(a=>a.txid),o=s.length>0?await t.selectFrom(bd).selectAll().where("txid","in",s).execute():[];return{accounts:n,ledgers:o}},aB=(t,e)=>{const r=t.code,n=yd(e,wu(a=>a.tag===bx),Zr(a=>a.amount)),i=yd(e,wu(a=>a.tag===_x),Zr(a=>a.amount)),s=n>i?n-i:0,o=i>n?i-n:0;return{code:r,debit_sum:n,debit_balance:s,credit_sum:i,credit_balance:o}},oR=fr.object({date:Zo.schema,code:fr.coerce.number()}),lB=async t=>{const e=t.db,{date:r,code:n}=t.body;return await nB(e,n,r)},aR=fr.object({date:Zo.schema}),uB=async t=>{const e=t.db,{date:r}=t.body,n=Zo.setDay(r,1),i=Zo.addMonth(n,1),s=await sB(e,n,i);return{date_first:n,date_end:i,accounts:s}},Ld=zv();Ld.get("/list",async t=>{const{db:e}=t.env,r=tR.parse(t.req.query()),n=new ia(r,{db:e}),i=await YM(n);return t.json(i)});Ld.get("/transaction/:id",async t=>{const{db:e}=t.env,r=rR.parse({id:t.req.param("id")}),n=new ia(r,{db:e}),i=await KM(n);return t.json(i)});Ld.post("/transaction",async t=>{const{db:e}=t.env,r=nR.parse(await t.req.json()),n=new ia(r,{db:e}),i=await ZM(n);return t.json(i)});Ld.post("/transaction/:id",async t=>{const{db:e}=t.env,r=nR.parse(await t.req.json()),n=new ia(r,{db:e}),i=await XM(n);return t.json(i)});Ld.delete("/transaction/:id",async t=>{const{db:e}=t.env,r=eB.parse({id:t.req.param("id")}),n=new ia(r,{db:e}),i=await tB(n);return t.json(i)});const Vv="/api/journal",lR=zv();lR.get("/list",async t=>{const{db:e}=t.env,r=sR.parse(t.req.query()),n=new ia(r,{db:e}),i=await rB(n);return t.json(i)});const uR="/api/ledger",cR=zv();cR.get("/list",async t=>{const{db:e}=t.env,r=qM.parse(t.req.query()),n=new ia(r,{db:e}),i=await UM(n);return t.json(i)});const dR="/api/account",Sx=zv();Sx.get("/trial-balance/:date",async t=>{const{db:e}=t.env,r=aR.parse({date:t.req.param("date")}),n=new ia(r,{db:e}),i=await uB(n);return t.json(i)});Sx.get("/:code/:date",async t=>{const{db:e}=t.env,r=oR.parse({code:t.req.param("code"),date:t.req.param("date")}),n=new ia(r,{db:e}),i=await lB(n);return t.json(i)});const Ex="/api/balance",cr=t=>{const{amount:e,fw:r}=t,n=new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}),i=t.ta??"right",s=n.format(e);return r?y.jsx(pd,{ta:i,fw:r,children:s}):y.jsx(pd,{ta:i,children:s})},cB=()=>{const t=kp(),e=oR.parse(t),r=`${Ex}/${e.code}/${e.date}`,{data:n,error:i,isLoading:s}=jd(r),o=n;return i?y.jsx("div",{children:"failed to load"}):s?y.jsx("div",{children:"loading..."}):y.jsx(dB,{req:e,resp:o})},dB=t=>{const{req:e,resp:r}=t,{date:n,code:i}=e,{statement:s,ledgers:o,balance:a}=r;return y.jsxs(y.Fragment,{children:[y.jsxs("h1",{children:["balance: ",i]}),y.jsx(fB,{date:n,ledgers:o,statement:s,balance:a})]})},fB=t=>{const{date:e,statement:r,ledgers:n,balance:i}=t;return y.jsxs(U,{children:[y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:"date"}),y.jsx(U.Th,{children:"brief"}),y.jsx(U.Th,{children:"debit"}),y.jsx(U.Th,{children:"credit"})]})}),y.jsxs(U.Tbody,{children:[r?y.jsx(hB,{statement:r}):null,n.map(s=>y.jsx(pB,{ledger:s},s.id))]}),y.jsxs(U.Tfoot,{children:[y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:e}),y.jsx(U.Th,{children:" "}),y.jsx(U.Th,{children:y.jsx(cr,{amount:i.debit})}),y.jsx(U.Th,{children:y.jsx(cr,{amount:i.credit})})]}),y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:e}),y.jsx(U.Th,{children:"debit - credit"}),y.jsx(U.Th,{children:y.jsx(cr,{amount:i.balance})}),y.jsx(U.Th,{children:" "})]})]})]})},hB=t=>{const{statement:e}=t,r=e.totalDebit,n=e.totalCredit;return y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:e.date}),y.jsx(U.Td,{children:e.date}),y.jsx(U.Td,{children:r>0?y.jsx(cr,{amount:r}):null}),y.jsx(U.Td,{children:n>0?y.jsx(cr,{amount:n}):null})]})},pB=t=>{const{ledger:e}=t;return y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:e.date}),y.jsx(U.Td,{children:e.brief}),y.jsx(U.Td,{children:e.debit>0?y.jsx(cr,{amount:e.debit}):null}),y.jsx(U.Td,{children:e.credit>0?y.jsx(cr,{amount:e.credit}):null})]})},pb=t=>t.toISOString().split("T")[0]??"",fR=t=>{const e=new Date(t);e.setDate(1);const r=new Date(t);return r.setDate(1),r.setUTCMonth(r.getUTCMonth()+1),{startDate:pb(e),endDate:pb(r)}},mB={accountGroups:[],accounts:[]},Op=O.createContext(mB),yB=()=>{const t=O.useContext(Op),r=pb(new Date),[n,i]=O.useState(r),[s,o]=O.useState(!1),[a,l]=O.useState(null),[u,c]=O.useState(null),[h,p]=O.useState("1970-01-01"),g=Su.zip(t.accounts,t.accountGroups),_=g.filter(v=>v.group.major==="asset"),S=g.filter(v=>v.group.major==="equity"),E=g.filter(v=>v.group.major==="liability"),w=async()=>{o(!0),c(null),l(null);try{p(n),c({})}catch(v){l(v)}o(!1)};return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"balance"}),y.jsx("h2",{children:"date"}),y.jsxs("form",{children:[y.jsx(Ht.Wrapper,{label:"date",children:y.jsx(Ht,{type:"date",value:n,onChange:v=>i(v.target.value)})}),y.jsx(jr,{type:"button",loading:s,onClick:w,children:"refresh"})]}),_.length?y.jsx(Ew,{items:_,date:h}):null,S.length?y.jsx(Ew,{items:S,date:h}):null,E.length?y.jsx(Ew,{items:E,date:h}):null]})},Ew=t=>{const{items:e,date:r}=t;return y.jsxs(U,{children:[y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:""}),y.jsx(U.Th,{children:""}),y.jsx(U.Th,{children:""}),y.jsx(U.Th,{children:""}),y.jsxs(U.Th,{children:[": ",r]})]})}),y.jsx(U.Tbody,{children:e.map(({account:n,group:i})=>{const s=xx.toKorean(i.major),o=i.minor,a=`/balance/${n.code}/${r}`;return y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:s}),y.jsx(U.Td,{children:o}),y.jsx(U.Td,{children:n.code}),y.jsx(U.Td,{children:y.jsx(Hn,{component:Si,to:a,children:n.name})}),y.jsx(U.Td,{children:y.jsx(cr,{amount:-1})})]},n.code)})})]})};var Ap=t=>t.type==="checkbox",_c=t=>t instanceof Date,Un=t=>t==null;const hR=t=>typeof t=="object";var an=t=>!Un(t)&&!Array.isArray(t)&&hR(t)&&!_c(t),gB=t=>an(t)&&t.target?Ap(t.target)?t.target.checked:t.target.value:t,vB=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,wB=(t,e)=>t.has(vB(e)),bB=t=>{const e=t.constructor&&t.constructor.prototype;return an(e)&&e.hasOwnProperty("isPrototypeOf")},Nx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fi(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Nx&&(t instanceof Blob||t instanceof FileList))&&(r||an(t)))if(e=r?[]:{},!r&&!bB(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Fi(t[n]));else return t;return e}var Ip=t=>Array.isArray(t)?t.filter(Boolean):[],Wr=t=>t===void 0,Qe=(t,e,r)=>{if(!e||!an(t))return r;const n=Ip(e.split(/[,[\].]+?/)).reduce((i,s)=>Un(i)?i:i[s],t);return Wr(n)||n===t?Wr(t[e])?r:t[e]:n},So=t=>typeof t=="boolean";const ZE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ns={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_B=T.createContext(null),xB=()=>T.useContext(_B);var SB=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ns.all&&(e._proxyFormState[o]=!n||Ns.all),r&&(r[o]=!0),t[o]}});return i},wi=t=>an(t)&&!Object.keys(t).length,EB=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return wi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||Ns.all))},Nw=t=>Array.isArray(t)?t:[t];function NB(t){const e=T.useRef(t);e.current=t,T.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var Zs=t=>typeof t=="string",kB=(t,e,r,n,i)=>Zs(t)?(n&&e.watch.add(t),Qe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Qe(r,s))):(n&&(e.watchAll=!0),r),kx=t=>/^\w*$/.test(t),pR=t=>Ip(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pr=(t,e,r)=>{let n=-1;const i=kx(e)?[e]:pR(e),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let l=r;if(n!==o){const u=t[a];l=an(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}t[a]=l,t=t[a]}return t},CB=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},XE=t=>({isOnSubmit:!t||t===Ns.onSubmit,isOnBlur:t===Ns.onBlur,isOnChange:t===Ns.onChange,isOnAll:t===Ns.all,isOnTouch:t===Ns.onTouched}),eN=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Lf=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Qe(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)break;if(o.ref&&e(o.ref,o.name)&&!n)break;Lf(a,e)}else an(a)&&Lf(a,e)}}};var TB=(t,e,r)=>{const n=Ip(Qe(t,r));return pr(n,"root",e[r]),pr(t,r,n),t},Cx=t=>t.type==="file",Ma=t=>typeof t=="function",eg=t=>{if(!Nx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ry=t=>Zs(t),Tx=t=>t.type==="radio",tg=t=>t instanceof RegExp;const tN={value:!1,isValid:!1},rN={value:!0,isValid:!0};var mR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Wr(t[0].attributes.value)?Wr(t[0].value)||t[0].value===""?rN:{value:t[0].value,isValid:!0}:rN:tN}return tN};const nN={isValid:!1,value:null};var yR=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,nN):nN;function iN(t,e,r="validate"){if(ry(t)||Array.isArray(t)&&t.every(ry)||So(t)&&!t)return{type:r,message:ry(t)?t:"",ref:e}}var Ju=t=>an(t)&&!tg(t)?t:{value:t,message:""},sN=async(t,e,r,n,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:p,validate:g,name:_,valueAsNumber:S,mount:E,disabled:w}=t._f,v=Qe(e,_);if(!E||w)return{};const N=o?o[0]:s,I=re=>{n&&N.reportValidity&&(N.setCustomValidity(So(re)?"":re||""),N.reportValidity())},R={},k=Tx(s),L=Ap(s),j=k||L,Z=(S||Cx(s))&&Wr(s.value)&&Wr(v)||eg(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,Q=CB.bind(null,_,r,R),te=(re,G,fe,je=yo.maxLength,Fe=yo.minLength)=>{const Pe=re?G:fe;R[_]={type:re?je:Fe,message:Pe,ref:s,...Q(re?je:Fe,Pe)}};if(i?!Array.isArray(v)||!v.length:a&&(!j&&(Z||Un(v))||So(v)&&!v||L&&!mR(o).isValid||k&&!yR(o).isValid)){const{value:re,message:G}=ry(a)?{value:!!a,message:a}:Ju(a);if(re&&(R[_]={type:yo.required,message:G,ref:N,...Q(yo.required,G)},!r))return I(G),R}if(!Z&&(!Un(c)||!Un(h))){let re,G;const fe=Ju(h),je=Ju(c);if(!Un(v)&&!isNaN(v)){const Fe=s.valueAsNumber||v&&+v;Un(fe.value)||(re=Fe>fe.value),Un(je.value)||(G=Fe<je.value)}else{const Fe=s.valueAsDate||new Date(v),Pe=Ce=>new Date(new Date().toDateString()+" "+Ce),X=s.type=="time",ge=s.type=="week";Zs(fe.value)&&v&&(re=X?Pe(v)>Pe(fe.value):ge?v>fe.value:Fe>new Date(fe.value)),Zs(je.value)&&v&&(G=X?Pe(v)<Pe(je.value):ge?v<je.value:Fe<new Date(je.value))}if((re||G)&&(te(!!re,fe.message,je.message,yo.max,yo.min),!r))return I(R[_].message),R}if((l||u)&&!Z&&(Zs(v)||i&&Array.isArray(v))){const re=Ju(l),G=Ju(u),fe=!Un(re.value)&&v.length>+re.value,je=!Un(G.value)&&v.length<+G.value;if((fe||je)&&(te(fe,re.message,G.message),!r))return I(R[_].message),R}if(p&&!Z&&Zs(v)){const{value:re,message:G}=Ju(p);if(tg(re)&&!v.match(re)&&(R[_]={type:yo.pattern,message:G,ref:s,...Q(yo.pattern,G)},!r))return I(G),R}if(g){if(Ma(g)){const re=await g(v,e),G=iN(re,N);if(G&&(R[_]={...G,...Q(yo.validate,G.message)},!r))return I(G.message),R}else if(an(g)){let re={};for(const G in g){if(!wi(re)&&!r)break;const fe=iN(await g[G](v,e),N,G);fe&&(re={...fe,...Q(G,fe.message)},I(fe.message),r&&(R[_]=re))}if(!wi(re)&&(R[_]={ref:N,...re},!r))return R}}return I(!0),R};function RB(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Wr(t)?n++:t[e[n++]];return t}function OB(t){for(const e in t)if(t.hasOwnProperty(e)&&!Wr(t[e]))return!1;return!0}function Xr(t,e){const r=Array.isArray(e)?e:kx(e)?[e]:pR(e),n=r.length===1?t:RB(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(an(n)&&wi(n)||Array.isArray(n)&&OB(n))&&Xr(t,r.slice(0,-1)),t}var kw=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},rg=t=>Un(t)||!hR(t);function ql(t,e){if(rg(t)||rg(e))return t===e;if(_c(t)&&_c(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(_c(s)&&_c(o)||an(s)&&an(o)||Array.isArray(s)&&Array.isArray(o)?!ql(s,o):s!==o)return!1}}return!0}var gR=t=>t.type==="select-multiple",AB=t=>Tx(t)||Ap(t),Cw=t=>eg(t)&&t.isConnected,vR=t=>{for(const e in t)if(Ma(t[e]))return!0;return!1};function ng(t,e={}){const r=Array.isArray(t);if(an(t)||r)for(const n in t)Array.isArray(t[n])||an(t[n])&&!vR(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ng(t[n],e[n])):Un(t[n])||(e[n]=!0);return e}function wR(t,e,r){const n=Array.isArray(t);if(an(t)||n)for(const i in t)Array.isArray(t[i])||an(t[i])&&!vR(t[i])?Wr(e)||rg(r[i])?r[i]=Array.isArray(t[i])?ng(t[i],[]):{...ng(t[i])}:wR(t[i],Un(e)?{}:e[i],r[i]):r[i]=!ql(t[i],e[i]);return r}var Em=(t,e)=>wR(t,e,ng(e)),bR=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Wr(t)?t:e?t===""?NaN:t&&+t:r&&Zs(t)?new Date(t):n?n(t):t;function Tw(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Cx(e)?e.files:Tx(e)?yR(t.refs).value:gR(e)?[...e.selectedOptions].map(({value:r})=>r):Ap(e)?mR(t.refs).value:bR(Wr(e.value)?t.ref.value:e.value,t)}var IB=(t,e,r,n)=>{const i={};for(const s of t){const o=Qe(e,s);o&&pr(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},hf=t=>Wr(t)?t:tg(t)?t.source:an(t)?tg(t.value)?t.value.source:t.value:t,PB=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function oN(t,e,r){const n=Qe(t,r);if(n||kx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=Qe(e,s),a=Qe(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:r}}var $B=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,jB=(t,e)=>!Ip(Qe(t,e)).length&&Xr(t,e);const LB={mode:Ns.onSubmit,reValidateMode:Ns.onChange,shouldFocusError:!0};function DB(t={}){let e={...LB,...t},r={submitCount:0,isDirty:!1,isLoading:Ma(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=an(e.defaultValues)||an(e.values)?Fi(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Fi(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:kw(),array:kw(),state:kw()},p=XE(e.mode),g=XE(e.reValidateMode),_=e.criteriaMode===Ns.all,S=$=>W=>{clearTimeout(u),u=setTimeout($,W)},E=async $=>{if(c.isValid||$){const W=e.resolver?wi((await j()).errors):await Q(n,!0);W!==r.isValid&&h.state.next({isValid:W})}},w=($,W)=>{(c.isValidating||c.validatingFields)&&(($||Array.from(a.mount)).forEach(J=>{J&&(W?pr(r.validatingFields,J,W):Xr(r.validatingFields,J))}),h.state.next({validatingFields:r.validatingFields,isValidating:!wi(r.validatingFields)}))},v=($,W=[],J,Te,xe=!0,he=!0)=>{if(Te&&J){if(o.action=!0,he&&Array.isArray(Qe(n,$))){const ne=J(Qe(n,$),Te.argA,Te.argB);xe&&pr(n,$,ne)}if(he&&Array.isArray(Qe(r.errors,$))){const ne=J(Qe(r.errors,$),Te.argA,Te.argB);xe&&pr(r.errors,$,ne),jB(r.errors,$)}if(c.touchedFields&&he&&Array.isArray(Qe(r.touchedFields,$))){const ne=J(Qe(r.touchedFields,$),Te.argA,Te.argB);xe&&pr(r.touchedFields,$,ne)}c.dirtyFields&&(r.dirtyFields=Em(i,s)),h.state.next({name:$,isDirty:re($,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pr(s,$,W)},N=($,W)=>{pr(r.errors,$,W),h.state.next({errors:r.errors})},I=$=>{r.errors=$,h.state.next({errors:r.errors,isValid:!1})},R=($,W,J,Te)=>{const xe=Qe(n,$);if(xe){const he=Qe(s,$,Wr(J)?Qe(i,$):J);Wr(he)||Te&&Te.defaultChecked||W?pr(s,$,W?he:Tw(xe._f)):je($,he),o.mount&&E()}},k=($,W,J,Te,xe)=>{let he=!1,ne=!1;const De={name:$},Rt=!!(Qe(n,$)&&Qe(n,$)._f.disabled);if(!J||Te){c.isDirty&&(ne=r.isDirty,r.isDirty=De.isDirty=re(),he=ne!==De.isDirty);const Mt=Rt||ql(Qe(i,$),W);ne=!!(!Rt&&Qe(r.dirtyFields,$)),Mt||Rt?Xr(r.dirtyFields,$):pr(r.dirtyFields,$,!0),De.dirtyFields=r.dirtyFields,he=he||c.dirtyFields&&ne!==!Mt}if(J){const Mt=Qe(r.touchedFields,$);Mt||(pr(r.touchedFields,$,J),De.touchedFields=r.touchedFields,he=he||c.touchedFields&&Mt!==J)}return he&&xe&&h.state.next(De),he?De:{}},L=($,W,J,Te)=>{const xe=Qe(r.errors,$),he=c.isValid&&So(W)&&r.isValid!==W;if(t.delayError&&J?(l=S(()=>N($,J)),l(t.delayError)):(clearTimeout(u),l=null,J?pr(r.errors,$,J):Xr(r.errors,$)),(J?!ql(xe,J):xe)||!wi(Te)||he){const ne={...Te,...he&&So(W)?{isValid:W}:{},errors:r.errors,name:$};r={...r,...ne},h.state.next(ne)}},j=async $=>{w($,!0);const W=await e.resolver(s,e.context,IB($||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w($),W},Z=async $=>{const{errors:W}=await j($);if($)for(const J of $){const Te=Qe(W,J);Te?pr(r.errors,J,Te):Xr(r.errors,J)}else r.errors=W;return W},Q=async($,W,J={valid:!0})=>{for(const Te in $){const xe=$[Te];if(xe){const{_f:he,...ne}=xe;if(he){const De=a.array.has(he.name);w([Te],!0);const Rt=await sN(xe,s,_,e.shouldUseNativeValidation&&!W,De);if(w([Te]),Rt[he.name]&&(J.valid=!1,W))break;!W&&(Qe(Rt,he.name)?De?TB(r.errors,Rt,he.name):pr(r.errors,he.name,Rt[he.name]):Xr(r.errors,he.name))}ne&&await Q(ne,W,J)}}return J.valid},te=()=>{for(const $ of a.unMount){const W=Qe(n,$);W&&(W._f.refs?W._f.refs.every(J=>!Cw(J)):!Cw(W._f.ref))&&V($)}a.unMount=new Set},re=($,W)=>($&&W&&pr(s,$,W),!ql(Ae(),i)),G=($,W,J)=>kB($,a,{...o.mount?s:Wr(W)?i:Zs($)?{[$]:W}:W},J,W),fe=$=>Ip(Qe(o.mount?s:i,$,t.shouldUnregister?Qe(i,$,[]):[])),je=($,W,J={})=>{const Te=Qe(n,$);let xe=W;if(Te){const he=Te._f;he&&(!he.disabled&&pr(s,$,bR(W,he)),xe=eg(he.ref)&&Un(W)?"":W,gR(he.ref)?[...he.ref.options].forEach(ne=>ne.selected=xe.includes(ne.value)):he.refs?Ap(he.ref)?he.refs.length>1?he.refs.forEach(ne=>(!ne.defaultChecked||!ne.disabled)&&(ne.checked=Array.isArray(xe)?!!xe.find(De=>De===ne.value):xe===ne.value)):he.refs[0]&&(he.refs[0].checked=!!xe):he.refs.forEach(ne=>ne.checked=ne.value===xe):Cx(he.ref)?he.ref.value="":(he.ref.value=xe,he.ref.type||h.values.next({name:$,values:{...s}})))}(J.shouldDirty||J.shouldTouch)&&k($,xe,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&Ce($)},Fe=($,W,J)=>{for(const Te in W){const xe=W[Te],he=`${$}.${Te}`,ne=Qe(n,he);(a.array.has($)||!rg(xe)||ne&&!ne._f)&&!_c(xe)?Fe(he,xe,J):je(he,xe,J)}},Pe=($,W,J={})=>{const Te=Qe(n,$),xe=a.array.has($),he=Fi(W);pr(s,$,he),xe?(h.array.next({name:$,values:{...s}}),(c.isDirty||c.dirtyFields)&&J.shouldDirty&&h.state.next({name:$,dirtyFields:Em(i,s),isDirty:re($,he)})):Te&&!Te._f&&!Un(he)?Fe($,he,J):je($,he,J),eN($,a)&&h.state.next({...r}),h.values.next({name:o.mount?$:void 0,values:{...s}})},X=async $=>{o.mount=!0;const W=$.target;let J=W.name,Te=!0;const xe=Qe(n,J),he=()=>W.type?Tw(xe._f):gB($),ne=De=>{Te=Number.isNaN(De)||De===Qe(s,J,De)};if(xe){let De,Rt;const Mt=he(),er=$.type===ZE.BLUR||$.type===ZE.FOCUS_OUT,Hr=!PB(xe._f)&&!e.resolver&&!Qe(r.errors,J)&&!xe._f.deps||$B(er,Qe(r.touchedFields,J),r.isSubmitted,g,p),kn=eN(J,a,er);pr(s,J,Mt),er?(xe._f.onBlur&&xe._f.onBlur($),l&&l(0)):xe._f.onChange&&xe._f.onChange($);const ji=k(J,Mt,er,!1),Ds=!wi(ji)||kn;if(!er&&h.values.next({name:J,type:$.type,values:{...s}}),Hr)return c.isValid&&E(),Ds&&h.state.next({name:J,...kn?{}:ji});if(!er&&kn&&h.state.next({...r}),e.resolver){const{errors:Ms}=await j([J]);if(ne(Mt),Te){const Bs=oN(r.errors,n,J),es=oN(Ms,n,Bs.name||J);De=es.error,J=es.name,Rt=wi(Ms)}}else w([J],!0),De=(await sN(xe,s,_,e.shouldUseNativeValidation))[J],w([J]),ne(Mt),Te&&(De?Rt=!1:c.isValid&&(Rt=await Q(n,!0)));Te&&(xe._f.deps&&Ce(xe._f.deps),L(J,Rt,De,ji))}},ge=($,W)=>{if(Qe(r.errors,W)&&$.focus)return $.focus(),1},Ce=async($,W={})=>{let J,Te;const xe=Nw($);if(e.resolver){const he=await Z(Wr($)?$:xe);J=wi(he),Te=$?!xe.some(ne=>Qe(he,ne)):J}else $?(Te=(await Promise.all(xe.map(async he=>{const ne=Qe(n,he);return await Q(ne&&ne._f?{[he]:ne}:ne)}))).every(Boolean),!(!Te&&!r.isValid)&&E()):Te=J=await Q(n);return h.state.next({...!Zs($)||c.isValid&&J!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:J}:{},errors:r.errors}),W.shouldFocus&&!Te&&Lf(n,ge,$?xe:a.mount),Te},Ae=$=>{const W={...i,...o.mount?s:{}};return Wr($)?W:Zs($)?Qe(W,$):$.map(J=>Qe(W,J))},ue=($,W)=>({invalid:!!Qe((W||r).errors,$),isDirty:!!Qe((W||r).dirtyFields,$),isTouched:!!Qe((W||r).touchedFields,$),isValidating:!!Qe((W||r).validatingFields,$),error:Qe((W||r).errors,$)}),_e=$=>{$&&Nw($).forEach(W=>Xr(r.errors,W)),h.state.next({errors:$?r.errors:{}})},ve=($,W,J)=>{const Te=(Qe(n,$,{_f:{}})._f||{}).ref;pr(r.errors,$,{...W,ref:Te}),h.state.next({name:$,errors:r.errors,isValid:!1}),J&&J.shouldFocus&&Te&&Te.focus&&Te.focus()},Le=($,W)=>Ma($)?h.values.subscribe({next:J=>$(G(void 0,W),J)}):G($,W,!0),V=($,W={})=>{for(const J of $?Nw($):a.mount)a.mount.delete(J),a.array.delete(J),W.keepValue||(Xr(n,J),Xr(s,J)),!W.keepError&&Xr(r.errors,J),!W.keepDirty&&Xr(r.dirtyFields,J),!W.keepTouched&&Xr(r.touchedFields,J),!W.keepIsValidating&&Xr(r.validatingFields,J),!e.shouldUnregister&&!W.keepDefaultValue&&Xr(i,J);h.values.next({values:{...s}}),h.state.next({...r,...W.keepDirty?{isDirty:re()}:{}}),!W.keepIsValid&&E()},Ve=({disabled:$,name:W,field:J,fields:Te,value:xe})=>{if(So($)){const he=$?void 0:Wr(xe)?Tw(J?J._f:Qe(Te,W)._f):xe;pr(s,W,he),k(W,he,!1,!1,!0)}},se=($,W={})=>{let J=Qe(n,$);const Te=So(W.disabled);return pr(n,$,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:$}},name:$,mount:!0,...W}}),a.mount.add($),J?Ve({field:J,disabled:W.disabled,name:$,value:W.value}):R($,!0,W.value),{...Te?{disabled:W.disabled}:{},...e.progressive?{required:!!W.required,min:hf(W.min),max:hf(W.max),minLength:hf(W.minLength),maxLength:hf(W.maxLength),pattern:hf(W.pattern)}:{},name:$,onChange:X,onBlur:X,ref:xe=>{if(xe){se($,W),J=Qe(n,$);const he=Wr(xe.value)&&xe.querySelectorAll&&xe.querySelectorAll("input,select,textarea")[0]||xe,ne=AB(he),De=J._f.refs||[];if(ne?De.find(Rt=>Rt===he):he===J._f.ref)return;pr(n,$,{_f:{...J._f,...ne?{refs:[...De.filter(Cw),he,...Array.isArray(Qe(i,$))?[{}]:[]],ref:{type:he.type,name:$}}:{ref:he}}}),R($,!1,void 0,he)}else J=Qe(n,$,{}),J._f&&(J._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(wB(a.array,$)&&o.action)&&a.unMount.add($)}}},ct=()=>e.shouldFocusError&&Lf(n,ge,a.mount),st=$=>{So($)&&(h.state.next({disabled:$}),Lf(n,(W,J)=>{let Te=$;const xe=Qe(n,J);xe&&So(xe._f.disabled)&&(Te||(Te=xe._f.disabled)),W.disabled=Te},0,!1))},Ge=($,W)=>async J=>{let Te;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let xe=Fi(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:he,values:ne}=await j();r.errors=he,xe=ne}else await Q(n);if(Xr(r.errors,"root"),wi(r.errors)){h.state.next({errors:{}});try{await $(xe,J)}catch(he){Te=he}}else W&&await W({...r.errors},J),ct(),setTimeout(ct);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wi(r.errors)&&!Te,submitCount:r.submitCount+1,errors:r.errors}),Te)throw Te},pe=($,W={})=>{Qe(n,$)&&(Wr(W.defaultValue)?Pe($,Fi(Qe(i,$))):(Pe($,W.defaultValue),pr(i,$,Fi(W.defaultValue))),W.keepTouched||Xr(r.touchedFields,$),W.keepDirty||(Xr(r.dirtyFields,$),r.isDirty=W.defaultValue?re($,Fi(Qe(i,$))):re()),W.keepError||(Xr(r.errors,$),c.isValid&&E()),h.state.next({...r}))},me=($,W={})=>{const J=$?Fi($):i,Te=Fi(J),xe=wi($),he=xe?i:Te;if(W.keepDefaultValues||(i=J),!W.keepValues){if(W.keepDirtyValues)for(const ne of a.mount)Qe(r.dirtyFields,ne)?pr(he,ne,Qe(s,ne)):Pe(ne,Qe(he,ne));else{if(Nx&&Wr($))for(const ne of a.mount){const De=Qe(n,ne);if(De&&De._f){const Rt=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(eg(Rt)){const Mt=Rt.closest("form");if(Mt){Mt.reset();break}}}}n={}}s=t.shouldUnregister?W.keepDefaultValues?Fi(i):{}:Fi(he),h.array.next({values:{...he}}),h.values.next({values:{...he}})}a={mount:W.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:xe?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!ql($,i)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:xe?[]:W.keepDirtyValues?W.keepDefaultValues&&s?Em(i,s):r.dirtyFields:W.keepDefaultValues&&$?Em(i,$):{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Be=($,W)=>me(Ma($)?$(s):$,W);return{control:{register:se,unregister:V,getFieldState:ue,handleSubmit:Ge,setError:ve,_executeSchema:j,_getWatch:G,_getDirty:re,_updateValid:E,_removeUnmounted:te,_updateFieldArray:v,_updateDisabledField:Ve,_getFieldArray:fe,_reset:me,_resetDefaultValues:()=>Ma(e.defaultValues)&&e.defaultValues().then($=>{Be($,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:$=>{r={...r,...$}},_disableForm:st,_subjects:h,_proxyFormState:c,_setErrors:I,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return a},set _names($){a=$},get _formState(){return r},set _formState($){r=$},get _options(){return e},set _options($){e={...e,...$}}},trigger:Ce,register:se,handleSubmit:Ge,watch:Le,setValue:Pe,getValues:Ae,reset:Be,resetField:pe,clearErrors:_e,unregister:V,setError:ve,setFocus:($,W={})=>{const J=Qe(n,$),Te=J&&J._f;if(Te){const xe=Te.refs?Te.refs[0]:Te.ref;xe.focus&&(xe.focus(),W.shouldSelect&&xe.select())}},getFieldState:ue}}function Rx(t={}){const e=T.useRef(),r=T.useRef(),[n,i]=T.useState({isDirty:!1,isValidating:!1,isLoading:Ma(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ma(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...DB(t),formState:n});const s=e.current.control;return s._options=t,NB({subject:s._subjects.state,next:o=>{EB(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),T.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),T.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),T.useEffect(()=>{t.values&&!ql(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),T.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),T.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),T.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=SB(n,s),e.current}const Hv=t=>{const{accounts:e,accountGroups:r}=O.useContext(Op),n=t.code<1e3?t.code*1e3:t.code,i=e.find(_=>_.code===n),s=Su.toGroup(n),o=r.find(_=>_.code===s),l=fR(new Date),u=t.startDate??l.startDate,c=t.endDate??l.endDate,h=`/ledger/account/${n}/${u}/${c}`,p=o?xx.toKorean(o.major):"unknown",g=(o==null?void 0:o.minor)??"unknown";return y.jsxs(Hn,{component:Si,to:h,children:["[",n,"] ",p," ",">"," ",g," ",">"," ",i==null?void 0:i.name]})},aN=t=>{const{accounts:e,startDate:r,endDate:n}=t,i=Zr(e,l=>l.debit_sum),s=Zr(e,l=>l.credit_sum),o=Zr(e,l=>l.debit_balance),a=Zr(e,l=>l.credit_balance);return y.jsxs(U,{children:[y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:" "}),y.jsx(U.Th,{children:" "}),y.jsx(U.Th,{children:""}),y.jsx(U.Th,{children:" "}),y.jsx(U.Th,{children:" "})]})}),y.jsx(U.Tbody,{children:e.map(l=>y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:l.debit_balance?y.jsx(cr,{amount:l.debit_balance}):null}),y.jsx(U.Td,{children:l.debit_sum?y.jsx(cr,{amount:l.debit_sum}):null}),y.jsx(U.Td,{children:y.jsx(Hv,{code:l.code,startDate:r,endDate:n})}),y.jsx(U.Td,{children:l.credit_sum?y.jsx(cr,{amount:l.credit_sum}):null}),y.jsx(U.Td,{children:l.credit_balance?y.jsx(cr,{amount:l.credit_balance}):null})]},l.code))}),y.jsx(U.Tfoot,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:y.jsx(cr,{amount:o,fw:500})}),y.jsx(U.Th,{children:y.jsx(cr,{amount:i,fw:500})}),y.jsx(U.Th,{children:""}),y.jsx(U.Th,{children:y.jsx(cr,{amount:s,fw:500})}),y.jsx(U.Th,{children:y.jsx(cr,{amount:a,fw:500})})]})})]})},MB=t=>t,BB=t=>yd(t,Nh(e=>Math.floor(e.code/1e3)),ib(),gd(e=>{const[r,n]=e;return{code:Number.parseInt(r)*1e3,debit_balance:Zr(n,s=>s.debit_balance),credit_balance:Zr(n,s=>s.credit_balance),debit_sum:Zr(n,s=>s.debit_sum),credit_sum:Zr(n,s=>s.credit_sum)}})),FB=t=>{const{resp:e}=t,{accounts:r,date_first:n,date_end:i}=e,[s,o]=O.useState("group"),a={startDate:n,endDate:i};return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:""}),y.jsxs("p",{children:[n," ~ ",i]}),y.jsx(lx,{data:["group","plain"],value:s,onChange:o}),s==="plain"?y.jsx(aN,{...a,accounts:MB(r)}):null,s==="group"?y.jsx(aN,{...a,accounts:BB(r)}):null]})},WB=()=>{const t=kp(),e=aR.parse(t),r=`${Ex}/trial-balance/${e.date}`,{data:n,error:i,isLoading:s}=jd(r),o=n;return i?y.jsx("div",{children:"failed to load"}):s?y.jsx("div",{children:"loading..."}):y.jsx(qB,{req:e,resp:o})},qB=t=>{const{req:e,resp:r}=t,n=XT(),i={date:r.date_first},{register:s,handleSubmit:o}=Rx({defaultValues:i}),a=l=>{const u=`/balance/trial-balance/${l.date}`;n(u)};return y.jsxs(il,{size:"md",children:[y.jsxs("form",{onSubmit:o(a),children:[y.jsx(Ht.Wrapper,{label:"",children:y.jsx(Ht,{type:"date",...s("date")})}),y.jsx(Ht.Wrapper,{children:y.jsx(jr,{type:"submit",children:""})})]}),y.jsx(FB,{resp:r})]})},UB=()=>y.jsxs(Fv,{children:[y.jsx(sn,{index:!0,element:y.jsx(yB,{})}),y.jsx(sn,{path:"/trial-balance/:date",element:y.jsx(WB,{})}),y.jsx(sn,{path:"/:code/:date",element:y.jsx(cB,{})})]}),zB={_tag:"api",endpoint:"://127.0.0.1:3000",session:{}},Eu=O.createContext(zB);function Ka(t){return typeof t>"u"||t===void 0}function Ti(t){return typeof t=="string"}function Qv(t){return typeof t=="number"}function ig(t){return typeof t=="boolean"}function Ox(t){return t===null}function _R(t){return t instanceof Date}function Ax(t){return typeof t=="bigint"}function VB(t){return typeof Buffer<"u"&&Buffer.isBuffer(t)}function Ii(t){return typeof t=="function"}function ks(t){return typeof t=="object"&&t!==null}function HB(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}function QB(t){return ks(t)&&!Array.isArray(t)&&!_R(t)&&!VB(t)&&!HB(t)}function x(t){return Object.freeze(t)}function Nm(t){return Xo(t)?t:[t]}function Xo(t){return Array.isArray(t)}function Za(t){return t}const rr=x({is(t){return t.kind==="AlterTableNode"},create(t){return x({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return x({...t,...e})},cloneWithColumnAlteration(t,e){return x({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),br=x({is(t){return t.kind==="IdentifierNode"},create(t){return x({kind:"IdentifierNode",name:t})}}),wo=x({is(t){return t.kind==="CreateIndexNode"},create(t){return x({kind:"CreateIndexNode",name:br.create(t)})},cloneWith(t,e){return x({...t,...e})},cloneWithColumns(t,e){return x({...t,columns:[...t.columns||[],...e]})}}),xR=x({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return x({kind:"CreateSchemaNode",schema:br.create(t),...e})},cloneWith(t,e){return x({...t,...e})}}),GB=["preserve rows","delete rows","drop"],hi=x({is(t){return t.kind==="CreateTableNode"},create(t){return x({kind:"CreateTableNode",table:t,columns:x([])})},cloneWithColumn(t,e){return x({...t,columns:x([...t.columns,e])})},cloneWithConstraint(t,e){return x({...t,constraints:t.constraints?x([...t.constraints,e]):x([e])})},cloneWithFrontModifier(t,e){return x({...t,frontModifiers:t.frontModifiers?x([...t.frontModifiers,e]):x([e])})},cloneWithEndModifier(t,e){return x({...t,endModifiers:t.endModifiers?x([...t.endModifiers,e]):x([e])})},cloneWith(t,e){return x({...t,...e})}}),ll=x({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return x({kind:"SchemableIdentifierNode",identifier:br.create(t)})},createWithSchema(t,e){return x({kind:"SchemableIdentifierNode",schema:br.create(t),identifier:br.create(e)})}}),Df=x({is(t){return t.kind==="DropIndexNode"},create(t,e){return x({kind:"DropIndexNode",name:ll.create(t),...e})},cloneWith(t,e){return x({...t,...e})}}),mb=x({is(t){return t.kind==="DropSchemaNode"},create(t,e){return x({kind:"DropSchemaNode",schema:br.create(t),...e})},cloneWith(t,e){return x({...t,...e})}}),yb=x({is(t){return t.kind==="DropTableNode"},create(t,e){return x({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return x({...t,...e})}}),gl=x({is(t){return t.kind==="AliasNode"},create(t,e){return x({kind:"AliasNode",node:t,alias:e})}}),Xa=x({is(t){return t.kind==="TableNode"},create(t){return x({kind:"TableNode",table:ll.create(t)})},createWithSchema(t,e){return x({kind:"TableNode",table:ll.createWithSchema(t,e)})}});function ai(t){return ks(t)&&Ii(t.toOperationNode)}function JB(t){return ks(t)&&"expressionType"in t&&ai(t)}function YB(t){return ks(t)&&"expression"in t&&Ti(t.alias)&&ai(t)}const go=x({is(t){return t.kind==="SelectModifierNode"},create(t,e){return x({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return x({kind:"SelectModifierNode",rawModifier:t})}}),ul=x({is(t){return t.kind==="AndNode"},create(t,e){return x({kind:"AndNode",left:t,right:e})}}),Dd=x({is(t){return t.kind==="OrNode"},create(t,e){return x({kind:"OrNode",left:t,right:e})}}),Rw=x({is(t){return t.kind==="OnNode"},create(t){return x({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return x({...t,on:e==="And"?ul.create(t.on,r):Dd.create(t.on,r)})}}),Mf=x({is(t){return t.kind==="JoinNode"},create(t,e){return x({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return x({kind:"JoinNode",joinType:t,table:e,on:Rw.create(r)})},cloneWithOn(t,e){return x({...t,on:t.on?Rw.cloneWithOperation(t.on,"And",e):Rw.create(e)})}}),_d=x({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return x({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),KB=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","&&","?","?&","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],ZB=["+","-","*","/","%","^","&","|","#","<<",">>"],SR=["->","->>"],XB=[...KB,...ZB,"&&","||"],eF=["exists","not exists"],tF=["not","-",...eF],rF=[...XB,...SR,...tF,"between","between symmetric"],cl=x({is(t){return t.kind==="OperatorNode"},create(t){return x({kind:"OperatorNode",operator:t})}});function lN(t){return Ti(t)&&SR.includes(t)}const Vr=x({is(t){return t.kind==="ColumnNode"},create(t){return x({kind:"ColumnNode",column:br.create(t)})}}),Ix=x({is(t){return t.kind==="SelectAllNode"},create(){return x({kind:"SelectAllNode"})}}),Gv=x({is(t){return t.kind==="ReferenceNode"},create(t,e){return x({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return x({kind:"ReferenceNode",table:t,column:Ix.create()})}});var Bc;class nF{constructor(e){ie(this,Bc,void 0);oe(this,Bc,e)}get dynamicReference(){return d(this,Bc)}get refType(){}toOperationNode(){return TR(d(this,Bc))}}Bc=new WeakMap;function ER(t){return ks(t)&&ai(t)&&Ti(t.dynamicReference)}const gb=x({is(t){return t.kind==="OrderByItemNode"},create(t,e){return x({kind:"OrderByItemNode",orderBy:t,direction:e})}}),bn=x({is(t){return t.kind==="RawNode"},create(t,e){return x({kind:"RawNode",sqlFragments:x(t),parameters:x(e)})},createWithSql(t){return bn.create([t],[])},createWithChild(t){return bn.create(["",""],[t])},createWithChildren(t){return bn.create(new Array(t.length+1).fill(""),t)}});function NR(t){return t==="asc"||t==="desc"}function Jv(t){if(t.length===2)return[Ow(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>Ow(r)):[Ow(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function Ow(t,e){const r=iF(t);if(gb.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return gb.create(r,kR(e))}function iF(t){if(Mp(t))return $u(t);if(ER(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!NR(r))throw new Error(`Invalid order by direction: ${r}`);return gb.create(ea(e),kR(r))}return ea(t)}function kR(t){if(t)return t==="asc"||t==="desc"?bn.createWithSql(t):t.toOperationNode()}const sg=x({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return x({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return x({...t,traversal:e})}}),CR=x({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return x({kind:"JSONOperatorChainNode",operator:t,values:x([])})},cloneWithValue(t,e){return x({...t,values:x([...t.values,e])})}}),Bf=x({is(t){return t.kind==="JSONPathNode"},create(t){return x({kind:"JSONPathNode",inOperator:t,pathLegs:x([])})},cloneWithLeg(t,e){return x({...t,pathLegs:x([...t.pathLegs,e])})}});function TR(t){return Ti(t)?ea(t):t.toOperationNode()}function Bh(t){return Xo(t)?t.map(e=>Ei(e)):[Ei(t)]}function Ei(t){return Mp(t)?$u(t):TR(t)}function sF(t,e){const r=ea(t);if(lN(e))return sg.create(r,CR.create(cl.create(e)));const n=e.slice(0,-1);if(lN(n))return sg.create(r,Bf.create(cl.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function ea(t){const e=".";if(!t.includes(e))return Gv.create(Vr.create(t));const r=t.split(e).map(Px);if(r.length===3)return aF(r);if(r.length===2)return lF(r);throw new Error(`invalid column reference ${t}`)}function oF(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(Px);return gl.create(ea(r),br.create(n))}else return ea(t)}function RR(t){return Vr.create(t)}function og(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(Px);if(!NR(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return Jv([r,n])[0]}else return RR(t)}function aF(t){const[e,r,n]=t;return Gv.create(Vr.create(n),Xa.createWithSchema(e,r))}function lF(t){const[e,r]=t;return Gv.create(Vr.create(r),Xa.create(e))}function Px(t){return t.trim()}const OR=x({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return x({kind:"PrimitiveValueListNode",values:x([...t])})}}),$x=x({is(t){return t.kind==="ValueListNode"},create(t){return x({kind:"ValueListNode",values:x(t)})}}),ao=x({is(t){return t.kind==="ValueNode"},create(t){return x({kind:"ValueNode",value:t})},createImmediate(t){return x({kind:"ValueNode",value:t,immediate:!0})}});function uF(t){return Xo(t)?cF(t):Yr(t)}function Yr(t){return Mp(t)?$u(t):ao.create(t)}function jx(t){return Qv(t)||ig(t)||Ox(t)}function Lx(t){if(!jx(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return ao.createImmediate(t)}function cF(t){return t.some(Mp)?$x.create(t.map(e=>Yr(e))):OR.create(t)}const xd=x({is(t){return t.kind==="ParensNode"},create(t){return x({kind:"ParensNode",node:t})}});function Sn(t){if(t.length===3)return Dx(t[0],t[1],t[2]);if(t.length===1)return Yr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function Dx(t,e,r){return dF(e)&&AR(r)?_d.create(Ei(t),vb(e),ao.createImmediate(r)):_d.create(Ei(t),vb(e),uF(r))}function lo(t,e,r){return _d.create(Ei(t),vb(e),Ei(r))}function uN(t,e){return ag(Object.entries(t).filter(([,r])=>!Ka(r)).map(([r,n])=>Dx(r,AR(n)?"is":"=",n)),e)}function ag(t,e,r=!0){const n=e==="and"?ul.create:Dd.create;if(t.length===0)return _d.create(ao.createImmediate(1),cl.create("="),ao.createImmediate(e==="and"?1:0));let i=cN(t[0]);for(let s=1;s<t.length;++s)i=n(i,cN(t[s]));return t.length>1&&r?xd.create(i):i}function dF(t){return t==="is"||t==="is not"}function AR(t){return Ox(t)||ig(t)}function vb(t){if(Ti(t)&&rF.includes(t))return cl.create(t);if(ai(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function cN(t){return ai(t)?t.toOperationNode():t}const Sd=x({is(t){return t.kind==="OrderByNode"},create(t){return x({kind:"OrderByNode",items:x([...t])})},cloneWithItems(t,e){return x({...t,items:x([...t.items,...e])})}}),dN=x({is(t){return t.kind==="PartitionByNode"},create(t){return x({kind:"PartitionByNode",items:x(t)})},cloneWithItems(t,e){return x({...t,items:x([...t.items,...e])})}}),wb=x({is(t){return t.kind==="OverNode"},create(){return x({kind:"OverNode"})},cloneWithOrderByItems(t,e){return x({...t,orderBy:t.orderBy?Sd.cloneWithItems(t.orderBy,e):Sd.create(e)})},cloneWithPartitionByItems(t,e){return x({...t,partitionBy:t.partitionBy?dN.cloneWithItems(t.partitionBy,e):dN.create(e)})}}),lg=x({is(t){return t.kind==="FromNode"},create(t){return x({kind:"FromNode",froms:x(t)})},cloneWithFroms(t,e){return x({...t,froms:x([...t.froms,...e])})}}),fN=x({is(t){return t.kind==="GroupByNode"},create(t){return x({kind:"GroupByNode",items:x(t)})},cloneWithItems(t,e){return x({...t,items:x([...t.items,...e])})}}),hN=x({is(t){return t.kind==="HavingNode"},create(t){return x({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return x({...t,having:e==="And"?ul.create(t.having,r):Dd.create(t.having,r)})}}),Ot=x({is(t){return t.kind==="SelectQueryNode"},create(t){return x({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return x({kind:"SelectQueryNode",from:lg.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return x({...t,selections:t.selections?x([...t.selections,...e]):x(e)})},cloneWithDistinctOn(t,e){return x({...t,distinctOn:t.distinctOn?x([...t.distinctOn,...e]):x(e)})},cloneWithFrontModifier(t,e){return x({...t,frontModifiers:t.frontModifiers?x([...t.frontModifiers,e]):x([e])})},cloneWithEndModifier(t,e){return x({...t,endModifiers:t.endModifiers?x([...t.endModifiers,e]):x([e])})},cloneWithOrderByItems(t,e){return x({...t,orderBy:t.orderBy?Sd.cloneWithItems(t.orderBy,e):Sd.create(e)})},cloneWithGroupByItems(t,e){return x({...t,groupBy:t.groupBy?fN.cloneWithItems(t.groupBy,e):fN.create(e)})},cloneWithLimit(t,e){return x({...t,limit:e})},cloneWithOffset(t,e){return x({...t,offset:e})},cloneWithFetch(t,e){return x({...t,fetch:e})},cloneWithHaving(t,e){return x({...t,having:t.having?hN.cloneWithOperation(t.having,"And",e):hN.create(e)})},cloneWithSetOperations(t,e){return x({...t,setOperations:t.setOperations?x([...t.setOperations,...e]):x([...e])})},cloneWithoutSelections(t){return x({...t,selections:[]})},cloneWithoutLimit(t){return x({...t,limit:void 0})},cloneWithoutOffset(t){return x({...t,offset:void 0})},cloneWithoutOrderBy(t){return x({...t,orderBy:void 0})}});function Et(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}var hs;const Hf=class Hf{constructor(e){ie(this,hs,void 0);oe(this,hs,x(e))}on(...e){return new Hf({...d(this,hs),joinNode:Mf.cloneWithOn(d(this,hs).joinNode,Sn(e))})}onRef(e,r,n){return new Hf({...d(this,hs),joinNode:Mf.cloneWithOn(d(this,hs).joinNode,lo(e,r,n))})}onTrue(){return new Hf({...d(this,hs),joinNode:Mf.cloneWithOn(d(this,hs).joinNode,bn.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return d(this,hs).joinNode}};hs=new WeakMap;let ug=Hf;Et(ug,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const fF=x({is(t){return t.kind==="PartitionByItemNode"},create(t){return x({kind:"PartitionByItemNode",partitionBy:t})}});function hF(t){return Bh(t).map(fF.create)}var Ql;const Wg=class Wg{constructor(e){ie(this,Ql,void 0);oe(this,Ql,x(e))}orderBy(e,r){return new Wg({overNode:wb.cloneWithOrderByItems(d(this,Ql).overNode,Jv([e,r]))})}partitionBy(e){return new Wg({overNode:wb.cloneWithPartitionByItems(d(this,Ql).overNode,hF(e))})}$call(e){return e(this)}toOperationNode(){return d(this,Ql).overNode}};Ql=new WeakMap;let cg=Wg;Et(cg,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Ff=x({is(t){return t.kind==="SelectionNode"},create(t){return x({kind:"SelectionNode",selection:t})},createSelectAll(){return x({kind:"SelectionNode",selection:Ix.create()})},createSelectAllFromTable(t){return x({kind:"SelectionNode",selection:Gv.createSelectAll(t)})}});function Md(t){return Ii(t)?Md(t(Fd())):Xo(t)?t.map(e=>pN(e)):[pN(t)]}function pN(t){return Ti(t)?Ff.create(oF(t)):ER(t)?Ff.create(t.toOperationNode()):Ff.create(QR(t))}function Pp(t){return t?Array.isArray(t)?t.map(mN):[mN(t)]:[Ff.createSelectAll()]}function mN(t){if(Ti(t))return Ff.createSelectAllFromTable(zr(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const pF=x({is(t){return t.kind==="ValuesNode"},create(t){return x({kind:"ValuesNode",values:x(t)})}}),mF=x({is(t){return t.kind==="DefaultInsertValueNode"},create(){return x({kind:"DefaultInsertValueNode"})}});function IR(t){const e=Ii(t)?t(Fd()):t,r=Xo(e)?e:x([e]);return yF(r)}function yF(t){const e=gF(t);return[x([...e.keys()].map(Vr.create)),pF.create(t.map(r=>vF(r,e)))]}function gF(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const i of n)!e.has(i)&&r[i]!==void 0&&e.set(i,e.size)}return e}function vF(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let i=!1;for(const o of r){const a=e.get(o);if(Ka(a))continue;const l=t[o];(Ka(l)||Mp(l))&&(i=!0),n[a]=l}if(r.length<e.size||i){const o=mF.create();return $x.create(n.map(a=>Ka(a)?o:Yr(a)))}return OR.create(n)}const xi=x({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return x({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return x({kind:"InsertQueryNode"})},cloneWith(t,e){return x({...t,...e})}}),$c=x({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return x({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return x({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return x({...t,from:t.from?lg.cloneWithFroms(t.from,e):lg.create(e)})},cloneWithUpdates(t,e){return x({...t,updates:t.updates?x([...t.updates,...e]):e})},cloneWithLimit(t,e){return x({...t,limit:e})}}),yN=x({is(t){return t.kind==="UsingNode"},create(t){return x({kind:"UsingNode",tables:x(t)})},cloneWithTables(t,e){return x({...t,tables:x([...t.tables,...e])})}}),Ol=x({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return x({kind:"DeleteQueryNode",from:lg.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return x({...t,orderBy:t.orderBy?Sd.cloneWithItems(t.orderBy,e):Sd.create(e)})},cloneWithoutOrderBy(t){return x({...t,orderBy:void 0})},cloneWithLimit(t,e){return x({...t,limit:e})},cloneWithoutLimit(t){return x({...t,limit:void 0})},cloneWithUsing(t,e){return x({...t,using:t.using!==void 0?yN.cloneWithTables(t.using,e):yN.create(e)})}}),ei=x({is(t){return t.kind==="WhereNode"},create(t){return x({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return x({...t,where:e==="And"?ul.create(t.where,r):Dd.create(t.where,r)})}}),gN=x({is(t){return t.kind==="ReturningNode"},create(t){return x({kind:"ReturningNode",selections:x(t)})},cloneWithSelections(t,e){return x({...t,selections:t.selections?x([...t.selections,...e]):x(e)})}}),wF=x({is(t){return t.kind==="ExplainNode"},create(t,e){return x({kind:"ExplainNode",format:t,options:e})}}),$p=x({is(t){return t.kind==="WhenNode"},create(t){return x({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return x({...t,result:e})}}),ni=x({is(t){return t.kind==="MergeQueryNode"},create(t,e){return x({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return x({...t,using:e})},cloneWithWhen(t,e){return x({...t,whens:t.whens?x([...t.whens,e]):x([e])})},cloneWithThen(t,e){return x({...t,whens:t.whens?x([...t.whens.slice(0,-1),$p.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),dt=x({is(t){return Ot.is(t)||xi.is(t)||$c.is(t)||Ol.is(t)||ni.is(t)},cloneWithWhere(t,e){return x({...t,where:t.where?ei.cloneWithOperation(t.where,"And",e):ei.create(e)})},cloneWithJoin(t,e){return x({...t,joins:t.joins?x([...t.joins,e]):x([e])})},cloneWithReturning(t,e){return x({...t,returning:t.returning?gN.cloneWithSelections(t.returning,e):gN.create(e)})},cloneWithoutReturning(t){return x({...t,returning:void 0})},cloneWithoutWhere(t){return x({...t,where:void 0})},cloneWithExplain(t,e,r){return x({...t,explain:wF.create(e,r==null?void 0:r.toOperationNode())})},cloneWithTop(t,e){return x({...t,top:e})}}),PR=x({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return x({kind:"ColumnUpdateNode",column:t,value:e})}});function bF(...t){return t.length===2?[PR.create(Ei(t[0]),Yr(t[1]))]:Mx(t[0])}function Mx(t){const e=Ii(t)?t(Fd()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>PR.create(Vr.create(r),Yr(n)))}const _F=x({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return x({kind:"OnDuplicateKeyNode",updates:t})}});class xF{constructor(e,r){Ie(this,"insertId");Ie(this,"numInsertedOrUpdatedRows");this.insertId=e,this.numInsertedOrUpdatedRows=r}}class jp extends Error{constructor(r){super("no result");Ie(this,"node");this.node=r}}function Lp(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const bi=x({is(t){return t.kind==="OnConflictNode"},create(){return x({kind:"OnConflictNode"})},cloneWith(t,e){return x({...t,...e})},cloneWithIndexWhere(t,e){return x({...t,indexWhere:t.indexWhere?ei.cloneWithOperation(t.indexWhere,"And",e):ei.create(e)})},cloneWithIndexOrWhere(t,e){return x({...t,indexWhere:t.indexWhere?ei.cloneWithOperation(t.indexWhere,"Or",e):ei.create(e)})},cloneWithUpdateWhere(t,e){return x({...t,updateWhere:t.updateWhere?ei.cloneWithOperation(t.updateWhere,"And",e):ei.create(e)})},cloneWithUpdateOrWhere(t,e){return x({...t,updateWhere:t.updateWhere?ei.cloneWithOperation(t.updateWhere,"Or",e):ei.create(e)})},cloneWithoutIndexWhere(t){return x({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return x({...t,updateWhere:void 0})}});var ar;const _o=class _o{constructor(e){ie(this,ar,void 0);oe(this,ar,x(e))}column(e){const r=Vr.create(e);return new _o({...d(this,ar),onConflictNode:bi.cloneWith(d(this,ar).onConflictNode,{columns:d(this,ar).onConflictNode.columns?x([...d(this,ar).onConflictNode.columns,r]):x([r])})})}columns(e){const r=e.map(Vr.create);return new _o({...d(this,ar),onConflictNode:bi.cloneWith(d(this,ar).onConflictNode,{columns:d(this,ar).onConflictNode.columns?x([...d(this,ar).onConflictNode.columns,...r]):x(r)})})}constraint(e){return new _o({...d(this,ar),onConflictNode:bi.cloneWith(d(this,ar).onConflictNode,{constraint:br.create(e)})})}expression(e){return new _o({...d(this,ar),onConflictNode:bi.cloneWith(d(this,ar).onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new _o({...d(this,ar),onConflictNode:bi.cloneWithIndexWhere(d(this,ar).onConflictNode,Sn(e))})}whereRef(e,r,n){return new _o({...d(this,ar),onConflictNode:bi.cloneWithIndexWhere(d(this,ar).onConflictNode,lo(e,r,n))})}clearWhere(){return new _o({...d(this,ar),onConflictNode:bi.cloneWithoutIndexWhere(d(this,ar).onConflictNode)})}doNothing(){return new $R({...d(this,ar),onConflictNode:bi.cloneWith(d(this,ar).onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new fg({...d(this,ar),onConflictNode:bi.cloneWith(d(this,ar).onConflictNode,{updates:Mx(e)})})}$call(e){return e(this)}};ar=new WeakMap;let dg=_o;Et(dg,"don't await OnConflictBuilder instances.");var Yh;class $R{constructor(e){ie(this,Yh,void 0);oe(this,Yh,x(e))}toOperationNode(){return d(this,Yh).onConflictNode}}Yh=new WeakMap;Et($R,"don't await OnConflictDoNothingBuilder instances.");var ps;const Qf=class Qf{constructor(e){ie(this,ps,void 0);oe(this,ps,x(e))}where(...e){return new Qf({...d(this,ps),onConflictNode:bi.cloneWithUpdateWhere(d(this,ps).onConflictNode,Sn(e))})}whereRef(e,r,n){return new Qf({...d(this,ps),onConflictNode:bi.cloneWithUpdateWhere(d(this,ps).onConflictNode,lo(e,r,n))})}clearWhere(){return new Qf({...d(this,ps),onConflictNode:bi.cloneWithoutUpdateWhere(d(this,ps).onConflictNode)})}$call(e){return e(this)}toOperationNode(){return d(this,ps).onConflictNode}};ps=new WeakMap;let fg=Qf;Et(fg,"don't await OnConflictUpdateBuilder instances.");const SF=x({is(t){return t.kind==="TopNode"},create(t,e){return x({kind:"TopNode",expression:t,modifiers:e})}});function Bd(t,e){if(!Qv(t)&&!Ax(t))throw new Error(`Invalid top expression: ${t}`);if(!Ka(e)&&!EF(e))throw new Error(`Invalid top modifiers: ${e}`);return SF.create(t,e)}function EF(t){return t==="percent"||t==="with ties"||t==="percent with ties"}var mt;const en=class en{constructor(e){ie(this,mt,void 0);oe(this,mt,x(e))}values(e){const[r,n]=IR(e);return new en({...d(this,mt),queryNode:xi.cloneWith(d(this,mt).queryNode,{columns:r,values:n})})}columns(e){return new en({...d(this,mt),queryNode:xi.cloneWith(d(this,mt).queryNode,{columns:x(e.map(Vr.create))})})}expression(e){return new en({...d(this,mt),queryNode:xi.cloneWith(d(this,mt).queryNode,{values:$u(e)})})}defaultValues(){return new en({...d(this,mt),queryNode:xi.cloneWith(d(this,mt).queryNode,{defaultValues:!0})})}ignore(){return new en({...d(this,mt),queryNode:xi.cloneWith(d(this,mt).queryNode,{ignore:!0})})}top(e,r){return new en({...d(this,mt),queryNode:dt.cloneWithTop(d(this,mt).queryNode,Bd(e,r))})}onConflict(e){return new en({...d(this,mt),queryNode:xi.cloneWith(d(this,mt).queryNode,{onConflict:e(new dg({onConflictNode:bi.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new en({...d(this,mt),queryNode:xi.cloneWith(d(this,mt).queryNode,{onDuplicateKey:_F.create(Mx(e))})})}returning(e){return new en({...d(this,mt),queryNode:dt.cloneWithReturning(d(this,mt).queryNode,Md(e))})}returningAll(){return new en({...d(this,mt),queryNode:dt.cloneWithReturning(d(this,mt).queryNode,Pp())})}clearReturning(){return new en({...d(this,mt),queryNode:dt.cloneWithoutReturning(d(this,mt).queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new en({...d(this,mt)})}$castTo(){return new en(d(this,mt))}$narrowType(){return new en(d(this,mt))}$assertType(){return new en(d(this,mt))}withPlugin(e){return new en({...d(this,mt),executor:d(this,mt).executor.withPlugin(e)})}toOperationNode(){return d(this,mt).executor.transformQuery(d(this,mt).queryNode,d(this,mt).queryId)}compile(){return d(this,mt).executor.compileQuery(this.toOperationNode(),d(this,mt).queryId)}async execute(){const e=this.compile(),r=e.query,n=await d(this,mt).executor.executeQuery(e,d(this,mt).queryId);return d(this,mt).executor.adapter.supportsReturning&&r.returning?n.rows:[new xF(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jp){const r=await this.executeTakeFirst();if(r===void 0)throw Lp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){const r=this.compile(),n=d(this,mt).executor.stream(r,e,d(this,mt).queryId);for await(const i of n)yield*i.rows}async explain(e,r){return await new en({...d(this,mt),queryNode:dt.cloneWithExplain(d(this,mt).queryNode,e,r)}).execute()}};mt=new WeakMap;let Fh=en;Et(Fh,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class NF{constructor(e){Ie(this,"numDeletedRows");this.numDeletedRows=e}}const Bx=x({is(t){return t.kind==="LimitNode"},create(t){return x({kind:"LimitNode",limit:t})}});var rt;const vr=class vr{constructor(e){ie(this,rt,void 0);oe(this,rt,x(e))}where(...e){return new vr({...d(this,rt),queryNode:dt.cloneWithWhere(d(this,rt).queryNode,Sn(e))})}whereRef(e,r,n){return new vr({...d(this,rt),queryNode:dt.cloneWithWhere(d(this,rt).queryNode,lo(e,r,n))})}clearWhere(){return new vr({...d(this,rt),queryNode:dt.cloneWithoutWhere(d(this,rt).queryNode)})}top(e,r){return new vr({...d(this,rt),queryNode:dt.cloneWithTop(d(this,rt).queryNode,Bd(e,r))})}using(e){return new vr({...d(this,rt),queryNode:Ol.cloneWithUsing(d(this,rt).queryNode,qh(e))})}innerJoin(...e){return new vr({...d(this,rt),queryNode:dt.cloneWithJoin(d(this,rt).queryNode,Vn("InnerJoin",e))})}leftJoin(...e){return new vr({...d(this,rt),queryNode:dt.cloneWithJoin(d(this,rt).queryNode,Vn("LeftJoin",e))})}rightJoin(...e){return new vr({...d(this,rt),queryNode:dt.cloneWithJoin(d(this,rt).queryNode,Vn("RightJoin",e))})}fullJoin(...e){return new vr({...d(this,rt),queryNode:dt.cloneWithJoin(d(this,rt).queryNode,Vn("FullJoin",e))})}returning(e){return new vr({...d(this,rt),queryNode:dt.cloneWithReturning(d(this,rt).queryNode,Md(e))})}returningAll(e){return new vr({...d(this,rt),queryNode:dt.cloneWithReturning(d(this,rt).queryNode,Pp(e))})}clearReturning(){return new vr({...d(this,rt),queryNode:dt.cloneWithoutReturning(d(this,rt).queryNode)})}clearLimit(){return new vr({...d(this,rt),queryNode:Ol.cloneWithoutLimit(d(this,rt).queryNode)})}clearOrderBy(){return new vr({...d(this,rt),queryNode:Ol.cloneWithoutOrderBy(d(this,rt).queryNode)})}orderBy(e,r){return new vr({...d(this,rt),queryNode:Ol.cloneWithOrderByItems(d(this,rt).queryNode,Jv([e,r]))})}limit(e){return new vr({...d(this,rt),queryNode:Ol.cloneWithLimit(d(this,rt).queryNode,Bx.create(Yr(e)))})}$call(e){return e(this)}$if(e,r){return e?r(this):new vr({...d(this,rt)})}$castTo(){return new vr(d(this,rt))}$narrowType(){return new vr(d(this,rt))}$assertType(){return new vr(d(this,rt))}withPlugin(e){return new vr({...d(this,rt),executor:d(this,rt).executor.withPlugin(e)})}toOperationNode(){return d(this,rt).executor.transformQuery(d(this,rt).queryNode,d(this,rt).queryId)}compile(){return d(this,rt).executor.compileQuery(this.toOperationNode(),d(this,rt).queryId)}async execute(){const e=this.compile(),r=e.query,n=await d(this,rt).executor.executeQuery(e,d(this,rt).queryId);return d(this,rt).executor.adapter.supportsReturning&&r.returning?n.rows:[new NF(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jp){const r=await this.executeTakeFirst();if(r===void 0)throw Lp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){const r=this.compile(),n=d(this,rt).executor.stream(r,e,d(this,rt).queryId);for await(const i of n)yield*i.rows}async explain(e,r){return await new vr({...d(this,rt),queryNode:dt.cloneWithExplain(d(this,rt).queryNode,e,r)}).execute()}};rt=new WeakMap;let hg=vr;Et(hg,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class kF{constructor(e,r){Ie(this,"numUpdatedRows");Ie(this,"numChangedRows");this.numUpdatedRows=e,this.numChangedRows=r}}var ot;const Or=class Or{constructor(e){ie(this,ot,void 0);oe(this,ot,x(e))}where(...e){return new Or({...d(this,ot),queryNode:dt.cloneWithWhere(d(this,ot).queryNode,Sn(e))})}whereRef(e,r,n){return new Or({...d(this,ot),queryNode:dt.cloneWithWhere(d(this,ot).queryNode,lo(e,r,n))})}clearWhere(){return new Or({...d(this,ot),queryNode:dt.cloneWithoutWhere(d(this,ot).queryNode)})}top(e,r){return new Or({...d(this,ot),queryNode:dt.cloneWithTop(d(this,ot).queryNode,Bd(e,r))})}from(e){return new Or({...d(this,ot),queryNode:$c.cloneWithFromItems(d(this,ot).queryNode,qh(e))})}innerJoin(...e){return new Or({...d(this,ot),queryNode:dt.cloneWithJoin(d(this,ot).queryNode,Vn("InnerJoin",e))})}leftJoin(...e){return new Or({...d(this,ot),queryNode:dt.cloneWithJoin(d(this,ot).queryNode,Vn("LeftJoin",e))})}rightJoin(...e){return new Or({...d(this,ot),queryNode:dt.cloneWithJoin(d(this,ot).queryNode,Vn("RightJoin",e))})}fullJoin(...e){return new Or({...d(this,ot),queryNode:dt.cloneWithJoin(d(this,ot).queryNode,Vn("FullJoin",e))})}limit(e){return new Or({...d(this,ot),queryNode:$c.cloneWithLimit(d(this,ot).queryNode,Bx.create(Yr(e)))})}set(...e){return new Or({...d(this,ot),queryNode:$c.cloneWithUpdates(d(this,ot).queryNode,bF(...e))})}returning(e){return new Or({...d(this,ot),queryNode:dt.cloneWithReturning(d(this,ot).queryNode,Md(e))})}returningAll(){return new Or({...d(this,ot),queryNode:dt.cloneWithReturning(d(this,ot).queryNode,Pp())})}clearReturning(){return new Or({...d(this,ot),queryNode:dt.cloneWithoutReturning(d(this,ot).queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Or({...d(this,ot)})}$castTo(){return new Or(d(this,ot))}$narrowType(){return new Or(d(this,ot))}$assertType(){return new Or(d(this,ot))}withPlugin(e){return new Or({...d(this,ot),executor:d(this,ot).executor.withPlugin(e)})}toOperationNode(){return d(this,ot).executor.transformQuery(d(this,ot).queryNode,d(this,ot).queryId)}compile(){return d(this,ot).executor.compileQuery(this.toOperationNode(),d(this,ot).queryId)}async execute(){const e=this.compile(),r=e.query,n=await d(this,ot).executor.executeQuery(e,d(this,ot).queryId);return d(this,ot).executor.adapter.supportsReturning&&r.returning?n.rows:[new kF(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jp){const r=await this.executeTakeFirst();if(r===void 0)throw Lp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){const r=this.compile(),n=d(this,ot).executor.stream(r,e,d(this,ot).queryId);for await(const i of n)yield*i.rows}async explain(e,r){return await new Or({...d(this,ot),queryNode:dt.cloneWithExplain(d(this,ot).queryNode,e,r)}).execute()}};ot=new WeakMap;let Wh=Or;Et(Wh,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const vN=x({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return x({kind:"CommonTableExpressionNameNode",table:Xa.create(t),columns:e?x(e.map(Vr.create)):void 0})}}),pg=x({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return x({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return x({...t,...e})}});var ko;const qg=class qg{constructor(e){ie(this,ko,void 0);oe(this,ko,x(e))}materialized(){return new qg({...d(this,ko),node:pg.cloneWith(d(this,ko).node,{materialized:!0})})}notMaterialized(){return new qg({...d(this,ko),node:pg.cloneWith(d(this,ko).node,{materialized:!1})})}toOperationNode(){return d(this,ko).node}};ko=new WeakMap;let mg=qg;Et(mg,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function wN(t,e){const r=e(MF()).toOperationNode();return Ii(t)?t(CF(r)).toOperationNode():pg.create(jR(t),r)}function CF(t){return e=>new mg({node:pg.create(jR(e),t)})}function jR(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(i=>i.trim());return vN.create(r,n)}else return vN.create(t)}const km=x({is(t){return t.kind==="WithNode"},create(t,e){return x({kind:"WithNode",expressions:x([t]),...e})},cloneWithExpression(t,e){return x({...t,expressions:x([...t.expressions,e])})}}),bN=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function TF(t){let e="";for(let r=0;r<t;++r)e+=RF();return e}function RF(){return bN[~~(Math.random()*bN.length)]}function nr(){return new OF}var Fc;class OF{constructor(){ie(this,Fc,void 0)}get queryId(){return d(this,Fc)===void 0&&oe(this,Fc,TF(8)),d(this,Fc)}}Fc=new WeakMap;var Ug;class Fx{constructor(){Ie(this,"nodeStack",[]);ie(this,Ug,x({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this)}))}transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),x(r)}transformNodeImpl(e){return d(this,Ug)[e.kind](e)}transformNodeList(e){return e&&x(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:x([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}Ug=new WeakMap;const AF=x({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});var Wc,Gl,Jl,zg,LR,Vg,DR,Hg,MR,ka,tc,Kh,bb,Qg,BR;class IF extends Fx{constructor(r){super();ie(this,zg);ie(this,Vg);ie(this,Hg);ie(this,ka);ie(this,Kh);ie(this,Qg);ie(this,Wc,void 0);ie(this,Gl,new Set);ie(this,Jl,new Set);oe(this,Wc,r)}transformNodeImpl(r){if(!_t(this,zg,LR).call(this,r))return super.transformNodeImpl(r);const n=_t(this,Hg,MR).call(this,r);for(const o of n)d(this,Jl).add(o);const i=_t(this,Vg,DR).call(this,r);for(const o of i)d(this,Gl).add(o);const s=super.transformNodeImpl(r);for(const o of i)d(this,Gl).delete(o);for(const o of n)d(this,Jl).delete(o);return s}transformSchemableIdentifier(r){const n=super.transformSchemableIdentifier(r);return n.schema||!d(this,Gl).has(r.identifier.name)?n:{...n,schema:br.create(d(this,Wc))}}transformReferences(r){const n=super.transformReferences(r);return n.table.table.schema?n:{...n,table:Xa.createWithSchema(d(this,Wc),n.table.table.identifier.name)}}}Wc=new WeakMap,Gl=new WeakMap,Jl=new WeakMap,zg=new WeakSet,LR=function(r){return r.kind in AF},Vg=new WeakSet,DR=function(r){const n=new Set;if("name"in r&&r.name&&ll.is(r.name)&&_t(this,Kh,bb).call(this,r.name,n),"from"in r&&r.from)for(const i of r.from.froms)_t(this,ka,tc).call(this,i,n);if("into"in r&&r.into&&_t(this,ka,tc).call(this,r.into,n),"table"in r&&r.table&&_t(this,ka,tc).call(this,r.table,n),"joins"in r&&r.joins)for(const i of r.joins)_t(this,ka,tc).call(this,i.table,n);return"using"in r&&r.using&&_t(this,ka,tc).call(this,r.using,n),n},Hg=new WeakSet,MR=function(r){const n=new Set;return"with"in r&&r.with&&_t(this,Qg,BR).call(this,r.with,n),n},ka=new WeakSet,tc=function(r,n){const i=Xa.is(r)?r:gl.is(r)&&Xa.is(r.node)?r.node:null;i&&_t(this,Kh,bb).call(this,i.table,n)},Kh=new WeakSet,bb=function(r,n){const i=r.identifier.name;!d(this,Gl).has(i)&&!d(this,Jl).has(i)&&n.add(i)},Qg=new WeakSet,BR=function(r,n){for(const i of r.expressions){const s=i.name.table.table.identifier.name;d(this,Jl).has(s)||n.add(s)}};var Zh;class Dp{constructor(e){ie(this,Zh,void 0);oe(this,Zh,new IF(e))}transformQuery(e){return d(this,Zh).transformNode(e.node)}async transformResult(e){return e.result}}Zh=new WeakMap;const PF=x({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return x({kind:"MatchedNode",not:t,bySource:e})}});function _N(t,e,r){return $p.create(ag([PF.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?lo(e[0],e[1],e[2]):Sn(e)]:[]],"and",!1))}function Wf(t){return Ti(t)?bn.create([t],[]):ai(t)?t.toOperationNode():t}var Xh,qc,Uc,Ak;let xN=(Ak=class{constructor(){ie(this,Xh,void 0);ie(this,qc,void 0);ie(this,Uc,void 0);Ie(this,"resolve",e=>{d(this,qc)&&d(this,qc).call(this,e)});Ie(this,"reject",e=>{d(this,Uc)&&d(this,Uc).call(this,e)});oe(this,Xh,new Promise((e,r)=>{oe(this,Uc,r),oe(this,qc,e)}))}get promise(){return d(this,Xh)}},Xh=new WeakMap,qc=new WeakMap,Uc=new WeakMap,Ak);const SN=new Set;function $F(t){SN.has(t)||(SN.add(t),console.log(t))}const jF=x([]);var Yl,ep,_b;class FR{constructor(e=jF){ie(this,ep);ie(this,Yl,void 0);oe(this,Yl,e)}get plugins(){return d(this,Yl)}transformQuery(e,r){for(const n of d(this,Yl)){const i=n.transformQuery({node:e,queryId:r});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const i=await n.executeQuery(e),s=await _t(this,ep,_b).call(this,i,r);return LF(i,s),s})}async*stream(e,r,n){const i=new xN,s=new xN;this.provideConnection(async a=>(i.resolve(a),await s.promise)).catch(a=>i.reject(a));const o=await i.promise;try{for await(const a of o.streamQuery(e,r))yield await _t(this,ep,_b).call(this,a,n)}finally{s.resolve()}}}Yl=new WeakMap,ep=new WeakSet,_b=async function(e,r){for(const n of d(this,Yl))e=await n.transformResult({result:e,queryId:r});return e};function LF(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||$F("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class xc extends FR{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new xc([...this.plugins,e])}withPlugins(e){return new xc([...this.plugins,...e])}withPluginAtFront(e){return new xc([e,...this.plugins])}withoutPlugins(){return new xc([])}}const Yv=new xc;class DF{constructor(e){Ie(this,"numChangedRows");this.numChangedRows=e}}var Ca;const xS=class xS{constructor(e){ie(this,Ca,void 0);oe(this,Ca,x(e))}top(e,r){return new xS({...d(this,Ca),queryNode:dt.cloneWithTop(d(this,Ca).queryNode,Bd(e,r))})}using(...e){return new Uo({...d(this,Ca),queryNode:ni.cloneWithUsing(d(this,Ca).queryNode,Vn("Using",e))})}};Ca=new WeakMap;let yg=xS;Et(yg,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");var rn,zc,ny,Co,kl;const Gg=class Gg{constructor(e){ie(this,zc);ie(this,Co);ie(this,rn,void 0);oe(this,rn,x(e))}top(e,r){return new Gg({...d(this,rn),queryNode:dt.cloneWithTop(d(this,rn).queryNode,Bd(e,r))})}whenMatched(){return _t(this,zc,ny).call(this,[])}whenMatchedAnd(...e){return _t(this,zc,ny).call(this,e)}whenMatchedAndRef(e,r,n){return _t(this,zc,ny).call(this,[e,r,n],!0)}whenNotMatched(){return _t(this,Co,kl).call(this,[])}whenNotMatchedAnd(...e){return _t(this,Co,kl).call(this,e)}whenNotMatchedAndRef(e,r,n){return _t(this,Co,kl).call(this,[e,r,n],!0)}whenNotMatchedBySource(){return _t(this,Co,kl).call(this,[],!1,!0)}whenNotMatchedBySourceAnd(...e){return _t(this,Co,kl).call(this,e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return _t(this,Co,kl).call(this,[e,r,n],!0,!0)}$call(e){return e(this)}$if(e,r){return e?r(this):new Gg({...d(this,rn)})}toOperationNode(){return d(this,rn).executor.transformQuery(d(this,rn).queryNode,d(this,rn).queryId)}compile(){return d(this,rn).executor.compileQuery(d(this,rn).queryNode,d(this,rn).queryId)}async execute(){const e=this.compile(),r=await d(this,rn).executor.executeQuery(e,d(this,rn).queryId);return[new DF(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jp){const r=await this.executeTakeFirst();if(r===void 0)throw Lp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}};rn=new WeakMap,zc=new WeakSet,ny=function(e,r){return new xb({...d(this,rn),queryNode:ni.cloneWithWhen(d(this,rn).queryNode,_N({isMatched:!0},e,r))})},Co=new WeakSet,kl=function(e,r=!1,n=!1){const i={...d(this,rn),queryNode:ni.cloneWithWhen(d(this,rn).queryNode,_N({isMatched:!1,bySource:n},e,r))},s=n?xb:WR;return new s(i)};let Uo=Gg;Et(Uo,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");var ms;class xb{constructor(e){ie(this,ms,void 0);oe(this,ms,x(e))}thenDelete(){return new Uo({...d(this,ms),queryNode:ni.cloneWithThen(d(this,ms).queryNode,Wf("delete"))})}thenDoNothing(){return new Uo({...d(this,ms),queryNode:ni.cloneWithThen(d(this,ms).queryNode,Wf("do nothing"))})}thenUpdate(e){return new Uo({...d(this,ms),queryNode:ni.cloneWithThen(d(this,ms).queryNode,Wf(e(new Wh({queryId:d(this,ms).queryId,executor:Yv,queryNode:$c.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}ms=new WeakMap;Et(xb,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");var Ta;class WR{constructor(e){ie(this,Ta,void 0);oe(this,Ta,x(e))}thenDoNothing(){return new Uo({...d(this,Ta),queryNode:ni.cloneWithThen(d(this,Ta).queryNode,Wf("do nothing"))})}thenInsertValues(e){const[r,n]=IR(e);return new Uo({...d(this,Ta),queryNode:ni.cloneWithThen(d(this,Ta).queryNode,Wf(xi.cloneWith(xi.createWithoutInto(),{columns:r,values:n})))})}}Ta=new WeakMap;Et(WR,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");var Vt;const Il=class Il{constructor(e){ie(this,Vt,void 0);oe(this,Vt,x(e))}selectFrom(e){return Nb({queryId:nr(),executor:d(this,Vt).executor,queryNode:Ot.createFrom(qh(e),d(this,Vt).withNode)})}selectNoFrom(e){return Nb({queryId:nr(),executor:d(this,Vt).executor,queryNode:Ot.cloneWithSelections(Ot.create(d(this,Vt).withNode),Md(e))})}insertInto(e){return new Fh({queryId:nr(),executor:d(this,Vt).executor,queryNode:xi.create(zr(e),d(this,Vt).withNode)})}replaceInto(e){return new Fh({queryId:nr(),executor:d(this,Vt).executor,queryNode:xi.create(zr(e),d(this,Vt).withNode,!0)})}deleteFrom(e){return new hg({queryId:nr(),executor:d(this,Vt).executor,queryNode:Ol.create(qh(e),d(this,Vt).withNode)})}updateTable(e){return new Wh({queryId:nr(),executor:d(this,Vt).executor,queryNode:$c.create(Uh(e),d(this,Vt).withNode)})}mergeInto(e){return new yg({queryId:nr(),executor:d(this,Vt).executor,queryNode:ni.create(GR(e),d(this,Vt).withNode)})}with(e,r){const n=wN(e,r);return new Il({...d(this,Vt),withNode:d(this,Vt).withNode?km.cloneWithExpression(d(this,Vt).withNode,n):km.create(n)})}withRecursive(e,r){const n=wN(e,r);return new Il({...d(this,Vt),withNode:d(this,Vt).withNode?km.cloneWithExpression(d(this,Vt).withNode,n):km.create(n,{recursive:!0})})}withPlugin(e){return new Il({...d(this,Vt),executor:d(this,Vt).executor.withPlugin(e)})}withoutPlugins(){return new Il({...d(this,Vt),executor:d(this,Vt).executor.withoutPlugins()})}withSchema(e){return new Il({...d(this,Vt),executor:d(this,Vt).executor.withPluginAtFront(new Dp(e))})}};Vt=new WeakMap;let gg=Il;function MF(){return new gg({executor:Yv})}function BF(t,e){return new ug({joinNode:Mf.create(t,Uh(e))})}function FF(){return new cg({overNode:wb.create()})}function Vn(t,e){if(e.length===3)return qF(t,e[0],e[1],e[2]);if(e.length===2)return WF(t,e[0],e[1]);throw new Error("not implemented")}function WF(t,e,r){return r(BF(t,e)).toOperationNode()}function qF(t,e,r,n){return Mf.createWithOn(t,Uh(e),lo(r,"=",n))}const UF=x({is(t){return t.kind==="OffsetNode"},create(t){return x({kind:"OffsetNode",offset:t})}}),zF=x({is(t){return t.kind==="GroupByItemNode"},create(t){return x({kind:"GroupByItemNode",groupBy:t})}});function VF(t){return t=Ii(t)?t(Fd()):t,Bh(t).map(zF.create)}const qR=x({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return x({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function Yu(t,e,r){return Ii(e)&&(e=e(qx())),Xo(e)||(e=[e]),e.map(n=>qR.create(t,$u(n),r))}var To;const Jg=class Jg{constructor(e){ie(this,To,void 0);oe(this,To,e)}get expressionType(){}as(e){return new Wx(this,e)}or(...e){return new Sb(Dd.create(d(this,To),Sn(e)))}and(...e){return new Eb(ul.create(d(this,To),Sn(e)))}$castTo(){return new Jg(d(this,To))}$notNull(){return new Jg(d(this,To))}toOperationNode(){return d(this,To)}};To=new WeakMap;let ur=Jg;var Vc,Ra;class Wx{constructor(e,r){ie(this,Vc,void 0);ie(this,Ra,void 0);oe(this,Vc,e),oe(this,Ra,r)}get expression(){return d(this,Vc)}get alias(){return d(this,Ra)}toOperationNode(){return gl.create(d(this,Vc).toOperationNode(),ai(d(this,Ra))?d(this,Ra).toOperationNode():br.create(d(this,Ra)))}}Vc=new WeakMap,Ra=new WeakMap;var Kl;const Yg=class Yg{constructor(e){ie(this,Kl,void 0);oe(this,Kl,e)}get expressionType(){}as(e){return new Wx(this,e)}or(...e){return new Yg(Dd.create(d(this,Kl),Sn(e)))}$castTo(){return new Yg(d(this,Kl))}toOperationNode(){return xd.create(d(this,Kl))}};Kl=new WeakMap;let Sb=Yg;var Zl;const Kg=class Kg{constructor(e){ie(this,Zl,void 0);oe(this,Zl,e)}get expressionType(){}as(e){return new Wx(this,e)}and(...e){return new Kg(ul.create(d(this,Zl),Sn(e)))}$castTo(){return new Kg(d(this,Zl))}toOperationNode(){return xd.create(d(this,Zl))}};Zl=new WeakMap;let Eb=Kg;const HF={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:ao.create(t),modifier:e}}};function QF(t,e){if(!Qv(t)&&!Ax(t))throw new Error(`Invalid fetch row count: ${t}`);if(!GF(e))throw new Error(`Invalid fetch modifier: ${e}`);return HF.create(t,e)}function GF(t){return t==="only"||t==="with ties"}var Se;const ut=class ut{constructor(e){ie(this,Se,void 0);oe(this,Se,x(e))}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithWhere(d(this,Se).queryNode,Sn(e))})}whereRef(e,r,n){return new ut({...d(this,Se),queryNode:dt.cloneWithWhere(d(this,Se).queryNode,lo(e,r,n))})}having(...e){return new ut({...d(this,Se),queryNode:Ot.cloneWithHaving(d(this,Se).queryNode,Sn(e))})}havingRef(e,r,n){return new ut({...d(this,Se),queryNode:Ot.cloneWithHaving(d(this,Se).queryNode,lo(e,r,n))})}select(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSelections(d(this,Se).queryNode,Md(e))})}distinctOn(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithDistinctOn(d(this,Se).queryNode,Bh(e))})}modifyFront(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithFrontModifier(d(this,Se).queryNode,go.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,go.createWithExpression(e.toOperationNode()))})}distinct(){return new ut({...d(this,Se),queryNode:Ot.cloneWithFrontModifier(d(this,Se).queryNode,go.create("Distinct"))})}forUpdate(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,go.create("ForUpdate",e?Nm(e).map(zr):void 0))})}forShare(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,go.create("ForShare",e?Nm(e).map(zr):void 0))})}forKeyShare(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,go.create("ForKeyShare",e?Nm(e).map(zr):void 0))})}forNoKeyUpdate(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,go.create("ForNoKeyUpdate",e?Nm(e).map(zr):void 0))})}skipLocked(){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,go.create("SkipLocked"))})}noWait(){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,go.create("NoWait"))})}selectAll(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSelections(d(this,Se).queryNode,Pp(e))})}innerJoin(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Vn("InnerJoin",e))})}leftJoin(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Vn("LeftJoin",e))})}rightJoin(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Vn("RightJoin",e))})}fullJoin(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Vn("FullJoin",e))})}innerJoinLateral(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Vn("LateralInnerJoin",e))})}leftJoinLateral(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Vn("LateralLeftJoin",e))})}orderBy(...e){return new ut({...d(this,Se),queryNode:Ot.cloneWithOrderByItems(d(this,Se).queryNode,Jv(e))})}groupBy(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithGroupByItems(d(this,Se).queryNode,VF(e))})}limit(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithLimit(d(this,Se).queryNode,Bx.create(Yr(e)))})}offset(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithOffset(d(this,Se).queryNode,UF.create(Yr(e)))})}fetch(e,r="only"){return new ut({...d(this,Se),queryNode:Ot.cloneWithFetch(d(this,Se).queryNode,QF(e,r))})}top(e,r){return new ut({...d(this,Se),queryNode:dt.cloneWithTop(d(this,Se).queryNode,Bd(e,r))})}union(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Yu("union",e,!1))})}unionAll(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Yu("union",e,!0))})}intersect(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Yu("intersect",e,!1))})}intersectAll(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Yu("intersect",e,!0))})}except(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Yu("except",e,!1))})}exceptAll(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Yu("except",e,!0))})}as(e){return new UR(this,e)}clearSelect(){return new ut({...d(this,Se),queryNode:Ot.cloneWithoutSelections(d(this,Se).queryNode)})}clearWhere(){return new ut({...d(this,Se),queryNode:dt.cloneWithoutWhere(d(this,Se).queryNode)})}clearLimit(){return new ut({...d(this,Se),queryNode:Ot.cloneWithoutLimit(d(this,Se).queryNode)})}clearOffset(){return new ut({...d(this,Se),queryNode:Ot.cloneWithoutOffset(d(this,Se).queryNode)})}clearOrderBy(){return new ut({...d(this,Se),queryNode:Ot.cloneWithoutOrderBy(d(this,Se).queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new ut({...d(this,Se)})}$castTo(){return new ut(d(this,Se))}$narrowType(){return new ut(d(this,Se))}$assertType(){return new ut(d(this,Se))}$asTuple(){return new ur(this.toOperationNode())}withPlugin(e){return new ut({...d(this,Se),executor:d(this,Se).executor.withPlugin(e)})}toOperationNode(){return d(this,Se).executor.transformQuery(d(this,Se).queryNode,d(this,Se).queryId)}compile(){return d(this,Se).executor.compileQuery(this.toOperationNode(),d(this,Se).queryId)}async execute(){const e=this.compile();return(await d(this,Se).executor.executeQuery(e,d(this,Se).queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jp){const r=await this.executeTakeFirst();if(r===void 0)throw Lp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){const r=this.compile(),n=d(this,Se).executor.stream(r,e,d(this,Se).queryId);for await(const i of n)yield*i.rows}async explain(e,r){return await new ut({...d(this,Se),queryNode:dt.cloneWithExplain(d(this,Se).queryNode,e,r)}).execute()}};Se=new WeakMap;let vg=ut;Et(vg,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function Nb(t){return new vg(t)}var Hc,Qc;class UR{constructor(e,r){ie(this,Hc,void 0);ie(this,Qc,void 0);oe(this,Hc,e),oe(this,Qc,r)}get expression(){return d(this,Hc)}get alias(){return d(this,Qc)}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return gl.create(d(this,Hc).toOperationNode(),br.create(d(this,Qc)))}}Hc=new WeakMap,Qc=new WeakMap;Et(UR,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Ul=x({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return x({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return x({...t,distinct:!0})},cloneWithFilter(t,e){return x({...t,filter:t.filter?ei.cloneWithOperation(t.filter,"And",e):ei.create(e)})},cloneWithOrFilter(t,e){return x({...t,filter:t.filter?ei.cloneWithOperation(t.filter,"Or",e):ei.create(e)})},cloneWithOver(t,e){return x({...t,over:e})}}),EN=x({is(t){return t.kind==="FunctionNode"},create(t,e){return x({kind:"FunctionNode",func:t,arguments:e})}});var Mn;const wa=class wa{constructor(e){ie(this,Mn,void 0);oe(this,Mn,x(e))}get expressionType(){}as(e){return new JF(this,e)}distinct(){return new wa({...d(this,Mn),aggregateFunctionNode:Ul.cloneWithDistinct(d(this,Mn).aggregateFunctionNode)})}filterWhere(...e){return new wa({...d(this,Mn),aggregateFunctionNode:Ul.cloneWithFilter(d(this,Mn).aggregateFunctionNode,Sn(e))})}filterWhereRef(e,r,n){return new wa({...d(this,Mn),aggregateFunctionNode:Ul.cloneWithFilter(d(this,Mn).aggregateFunctionNode,lo(e,r,n))})}over(e){const r=FF();return new wa({...d(this,Mn),aggregateFunctionNode:Ul.cloneWithOver(d(this,Mn).aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new wa(d(this,Mn))}$notNull(){return new wa(d(this,Mn))}toOperationNode(){return d(this,Mn).aggregateFunctionNode}};Mn=new WeakMap;let jc=wa;Et(jc,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var Gc,Jc;class JF{constructor(e,r){ie(this,Gc,void 0);ie(this,Jc,void 0);oe(this,Gc,e),oe(this,Jc,r)}get expression(){return d(this,Gc)}get alias(){return d(this,Jc)}toOperationNode(){return gl.create(d(this,Gc).toOperationNode(),br.create(d(this,Jc)))}}Gc=new WeakMap,Jc=new WeakMap;function zR(){const t=(r,n)=>new ur(EN.create(r,Bh(n??[]))),e=(r,n)=>new jc({aggregateFunctionNode:Ul.create(r,n?Bh(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new jc({aggregateFunctionNode:Ul.create("count",Pp(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new jc({aggregateFunctionNode:Ul.create("json_agg",[Ti(r)?zr(r):r.toOperationNode()])})},toJson(r){return new ur(EN.create("to_json",[Ti(r)?zr(r):r.toOperationNode()]))}})}const YF=x({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return x({kind:"UnaryOperationNode",operator:t,operand:e})}});function KF(t,e){return YF.create(cl.create(t),Ei(e))}const Xs=x({is(t){return t.kind==="CaseNode"},create(t){return x({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return x({...t,when:x(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return x({...t,when:t.when?x([...t.when.slice(0,-1),$p.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return x({...t,...e})}});var Yc;class VR{constructor(e){ie(this,Yc,void 0);oe(this,Yc,x(e))}when(...e){return new HR({...d(this,Yc),node:Xs.cloneWithWhen(d(this,Yc).node,$p.create(Sn(e)))})}}Yc=new WeakMap;var Kc;class HR{constructor(e){ie(this,Kc,void 0);oe(this,Kc,x(e))}then(e){return new ZF({...d(this,Kc),node:Xs.cloneWithThen(d(this,Kc).node,jx(e)?Lx(e):Yr(e))})}}Kc=new WeakMap;var Hs;class ZF{constructor(e){ie(this,Hs,void 0);oe(this,Hs,x(e))}when(...e){return new HR({...d(this,Hs),node:Xs.cloneWithWhen(d(this,Hs).node,$p.create(Sn(e)))})}else(e){return new XF({...d(this,Hs),node:Xs.cloneWith(d(this,Hs).node,{else:jx(e)?Lx(e):Yr(e)})})}end(){return new ur(Xs.cloneWith(d(this,Hs).node,{isStatement:!1}))}endCase(){return new ur(Xs.cloneWith(d(this,Hs).node,{isStatement:!0}))}}Hs=new WeakMap;var Zc;class XF{constructor(e){ie(this,Zc,void 0);oe(this,Zc,x(e))}end(){return new ur(Xs.cloneWith(d(this,Zc).node,{isStatement:!1}))}endCase(){return new ur(Xs.cloneWith(d(this,Zc).node,{isStatement:!0}))}}Zc=new WeakMap;const NN=x({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return x({kind:"JSONPathLegNode",type:t,value:e})}});var Qs,tp,kb;class qf{constructor(e){ie(this,tp);ie(this,Qs,void 0);oe(this,Qs,e)}at(e){return _t(this,tp,kb).call(this,"ArrayLocation",e)}key(e){return _t(this,tp,kb).call(this,"Member",e)}}Qs=new WeakMap,tp=new WeakSet,kb=function(e,r){return sg.is(d(this,Qs))?new kN(sg.cloneWithTraversal(d(this,Qs),Bf.is(d(this,Qs).traversal)?Bf.cloneWithLeg(d(this,Qs).traversal,NN.create(e,r)):CR.cloneWithValue(d(this,Qs).traversal,ao.createImmediate(r)))):new kN(Bf.cloneWithLeg(d(this,Qs),NN.create(e,r)))};var Xl;class kN extends qf{constructor(r){super(r);ie(this,Xl,void 0);oe(this,Xl,r)}get expressionType(){}as(r){return new eW(this,r)}$castTo(){return new qf(d(this,Xl))}$notNull(){return new qf(d(this,Xl))}toOperationNode(){return d(this,Xl)}}Xl=new WeakMap;var Xc,Oa;class eW{constructor(e,r){ie(this,Xc,void 0);ie(this,Oa,void 0);oe(this,Xc,e),oe(this,Oa,r)}get expression(){return d(this,Xc)}get alias(){return d(this,Oa)}toOperationNode(){return gl.create(d(this,Xc).toOperationNode(),ai(d(this,Oa))?d(this,Oa).toOperationNode():br.create(d(this,Oa)))}}Xc=new WeakMap,Oa=new WeakMap;const CN=x({is(t){return t.kind==="TupleNode"},create(t){return x({kind:"TupleNode",values:x(t)})}}),tW=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob"],rW=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timez\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/],nW=x({is(t){return t.kind==="DataTypeNode"},create(t){return x({kind:"DataTypeNode",dataType:t})}});function iW(t){return!!(tW.includes(t)||rW.some(e=>e.test(t)))}function Nu(t){if(ai(t))return t.toOperationNode();if(iW(t))return nW.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const sW=x({is(t){return t.kind==="CastNode"},create(t,e){return x({kind:"CastNode",expression:t,dataType:e})}});function qx(t=Yv){function e(i,s,o){return new ur(Dx(i,s,o))}function r(i,s){return new ur(KF(i,s))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return Nb({queryId:nr(),executor:t,queryNode:Ot.createFrom(qh(i))})},case(i){return new VR({node:Xs.create(Ka(i)?void 0:Ei(i))})},ref(i,s){return Ka(s)?new ur(ea(i)):new qf(sF(i,s))},jsonPath(){return new qf(Bf.create())},table(i){return new ur(zr(i))},val(i){return new ur(Yr(i))},refTuple(...i){return new ur(CN.create(i.map(Ei)))},tuple(...i){return new ur(CN.create(i.map(Yr)))},lit(i){return new ur(Lx(i))},unary:r,not(i){return r("not",i)},exists(i){return r("exists",i)},neg(i){return r("-",i)},between(i,s,o){return new ur(_d.create(Ei(i),cl.create("between"),ul.create(Yr(s),Yr(o))))},betweenSymmetric(i,s,o){return new ur(_d.create(Ei(i),cl.create("between symmetric"),ul.create(Yr(s),Yr(o))))},and(i){return Xo(i)?new ur(ag(i,"and")):new ur(uN(i,"and"))},or(i){return Xo(i)?new ur(ag(i,"or")):new ur(uN(i,"or"))},parens(...i){const s=Sn(i);return xd.is(s)?new ur(s):new ur(xd.create(s))},cast(i,s){return new ur(sW.create(Ei(i),Nu(s)))},withSchema(i){return qx(t.withPluginAtFront(new Dp(i)))}});return n.fn=zR(),n.eb=n,n}function Fd(t){return qx()}function $u(t){if(ai(t))return t.toOperationNode();if(Ii(t))return t(Fd()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function QR(t){if(ai(t))return t.toOperationNode();if(Ii(t))return t(Fd()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Mp(t){return JB(t)||YB(t)||Ii(t)}function qh(t){return Xo(t)?t.map(e=>Uh(e)):[Uh(t)]}function Uh(t){return Ti(t)?GR(t):QR(t)}function GR(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(JR);return gl.create(zr(r),br.create(n))}else return zr(t)}function zr(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(JR);return Xa.createWithSchema(r,n)}else return Xa.create(t)}function JR(t){return t.trim()}const YR=x({is(t){return t.kind==="AddColumnNode"},create(t){return x({kind:"AddColumnNode",column:t})}}),Nr=x({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return x({kind:"ColumnDefinitionNode",column:Vr.create(t),dataType:e})},cloneWithFrontModifier(t,e){return x({...t,frontModifiers:t.frontModifiers?x([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return x({...t,endModifiers:t.endModifiers?x([...t.endModifiers,e]):[e]})},cloneWith(t,e){return x({...t,...e})}}),KR=x({is(t){return t.kind==="DropColumnNode"},create(t){return x({kind:"DropColumnNode",column:Vr.create(t)})}}),ZR=x({is(t){return t.kind==="RenameColumnNode"},create(t,e){return x({kind:"RenameColumnNode",column:Vr.create(t),renameTo:Vr.create(e)})}}),Ux=x({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return x({kind:"CheckConstraintNode",expression:t,name:e?br.create(e):void 0})}}),oW=["no action","restrict","cascade","set null","set default"],iy=x({is(t){return t.kind==="ReferencesNode"},create(t,e){return x({kind:"ReferencesNode",table:t,columns:x([...e])})},cloneWithOnDelete(t,e){return x({...t,onDelete:e})},cloneWithOnUpdate(t,e){return x({...t,onUpdate:e})}});function XR(t){return ai(t)?t.toOperationNode():ao.createImmediate(t)}const Cm=x({is(t){return t.kind==="GeneratedNode"},create(t){return x({kind:"GeneratedNode",...t})},createWithExpression(t){return x({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return x({...t,...e})}}),aW=x({is(t){return t.kind==="DefaultValueNode"},create(t){return x({kind:"DefaultValueNode",defaultValue:t})}});function wg(t){if(oW.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}var Qt;const Gr=class Gr{constructor(e){ie(this,Qt,void 0);oe(this,Qt,e)}autoIncrement(){return new Gr(Nr.cloneWith(d(this,Qt),{autoIncrement:!0}))}identity(){return new Gr(Nr.cloneWith(d(this,Qt),{identity:!0}))}primaryKey(){return new Gr(Nr.cloneWith(d(this,Qt),{primaryKey:!0}))}references(e){const r=ea(e);if(!r.table||Ix.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Gr(Nr.cloneWith(d(this,Qt),{references:iy.create(r.table,[r.column])}))}onDelete(e){if(!d(this,Qt).references)throw new Error("on delete constraint can only be added for foreign keys");return new Gr(Nr.cloneWith(d(this,Qt),{references:iy.cloneWithOnDelete(d(this,Qt).references,wg(e))}))}onUpdate(e){if(!d(this,Qt).references)throw new Error("on update constraint can only be added for foreign keys");return new Gr(Nr.cloneWith(d(this,Qt),{references:iy.cloneWithOnUpdate(d(this,Qt).references,wg(e))}))}unique(){return new Gr(Nr.cloneWith(d(this,Qt),{unique:!0}))}notNull(){return new Gr(Nr.cloneWith(d(this,Qt),{notNull:!0}))}unsigned(){return new Gr(Nr.cloneWith(d(this,Qt),{unsigned:!0}))}defaultTo(e){return new Gr(Nr.cloneWith(d(this,Qt),{defaultTo:aW.create(XR(e))}))}check(e){return new Gr(Nr.cloneWith(d(this,Qt),{check:Ux.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Gr(Nr.cloneWith(d(this,Qt),{generated:Cm.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Gr(Nr.cloneWith(d(this,Qt),{generated:Cm.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Gr(Nr.cloneWith(d(this,Qt),{generated:Cm.create({identity:!0,byDefault:!0})}))}stored(){if(!d(this,Qt).generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Gr(Nr.cloneWith(d(this,Qt),{generated:Cm.cloneWith(d(this,Qt).generated,{stored:!0})}))}modifyFront(e){return new Gr(Nr.cloneWithFrontModifier(d(this,Qt),e.toOperationNode()))}nullsNotDistinct(){return new Gr(Nr.cloneWith(d(this,Qt),{nullsNotDistinct:!0}))}modifyEnd(e){return new Gr(Nr.cloneWithEndModifier(d(this,Qt),e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return d(this,Qt)}};Qt=new WeakMap;let dl=Gr;Et(dl,"don't await ColumnDefinitionBuilder instances directly.");const eO=x({is(t){return t.kind==="ModifyColumnNode"},create(t){return x({kind:"ModifyColumnNode",column:t})}}),bg=x({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return x({kind:"ForeignKeyConstraintNode",columns:t,references:iy.create(e,r),name:n?br.create(n):void 0})},cloneWith(t,e){return x({...t,...e})}});var eu;const Zg=class Zg{constructor(e){ie(this,eu,void 0);oe(this,eu,e)}onDelete(e){return new Zg(bg.cloneWith(d(this,eu),{onDelete:wg(e)}))}onUpdate(e){return new Zg(bg.cloneWith(d(this,eu),{onUpdate:wg(e)}))}$call(e){return e(this)}toOperationNode(){return d(this,eu)}};eu=new WeakMap;let zh=Zg;Et(zh,"don't await ForeignKeyConstraintBuilder instances directly.");const sy=x({is(t){return t.kind==="AddConstraintNode"},create(t){return x({kind:"AddConstraintNode",constraint:t})}}),zx=x({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return x({kind:"UniqueConstraintNode",columns:x(t.map(Vr.create)),name:e?br.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return x({...t,...e})}}),oy=x({is(t){return t.kind==="DropConstraintNode"},create(t){return x({kind:"DropConstraintNode",constraintName:br.create(t)})},cloneWith(t,e){return x({...t,...e})}}),pf=x({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return x({kind:"AlterColumnNode",column:Vr.create(t),[e]:r})}});var Ro;class Vx{constructor(e){ie(this,Ro,void 0);oe(this,Ro,e)}setDataType(e){return new mf(pf.create(d(this,Ro),"dataType",Nu(e)))}setDefault(e){return new mf(pf.create(d(this,Ro),"setDefault",XR(e)))}dropDefault(){return new mf(pf.create(d(this,Ro),"dropDefault",!0))}setNotNull(){return new mf(pf.create(d(this,Ro),"setNotNull",!0))}dropNotNull(){return new mf(pf.create(d(this,Ro),"dropNotNull",!0))}$call(e){return e(this)}}Ro=new WeakMap;var rp;class mf{constructor(e){ie(this,rp,void 0);oe(this,rp,e)}toOperationNode(){return d(this,rp)}}rp=new WeakMap;var ys;class Cl{constructor(e){ie(this,ys,void 0);oe(this,ys,x(e))}toOperationNode(){return d(this,ys).executor.transformQuery(d(this,ys).node,d(this,ys).queryId)}compile(){return d(this,ys).executor.compileQuery(this.toOperationNode(),d(this,ys).queryId)}async execute(){await d(this,ys).executor.executeQuery(this.compile(),d(this,ys).queryId)}}ys=new WeakMap;Et(Cl,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");var An;const Xg=class Xg{constructor(e){ie(this,An,void 0);oe(this,An,x(e))}onDelete(e){return new Xg({...d(this,An),constraintBuilder:d(this,An).constraintBuilder.onDelete(e)})}onUpdate(e){return new Xg({...d(this,An),constraintBuilder:d(this,An).constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return d(this,An).executor.transformQuery(rr.cloneWithTableProps(d(this,An).node,{addConstraint:sy.create(d(this,An).constraintBuilder.toOperationNode())}),d(this,An).queryId)}compile(){return d(this,An).executor.compileQuery(this.toOperationNode(),d(this,An).queryId)}async execute(){await d(this,An).executor.executeQuery(this.compile(),d(this,An).queryId)}};An=new WeakMap;let _g=Xg;Et(_g,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");var Jr;const Gf=class Gf{constructor(e){ie(this,Jr,void 0);oe(this,Jr,x(e))}ifExists(){return new Gf({...d(this,Jr),node:rr.cloneWithTableProps(d(this,Jr).node,{dropConstraint:oy.cloneWith(d(this,Jr).node.dropConstraint,{ifExists:!0})})})}cascade(){return new Gf({...d(this,Jr),node:rr.cloneWithTableProps(d(this,Jr).node,{dropConstraint:oy.cloneWith(d(this,Jr).node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new Gf({...d(this,Jr),node:rr.cloneWithTableProps(d(this,Jr).node,{dropConstraint:oy.cloneWith(d(this,Jr).node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return d(this,Jr).executor.transformQuery(d(this,Jr).node,d(this,Jr).queryId)}compile(){return d(this,Jr).executor.compileQuery(this.toOperationNode(),d(this,Jr).queryId)}async execute(){await d(this,Jr).executor.executeQuery(this.compile(),d(this,Jr).queryId)}};Jr=new WeakMap;let xg=Gf;Et(xg,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const tO=x({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return x({kind:"PrimaryKeyConstraintNode",columns:x(t.map(Vr.create)),name:e?br.create(e):void 0})}}),rc=x({is(t){return t.kind==="AddIndexNode"},create(t){return x({kind:"AddIndexNode",name:br.create(t)})},cloneWith(t,e){return x({...t,...e})},cloneWithColumns(t,e){return x({...t,columns:[...t.columns||[],...e]})}});var lr;const Pl=class Pl{constructor(e){ie(this,lr,void 0);oe(this,lr,x(e))}unique(){return new Pl({...d(this,lr),node:rr.cloneWithTableProps(d(this,lr).node,{addIndex:rc.cloneWith(d(this,lr).node.addIndex,{unique:!0})})})}column(e){return new Pl({...d(this,lr),node:rr.cloneWithTableProps(d(this,lr).node,{addIndex:rc.cloneWithColumns(d(this,lr).node.addIndex,[og(e)])})})}columns(e){return new Pl({...d(this,lr),node:rr.cloneWithTableProps(d(this,lr).node,{addIndex:rc.cloneWithColumns(d(this,lr).node.addIndex,e.map(og))})})}expression(e){return new Pl({...d(this,lr),node:rr.cloneWithTableProps(d(this,lr).node,{addIndex:rc.cloneWithColumns(d(this,lr).node.addIndex,[e.toOperationNode()])})})}using(e){return new Pl({...d(this,lr),node:rr.cloneWithTableProps(d(this,lr).node,{addIndex:rc.cloneWith(d(this,lr).node.addIndex,{using:bn.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return d(this,lr).executor.transformQuery(d(this,lr).node,d(this,lr).queryId)}compile(){return d(this,lr).executor.compileQuery(this.toOperationNode(),d(this,lr).queryId)}async execute(){await d(this,lr).executor.executeQuery(this.compile(),d(this,lr).queryId)}};lr=new WeakMap;let Sg=Pl;Et(Sg,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");var ed;const SS=class SS{constructor(e){ie(this,ed,void 0);oe(this,ed,e)}toOperationNode(){return d(this,ed)}nullsNotDistinct(){return new SS(zx.cloneWith(d(this,ed),{nullsNotDistinct:!0}))}};ed=new WeakMap;let Vh=SS;Et(Vh,"don't await UniqueConstraintNodeBuilder instances directly.");var zt;class rO{constructor(e){ie(this,zt,void 0);oe(this,zt,x(e))}renameTo(e){return new Cl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{renameTo:zr(e)})})}setSchema(e){return new Cl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{setSchema:br.create(e)})})}alterColumn(e,r){const n=r(new Vx(e));return new Ea({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,n.toOperationNode())})}dropColumn(e){return new Ea({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,KR.create(e))})}renameColumn(e,r){return new Ea({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,ZR.create(e,r))})}addColumn(e,r,n=Za){const i=n(new dl(Nr.create(e,Nu(r))));return new Ea({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,YR.create(i.toOperationNode()))})}modifyColumn(e,r,n=Za){const i=n(new dl(Nr.create(e,Nu(r))));return new Ea({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,eO.create(i.toOperationNode()))})}addUniqueConstraint(e,r,n=Za){const i=n(new Vh(zx.create(r,e)));return new Cl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{addConstraint:sy.create(i.toOperationNode())})})}addCheckConstraint(e,r){return new Cl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{addConstraint:sy.create(Ux.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,i){return new _g({...d(this,zt),constraintBuilder:new zh(bg.create(r.map(Vr.create),zr(n),i.map(Vr.create),e))})}addPrimaryKeyConstraint(e,r){return new Cl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{addConstraint:sy.create(tO.create(r,e))})})}dropConstraint(e){return new xg({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{dropConstraint:oy.create(e)})})}addIndex(e){return new Sg({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{addIndex:rc.create(e)})})}dropIndex(e){return new Cl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{dropIndex:Df.create(e)})})}$call(e){return e(this)}}zt=new WeakMap;var Br;const $l=class $l{constructor(e){ie(this,Br,void 0);oe(this,Br,x(e))}alterColumn(e,r){const n=r(new Vx(e));return new $l({...d(this,Br),node:rr.cloneWithColumnAlteration(d(this,Br).node,n.toOperationNode())})}dropColumn(e){return new $l({...d(this,Br),node:rr.cloneWithColumnAlteration(d(this,Br).node,KR.create(e))})}renameColumn(e,r){return new $l({...d(this,Br),node:rr.cloneWithColumnAlteration(d(this,Br).node,ZR.create(e,r))})}addColumn(e,r,n=Za){const i=n(new dl(Nr.create(e,Nu(r))));return new $l({...d(this,Br),node:rr.cloneWithColumnAlteration(d(this,Br).node,YR.create(i.toOperationNode()))})}modifyColumn(e,r,n=Za){const i=n(new dl(Nr.create(e,Nu(r))));return new $l({...d(this,Br),node:rr.cloneWithColumnAlteration(d(this,Br).node,eO.create(i.toOperationNode()))})}toOperationNode(){return d(this,Br).executor.transformQuery(d(this,Br).node,d(this,Br).queryId)}compile(){return d(this,Br).executor.compileQuery(this.toOperationNode(),d(this,Br).queryId)}async execute(){await d(this,Br).executor.executeQuery(this.compile(),d(this,Br).queryId)}};Br=new WeakMap;let Ea=$l;Et(rO,"don't await AlterTableBuilder instances");Et(Vx,"don't await AlterColumnBuilder instances");Et(Ea,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class nO extends Fx{transformValue(e){return{...super.transformValue(e),immediate:!0}}}var Gt;const ls=class ls{constructor(e){ie(this,Gt,void 0);oe(this,Gt,x(e))}ifNotExists(){return new ls({...d(this,Gt),node:wo.cloneWith(d(this,Gt).node,{ifNotExists:!0})})}unique(){return new ls({...d(this,Gt),node:wo.cloneWith(d(this,Gt).node,{unique:!0})})}nullsNotDistinct(){return new ls({...d(this,Gt),node:wo.cloneWith(d(this,Gt).node,{nullsNotDistinct:!0})})}on(e){return new ls({...d(this,Gt),node:wo.cloneWith(d(this,Gt).node,{table:zr(e)})})}column(e){return new ls({...d(this,Gt),node:wo.cloneWithColumns(d(this,Gt).node,[og(e)])})}columns(e){return new ls({...d(this,Gt),node:wo.cloneWithColumns(d(this,Gt).node,e.map(og))})}expression(e){return new ls({...d(this,Gt),node:wo.cloneWithColumns(d(this,Gt).node,[e.toOperationNode()])})}using(e){return new ls({...d(this,Gt),node:wo.cloneWith(d(this,Gt).node,{using:bn.createWithSql(e)})})}where(...e){const r=new nO;return new ls({...d(this,Gt),node:dt.cloneWithWhere(d(this,Gt).node,r.transformNode(Sn(e)))})}$call(e){return e(this)}toOperationNode(){return d(this,Gt).executor.transformQuery(d(this,Gt).node,d(this,Gt).queryId)}compile(){return d(this,Gt).executor.compileQuery(this.toOperationNode(),d(this,Gt).queryId)}async execute(){await d(this,Gt).executor.executeQuery(this.compile(),d(this,Gt).queryId)}};Gt=new WeakMap;let Eg=ls;Et(Eg,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");var yi;const ES=class ES{constructor(e){ie(this,yi,void 0);oe(this,yi,x(e))}ifNotExists(){return new ES({...d(this,yi),node:xR.cloneWith(d(this,yi).node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,yi).executor.transformQuery(d(this,yi).node,d(this,yi).queryId)}compile(){return d(this,yi).executor.compileQuery(this.toOperationNode(),d(this,yi).queryId)}async execute(){await d(this,yi).executor.executeQuery(this.compile(),d(this,yi).queryId)}};yi=new WeakMap;let Ng=ES;Et(Ng,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function lW(t){if(GB.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}var Lt;const mi=class mi{constructor(e){ie(this,Lt,void 0);oe(this,Lt,x(e))}temporary(){return new mi({...d(this,Lt),node:hi.cloneWith(d(this,Lt).node,{temporary:!0})})}onCommit(e){return new mi({...d(this,Lt),node:hi.cloneWith(d(this,Lt).node,{onCommit:lW(e)})})}ifNotExists(){return new mi({...d(this,Lt),node:hi.cloneWith(d(this,Lt).node,{ifNotExists:!0})})}addColumn(e,r,n=Za){const i=n(new dl(Nr.create(e,Nu(r))));return new mi({...d(this,Lt),node:hi.cloneWithColumn(d(this,Lt).node,i.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new mi({...d(this,Lt),node:hi.cloneWithConstraint(d(this,Lt).node,tO.create(r,e))})}addUniqueConstraint(e,r,n=Za){const i=n(new Vh(zx.create(r,e)));return new mi({...d(this,Lt),node:hi.cloneWithConstraint(d(this,Lt).node,i.toOperationNode())})}addCheckConstraint(e,r){return new mi({...d(this,Lt),node:hi.cloneWithConstraint(d(this,Lt).node,Ux.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,i,s=Za){const o=s(new zh(bg.create(r.map(Vr.create),zr(n),i.map(Vr.create),e)));return new mi({...d(this,Lt),node:hi.cloneWithConstraint(d(this,Lt).node,o.toOperationNode())})}modifyFront(e){return new mi({...d(this,Lt),node:hi.cloneWithFrontModifier(d(this,Lt).node,e.toOperationNode())})}modifyEnd(e){return new mi({...d(this,Lt),node:hi.cloneWithEndModifier(d(this,Lt).node,e.toOperationNode())})}as(e){return new mi({...d(this,Lt),node:hi.cloneWith(d(this,Lt).node,{selectQuery:$u(e)})})}$call(e){return e(this)}toOperationNode(){return d(this,Lt).executor.transformQuery(d(this,Lt).node,d(this,Lt).queryId)}compile(){return d(this,Lt).executor.compileQuery(this.toOperationNode(),d(this,Lt).queryId)}async execute(){await d(this,Lt).executor.executeQuery(this.compile(),d(this,Lt).queryId)}};Lt=new WeakMap;let kg=mi;Et(kg,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");var yn;const Jf=class Jf{constructor(e){ie(this,yn,void 0);oe(this,yn,x(e))}on(e){return new Jf({...d(this,yn),node:Df.cloneWith(d(this,yn).node,{table:zr(e)})})}ifExists(){return new Jf({...d(this,yn),node:Df.cloneWith(d(this,yn).node,{ifExists:!0})})}cascade(){return new Jf({...d(this,yn),node:Df.cloneWith(d(this,yn).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,yn).executor.transformQuery(d(this,yn).node,d(this,yn).queryId)}compile(){return d(this,yn).executor.compileQuery(this.toOperationNode(),d(this,yn).queryId)}async execute(){await d(this,yn).executor.executeQuery(this.compile(),d(this,yn).queryId)}};yn=new WeakMap;let Cg=Jf;Et(Cg,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");var Bn;const ev=class ev{constructor(e){ie(this,Bn,void 0);oe(this,Bn,x(e))}ifExists(){return new ev({...d(this,Bn),node:mb.cloneWith(d(this,Bn).node,{ifExists:!0})})}cascade(){return new ev({...d(this,Bn),node:mb.cloneWith(d(this,Bn).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,Bn).executor.transformQuery(d(this,Bn).node,d(this,Bn).queryId)}compile(){return d(this,Bn).executor.compileQuery(this.toOperationNode(),d(this,Bn).queryId)}async execute(){await d(this,Bn).executor.executeQuery(this.compile(),d(this,Bn).queryId)}};Bn=new WeakMap;let Tg=ev;Et(Tg,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");var Fn;const tv=class tv{constructor(e){ie(this,Fn,void 0);oe(this,Fn,x(e))}ifExists(){return new tv({...d(this,Fn),node:yb.cloneWith(d(this,Fn).node,{ifExists:!0})})}cascade(){return new tv({...d(this,Fn),node:yb.cloneWith(d(this,Fn).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,Fn).executor.transformQuery(d(this,Fn).node,d(this,Fn).queryId)}compile(){return d(this,Fn).executor.compileQuery(this.toOperationNode(),d(this,Fn).queryId)}async execute(){await d(this,Fn).executor.executeQuery(this.compile(),d(this,Fn).queryId)}};Fn=new WeakMap;let Rg=tv;Et(Rg,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const ga=x({is(t){return t.kind==="CreateViewNode"},create(t){return x({kind:"CreateViewNode",name:ll.create(t)})},cloneWith(t,e){return x({...t,...e})}});var rv;class uW{constructor(){ie(this,rv,new nO)}transformQuery(e){return d(this,rv).transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}rv=new WeakMap;var Er;const ba=class ba{constructor(e){ie(this,Er,void 0);oe(this,Er,x(e))}temporary(){return new ba({...d(this,Er),node:ga.cloneWith(d(this,Er).node,{temporary:!0})})}materialized(){return new ba({...d(this,Er),node:ga.cloneWith(d(this,Er).node,{materialized:!0})})}ifNotExists(){return new ba({...d(this,Er),node:ga.cloneWith(d(this,Er).node,{ifNotExists:!0})})}orReplace(){return new ba({...d(this,Er),node:ga.cloneWith(d(this,Er).node,{orReplace:!0})})}columns(e){return new ba({...d(this,Er),node:ga.cloneWith(d(this,Er).node,{columns:e.map(RR)})})}as(e){const r=e.withPlugin(new uW).toOperationNode();return new ba({...d(this,Er),node:ga.cloneWith(d(this,Er).node,{as:r})})}$call(e){return e(this)}toOperationNode(){return d(this,Er).executor.transformQuery(d(this,Er).node,d(this,Er).queryId)}compile(){return d(this,Er).executor.compileQuery(this.toOperationNode(),d(this,Er).queryId)}async execute(){await d(this,Er).executor.executeQuery(this.compile(),d(this,Er).queryId)}};Er=new WeakMap;let Og=ba;Et(Og,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const ay=x({is(t){return t.kind==="DropViewNode"},create(t){return x({kind:"DropViewNode",name:ll.create(t)})},cloneWith(t,e){return x({...t,...e})}});var gn;const Yf=class Yf{constructor(e){ie(this,gn,void 0);oe(this,gn,x(e))}materialized(){return new Yf({...d(this,gn),node:ay.cloneWith(d(this,gn).node,{materialized:!0})})}ifExists(){return new Yf({...d(this,gn),node:ay.cloneWith(d(this,gn).node,{ifExists:!0})})}cascade(){return new Yf({...d(this,gn),node:ay.cloneWith(d(this,gn).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,gn).executor.transformQuery(d(this,gn).node,d(this,gn).queryId)}compile(){return d(this,gn).executor.compileQuery(this.toOperationNode(),d(this,gn).queryId)}async execute(){await d(this,gn).executor.executeQuery(this.compile(),d(this,gn).queryId)}};gn=new WeakMap;let Ag=Yf;Et(Ag,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const iO=x({is(t){return t.kind==="CreateTypeNode"},create(t){return x({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return x({...t,enum:$x.create(e.map(r=>ao.createImmediate(r)))})}});var gi;const NS=class NS{constructor(e){ie(this,gi,void 0);oe(this,gi,x(e))}toOperationNode(){return d(this,gi).executor.transformQuery(d(this,gi).node,d(this,gi).queryId)}asEnum(e){return new NS({...d(this,gi),node:iO.cloneWithEnum(d(this,gi).node,e)})}$call(e){return e(this)}compile(){return d(this,gi).executor.compileQuery(this.toOperationNode(),d(this,gi).queryId)}async execute(){await d(this,gi).executor.executeQuery(this.compile(),d(this,gi).queryId)}};gi=new WeakMap;let Ig=NS;Et(Ig,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const sO=x({is(t){return t.kind==="DropTypeNode"},create(t){return x({kind:"DropTypeNode",name:t})},cloneWith(t,e){return x({...t,...e})}});var vi;const kS=class kS{constructor(e){ie(this,vi,void 0);oe(this,vi,x(e))}ifExists(){return new kS({...d(this,vi),node:sO.cloneWith(d(this,vi).node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,vi).executor.transformQuery(d(this,vi).node,d(this,vi).queryId)}compile(){return d(this,vi).executor.compileQuery(this.toOperationNode(),d(this,vi).queryId)}async execute(){await d(this,vi).executor.executeQuery(this.compile(),d(this,vi).queryId)}};vi=new WeakMap;let Pg=kS;Et(Pg,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function TN(t){const e=".";if(t.includes(e)){const r=t.split(e).map(cW);if(r.length===2)return ll.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return ll.create(t)}function cW(t){return t.trim()}var dn;const Kf=class Kf{constructor(e){ie(this,dn,void 0);oe(this,dn,e)}createTable(e){return new kg({queryId:nr(),executor:d(this,dn),node:hi.create(zr(e))})}dropTable(e){return new Rg({queryId:nr(),executor:d(this,dn),node:yb.create(zr(e))})}createIndex(e){return new Eg({queryId:nr(),executor:d(this,dn),node:wo.create(e)})}dropIndex(e){return new Cg({queryId:nr(),executor:d(this,dn),node:Df.create(e)})}createSchema(e){return new Ng({queryId:nr(),executor:d(this,dn),node:xR.create(e)})}dropSchema(e){return new Tg({queryId:nr(),executor:d(this,dn),node:mb.create(e)})}alterTable(e){return new rO({queryId:nr(),executor:d(this,dn),node:rr.create(zr(e))})}createView(e){return new Og({queryId:nr(),executor:d(this,dn),node:ga.create(e)})}dropView(e){return new Ag({queryId:nr(),executor:d(this,dn),node:ay.create(e)})}createType(e){return new Ig({queryId:nr(),executor:d(this,dn),node:iO.create(TN(e))})}dropType(e){return new Pg({queryId:nr(),executor:d(this,dn),node:sO.create(TN(e))})}withPlugin(e){return new Kf(d(this,dn).withPlugin(e))}withoutPlugins(){return new Kf(d(this,dn).withoutPlugins())}withSchema(e){return new Kf(d(this,dn).withPluginAtFront(new Dp(e)))}};dn=new WeakMap;let Cb=Kf;class dW{ref(e){return new nF(e)}}var td;class fW{constructor(e){ie(this,td,void 0);oe(this,td,e)}async provideConnection(e){const r=await d(this,td).acquireConnection();try{return await e(r)}finally{await d(this,td).releaseConnection(r)}}}td=new WeakMap;var Gs,Js,Oo;const jl=class jl extends FR{constructor(r,n,i,s=[]){super(s);ie(this,Gs,void 0);ie(this,Js,void 0);ie(this,Oo,void 0);oe(this,Gs,r),oe(this,Js,n),oe(this,Oo,i)}get adapter(){return d(this,Js)}compileQuery(r){return d(this,Gs).compileQuery(r)}provideConnection(r){return d(this,Oo).provideConnection(r)}withPlugins(r){return new jl(d(this,Gs),d(this,Js),d(this,Oo),[...this.plugins,...r])}withPlugin(r){return new jl(d(this,Gs),d(this,Js),d(this,Oo),[...this.plugins,r])}withPluginAtFront(r){return new jl(d(this,Gs),d(this,Js),d(this,Oo),[r,...this.plugins])}withConnectionProvider(r){return new jl(d(this,Gs),d(this,Js),r,[...this.plugins])}withoutPlugins(){return new jl(d(this,Gs),d(this,Js),d(this,Oo),[])}};Gs=new WeakMap,Js=new WeakMap,Oo=new WeakMap;let Tb=jl;function RN(){return typeof performance<"u"&&Ii(performance.now)?performance.now():Date.now()}var gs,Aa,Ao,rd,Io,np,nv,oO,iv,aO,sv,lO,ov,uO,ip,Rb;class hW{constructor(e,r){ie(this,nv);ie(this,iv);ie(this,sv);ie(this,ov);ie(this,ip);ie(this,gs,void 0);ie(this,Aa,void 0);ie(this,Ao,void 0);ie(this,rd,void 0);ie(this,Io,void 0);ie(this,np,new WeakSet);oe(this,rd,!1),oe(this,gs,e),oe(this,Aa,r)}async init(){if(d(this,Io))throw new Error("driver has already been destroyed");d(this,Ao)||oe(this,Ao,d(this,gs).init().then(()=>{oe(this,rd,!0)}).catch(e=>(oe(this,Ao,void 0),Promise.reject(e)))),await d(this,Ao)}async acquireConnection(){if(d(this,Io))throw new Error("driver has already been destroyed");d(this,rd)||await this.init();const e=await d(this,gs).acquireConnection();return d(this,np).has(e)||(_t(this,nv,oO).call(this)&&_t(this,iv,aO).call(this,e),d(this,np).add(e)),e}async releaseConnection(e){await d(this,gs).releaseConnection(e)}beginTransaction(e,r){return d(this,gs).beginTransaction(e,r)}commitTransaction(e){return d(this,gs).commitTransaction(e)}rollbackTransaction(e){return d(this,gs).rollbackTransaction(e)}async destroy(){d(this,Ao)&&(await d(this,Ao),d(this,Io)||oe(this,Io,d(this,gs).destroy().catch(e=>(oe(this,Io,void 0),Promise.reject(e)))),await d(this,Io))}}gs=new WeakMap,Aa=new WeakMap,Ao=new WeakMap,rd=new WeakMap,Io=new WeakMap,np=new WeakMap,nv=new WeakSet,oO=function(){return d(this,Aa).isLevelEnabled("query")||d(this,Aa).isLevelEnabled("error")},iv=new WeakSet,aO=function(e){const r=e.executeQuery;e.executeQuery=async n=>{let i;const s=RN();try{return await r.call(e,n)}catch(o){throw i=o,await _t(this,sv,lO).call(this,o,n,s),o}finally{i||await _t(this,ov,uO).call(this,n,s)}}},sv=new WeakSet,lO=async function(e,r,n){await d(this,Aa).error(()=>({level:"error",error:e,query:r,queryDurationMillis:_t(this,ip,Rb).call(this,n)}))},ov=new WeakSet,uO=async function(e,r){await d(this,Aa).query(()=>({level:"query",query:e,queryDurationMillis:_t(this,ip,Rb).call(this,r)}))},ip=new WeakSet,Rb=function(e){return RN()-e};const pW=()=>{};var sp,Ia,av,dO;class cO{constructor(e){ie(this,av);ie(this,sp,void 0);ie(this,Ia,void 0);oe(this,sp,e)}async provideConnection(e){for(;d(this,Ia);)await d(this,Ia).catch(pW);return oe(this,Ia,_t(this,av,dO).call(this,e).finally(()=>{oe(this,Ia,void 0)})),d(this,Ia)}}sp=new WeakMap,Ia=new WeakMap,av=new WeakSet,dO=async function(e){return await e(d(this,sp))};const mW=["read uncommitted","read committed","repeatable read","serializable","snapshot"];x(["query","error"]);var Pa,tu;class yW{constructor(e){ie(this,Pa,void 0);ie(this,tu,void 0);Ii(e)?(oe(this,tu,e),oe(this,Pa,x({query:!0,error:!0}))):(oe(this,tu,gW),oe(this,Pa,x({query:e.includes("query"),error:e.includes("error")})))}isLevelEnabled(e){return d(this,Pa)[e]}async query(e){d(this,Pa).query&&await d(this,tu).call(this,e())}async error(e){d(this,Pa).error&&await d(this,tu).call(this,e())}}Pa=new WeakMap,tu=new WeakMap;function gW(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function vW(t){return ks(t)&&Ii(t.compile)}var vn;const Nc=class Nc extends gg{constructor(r){let n,i;if(wW(r))n={executor:r.executor},i={...r};else{const s=r.dialect,o=s.createDriver(),a=s.createQueryCompiler(),l=s.createAdapter(),u=new yW(r.log??[]),c=new hW(o,u),h=new fW(c),p=new Tb(a,l,h,r.plugins??[]);n={executor:p},i={config:r,executor:p,dialect:s,driver:c}}super(n);ie(this,vn,void 0);oe(this,vn,x(i))}get schema(){return new Cb(d(this,vn).executor)}get dynamic(){return new dW}get introspection(){return d(this,vn).dialect.createIntrospector(this.withoutPlugins())}case(r){return new VR({node:Xs.create(Ka(r)?void 0:$u(r))})}get fn(){return zR()}transaction(){return new $g({...d(this,vn)})}connection(){return new fO({...d(this,vn)})}withPlugin(r){return new Nc({...d(this,vn),executor:d(this,vn).executor.withPlugin(r)})}withoutPlugins(){return new Nc({...d(this,vn),executor:d(this,vn).executor.withoutPlugins()})}withSchema(r){return new Nc({...d(this,vn),executor:d(this,vn).executor.withPluginAtFront(new Dp(r))})}withTables(){return new Nc({...d(this,vn)})}async destroy(){await d(this,vn).driver.destroy()}get isTransaction(){return!1}getExecutor(){return d(this,vn).executor}executeQuery(r,n=nr()){const i=vW(r)?r.compile():r;return this.getExecutor().executeQuery(i,n)}};vn=new WeakMap;let Hh=Nc;var vs;const kc=class kc extends Hh{constructor(r){super(r);ie(this,vs,void 0);oe(this,vs,r)}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(r){return new kc({...d(this,vs),executor:d(this,vs).executor.withPlugin(r)})}withoutPlugins(){return new kc({...d(this,vs),executor:d(this,vs).executor.withoutPlugins()})}withSchema(r){return new kc({...d(this,vs),executor:d(this,vs).executor.withPluginAtFront(new Dp(r))})}withTables(){return new kc({...d(this,vs)})}};vs=new WeakMap;let Ob=kc;function wW(t){return ks(t)&&ks(t.config)&&ks(t.driver)&&ks(t.executor)&&ks(t.dialect)}var ru;class fO{constructor(e){ie(this,ru,void 0);oe(this,ru,x(e))}async execute(e){return d(this,ru).executor.provideConnection(async r=>{const n=d(this,ru).executor.withConnectionProvider(new cO(r)),i=new Hh({...d(this,ru),executor:n});return await e(i)})}}ru=new WeakMap;Et(fO,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");var ws;const CS=class CS{constructor(e){ie(this,ws,void 0);oe(this,ws,x(e))}setIsolationLevel(e){return new CS({...d(this,ws),isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=d(this,ws),i={isolationLevel:r};return bW(i),d(this,ws).executor.provideConnection(async s=>{const o=d(this,ws).executor.withConnectionProvider(new cO(s)),a=new Ob({...n,executor:o});try{await d(this,ws).driver.beginTransaction(s,i);const l=await e(a);return await d(this,ws).driver.commitTransaction(s),l}catch(l){throw await d(this,ws).driver.rollbackTransaction(s),l}})}};ws=new WeakMap;let $g=CS;Et($g,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function bW(t){if(t.isolationLevel&&!mW.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}var Wn,nd,ly,op,Ab,ap,Ib;const Zf=class Zf{constructor(e){ie(this,nd);ie(this,op);ie(this,ap);ie(this,Wn,void 0);oe(this,Wn,x(e))}get expressionType(){}get isRawBuilder(){return!0}as(e){return new hO(this,e)}$castTo(){return new Zf({...d(this,Wn)})}$notNull(){return new Zf(d(this,Wn))}withPlugin(e){return new Zf({...d(this,Wn),plugins:d(this,Wn).plugins!==void 0?x([...d(this,Wn).plugins,e]):x([e])})}toOperationNode(){return _t(this,op,Ab).call(this,_t(this,nd,ly).call(this))}compile(e){return _t(this,ap,Ib).call(this,_t(this,nd,ly).call(this,e))}async execute(e){const r=_t(this,nd,ly).call(this,e);return r.executeQuery(_t(this,ap,Ib).call(this,r),d(this,Wn).queryId)}};Wn=new WeakMap,nd=new WeakSet,ly=function(e){const r=e!==void 0?e.getExecutor():Yv;return d(this,Wn).plugins!==void 0?r.withPlugins(d(this,Wn).plugins):r},op=new WeakSet,Ab=function(e){return e.transformQuery(d(this,Wn).rawNode,d(this,Wn).queryId)},ap=new WeakSet,Ib=function(e){return e.compileQuery(_t(this,op,Ab).call(this,e),d(this,Wn).queryId)};let jg=Zf;function ca(t){return new jg(t)}Et(jg,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var nu,$a;class hO{constructor(e,r){ie(this,nu,void 0);ie(this,$a,void 0);oe(this,nu,e),oe(this,$a,r)}get expression(){return d(this,nu)}get alias(){return d(this,$a)}get rawBuilder(){return d(this,nu)}toOperationNode(){return gl.create(d(this,nu).toOperationNode(),ai(d(this,$a))?d(this,$a).toOperationNode():br.create(d(this,$a)))}}nu=new WeakMap,$a=new WeakMap;Et(hO,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Kv=Object.assign((t,...e)=>ca({queryId:nr(),rawNode:bn.create(t,(e==null?void 0:e.map(ON))??[])}),{ref(t){return ca({queryId:nr(),rawNode:bn.createWithChild(ea(t))})},val(t){return ca({queryId:nr(),rawNode:bn.createWithChild(Yr(t))})},value(t){return this.val(t)},table(t){return ca({queryId:nr(),rawNode:bn.createWithChild(zr(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",ca({queryId:nr(),rawNode:bn.create(e,t.map(br.create))})},lit(t){return ca({queryId:nr(),rawNode:bn.createWithChild(ao.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return ca({queryId:nr(),rawNode:bn.createWithSql(t)})},join(t,e=Kv`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let i=0;i<t.length;++i)r[2*i]=ON(t[i]),i!==t.length-1&&(r[2*i+1]=n);return ca({queryId:nr(),rawNode:bn.createWithChildren(r)})}});function ON(t){return ai(t)?t.toOperationNode():Yr(t)}var lv;class _W{constructor(){Ie(this,"nodeStack",[]);ie(this,lv,x({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this)}));Ie(this,"visitNode",e=>{this.nodeStack.push(e),d(this,lv)[e.kind](e),this.nodeStack.pop()})}get parentNode(){return this.nodeStack[this.nodeStack.length-2]}}lv=new WeakMap;var id,iu;class xW extends _W{constructor(){super(...arguments);ie(this,id,"");ie(this,iu,[])}get numParameters(){return d(this,iu).length}compileQuery(r){return oe(this,id,""),oe(this,iu,[]),this.visitNode(r),x({query:r,sql:this.getSql(),parameters:[...d(this,iu)]})}getSql(){return d(this,id)}visitSelectQuery(r){var i,s;const n=this.parentNode!==void 0&&!xd.is(this.parentNode)&&!xi.is(this.parentNode)&&!hi.is(this.parentNode)&&!ga.is(this.parentNode)&&!qR.is(this.parentNode);this.parentNode===void 0&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("select"),r.distinctOn&&(this.append(" "),this.compileDistinctOn(r.distinctOn)),(i=r.frontModifiers)!=null&&i.length&&(this.append(" "),this.compileList(r.frontModifiers," ")),r.top&&(this.append(" "),this.visitNode(r.top)),r.selections&&(this.append(" "),this.compileList(r.selections)),r.from&&(this.append(" "),this.visitNode(r.from)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.groupBy&&(this.append(" "),this.visitNode(r.groupBy)),r.having&&(this.append(" "),this.visitNode(r.having)),r.setOperations&&(this.append(" "),this.compileList(r.setOperations," ")),r.orderBy&&(this.append(" "),this.visitNode(r.orderBy)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.offset&&(this.append(" "),this.visitNode(r.offset)),r.fetch&&(this.append(" "),this.visitNode(r.fetch)),(s=r.endModifiers)!=null&&s.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...r.endModifiers])," ")),n&&this.append(")")}visitFrom(r){this.append("from "),this.compileList(r.froms)}visitSelection(r){this.visitNode(r.selection)}visitColumn(r){this.visitNode(r.column)}compileDistinctOn(r){this.append("distinct on ("),this.compileList(r),this.append(")")}compileList(r,n=", "){const i=r.length-1;for(let s=0;s<=i;s++)this.visitNode(r[s]),s<i&&this.append(n)}visitWhere(r){this.append("where "),this.visitNode(r.where)}visitHaving(r){this.append("having "),this.visitNode(r.having)}visitInsertQuery(r){const n=this.nodeStack.find(dt.is),i=n!==r;!i&&r.explain&&(this.visitNode(r.explain),this.append(" ")),i&&!ni.is(n)&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append(r.replace?"replace":"insert"),r.ignore&&this.append(" ignore"),r.top&&(this.append(" "),this.visitNode(r.top)),r.into&&(this.append(" into "),this.visitNode(r.into)),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.values&&(this.append(" "),this.visitNode(r.values)),r.defaultValues&&(this.append(" "),this.append("default values")),r.onConflict&&(this.append(" "),this.visitNode(r.onConflict)),r.onDuplicateKey&&(this.append(" "),this.visitNode(r.onDuplicateKey)),r.returning&&(this.append(" "),this.visitNode(r.returning)),i&&!ni.is(n)&&this.append(")")}visitValues(r){this.append("values "),this.compileList(r.values)}visitDeleteQuery(r){const n=this.nodeStack.find(dt.is)!==r;!n&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("delete "),r.top&&(this.visitNode(r.top),this.append(" ")),this.visitNode(r.from),r.using&&(this.append(" "),this.visitNode(r.using)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.orderBy&&(this.append(" "),this.visitNode(r.orderBy)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.returning&&(this.append(" "),this.visitNode(r.returning)),n&&this.append(")")}visitReturning(r){this.append("returning "),this.compileList(r.selections)}visitAlias(r){this.visitNode(r.node),this.append(" as "),this.visitNode(r.alias)}visitReference(r){r.table&&(this.visitNode(r.table),this.append(".")),this.visitNode(r.column)}visitSelectAll(r){this.append("*")}visitIdentifier(r){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(r),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(r){if(!Ti(r.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(r.name))}visitAnd(r){this.visitNode(r.left),this.append(" and "),this.visitNode(r.right)}visitOr(r){this.visitNode(r.left),this.append(" or "),this.visitNode(r.right)}visitValue(r){r.immediate?this.appendImmediateValue(r.value):this.appendValue(r.value)}visitValueList(r){this.append("("),this.compileList(r.values),this.append(")")}visitTuple(r){this.append("("),this.compileList(r.values),this.append(")")}visitPrimitiveValueList(r){this.append("(");const{values:n}=r;for(let i=0;i<n.length;++i)this.appendValue(n[i]),i!==n.length-1&&this.append(", ");this.append(")")}visitParens(r){this.append("("),this.visitNode(r.node),this.append(")")}visitJoin(r){this.append(EW[r.joinType]),this.append(" "),this.visitNode(r.table),r.on&&(this.append(" "),this.visitNode(r.on))}visitOn(r){this.append("on "),this.visitNode(r.on)}visitRaw(r){const{sqlFragments:n,parameters:i}=r;for(let s=0;s<n.length;++s)this.append(n[s]),i.length>s&&this.visitNode(i[s])}visitOperator(r){this.append(r.operator)}visitTable(r){this.visitNode(r.table)}visitSchemableIdentifier(r){r.schema&&(this.visitNode(r.schema),this.append(".")),this.visitNode(r.identifier)}visitCreateTable(r){this.append("create "),r.frontModifiers&&r.frontModifiers.length>0&&(this.compileList(r.frontModifiers," "),this.append(" ")),r.temporary&&this.append("temporary "),this.append("table "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.table),r.selectQuery?(this.append(" as "),this.visitNode(r.selectQuery)):(this.append(" ("),this.compileList([...r.columns,...r.constraints??[]]),this.append(")"),r.onCommit&&(this.append(" on commit "),this.append(r.onCommit)),r.endModifiers&&r.endModifiers.length>0&&(this.append(" "),this.compileList(r.endModifiers," ")))}visitColumnDefinition(r){this.visitNode(r.column),this.append(" "),this.visitNode(r.dataType),r.unsigned&&this.append(" unsigned"),r.frontModifiers&&r.frontModifiers.length>0&&(this.append(" "),this.compileList(r.frontModifiers," ")),r.generated&&(this.append(" "),this.visitNode(r.generated)),r.identity&&this.append(" identity"),r.defaultTo&&(this.append(" "),this.visitNode(r.defaultTo)),r.notNull&&this.append(" not null"),r.unique&&this.append(" unique"),r.nullsNotDistinct&&this.append(" nulls not distinct"),r.primaryKey&&this.append(" primary key"),r.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),r.references&&(this.append(" "),this.visitNode(r.references)),r.check&&(this.append(" "),this.visitNode(r.check)),r.endModifiers&&r.endModifiers.length>0&&(this.append(" "),this.compileList(r.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(r){this.append("references "),this.visitNode(r.table),this.append(" ("),this.compileList(r.columns),this.append(")"),r.onDelete&&(this.append(" on delete "),this.append(r.onDelete)),r.onUpdate&&(this.append(" on update "),this.append(r.onUpdate))}visitDropTable(r){this.append("drop table "),r.ifExists&&this.append("if exists "),this.visitNode(r.table),r.cascade&&this.append(" cascade")}visitDataType(r){this.append(r.dataType)}visitOrderBy(r){this.append("order by "),this.compileList(r.items)}visitOrderByItem(r){this.visitNode(r.orderBy),r.direction&&(this.append(" "),this.visitNode(r.direction))}visitGroupBy(r){this.append("group by "),this.compileList(r.items)}visitGroupByItem(r){this.visitNode(r.groupBy)}visitUpdateQuery(r){const n=this.nodeStack.find(dt.is),i=n!==r;!i&&r.explain&&(this.visitNode(r.explain),this.append(" ")),i&&!ni.is(n)&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("update "),r.top&&(this.visitNode(r.top),this.append(" ")),r.table&&(this.visitNode(r.table),this.append(" ")),this.append("set "),r.updates&&this.compileList(r.updates),r.from&&(this.append(" "),this.visitNode(r.from)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.returning&&(this.append(" "),this.visitNode(r.returning)),i&&!ni.is(n)&&this.append(")")}visitColumnUpdate(r){this.visitNode(r.column),this.append(" = "),this.visitNode(r.value)}visitLimit(r){this.append("limit "),this.visitNode(r.limit)}visitOffset(r){this.append("offset "),this.visitNode(r.offset)}visitOnConflict(r){this.append("on conflict"),r.columns?(this.append(" ("),this.compileList(r.columns),this.append(")")):r.constraint?(this.append(" on constraint "),this.visitNode(r.constraint)):r.indexExpression&&(this.append(" ("),this.visitNode(r.indexExpression),this.append(")")),r.indexWhere&&(this.append(" "),this.visitNode(r.indexWhere)),r.doNothing===!0?this.append(" do nothing"):r.updates&&(this.append(" do update set "),this.compileList(r.updates),r.updateWhere&&(this.append(" "),this.visitNode(r.updateWhere)))}visitOnDuplicateKey(r){this.append("on duplicate key update "),this.compileList(r.updates)}visitCreateIndex(r){this.append("create "),r.unique&&this.append("unique "),this.append("index "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.name),r.table&&(this.append(" on "),this.visitNode(r.table)),r.using&&(this.append(" using "),this.visitNode(r.using)),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.nullsNotDistinct&&this.append(" nulls not distinct"),r.where&&(this.append(" "),this.visitNode(r.where))}visitDropIndex(r){this.append("drop index "),r.ifExists&&this.append("if exists "),this.visitNode(r.name),r.table&&(this.append(" on "),this.visitNode(r.table)),r.cascade&&this.append(" cascade")}visitCreateSchema(r){this.append("create schema "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.schema)}visitDropSchema(r){this.append("drop schema "),r.ifExists&&this.append("if exists "),this.visitNode(r.schema),r.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("primary key ("),this.compileList(r.columns),this.append(")")}visitUniqueConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("unique"),r.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(r.columns),this.append(")")}visitCheckConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("check ("),this.visitNode(r.expression),this.append(")")}visitForeignKeyConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("foreign key ("),this.compileList(r.columns),this.append(") "),this.visitNode(r.references),r.onDelete&&(this.append(" on delete "),this.append(r.onDelete)),r.onUpdate&&(this.append(" on update "),this.append(r.onUpdate))}visitList(r){this.compileList(r.items)}visitWith(r){this.append("with "),r.recursive&&this.append("recursive "),this.compileList(r.expressions)}visitCommonTableExpression(r){this.visitNode(r.name),this.append(" as "),ig(r.materialized)&&(r.materialized||this.append("not "),this.append("materialized ")),this.visitNode(r.expression)}visitCommonTableExpressionName(r){this.visitNode(r.table),r.columns&&(this.append("("),this.compileList(r.columns),this.append(")"))}visitAlterTable(r){this.append("alter table "),this.visitNode(r.table),this.append(" "),r.renameTo&&(this.append("rename to "),this.visitNode(r.renameTo)),r.setSchema&&(this.append("set schema "),this.visitNode(r.setSchema)),r.addConstraint&&this.visitNode(r.addConstraint),r.dropConstraint&&this.visitNode(r.dropConstraint),r.columnAlterations&&this.compileColumnAlterations(r.columnAlterations),r.addIndex&&this.visitNode(r.addIndex),r.dropIndex&&this.visitNode(r.dropIndex)}visitAddColumn(r){this.append("add column "),this.visitNode(r.column)}visitRenameColumn(r){this.append("rename column "),this.visitNode(r.column),this.append(" to "),this.visitNode(r.renameTo)}visitDropColumn(r){this.append("drop column "),this.visitNode(r.column)}visitAlterColumn(r){this.append("alter column "),this.visitNode(r.column),this.append(" "),r.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(r.dataType),r.dataTypeExpression&&(this.append("using "),this.visitNode(r.dataTypeExpression))),r.setDefault&&(this.append("set default "),this.visitNode(r.setDefault)),r.dropDefault&&this.append("drop default"),r.setNotNull&&this.append("set not null"),r.dropNotNull&&this.append("drop not null")}visitModifyColumn(r){this.append("modify column "),this.visitNode(r.column)}visitAddConstraint(r){this.append("add "),this.visitNode(r.constraint)}visitDropConstraint(r){this.append("drop constraint "),r.ifExists&&this.append("if exists "),this.visitNode(r.constraintName),r.modifier==="cascade"?this.append(" cascade"):r.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(r){this.append(r.operator),this.append(" "),r.all&&this.append("all "),this.visitNode(r.expression)}visitCreateView(r){this.append("create "),r.orReplace&&this.append("or replace "),r.materialized&&this.append("materialized "),r.temporary&&this.append("temporary "),this.append("view "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.name),this.append(" "),r.columns&&(this.append("("),this.compileList(r.columns),this.append(") ")),r.as&&(this.append("as "),this.visitNode(r.as))}visitDropView(r){this.append("drop "),r.materialized&&this.append("materialized "),this.append("view "),r.ifExists&&this.append("if exists "),this.visitNode(r.name),r.cascade&&this.append(" cascade")}visitGenerated(r){this.append("generated "),r.always&&this.append("always "),r.byDefault&&this.append("by default "),this.append("as "),r.identity&&this.append("identity"),r.expression&&(this.append("("),this.visitNode(r.expression),this.append(")")),r.stored&&this.append(" stored")}visitDefaultValue(r){this.append("default "),this.visitNode(r.defaultValue)}visitSelectModifier(r){r.rawModifier?this.visitNode(r.rawModifier):this.append(SW[r.modifier]),r.of&&(this.append(" of "),this.compileList(r.of,", "))}visitCreateType(r){this.append("create type "),this.visitNode(r.name),r.enum&&(this.append(" as enum "),this.visitNode(r.enum))}visitDropType(r){this.append("drop type "),r.ifExists&&this.append("if exists "),this.visitNode(r.name)}visitExplain(r){this.append("explain"),(r.options||r.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),r.options&&(this.visitNode(r.options),r.format&&this.append(this.getExplainOptionsDelimiter())),r.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(r.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(r){this.append("default")}visitAggregateFunction(r){this.append(r.func),this.append("("),r.distinct&&this.append("distinct "),this.compileList(r.aggregated),this.append(")"),r.filter&&(this.append(" filter("),this.visitNode(r.filter),this.append(")")),r.over&&(this.append(" "),this.visitNode(r.over))}visitOver(r){this.append("over("),r.partitionBy&&(this.visitNode(r.partitionBy),r.orderBy&&this.append(" ")),r.orderBy&&this.visitNode(r.orderBy),this.append(")")}visitPartitionBy(r){this.append("partition by "),this.compileList(r.items)}visitPartitionByItem(r){this.visitNode(r.partitionBy)}visitBinaryOperation(r){this.visitNode(r.leftOperand),this.append(" "),this.visitNode(r.operator),this.append(" "),this.visitNode(r.rightOperand)}visitUnaryOperation(r){this.visitNode(r.operator),this.isMinusOperator(r.operator)||this.append(" "),this.visitNode(r.operand)}isMinusOperator(r){return cl.is(r)&&r.operator==="-"}visitUsing(r){this.append("using "),this.compileList(r.tables)}visitFunction(r){this.append(r.func),this.append("("),this.compileList(r.arguments),this.append(")")}visitCase(r){this.append("case"),r.value&&(this.append(" "),this.visitNode(r.value)),r.when&&(this.append(" "),this.compileList(r.when," ")),r.else&&(this.append(" else "),this.visitNode(r.else)),this.append(" end"),r.isStatement&&this.append(" case")}visitWhen(r){this.append("when "),this.visitNode(r.condition),r.result&&(this.append(" then "),this.visitNode(r.result))}visitJSONReference(r){this.visitNode(r.reference),this.visitNode(r.traversal)}visitJSONPath(r){r.inOperator&&this.visitNode(r.inOperator),this.append("'$");for(const n of r.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(r){const n=r.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(r.value)),n&&this.append("]")}visitJSONOperatorChain(r){for(let n=0,i=r.values.length;n<i;n++)n===i-1?this.visitNode(r.operator):this.append("->"),this.visitNode(r.values[n])}visitMergeQuery(r){r.with&&(this.visitNode(r.with),this.append(" ")),this.append("merge "),r.top&&(this.visitNode(r.top),this.append(" ")),this.append("into "),this.visitNode(r.into),r.using&&(this.append(" "),this.visitNode(r.using)),r.whens&&(this.append(" "),this.compileList(r.whens))}visitMatched(r){r.not&&this.append("not "),this.append("matched"),r.bySource&&this.append(" by source")}visitAddIndex(r){this.append("add "),r.unique&&this.append("unique "),this.append("index "),this.visitNode(r.name),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.using&&(this.append(" using "),this.visitNode(r.using))}visitCast(r){this.append("cast("),this.visitNode(r.expression),this.append(" as "),this.visitNode(r.dataType),this.append(")")}visitFetch(r){this.append("fetch next "),this.visitNode(r.rowCount),this.append(` rows ${r.modifier}`)}visitTop(r){this.append(`top(${r.expression})`),r.modifiers&&this.append(` ${r.modifiers}`)}append(r){oe(this,id,d(this,id)+r)}appendValue(r){this.addParameter(r),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(r){const n=this.getLeftIdentifierWrapper(),i=this.getRightIdentifierWrapper();let s="";for(const o of r)s+=o,o===n?s+=n:o===i&&(s+=i);return s}addParameter(r){d(this,iu).push(r)}appendImmediateValue(r){if(Ti(r))this.append(`'${r}'`);else if(Qv(r)||ig(r))this.append(r.toString());else if(Ox(r))this.append("null");else if(_R(r))this.appendImmediateValue(r.toISOString());else if(Ax(r))this.appendImmediateValue(r.toString());else throw new Error(`invalid immediate value ${r}`)}sortSelectModifiers(r){return r.sort((n,i)=>n.modifier&&i.modifier?AN[n.modifier]-AN[i.modifier]:1),x(r)}compileColumnAlterations(r){this.compileList(r)}announcesNewColumnDataType(){return!0}}id=new WeakMap,iu=new WeakMap;const SW=x({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),AN=x({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),EW=x({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"}),Aw=x({raw(t,e=[]){return x({sql:t,query:bn.createWithSql(t),parameters:x(e)})}});class NW{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}}const kW=/"/g;class CW extends xW{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(kW,'""')}visitDefaultInsertValue(e){this.append("null")}}const TW="kysely_migration",RW="kysely_migration_lock";x({__noMigrations__:!0});var sd,uv,pO;class OW{constructor(e){ie(this,uv);ie(this,sd,void 0);oe(this,sd,e)}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=d(this,sd).selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",TW).where("name","!=",RW));const n=await r.execute();return Promise.all(n.map(({name:i})=>_t(this,uv,pO).call(this,i)))}async getMetadata(e){return{tables:await this.getTables(e)}}}sd=new WeakMap,uv=new WeakSet,pO=async function(e){var o,a,l,u,c,h;const r=d(this,sd),n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=(h=(c=(u=(l=(a=(o=n.sql)==null?void 0:o.split(/[\(\),]/))==null?void 0:a.find(p=>p.toLowerCase().includes("autoincrement")))==null?void 0:l.trimStart())==null?void 0:u.split(/\s+/))==null?void 0:c[0])==null?void 0:h.replace(/["`]/g,""),s=await r.selectFrom(Kv`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:s.map(p=>({name:p.name,dataType:p.type,isNullable:!p.notnull,isAutoIncrementing:p.name===i,hasDefaultValue:p.dflt_value!=null,comment:void 0}))}};class AW extends NW{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const IW="modulepreload",PW=function(t){return"/yuuka/"+t},IN={},Ed=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(r.map(l=>{if(l=PW(l),l in IN)return;IN[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!n)for(let g=s.length-1;g>=0;g--){const _=s[g];if(_.href===l&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":IW,u||(p.as="script",p.crossOrigin=""),p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((g,_)=>{p.addEventListener("load",g),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var lp;class $W extends Fx{constructor(r){super();ie(this,lp,void 0);oe(this,lp,r)}transformIdentifier(r){return r=super.transformIdentifier(r),{...r,name:d(this,lp).call(this,r.name)}}}lp=new WeakMap;function jW({upperCase:t=!1,underscoreBeforeDigits:e=!1,underscoreBetweenUppercaseLetters:r=!1}={}){return mO(n=>{if(n.length===0)return n;const i=n.toUpperCase(),s=n.toLowerCase();let o=s[0];for(let a=1,l=n.length;a<l;++a){const u=n[a],c=n[a-1],h=i[a],p=i[a-1],g=s[a],_=s[a-1];if(e&&PN(u)&&!PN(c)){o+="_"+u;continue}u===h&&h!==g?r||!(c===p&&p!==_)?o+="_"+g:o+=g:o+=u}return t?o.toUpperCase():o})}function LW({upperCase:t=!1}={}){return mO(e=>{if(e.length===0)return e;t&&DW(e)&&(e=e.toLowerCase());let r=e[0];for(let n=1,i=e.length;n<i;++n){const s=e[n],o=e[n-1];s!=="_"&&(o==="_"?r+=s.toUpperCase():r+=s)}return r})}function DW(t){for(let e=1,r=t.length;e<r;++e){const n=t[e];if(n!=="_"&&n!==n.toUpperCase())return!1}return!0}function PN(t){return t>="0"&&t<="9"}function mO(t){const e=new Map;return r=>{let n=e.get(r);return n||(n=t(r),e.set(r,n)),n}}var up,cp,dp;class MW{constructor(e={}){Ie(this,"opt");ie(this,up,void 0);ie(this,cp,void 0);ie(this,dp,void 0);this.opt=e,oe(this,up,LW(e)),oe(this,cp,jW(e)),oe(this,dp,new $W(this.snakeCase.bind(this)))}transformQuery(e){return d(this,dp).transformNode(e.node)}async transformResult(e){return e.result.rows&&Array.isArray(e.result.rows)?{...e.result,rows:e.result.rows.map(r=>this.mapRow(r))}:e.result}mapRow(e){return Object.keys(e).reduce((r,n)=>{let i=e[n];return Array.isArray(i)?i=i.map(s=>$N(s,this.opt)?this.mapRow(s):s):$N(i,this.opt)&&(i=this.mapRow(i)),r[this.camelCase(n)]=i,r},{})}snakeCase(e){return d(this,cp).call(this,e)}camelCase(e){return d(this,up).call(this,e)}}up=new WeakMap,cp=new WeakMap,dp=new WeakMap;function $N(t,e){return QB(t)&&!(e!=null&&e.maintainNestedObjectKeys)}const BW=t=>{const{columns:e,rows:r}=t;return y.jsxs(y.Fragment,{children:[y.jsxs(U,{children:[y.jsx(U.Thead,{children:y.jsx(U.Tr,{children:e.map(n=>y.jsx(U.Th,{children:n},n))})}),y.jsx(U.Tbody,{children:r.map((n,i)=>{const s=`row-${i}`;return y.jsx(FW,{columns:e,row:n},s)})})]}),y.jsxs("p",{children:["rows: ",r.length]})]})},FW=t=>{const{columns:e,row:r}=t;return y.jsx(U.Tr,{children:e.map(n=>y.jsx(U.Td,{children:y.jsx(WW,{value:r[n]})},n))})},WW=t=>{const{value:e}=t;return y.jsx(y.Fragment,{children:`${e}`})},qW=(t,e,r)=>{const i=Kv(r).compile(t);return j4(i,e)},UW=t=>{const{db:e,sqlite:r}=t,[n,i]=O.useState(!1),[s,o]=O.useState([]),[a,l]=O.useState([]),[u,c]=O.useState(null),{register:h,handleSubmit:p,formState:{errors:g}}=Rx({defaultValues:{query:"SELECT * FROM account LIMIT 10"}}),_=S=>{i(!0);try{const E=qW(e,r,S.query);o(E.columns),l(E.rows),c(null)}catch(E){o([]),l([]),c(E)}i(!1)};return n?y.jsx("p",{children:"loading..."}):y.jsxs(y.Fragment,{children:[y.jsxs("form",{onSubmit:p(_),children:[y.jsx(Ht.Wrapper,{label:"sql",children:y.jsx("input",{...h("query",{required:"query is required"}),autoComplete:"off"})}),y.jsx(jr,{type:"submit",children:"execute"})]}),u?y.jsx("p",{children:u.message}):y.jsx(BW,{columns:s,rows:a})]})},zW=()=>{const t=O.useContext(Eu),e=t._tag!=="api"?t.sqlite:null,r=t._tag!=="api"?t.db:null;return e?r?y.jsx(UW,{db:r,sqlite:e}):y.jsx("p",{children:"no db"}):y.jsx("p",{children:"no sqlite"})},VW=(t,e,r)=>{const n=new Blob([t],{type:r}),i=window.URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(i)},HW=t=>{const{sqlite:e}=t,r=e.export(),n="book.sqlite",i=()=>{VW(r,n,"application/x-sqlite3")};return y.jsx(jr,{onClick:i,children:"save sqlite"})},QW=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ed(()=>Promise.resolve().then(()=>Bp),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Hx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class GW extends Hx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class JW extends Hx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class YW extends Hx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pb||(Pb={}));var KW=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class ZW{constructor(e,{headers:r={},customFetch:n,region:i=Pb.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=QW(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return KW(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(_=>{throw new GW(_)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new JW(c);if(!c.ok)throw new YW(c);let p=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}}var XW=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nd=XW();const eq=Nd.fetch,Qx=Nd.fetch.bind(Nd),yO=Nd.Headers,tq=Nd.Request,rq=Nd.Response,Bp=Object.freeze(Object.defineProperty({__proto__:null,Headers:yO,Request:tq,Response:rq,default:Qx,fetch:eq},Symbol.toStringTag,{value:"Module"}));class nq extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class iq{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Qx:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,c=null,h=null,p=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const w=await s.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=w:c=JSON.parse(w))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),E=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&E&&E.length>1&&(h=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const S=await s.text();try{u=JSON.parse(S),Array.isArray(u)&&s.status===404&&(c=[],u=null,p=200,g="OK")}catch{s.status===404&&S===""?(p=204,g="No Content"):u={message:S}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new nq(u)}return{error:u,data:c,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}}class sq extends iq{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class nc extends sq{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}}class oq{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new nc({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new nc({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new nc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new nc({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new nc({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const aq="1.15.2",lq={"X-Client-Info":`postgrest-js/${aq}`};class Gx{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},lq),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new oq(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Gx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new nc({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}const uq="2.9.4",cq={"X-Client-Info":`realtime-js/${uq}`},dq="1.0.0",gO=1e4,fq=1e3;var Lc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Lc||(Lc={}));var pi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pi||(pi={}));var xs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xs||(xs={}));var $b;(function(t){t.websocket="websocket"})($b||($b={}));var Al;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Al||(Al={}));class vO{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class hq{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Iw{constructor(e,r,n={},i=gO){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jN||(jN={}));class Uf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uf.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Uf.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Uf.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=s[u];if(h){const p=c.map(E=>E.presence_ref),g=h.map(E=>E.presence_ref),_=c.filter(E=>g.indexOf(E.presence_ref)<0),S=h.filter(E=>p.indexOf(E.presence_ref)<0);_.length>0&&(a[u]=_),S.length>0&&(l[u]=S)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var or;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(or||(or={}));const LN=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=pq(o,t,e,i),s),{})},pq=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?wO(s,o):jb(o)},wO=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return vq(e,r)}switch(t){case or.bool:return mq(e);case or.float4:case or.float8:case or.int2:case or.int4:case or.int8:case or.numeric:case or.oid:return yq(e);case or.json:case or.jsonb:return gq(e);case or.timestamp:return wq(e);case or.abstime:case or.date:case or.daterange:case or.int4range:case or.int8range:case or.money:case or.reltime:case or.text:case or.time:case or.timestamptz:case or.timetz:case or.tsrange:case or.tstzrange:return jb(e);default:return jb(e)}},jb=t=>t,mq=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yq=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},gq=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},vq=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>wO(e,a))}return t},wq=t=>typeof t=="string"?t.replace(" ","T"):t;var DN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(DN||(DN={}));var MN;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(MN||(MN={}));var BN;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(BN||(BN={}));class Jx{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new Iw(this,xs.join,this.params,this.timeout),this.rejoinTimer=new vO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xs.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Uf(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(c=h==null?void 0:h.length)!==null&&c!==void 0?c:0,g=[];for(let _=0;_<p;_++){const S=h[_],{filter:{event:E,schema:w,table:v,filter:N}}=S,I=u&&u[_];if(I&&I.event===E&&I.schema===w&&I.table===v&&I.filter===N)g.push(Object.assign(Object.assign({},S),{id:I.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{apikey:(n=this.socket.apiKey)!==null&&n!==void 0?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new Iw(this,xs.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Iw(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=xs;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var _,S,E;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(S=g.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(g=>g.callback(p,n)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var _,S,E,w,v,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const I=g.id,R=(_=g.filter)===null||_===void 0?void 0:_.event;return I&&((S=r.ids)===null||S===void 0?void 0:S.includes(I))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const I=(v=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return I==="*"||I===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const _=p.data,{schema:S,table:E,commit_timestamp:w,type:v,errors:N}=_;p=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:w,eventType:v,new:{},old:{},errors:N}),this._getPayloadRecords(_))}g.callback(p,n)})}_isClosed(){return this.state===pi.closed}_isJoined(){return this.state===pi.joined}_isJoining(){return this.state===pi.joining}_isLeaving(){return this.state===pi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Jx.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xs.close,{},e)}_onError(e){this._on(xs.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=LN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=LN(e.columns,e.old_record)),r}}const bq=()=>{},_q=typeof WebSocket<"u";class xq{constructor(e,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=cq,this.params={},this.timeout=gO,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=bq,this.conn=null,this.sendBuffer=[],this.serializer=new hq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Ed(()=>Promise.resolve().then(()=>Bp),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${$b.websocket}`,r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vO(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(_q){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Sq(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ed(()=>import("./browser-DtJKJy7b.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Lc.connecting:return Al.Connecting;case Lc.open:return Al.Open;case Lc.closing:return Al.Closing;default:return Al.Closed}}isConnected(){return this.connectionState()===Al.Open}channel(e,r={config:{}}){const n=new Jx(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(xs.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dq}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xs.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(fq,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Sq{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Lc.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Yx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function In(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Eq extends Yx{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class FN extends Yx{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Nq=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const bO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ed(()=>Promise.resolve().then(()=>Bp),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},kq=()=>Nq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ed(()=>Promise.resolve().then(()=>Bp),void 0)).Response:Response});var Wd=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Pw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cq=(t,e)=>Wd(void 0,void 0,void 0,function*(){const r=yield kq();t instanceof r?t.json().then(n=>{e(new Eq(Pw(n),t.status||500))}).catch(n=>{e(new FN(Pw(n),n))}):e(new FN(Pw(t),t))}),Tq=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function Zv(t,e,r,n,i,s){return Wd(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Tq(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Cq(l,a))})})}function Lb(t,e,r,n){return Wd(this,void 0,void 0,function*(){return Zv(t,"GET",e,r,n)})}function va(t,e,r,n,i){return Wd(this,void 0,void 0,function*(){return Zv(t,"POST",e,n,i,r)})}function Rq(t,e,r,n,i){return Wd(this,void 0,void 0,function*(){return Zv(t,"PUT",e,n,i,r)})}function _O(t,e,r,n,i){return Wd(this,void 0,void 0,function*(){return Zv(t,"DELETE",e,n,i,r)})}var Bi=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Oq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Aq{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=bO(i)}uploadOrUpdate(e,r,n,i){return Bi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},WN),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl)):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(r),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield c.json();return c.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(In(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Bi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Bi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:WN.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(In(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return Bi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=yield va(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:this.headers}),i=new URL(this.url+n.url),s=i.searchParams.get("token");if(!s)throw new Yx("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(r){if(In(r))return{data:null,error:r};throw r}})}update(e,r,n){return Bi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r){return Bi(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers}),error:null}}catch(n){if(In(n))return{data:null,error:n};throw n}})}copy(e,r){return Bi(this,void 0,void 0,function*(){try{return{data:{path:(yield va(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers})).Key},error:null}}catch(n){if(In(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,n){return Bi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield va(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(In(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Bi(this,void 0,void 0,function*(){try{const i=yield va(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(In(i))return{data:null,error:i};throw i}})}download(e,r){return Bi(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Lb(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(In(a))return{data:null,error:a};throw a}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Bi(this,void 0,void 0,function*(){try{return{data:yield _O(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(In(r))return{data:null,error:r};throw r}})}list(e,r,n){return Bi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Oq),r),{prefix:e||""});return{data:yield va(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(In(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Iq="2.5.5",Pq={"X-Client-Info":`storage-js/${Iq}`};var Ku=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class $q{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Pq),r),this.fetch=bO(n)}listBuckets(){return Ku(this,void 0,void 0,function*(){try{return{data:yield Lb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(In(e))return{data:null,error:e};throw e}})}getBucket(e){return Ku(this,void 0,void 0,function*(){try{return{data:yield Lb(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(In(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ku(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(In(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Ku(this,void 0,void 0,function*(){try{return{data:yield Rq(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(In(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ku(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(In(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ku(this,void 0,void 0,function*(){try{return{data:yield _O(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(In(r))return{data:null,error:r};throw r}})}}class jq extends $q{constructor(e,r={},n){super(e,r,n)}from(e){return new Aq(this.url,this.headers,e,this.fetch)}}const Lq="2.42.5";let Sf="";typeof Deno<"u"?Sf="deno":typeof document<"u"?Sf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sf="react-native":Sf="node";const Dq={"X-Client-Info":`supabase-js-${Sf}/${Lq}`},Mq={headers:Dq},Bq={schema:"public"},Fq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wq={};var qq=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Uq=t=>{let e;return t?e=t:typeof fetch>"u"?e=Qx:e=fetch,(...r)=>e(...r)},zq=()=>typeof Headers>"u"?yO:Headers,Vq=(t,e,r)=>{const n=Uq(r),i=zq();return(s,o)=>qq(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};function Hq(t){return t.replace(/\/$/,"")}function Qq(t,e){const{db:r,auth:n,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:u}=e;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}const xO="2.63.1",Gq="http://localhost:9999",Jq="supabase.auth.token",Yq={"X-Client-Info":`gotrue-js/${xO}`},qN=10,Db="X-Supabase-Api-Version",SO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Kq(t){return Math.round(Date.now()/1e3)+t}function Zq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const as=()=>typeof document<"u",xl={tested:!1,writable:!1},zf=()=>{if(!as())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xl.tested)return xl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xl.tested=!0,xl.writable=!0}catch{xl.tested=!0,xl.writable=!1}return xl.writable};function $w(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const EO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ed(()=>Promise.resolve().then(()=>Bp),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Xq=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",NO=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Tm=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jw=async(t,e)=>{await t.removeItem(e)};function eU(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,s,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),n=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|u,r=r+String.fromCharCode(n),l!=64&&i!=0&&(r=r+String.fromCharCode(i)),u!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class Xv{constructor(){this.promise=new Xv.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Xv.promiseConstructor=Promise;function UN(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(eU(n))}async function tU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function rU(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function nU(t){return("0"+t.toString(16)).substr(-2)}function iU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,nU).join("")}async function sU(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function oU(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function aU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await sU(t);return oU(r)}async function Zu(t,e,r=!1){const n=iU();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await NO(t,`${e}-code-verifier`,i);const s=await aU(n);return[s,n===s?"plain":"s256"]}const lU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uU(t){const e=t.headers.get(Db);if(!e||!e.match(lU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Kx extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function kt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cU extends Kx{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function dU(t){return kt(t)&&t.name==="AuthApiError"}class kO extends Kx{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ju extends Kx{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Sl extends ju{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Lw extends ju{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rm extends ju{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Om extends ju{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zN extends ju{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mb extends ju{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Dw(t){return kt(t)&&t.name==="AuthRetryableFetchError"}class VN extends ju{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var fU=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Tl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hU=[502,503,504];async function HN(t){var e;if(!Xq(t))throw new Mb(Tl(t),0);if(hU.includes(t.status))throw new Mb(Tl(t),t.status);let r;try{r=await t.json()}catch(s){throw new kO(Tl(s),s)}let n;const i=uU(t);if(i&&i.getTime()>=SO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new VN(Tl(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new VN(Tl(r),t.status,r.weak_password.reasons);throw new cU(Tl(r),t.status||500,n)}const pU=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function At(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Db]||(s[Db]=SO["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await mU(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function mU(t,e,r,n,i,s){const o=pU(e,n,i,s);let a;try{a=await t(r,Object.assign(Object.assign({},o),{cache:"no-store"}))}catch(l){throw console.error(l),new Mb(Tl(l),0)}if(a.ok||await HN(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await HN(l)}}function fa(t){var e;let r=null;wU(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Kq(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function QN(t){const e=fa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Na(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function yU(t){return{data:t,error:null}}function gU(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=fU(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vU(t){return t}function wU(t){return t.access_token&&t.refresh_token&&t.expires_in}var bU=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class _U{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=EO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await At(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await At(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Na})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=bU(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await At(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gU,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await At(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Na})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await At(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:vU});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);u[`${E}Page`]=S}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(kt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await At(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Na})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await At(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Na})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await At(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Na})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await At(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await At(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}}const xU={getItem:t=>zf()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{zf()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{zf()&&globalThis.localStorage.removeItem(t)}};function GN(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function SU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xu={debug:!!(globalThis&&zf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class EU extends CO{}async function NU(t,e,r){Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new EU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}SU();const kU={url:Gq,storageKey:Jq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yq,flowType:"implicit",debug:!1},yf=30*1e3,JN=3;async function YN(t,e,r){return await r()}class Qh{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qh.nextInstanceID,Qh.nextInstanceID+=1,this.instanceID>0&&as()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},kU),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _U({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=EO(i.fetch),this.lock=i.lock||YN,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,i.lock?this.lock=i.lock:as()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=NU:this.lock=YN,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:zf()?this.storage=xU:(this.memoryStorage={},this.storage=GN(this.memoryStorage)):(this.memoryStorage={},this.storage=GN(this.memoryStorage)),as()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=as()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return kt(e)?{error:e}:{error:new kO("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{await this._removeSession();const s=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:fa}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{await this._removeSession();let s;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await Zu(this.storage,this.storageKey)),s=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:_},xform:fa})}else if("phone"in e){const{phone:c,password:h,options:p}=e;s=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:fa})}else throw new Rm("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{await this._removeSession();let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:QN})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:QN})}else throw new Rm("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Lw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Tm(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/"),{data:s,error:o}=await At(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:fa});return await jw(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Lw}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await At(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fa}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Lw}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Zu(this.storage,this.storageKey));const{error:h}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Rm("You must provide either an email or phone number.")}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await At(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:fa});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(kt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{await this._removeSession();let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Zu(this.storage,this.storageKey)),await At(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:yU})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Sl;const{error:i}=await At(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(kt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await At(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await At(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Rm("You must provide either an email or phone number and a type")}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Tm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return this.storage.isServer&&(e=new Proxy(e,{get(a,l,u){return l==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(a,l,u)}})),{data:{session:e},error:null};const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Na}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!((n=o.session)===null||n===void 0)&&n.access_token?await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Na}):{data:{user:null},error:new Sl}})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Sl;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Zu(this.storage,this.storageKey));const{data:u,error:c}=await At(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Na});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return UN(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sl;const r=Date.now()/1e3;let n=r,i=!0,s=null;const o=UN(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(kt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Sl;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!as())throw new Om("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Om("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new zN("Not a valid PKCE flow url.");const r=$w(window.location.href);if(e){if(!r.code)throw new zN("No code detected.");const{data:v,error:N}=await this._exchangeCodeForSession(r.code);if(N)throw N;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:v.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new Om(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=r;if(!s||!a||!o||!u)throw new Om("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=yf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const _=p-h;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",_,p,c);const{data:S,error:E}=await this._getUser(s);if(E)throw E;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:r.type},error:null}}catch(r){if(kt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const e=$w(window.location.href);return!!(as()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=$w(window.location.href),r=await Tm(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(dU(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await jw(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const r=Zq(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Zu(this.storage,this.storageKey,!0));try{return await At(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:h,error:p}=s;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await At(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return as()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(kt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await At(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await rU(async i=>(i>0&&await tU(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await At(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fa})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Dw(s)&&Date.now()+o-n<yf})}catch(n){if(this._debug(r,"error",n),kt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),as()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Tm(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<i+qN;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${qN}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Dw(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Sl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xv;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Sl;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),kt(s)){const o={session:null,error:s};return Dw(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await NO(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await jw(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&as()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/yf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yf}ms, refresh threshold is ${JN} ticks`),i<=JN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof CO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!as()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Zu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await At(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:l}=await At(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:a}=await At(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await At(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:n,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Qh.nextInstanceID=0;const CU=Qh;class TU extends CU{constructor(e){super(e)}}var RU=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class OU{constructor(e,r,n){var i,s,o,a,l,u,c,h;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const p=Hq(e);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,_={db:Bq,realtime:Wq,auth:Object.assign(Object.assign({},Fq),{storageKey:g}),global:Mq},S=Qq(n??{},_);this.storageKey=(s=(i=S.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=S.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=S.auth)!==null&&l!==void 0?l:{},this.headers,(u=S.global)===null||u===void 0?void 0:u.fetch),this.fetch=Vq(r,this._getAccessToken.bind(this),(c=S.global)===null||c===void 0?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},S.realtime)),this.rest=new Gx(`${p}/rest/v1`,{headers:this.headers,schema:(h=S.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new ZW(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new jq(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return RU(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,debug:a},l,u){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TU({url:this.authUrl,headers:Object.assign(Object.assign({},c),l),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,debug:a,fetch:u})}_initRealtimeClient(e){return new xq(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const AU=(t,e,r)=>new OU(t,e,r),IU="https://mjrrhdjdbsaystkbxvup.supabase.co",PU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qcnJoZGpkYnNheXN0a2J4dnVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjIzMDI2NzcsImV4cCI6MTk3Nzg3ODY3N30.eC3WDXnaIXy21bI8oGPaHTsLeE0jEmjk2qCDycB-AXc",cu=AU(IU,PU),TO=()=>{const t=async()=>{await cu.auth.signOut()};return y.jsx(jr,{onClick:t,color:"red",children:"sign out"})};var $U=class{createQueryCompiler(){return new CW}createAdapter(){return new AW}createIntrospector(t){return new OW(t)}},fp,Ik,jU=(Ik=class{constructor(){ie(this,fp,new LU);Ie(this,"connection")}async acquireConnection(){return await d(this,fp).lock(),this.connection}async beginTransaction(t){await t.executeQuery(Aw.raw("begin"))}async commitTransaction(t){await t.executeQuery(Aw.raw("commit"))}async rollbackTransaction(t){await t.executeQuery(Aw.raw("rollback"))}async releaseConnection(){d(this,fp).unlock()}},fp=new WeakMap,Ik),LU=class{constructor(){Ie(this,"promise");Ie(this,"resolve")}async lock(){for(;this.promise;)await this.promise;this.promise=new Promise(t=>{this.resolve=t})}unlock(){const t=this.resolve;this.promise=void 0,this.resolve=void 0,t==null||t()}},DU=class{streamQuery(){throw new Error("sqlite-wasm driver doesn't support streaming")}async executeQuery({parameters:t,query:e,sql:r}){const n=await this.query(r,t);return Ot.is(e)||n.length?{rows:n}:{rows:n,...await this.info()}}};function MU(t,e,r){let n,i=0,s=null;function o(){n&&clearTimeout(n),i=0,s=null}function a(){i>=r?(t(s),o()):(n&&clearTimeout(n),n=setTimeout(()=>{t(s),o(),n=void 0},e))}return l=>{i++,s=l,n===void 0&&i===0?(t(l),i++):a()}}var BU=class extends jU{constructor(e){super();Ie(this,"config");Ie(this,"db");this.config=e}async init(){var e,r,n,i,s,o;if(this.db=typeof this.config.database=="function"?await this.config.database():this.config.database,!this.db)throw new Error("no database");this.connection=new FU(this.db,(e=this.config.onWrite)==null?void 0:e.func,(r=this.config.onWrite)==null?void 0:r.isThrottle,(n=this.config.onWrite)==null?void 0:n.delay,(i=this.config.onWrite)==null?void 0:i.maxCalls),await((o=(s=this.config).onCreateConnection)==null?void 0:o.call(s,this.connection))}async beginTransaction(e){e.trxCount++,await super.beginTransaction(e)}async commitTransaction(e){e.trxCount--,await super.commitTransaction(e)}async rollbackTransaction(e){e.trxCount--,await super.rollbackTransaction(e)}async destroy(){var e;(e=this.db)==null||e.close()}},FU=class extends DU{constructor(e,r,n=!1,i=2e3,s=1e3){super();Ie(this,"db");Ie(this,"onWrite");Ie(this,"trxCount",0);this.db=e,this.onWrite=r?n?MU(r,i,s):r:void 0}async query(e,r){const n=this.db.prepare(e);n.bind(r);const i=[];for(;n.step();)i.push(n.getAsObject());return n.free(),i}async info(){var n;let e=0;const r=this.db.prepare("SELECT last_insert_rowid()");try{r.step(),e=r.get()[0]}finally{r.free()}return this.trxCount===0&&((n=this.onWrite)==null||n.call(this,this.db.export())),{insertId:BigInt(e),numAffectedRows:BigInt(this.db.getRowsModified())}}},WU=class extends $U{constructor(e){super();Ie(this,"config");this.config=e}createDriver(){return new BU(this.config)}},RO={exports:{}};const Mw=yA(sM);(function(t,e){var r=void 0,n=function(i){return r||(r=new Promise(function(s,o){var a=typeof i<"u"?i:{},l=a.onAbort;a.onAbort=function(f){o(new Error(f)),l&&l(f)},a.postRun=a.postRun||[],a.postRun.push(function(){s(a)}),t=void 0;var u;u||(u=typeof a<"u"?a:{}),u.onRuntimeInitialized=function(){function f(Y,be){switch(typeof be){case"boolean":fA(Y,be?1:0);break;case"number":uA(Y,be);break;case"string":cA(Y,be,-1,-1);break;case"object":if(be===null)DS(Y);else if(be.length!=null){var Ye=oa(be,qu);dA(Y,Ye,be.length,-1),Yp(Ye)}else Zp(Y,"Wrong API use : tried to return a value of an unknown type ("+be+").",-1);break;default:DS(Y)}}function m(Y,be){for(var Ye=[],ht=0;ht<Y;ht+=1){var Nt=pt(be+4*ht,"i32"),sr=iA(Nt);if(sr===1||sr===2)Nt=lA(Nt);else if(sr===3)Nt=oA(Nt);else if(sr===4){sr=Nt,Nt=sA(sr),sr=aA(sr);for(var is=new Uint8Array(Nt),Mi=0;Mi<Nt;Mi+=1)is[Mi]=Q[sr+Mi];Nt=is}else Nt=null;Ye.push(Nt)}return Ye}function b(Y,be){this.La=Y,this.db=be,this.Ja=1,this.fb=[]}function A(Y,be){if(this.db=be,be=Hr(Y)+1,this.Ya=Jp(be),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");kn(Y,te,this.Ya,be),this.eb=this.Ya,this.Ua=this.ib=null}function D(Y){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Y!=null){var be=this.filename,Ye="/",ht=be;if(Ye&&(Ye=typeof Ye=="string"?Ye:et(Ye),ht=be?xe(Ye+"/"+be):Ye),be=vl(!0,!0),ht=Di(ht,(be!==void 0?be:438)&4095|32768,0),Y){if(typeof Y=="string"){Ye=Array(Y.length);for(var Nt=0,sr=Y.length;Nt<sr;++Nt)Ye[Nt]=Y.charCodeAt(Nt);Y=Ye}Fu(ht,be|146),Ye=Us(ht,577),Qp(Ye,Y,0,Y.length,0),Ud(Ye),Fu(ht,be)}}this.handleError(lt(this.filename,ee)),this.db=pt(ee,"i32"),BS(this.db),this.Za={},this.Na={}}var ee=la(4),de=u.cwrap,lt=de("sqlite3_open","number",["string","number"]),jt=de("sqlite3_close_v2","number",["number"]),bt=de("sqlite3_exec","number",["number","string","number","number","number"]),Qr=de("sqlite3_changes","number",["number"]),cn=de("sqlite3_prepare_v2","number",["number","string","number","number","number"]),IS=de("sqlite3_sql","string",["number"]),W6=de("sqlite3_normalized_sql","string",["number"]),PS=de("sqlite3_prepare_v2","number",["number","number","number","number","number"]),q6=de("sqlite3_bind_text","number",["number","number","number","number","number"]),$S=de("sqlite3_bind_blob","number",["number","number","number","number","number"]),U6=de("sqlite3_bind_double","number",["number","number","number"]),z6=de("sqlite3_bind_int","number",["number","number","number"]),V6=de("sqlite3_bind_parameter_index","number",["number","string"]),H6=de("sqlite3_step","number",["number"]),Q6=de("sqlite3_errmsg","string",["number"]),G6=de("sqlite3_column_count","number",["number"]),J6=de("sqlite3_data_count","number",["number"]),Y6=de("sqlite3_column_double","number",["number","number"]),jS=de("sqlite3_column_text","string",["number","number"]),K6=de("sqlite3_column_blob","number",["number","number"]),Z6=de("sqlite3_column_bytes","number",["number","number"]),X6=de("sqlite3_column_type","number",["number","number"]),eA=de("sqlite3_column_name","string",["number","number"]),tA=de("sqlite3_reset","number",["number"]),rA=de("sqlite3_clear_bindings","number",["number"]),nA=de("sqlite3_finalize","number",["number"]),LS=de("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),iA=de("sqlite3_value_type","number",["number"]),sA=de("sqlite3_value_bytes","number",["number"]),oA=de("sqlite3_value_text","string",["number"]),aA=de("sqlite3_value_blob","number",["number"]),lA=de("sqlite3_value_double","number",["number"]),uA=de("sqlite3_result_double","",["number","number"]),DS=de("sqlite3_result_null","",["number"]),cA=de("sqlite3_result_text","",["number","string","number","number"]),dA=de("sqlite3_result_blob","",["number","number","number","number"]),fA=de("sqlite3_result_int","",["number","number"]),Zp=de("sqlite3_result_error","",["number","string","number"]),MS=de("sqlite3_aggregate_context","number",["number","number"]),BS=de("RegisterExtensionFunctions","number",["number"]);b.prototype.bind=function(Y){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(Y)?this.wb(Y):Y!=null&&typeof Y=="object"?this.xb(Y):!0},b.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var Y=H6(this.La);switch(Y){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Y)}},b.prototype.rb=function(Y){return Y==null&&(Y=this.Ja,this.Ja+=1),Y6(this.La,Y)},b.prototype.Ab=function(Y){if(Y==null&&(Y=this.Ja,this.Ja+=1),Y=jS(this.La,Y),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Y)},b.prototype.Bb=function(Y){return Y==null&&(Y=this.Ja,this.Ja+=1),jS(this.La,Y)},b.prototype.getBlob=function(Y){Y==null&&(Y=this.Ja,this.Ja+=1);var be=Z6(this.La,Y);Y=K6(this.La,Y);for(var Ye=new Uint8Array(be),ht=0;ht<be;ht+=1)Ye[ht]=Q[Y+ht];return Ye},b.prototype.get=function(Y,be){be=be||{},Y!=null&&this.bind(Y)&&this.step(),Y=[];for(var Ye=J6(this.La),ht=0;ht<Ye;ht+=1)switch(X6(this.La,ht)){case 1:var Nt=be.useBigInt?this.Ab(ht):this.rb(ht);Y.push(Nt);break;case 2:Y.push(this.rb(ht));break;case 3:Y.push(this.Bb(ht));break;case 4:Y.push(this.getBlob(ht));break;default:Y.push(null)}return Y},b.prototype.getColumnNames=function(){for(var Y=[],be=G6(this.La),Ye=0;Ye<be;Ye+=1)Y.push(eA(this.La,Ye));return Y},b.prototype.getAsObject=function(Y,be){Y=this.get(Y,be),be=this.getColumnNames();for(var Ye={},ht=0;ht<be.length;ht+=1)Ye[be[ht]]=Y[ht];return Ye},b.prototype.getSQL=function(){return IS(this.La)},b.prototype.getNormalizedSQL=function(){return W6(this.La)},b.prototype.run=function(Y){return Y!=null&&this.bind(Y),this.step(),this.reset()},b.prototype.nb=function(Y,be){be==null&&(be=this.Ja,this.Ja+=1),Y=ji(Y);var Ye=oa(Y,qu);this.fb.push(Ye),this.db.handleError(q6(this.La,be,Ye,Y.length-1,0))},b.prototype.vb=function(Y,be){be==null&&(be=this.Ja,this.Ja+=1);var Ye=oa(Y,qu);this.fb.push(Ye),this.db.handleError($S(this.La,be,Ye,Y.length,0))},b.prototype.mb=function(Y,be){be==null&&(be=this.Ja,this.Ja+=1),this.db.handleError((Y===(Y|0)?z6:U6)(this.La,be,Y))},b.prototype.yb=function(Y){Y==null&&(Y=this.Ja,this.Ja+=1),$S(this.La,Y,0,0,0)},b.prototype.ob=function(Y,be){switch(be==null&&(be=this.Ja,this.Ja+=1),typeof Y){case"string":this.nb(Y,be);return;case"number":this.mb(Y,be);return;case"bigint":this.nb(Y.toString(),be);return;case"boolean":this.mb(Y+0,be);return;case"object":if(Y===null){this.yb(be);return}if(Y.length!=null){this.vb(Y,be);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Y+")."},b.prototype.xb=function(Y){var be=this;return Object.keys(Y).forEach(function(Ye){var ht=V6(be.La,Ye);ht!==0&&be.ob(Y[Ye],ht)}),!0},b.prototype.wb=function(Y){for(var be=0;be<Y.length;be+=1)this.ob(Y[be],be+1);return!0},b.prototype.reset=function(){return this.freemem(),rA(this.La)===0&&tA(this.La)===0},b.prototype.freemem=function(){for(var Y;(Y=this.fb.pop())!==void 0;)Yp(Y)},b.prototype.free=function(){this.freemem();var Y=nA(this.La)===0;return delete this.db.Za[this.La],this.La=0,Y},A.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var Y=Hd(),be=la(4);it(ee),it(be);try{this.db.handleError(PS(this.db.db,this.eb,-1,ee,be)),this.eb=pt(be,"i32");var Ye=pt(ee,"i32");return Ye===0?(this.gb(),{done:!0}):(this.Ua=new b(Ye,this.db),this.db.Za[Ye]=this.Ua,{value:this.Ua,done:!1})}catch(ht){throw this.ib=J(this.eb),this.gb(),ht}finally{Qd(Y)}},A.prototype.gb=function(){Yp(this.Ya),this.Ya=null},A.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:J(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(A.prototype[Symbol.iterator]=function(){return this}),D.prototype.run=function(Y,be){if(!this.db)throw"Database closed";if(be){Y=this.prepare(Y,be);try{Y.step()}finally{Y.free()}}else this.handleError(bt(this.db,Y,0,0,ee));return this},D.prototype.exec=function(Y,be,Ye){if(!this.db)throw"Database closed";var ht=Hd(),Nt=null;try{var sr=po(Y),is=la(4);for(Y=[];pt(sr,"i8")!==0;){it(ee),it(is),this.handleError(PS(this.db,sr,-1,ee,is));var Mi=pt(ee,"i32");if(sr=pt(is,"i32"),Mi!==0){var fi=null;for(Nt=new b(Mi,this),be!=null&&Nt.bind(be);Nt.step();)fi===null&&(fi={columns:Nt.getColumnNames(),values:[]},Y.push(fi)),fi.values.push(Nt.get(null,Ye));Nt.free()}}return Y}catch(ss){throw Nt&&Nt.free(),ss}finally{Qd(ht)}},D.prototype.each=function(Y,be,Ye,ht,Nt){typeof be=="function"&&(ht=Ye,Ye=be,be=void 0),Y=this.prepare(Y,be);try{for(;Y.step();)Ye(Y.getAsObject(null,Nt))}finally{Y.free()}if(typeof ht=="function")return ht()},D.prototype.prepare=function(Y,be){if(it(ee),this.handleError(cn(this.db,Y,-1,ee,0)),Y=pt(ee,"i32"),Y===0)throw"Nothing to prepare";var Ye=new b(Y,this);return be!=null&&Ye.bind(be),this.Za[Y]=Ye},D.prototype.iterateStatements=function(Y){return new A(Y,this)},D.prototype.export=function(){Object.values(this.Za).forEach(function(be){be.free()}),Object.values(this.Na).forEach(mo),this.Na={},this.handleError(jt(this.db));var Y=R0(this.filename);return this.handleError(lt(this.filename,ee)),this.db=pt(ee,"i32"),BS(this.db),Y},D.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(Y){Y.free()}),Object.values(this.Na).forEach(mo),this.Na={},this.handleError(jt(this.db)),It("/"+this.filename),this.db=null)},D.prototype.handleError=function(Y){if(Y===0)return null;throw Y=Q6(this.db),Error(Y)},D.prototype.getRowsModified=function(){return Qr(this.db)},D.prototype.create_function=function(Y,be){Object.prototype.hasOwnProperty.call(this.Na,Y)&&(mo(this.Na[Y]),delete this.Na[Y]);var Ye=Gp(function(ht,Nt,sr){Nt=m(Nt,sr);try{var is=be.apply(null,Nt)}catch(Mi){Zp(ht,Mi,-1);return}f(ht,is)},"viii");return this.Na[Y]=Ye,this.handleError(LS(this.db,Y,be.length,1,0,Ye,0,0,0)),this},D.prototype.create_aggregate=function(Y,be){var Ye=be.init||function(){return null},ht=be.finalize||function(fi){return fi},Nt=be.step;if(!Nt)throw"An aggregate function must have a step function in "+Y;var sr={};Object.hasOwnProperty.call(this.Na,Y)&&(mo(this.Na[Y]),delete this.Na[Y]),be=Y+"__finalize",Object.hasOwnProperty.call(this.Na,be)&&(mo(this.Na[be]),delete this.Na[be]);var is=Gp(function(fi,ss,O0){var _l=MS(fi,1);Object.hasOwnProperty.call(sr,_l)||(sr[_l]=Ye()),ss=m(ss,O0),ss=[sr[_l]].concat(ss);try{sr[_l]=Nt.apply(null,ss)}catch(hA){delete sr[_l],Zp(fi,hA,-1)}},"viii"),Mi=Gp(function(fi){var ss=MS(fi,1);try{var O0=ht(sr[ss])}catch(_l){delete sr[ss],Zp(fi,_l,-1);return}f(fi,O0),delete sr[ss]},"vi");return this.Na[Y]=is,this.Na[be]=Mi,this.handleError(LS(this.db,Y,Nt.length-1,1,0,0,is,Mi,0)),this},u.Database=D};var c=Object.assign({},u),h="./this.program",p=typeof window=="object",g=typeof importScripts=="function",_=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S="",E,w,v;if(_){var N=Mw,I=Mw;S=g?I.dirname(S)+"/":__dirname+"/",E=(f,m)=>(f=V(f)?new URL(f):I.normalize(f),N.readFileSync(f,m?void 0:"utf8")),v=f=>(f=E(f,!0),f.buffer||(f=new Uint8Array(f)),f),w=(f,m,b,A=!0)=>{f=V(f)?new URL(f):I.normalize(f),N.readFile(f,A?void 0:"utf8",(D,ee)=>{D?b(D):m(A?ee.buffer:ee)})},!u.thisProgram&&1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=u,u.inspect=()=>"[Emscripten Module object]"}else(p||g)&&(g?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),S=S.indexOf("blob:")!==0?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",E=f=>{var m=new XMLHttpRequest;return m.open("GET",f,!1),m.send(null),m.responseText},g&&(v=f=>{var m=new XMLHttpRequest;return m.open("GET",f,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),w=(f,m,b)=>{var A=new XMLHttpRequest;A.open("GET",f,!0),A.responseType="arraybuffer",A.onload=()=>{A.status==200||A.status==0&&A.response?m(A.response):b()},A.onerror=b,A.send(null)});var R=u.print||console.log.bind(console),k=u.printErr||console.error.bind(console);Object.assign(u,c),c=null,u.thisProgram&&(h=u.thisProgram);var L;u.wasmBinary&&(L=u.wasmBinary),typeof WebAssembly!="object"&&ve("no native wasm support detected");var j,Z=!1,Q,te,re,G,fe,je,Fe;function Pe(){var f=j.buffer;u.HEAP8=Q=new Int8Array(f),u.HEAP16=re=new Int16Array(f),u.HEAPU8=te=new Uint8Array(f),u.HEAPU16=new Uint16Array(f),u.HEAP32=G=new Int32Array(f),u.HEAPU32=fe=new Uint32Array(f),u.HEAPF32=je=new Float32Array(f),u.HEAPF64=Fe=new Float64Array(f)}var X=[],ge=[],Ce=[];function Ae(){var f=u.preRun.shift();X.unshift(f)}var ue=0,_e=null;function ve(f){var m;throw(m=u.onAbort)==null||m.call(u,f),f="Aborted("+f+")",k(f),Z=!0,new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info.")}var Le=f=>f.startsWith("data:application/octet-stream;base64,"),V=f=>f.startsWith("file://"),Ve;if(Ve="sql-wasm.wasm",!Le(Ve)){var se=Ve;Ve=u.locateFile?u.locateFile(se,S):S+se}function ct(f){if(f==Ve&&L)return new Uint8Array(L);if(v)return v(f);throw"both async and sync fetching of the wasm failed"}function st(f){if(!L&&(p||g)){if(typeof fetch=="function"&&!V(f))return fetch(f,{credentials:"same-origin"}).then(m=>{if(!m.ok)throw"failed to load wasm binary file at '"+f+"'";return m.arrayBuffer()}).catch(()=>ct(f));if(w)return new Promise((m,b)=>{w(f,A=>m(new Uint8Array(A)),b)})}return Promise.resolve().then(()=>ct(f))}function Ge(f,m,b){return st(f).then(A=>WebAssembly.instantiate(A,m)).then(A=>A).then(b,A=>{k(`failed to asynchronously prepare wasm: ${A}`),ve(A)})}function pe(f,m){var b=Ve;L||typeof WebAssembly.instantiateStreaming!="function"||Le(b)||V(b)||_||typeof fetch!="function"?Ge(b,f,m):fetch(b,{credentials:"same-origin"}).then(A=>WebAssembly.instantiateStreaming(A,f).then(m,function(D){return k(`wasm streaming compile failed: ${D}`),k("falling back to ArrayBuffer instantiation"),Ge(b,f,m)}))}var me,Be,$e=f=>{for(;0<f.length;)f.shift()(u)};function pt(f,m="i8"){switch(m.endsWith("*")&&(m="*"),m){case"i1":return Q[f>>0];case"i8":return Q[f>>0];case"i16":return re[f>>1];case"i32":return G[f>>2];case"i64":ve("to do getValue(i64) use WASM_BIGINT");case"float":return je[f>>2];case"double":return Fe[f>>3];case"*":return fe[f>>2];default:ve(`invalid type for getValue: ${m}`)}}function it(f){var m="i32";switch(m.endsWith("*")&&(m="*"),m){case"i1":Q[f>>0]=0;break;case"i8":Q[f>>0]=0;break;case"i16":re[f>>1]=0;break;case"i32":G[f>>2]=0;break;case"i64":ve("to do setValue(i64) use WASM_BIGINT");case"float":je[f>>2]=0;break;case"double":Fe[f>>3]=0;break;case"*":fe[f>>2]=0;break;default:ve(`invalid type for setValue: ${m}`)}}var $=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,W=(f,m,b)=>{var A=m+b;for(b=m;f[b]&&!(b>=A);)++b;if(16<b-m&&f.buffer&&$)return $.decode(f.subarray(m,b));for(A="";m<b;){var D=f[m++];if(D&128){var ee=f[m++]&63;if((D&224)==192)A+=String.fromCharCode((D&31)<<6|ee);else{var de=f[m++]&63;D=(D&240)==224?(D&15)<<12|ee<<6|de:(D&7)<<18|ee<<12|de<<6|f[m++]&63,65536>D?A+=String.fromCharCode(D):(D-=65536,A+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else A+=String.fromCharCode(D)}return A},J=(f,m)=>f?W(te,f,m):"",Te=(f,m)=>{for(var b=0,A=f.length-1;0<=A;A--){var D=f[A];D==="."?f.splice(A,1):D===".."?(f.splice(A,1),b++):b&&(f.splice(A,1),b--)}if(m)for(;b;b--)f.unshift("..");return f},xe=f=>{var m=f.charAt(0)==="/",b=f.substr(-1)==="/";return(f=Te(f.split("/").filter(A=>!!A),!m).join("/"))||m||(f="."),f&&b&&(f+="/"),(m?"/":"")+f},he=f=>{var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=m[0],m=m[1],!f&&!m?".":(m&&(m=m.substr(0,m.length-1)),f+m)},ne=f=>{if(f==="/")return"/";f=xe(f),f=f.replace(/\/$/,"");var m=f.lastIndexOf("/");return m===-1?f:f.substr(m+1)},De=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return b=>crypto.getRandomValues(b);if(_)try{var f=Mw;if(f.randomFillSync)return b=>f.randomFillSync(b);var m=f.randomBytes;return b=>(b.set(m(b.byteLength)),b)}catch{}ve("initRandomDevice")},Rt=f=>(Rt=De())(f);function Mt(){for(var f="",m=!1,b=arguments.length-1;-1<=b&&!m;b--){if(m=0<=b?arguments[b]:"/",typeof m!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!m)return"";f=m+"/"+f,m=m.charAt(0)==="/"}return f=Te(f.split("/").filter(A=>!!A),!m).join("/"),(m?"/":"")+f||"."}var er=[],Hr=f=>{for(var m=0,b=0;b<f.length;++b){var A=f.charCodeAt(b);127>=A?m++:2047>=A?m+=2:55296<=A&&57343>=A?(m+=4,++b):m+=3}return m},kn=(f,m,b,A)=>{if(!(0<A))return 0;var D=b;A=b+A-1;for(var ee=0;ee<f.length;++ee){var de=f.charCodeAt(ee);if(55296<=de&&57343>=de){var lt=f.charCodeAt(++ee);de=65536+((de&1023)<<10)|lt&1023}if(127>=de){if(b>=A)break;m[b++]=de}else{if(2047>=de){if(b+1>=A)break;m[b++]=192|de>>6}else{if(65535>=de){if(b+2>=A)break;m[b++]=224|de>>12}else{if(b+3>=A)break;m[b++]=240|de>>18,m[b++]=128|de>>12&63}m[b++]=128|de>>6&63}m[b++]=128|de&63}}return m[b]=0,b-D};function ji(f,m){var b=Array(Hr(f)+1);return f=kn(f,b,0,b.length),m&&(b.length=f),b}var Ds=[];function Ms(f,m){Ds[f]={input:[],output:[],Xa:m},ui(f,Bs)}var Bs={open(f){var m=Ds[f.node.rdev];if(!m)throw new H(43);f.tty=m,f.seekable=!1},close(f){f.tty.Xa.fsync(f.tty)},fsync(f){f.tty.Xa.fsync(f.tty)},read(f,m,b,A){if(!f.tty||!f.tty.Xa.sb)throw new H(60);for(var D=0,ee=0;ee<A;ee++){try{var de=f.tty.Xa.sb(f.tty)}catch{throw new H(29)}if(de===void 0&&D===0)throw new H(6);if(de==null)break;D++,m[b+ee]=de}return D&&(f.node.timestamp=Date.now()),D},write(f,m,b,A){if(!f.tty||!f.tty.Xa.jb)throw new H(60);try{for(var D=0;D<A;D++)f.tty.Xa.jb(f.tty,m[b+D])}catch{throw new H(29)}return A&&(f.node.timestamp=Date.now()),D}},es={sb(){e:{if(!er.length){var f=null;if(_){var m=Buffer.alloc(256),b=0,A=process.stdin.fd;try{b=N.readSync(A,m)}catch(D){if(D.toString().includes("EOF"))b=0;else throw D}0<b?f=m.slice(0,b).toString("utf-8"):f=null}else typeof window<"u"&&typeof window.prompt=="function"?(f=window.prompt("Input: "),f!==null&&(f+=`
`)):typeof readline=="function"&&(f=readline(),f!==null&&(f+=`
`));if(!f){f=null;break e}er=ji(f,!0)}f=er.shift()}return f},jb(f,m){m===null||m===10?(R(W(f.output,0)),f.output=[]):m!=0&&f.output.push(m)},fsync(f){f.output&&0<f.output.length&&(R(W(f.output,0)),f.output=[])},Mb(){return{Ib:25856,Kb:5,Hb:191,Jb:35387,Gb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Nb(){return 0},Ob(){return[24,80]}},Bu={jb(f,m){m===null||m===10?(k(W(f.output,0)),f.output=[]):m!=0&&f.output.push(m)},fsync(f){f.output&&0<f.output.length&&(k(W(f.output,0)),f.output=[])}};function Fs(f,m){var b=f.Ia?f.Ia.length:0;b>=m||(m=Math.max(m,b*(1048576>b?2:1.125)>>>0),b!=0&&(m=Math.max(m,256)),b=f.Ia,f.Ia=new Uint8Array(m),0<f.Ma&&f.Ia.set(b.subarray(0,f.Ma),0))}var gt={Qa:null,Ra(){return gt.createNode(null,"/",16895,0)},createNode(f,m,b,A){if((b&61440)===24576||(b&61440)===4096)throw new H(63);return gt.Qa||(gt.Qa={dir:{node:{Pa:gt.Ga.Pa,Oa:gt.Ga.Oa,lookup:gt.Ga.lookup,ab:gt.Ga.ab,rename:gt.Ga.rename,unlink:gt.Ga.unlink,rmdir:gt.Ga.rmdir,readdir:gt.Ga.readdir,symlink:gt.Ga.symlink},stream:{Ta:gt.Ha.Ta}},file:{node:{Pa:gt.Ga.Pa,Oa:gt.Ga.Oa},stream:{Ta:gt.Ha.Ta,read:gt.Ha.read,write:gt.Ha.write,lb:gt.Ha.lb,bb:gt.Ha.bb,cb:gt.Ha.cb}},link:{node:{Pa:gt.Ga.Pa,Oa:gt.Ga.Oa,readlink:gt.Ga.readlink},stream:{}},pb:{node:{Pa:gt.Ga.Pa,Oa:gt.Ga.Oa},stream:Li}}),b=_r(f,m,b,A),Ke(b.mode)?(b.Ga=gt.Qa.dir.node,b.Ha=gt.Qa.dir.stream,b.Ia={}):(b.mode&61440)===32768?(b.Ga=gt.Qa.file.node,b.Ha=gt.Qa.file.stream,b.Ma=0,b.Ia=null):(b.mode&61440)===40960?(b.Ga=gt.Qa.link.node,b.Ha=gt.Qa.link.stream):(b.mode&61440)===8192&&(b.Ga=gt.Qa.pb.node,b.Ha=gt.Qa.pb.stream),b.timestamp=Date.now(),f&&(f.Ia[m]=b,f.timestamp=b.timestamp),b},Lb(f){return f.Ia?f.Ia.subarray?f.Ia.subarray(0,f.Ma):new Uint8Array(f.Ia):new Uint8Array(0)},Ga:{Pa(f){var m={};return m.dev=(f.mode&61440)===8192?f.id:1,m.ino=f.id,m.mode=f.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=f.rdev,Ke(f.mode)?m.size=4096:(f.mode&61440)===32768?m.size=f.Ma:(f.mode&61440)===40960?m.size=f.link.length:m.size=0,m.atime=new Date(f.timestamp),m.mtime=new Date(f.timestamp),m.ctime=new Date(f.timestamp),m.zb=4096,m.blocks=Math.ceil(m.size/m.zb),m},Oa(f,m){if(m.mode!==void 0&&(f.mode=m.mode),m.timestamp!==void 0&&(f.timestamp=m.timestamp),m.size!==void 0&&(m=m.size,f.Ma!=m))if(m==0)f.Ia=null,f.Ma=0;else{var b=f.Ia;f.Ia=new Uint8Array(m),b&&f.Ia.set(b.subarray(0,Math.min(m,f.Ma))),f.Ma=m}},lookup(){throw We[44]},ab(f,m,b,A){return gt.createNode(f,m,b,A)},rename(f,m,b){if(Ke(f.mode)){try{var A=ft(m,b)}catch{}if(A)for(var D in A.Ia)throw new H(55)}delete f.parent.Ia[f.name],f.parent.timestamp=Date.now(),f.name=b,m.Ia[b]=f,m.timestamp=f.parent.timestamp,f.parent=m},unlink(f,m){delete f.Ia[m],f.timestamp=Date.now()},rmdir(f,m){var b=ft(f,m),A;for(A in b.Ia)throw new H(55);delete f.Ia[m],f.timestamp=Date.now()},readdir(f){var m=[".",".."],b;for(b of Object.keys(f.Ia))m.push(b);return m},symlink(f,m,b){return f=gt.createNode(f,m,41471,0),f.link=b,f},readlink(f){if((f.mode&61440)!==40960)throw new H(28);return f.link}},Ha:{read(f,m,b,A,D){var ee=f.node.Ia;if(D>=f.node.Ma)return 0;if(f=Math.min(f.node.Ma-D,A),8<f&&ee.subarray)m.set(ee.subarray(D,D+f),b);else for(A=0;A<f;A++)m[b+A]=ee[D+A];return f},write(f,m,b,A,D,ee){if(m.buffer===Q.buffer&&(ee=!1),!A)return 0;if(f=f.node,f.timestamp=Date.now(),m.subarray&&(!f.Ia||f.Ia.subarray)){if(ee)return f.Ia=m.subarray(b,b+A),f.Ma=A;if(f.Ma===0&&D===0)return f.Ia=m.slice(b,b+A),f.Ma=A;if(D+A<=f.Ma)return f.Ia.set(m.subarray(b,b+A),D),A}if(Fs(f,D+A),f.Ia.subarray&&m.subarray)f.Ia.set(m.subarray(b,b+A),D);else for(ee=0;ee<A;ee++)f.Ia[D+ee]=m[b+ee];return f.Ma=Math.max(f.Ma,D+A),A},Ta(f,m,b){if(b===1?m+=f.position:b===2&&(f.node.mode&61440)===32768&&(m+=f.node.Ma),0>m)throw new H(28);return m},lb(f,m,b){Fs(f.node,m+b),f.node.Ma=Math.max(f.node.Ma,m+b)},bb(f,m,b,A,D){if((f.node.mode&61440)!==32768)throw new H(43);if(f=f.node.Ia,D&2||f.buffer!==Q.buffer){if((0<b||b+m<f.length)&&(f.subarray?f=f.subarray(b,b+m):f=Array.prototype.slice.call(f,b,b+m)),b=!0,m=65536*Math.ceil(m/65536),(D=OS(65536,m))?(te.fill(0,D,D+m),m=D):m=0,!m)throw new H(48);Q.set(f,m)}else b=!1,m=f.byteOffset;return{Db:m,ub:b}},cb(f,m,b,A){return gt.Ha.write(f,m,0,A,b,!1),0}}},vl=(f,m)=>{var b=0;return f&&(b|=365),m&&(b|=146),b},Xn=null,wl={},ho=[],z=1,K=null,ae=!0,H=null,We={};function Ze(f,m={}){if(f=Mt(f),!f)return{path:"",node:null};if(m=Object.assign({qb:!0,kb:0},m),8<m.kb)throw new H(32);f=f.split("/").filter(de=>!!de);for(var b=Xn,A="/",D=0;D<f.length;D++){var ee=D===f.length-1;if(ee&&m.parent)break;if(b=ft(b,f[D]),A=xe(A+"/"+f[D]),b.Va&&(!ee||ee&&m.qb)&&(b=b.Va.root),!ee||m.Sa){for(ee=0;(b.mode&61440)===40960;)if(b=Sr(A),A=Mt(he(A),b),b=Ze(A,{kb:m.kb+1}).node,40<ee++)throw new H(32)}}return{path:A,node:b}}function et(f){for(var m;;){if(f===f.parent)return f=f.Ra.tb,m?f[f.length-1]!=="/"?`${f}/${m}`:f+m:f;m=m?`${f.name}/${m}`:f.name,f=f.parent}}function Xe(f,m){for(var b=0,A=0;A<m.length;A++)b=(b<<5)-b+m.charCodeAt(A)|0;return(f+b>>>0)%K.length}function Je(f){var m=Xe(f.parent.id,f.name);if(K[m]===f)K[m]=f.Wa;else for(m=K[m];m;){if(m.Wa===f){m.Wa=f.Wa;break}m=m.Wa}}function ft(f,m){var b;if(b=(b=ir(f,"x"))?b:f.Ga.lookup?0:2)throw new H(b,f);for(b=K[Xe(f.id,m)];b;b=b.Wa){var A=b.name;if(b.parent.id===f.id&&A===m)return b}return f.Ga.lookup(f,m)}function _r(f,m,b,A){return f=new TS(f,m,b,A),m=Xe(f.parent.id,f.name),f.Wa=K[m],K[m]=f}function Ke(f){return(f&61440)===16384}function Ut(f){var m=["r","w","rw"][f&3];return f&512&&(m+="w"),m}function ir(f,m){if(ae)return 0;if(!m.includes("r")||f.mode&292){if(m.includes("w")&&!(f.mode&146)||m.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function un(f,m){try{return ft(f,m),20}catch{}return ir(f,"wx")}function xr(f,m,b){try{var A=ft(f,m)}catch(D){return D.Ka}if(f=ir(f,"wx"))return f;if(b){if(!Ke(A.mode))return 54;if(A===A.parent||et(A)==="/")return 10}else if(Ke(A.mode))return 31;return 0}function Ws(){for(var f=0;4096>=f;f++)if(!ho[f])return f;throw new H(33)}function Dr(f){if(f=ho[f],!f)throw new H(8);return f}function ts(f,m=-1){return F||(F=function(){this.$a={}},F.prototype={},Object.defineProperties(F.prototype,{object:{get(){return this.node},set(b){this.node=b}},flags:{get(){return this.$a.flags},set(b){this.$a.flags=b}},position:{get(){return this.$a.position},set(b){this.$a.position=b}}})),f=Object.assign(new F,f),m==-1&&(m=Ws()),f.fd=m,ho[m]=f}var Li={open(f){var m,b;f.Ha=wl[f.node.rdev].Ha,(b=(m=f.Ha).open)==null||b.call(m,f)},Ta(){throw new H(70)}};function ui(f,m){wl[f]={Ha:m}}function sa(f,m){var b=m==="/",A=!m;if(b&&Xn)throw new H(10);if(!b&&!A){var D=Ze(m,{qb:!1});if(m=D.path,D=D.node,D.Va)throw new H(10);if(!Ke(D.mode))throw new H(54)}m={type:f,Pb:{},tb:m,Cb:[]},f=f.Ra(m),f.Ra=m,m.root=f,b?Xn=f:D&&(D.Va=m,D.Ra&&D.Ra.Cb.push(m))}function Di(f,m,b){var A=Ze(f,{parent:!0}).node;if(f=ne(f),!f||f==="."||f==="..")throw new H(28);var D=un(A,f);if(D)throw new H(D);if(!A.Ga.ab)throw new H(63);return A.Ga.ab(A,f,m,b)}function Cn(f,m){return Di(f,(m!==void 0?m:511)&1023|16384,0)}function ci(f,m,b){typeof b>"u"&&(b=m,m=438),Di(f,m|8192,b)}function qs(f,m){if(!Mt(f))throw new H(44);var b=Ze(m,{parent:!0}).node;if(!b)throw new H(44);m=ne(m);var A=un(b,m);if(A)throw new H(A);if(!b.Ga.symlink)throw new H(63);b.Ga.symlink(b,m,f)}function Ct(f){var m=Ze(f,{parent:!0}).node;f=ne(f);var b=ft(m,f),A=xr(m,f,!0);if(A)throw new H(A);if(!m.Ga.rmdir)throw new H(63);if(b.Va)throw new H(10);m.Ga.rmdir(m,f),Je(b)}function It(f){var m=Ze(f,{parent:!0}).node;if(!m)throw new H(44);f=ne(f);var b=ft(m,f),A=xr(m,f,!1);if(A)throw new H(A);if(!m.Ga.unlink)throw new H(63);if(b.Va)throw new H(10);m.Ga.unlink(m,f),Je(b)}function Sr(f){if(f=Ze(f).node,!f)throw new H(44);if(!f.Ga.readlink)throw new H(28);return Mt(et(f.parent),f.Ga.readlink(f))}function di(f,m){if(f=Ze(f,{Sa:!m}).node,!f)throw new H(44);if(!f.Ga.Pa)throw new H(63);return f.Ga.Pa(f)}function rs(f){return di(f,!0)}function Fu(f,m){if(f=typeof f=="string"?Ze(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new H(63);f.Ga.Oa(f,{mode:m&4095|f.mode&-4096,timestamp:Date.now()})}function bl(f,m){if(0>m)throw new H(28);if(f=typeof f=="string"?Ze(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new H(63);if(Ke(f.mode))throw new H(31);if((f.mode&61440)!==32768)throw new H(28);var b=ir(f,"w");if(b)throw new H(b);f.Ga.Oa(f,{size:m,timestamp:Date.now()})}function Us(f,m,b){if(f==="")throw new H(44);if(typeof m=="string"){var A={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[m];if(typeof A>"u")throw Error(`Unknown file open mode: ${m}`);m=A}if(b=m&64?(typeof b>"u"?438:b)&4095|32768:0,typeof f=="object")var D=f;else{f=xe(f);try{D=Ze(f,{Sa:!(m&131072)}).node}catch{}}if(A=!1,m&64)if(D){if(m&128)throw new H(20)}else D=Di(f,b,0),A=!0;if(!D)throw new H(44);if((D.mode&61440)===8192&&(m&=-513),m&65536&&!Ke(D.mode))throw new H(54);if(!A&&(b=D?(D.mode&61440)===40960?32:Ke(D.mode)&&(Ut(m)!=="r"||m&512)?31:ir(D,Ut(m)):44))throw new H(b);return m&512&&!A&&bl(D,0),m&=-131713,D=ts({node:D,path:et(D),flags:m,seekable:!0,position:0,Ha:D.Ha,Fb:[],error:!1}),D.Ha.open&&D.Ha.open(D),!u.logReadFiles||m&1||(le||(le={}),f in le||(le[f]=1)),D}function Ud(f){if(f.fd===null)throw new H(8);f.hb&&(f.hb=null);try{f.Ha.close&&f.Ha.close(f)}catch(m){throw m}finally{ho[f.fd]=null}f.fd=null}function Hp(f,m,b){if(f.fd===null)throw new H(8);if(!f.seekable||!f.Ha.Ta)throw new H(70);if(b!=0&&b!=1&&b!=2)throw new H(28);f.position=f.Ha.Ta(f,m,b),f.Fb=[]}function Wu(f,m,b,A,D){if(0>A||0>D)throw new H(28);if(f.fd===null)throw new H(8);if((f.flags&2097155)===1)throw new H(8);if(Ke(f.node.mode))throw new H(31);if(!f.Ha.read)throw new H(28);var ee=typeof D<"u";if(!ee)D=f.position;else if(!f.seekable)throw new H(70);return m=f.Ha.read(f,m,b,A,D),ee||(f.position+=m),m}function Qp(f,m,b,A,D){if(0>A||0>D)throw new H(28);if(f.fd===null)throw new H(8);if(!(f.flags&2097155))throw new H(8);if(Ke(f.node.mode))throw new H(31);if(!f.Ha.write)throw new H(28);f.seekable&&f.flags&1024&&Hp(f,0,2);var ee=typeof D<"u";if(!ee)D=f.position;else if(!f.seekable)throw new H(70);return m=f.Ha.write(f,m,b,A,D,void 0),ee||(f.position+=m),m}function R0(f){var m,b=Us(f,b||0);f=di(f).size;var A=new Uint8Array(f);return Wu(b,A,0,f,0),m=A,Ud(b),m}function C(){H||(H=function(f,m){this.name="ErrnoError",this.node=m,this.Eb=function(b){this.Ka=b},this.Eb(f),this.message="FS error"},H.prototype=Error(),H.prototype.constructor=H,[44].forEach(f=>{We[f]=new H(f),We[f].stack="<generic error, no stack>"}))}var M;function P(f,m,b){f=xe("/dev/"+f);var A=vl(!!m,!!b);q||(q=64);var D=q++<<8|0;ui(D,{open(ee){ee.seekable=!1},close(){var ee;(ee=b==null?void 0:b.buffer)!=null&&ee.length&&b(10)},read(ee,de,lt,jt){for(var bt=0,Qr=0;Qr<jt;Qr++){try{var cn=m()}catch{throw new H(29)}if(cn===void 0&&bt===0)throw new H(6);if(cn==null)break;bt++,de[lt+Qr]=cn}return bt&&(ee.node.timestamp=Date.now()),bt},write(ee,de,lt,jt){for(var bt=0;bt<jt;bt++)try{b(de[lt+bt])}catch{throw new H(29)}return jt&&(ee.node.timestamp=Date.now()),bt}}),ci(f,A,D)}var q,B={},F,le;function ye(f,m,b){if(m.charAt(0)==="/")return m;if(f=f===-100?"/":Dr(f).path,m.length==0){if(!b)throw new H(44);return f}return xe(f+"/"+m)}function Ee(f,m,b){try{var A=f(m)}catch(ee){if(ee&&ee.node&&xe(m)!==xe(et(ee.node)))return-54;throw ee}G[b>>2]=A.dev,G[b+4>>2]=A.mode,fe[b+8>>2]=A.nlink,G[b+12>>2]=A.uid,G[b+16>>2]=A.gid,G[b+20>>2]=A.rdev,Be=[A.size>>>0,(me=A.size,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],G[b+24>>2]=Be[0],G[b+28>>2]=Be[1],G[b+32>>2]=4096,G[b+36>>2]=A.blocks,f=A.atime.getTime(),m=A.mtime.getTime();var D=A.ctime.getTime();return Be=[Math.floor(f/1e3)>>>0,(me=Math.floor(f/1e3),1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],G[b+40>>2]=Be[0],G[b+44>>2]=Be[1],fe[b+48>>2]=f%1e3*1e3,Be=[Math.floor(m/1e3)>>>0,(me=Math.floor(m/1e3),1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],G[b+56>>2]=Be[0],G[b+60>>2]=Be[1],fe[b+64>>2]=m%1e3*1e3,Be=[Math.floor(D/1e3)>>>0,(me=Math.floor(D/1e3),1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],G[b+72>>2]=Be[0],G[b+76>>2]=Be[1],fe[b+80>>2]=D%1e3*1e3,Be=[A.ino>>>0,(me=A.ino,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],G[b+88>>2]=Be[0],G[b+92>>2]=Be[1],0}var Ne=void 0;function Re(){var f=G[+Ne>>2];return Ne+=4,f}var Ue=(f,m)=>m+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*m:NaN,wt=[0,31,60,91,121,152,182,213,244,274,305,335],Bt=[0,31,59,90,120,151,181,212,243,273,304,334],Ft=f=>{var m=Hr(f)+1,b=Jp(m);return b&&kn(f,te,b,m),b},yr={},gr=()=>{if(!Tn){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"},m;for(m in yr)yr[m]===void 0?delete f[m]:f[m]=yr[m];var b=[];for(m in f)b.push(`${m}=${f[m]}`);Tn=b}return Tn},Tn,po=f=>{var m=Hr(f)+1,b=la(m);return kn(f,te,b,m),b},zd=(f,m,b,A)=>{var D={string:bt=>{var Qr=0;return bt!=null&&bt!==0&&(Qr=po(bt)),Qr},array:bt=>{var Qr=la(bt.length);return Q.set(bt,Qr),Qr}};f=u["_"+f];var ee=[],de=0;if(A)for(var lt=0;lt<A.length;lt++){var jt=D[b[lt]];jt?(de===0&&(de=Hd()),ee[lt]=jt(A[lt])):ee[lt]=A[lt]}return b=f.apply(null,ee),b=function(bt){return de!==0&&Qd(de),m==="string"?bt?W(te,bt):"":m==="boolean"?!!bt:bt}(b)},qu=0,oa=(f,m)=>(m=m==1?la(f.length):Jp(f.length),f.subarray||f.slice||(f=new Uint8Array(f)),te.set(f,m),m),aa,Vd=[],ns,mo=f=>{aa.delete(ns.get(f)),ns.set(f,null),Vd.push(f)},Gp=(f,m)=>{if(!aa){aa=new WeakMap;var b=ns.length;if(aa)for(var A=0;A<0+b;A++){var D=ns.get(A);D&&aa.set(D,A)}}if(b=aa.get(f)||0)return b;if(Vd.length)b=Vd.pop();else{try{ns.grow(1)}catch(lt){throw lt instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":lt}b=ns.length-1}try{ns.set(b,f)}catch(lt){if(!(lt instanceof TypeError))throw lt;if(typeof WebAssembly.Function=="function"){A=WebAssembly.Function,D={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var ee={parameters:[],results:m[0]=="v"?[]:[D[m[0]]]},de=1;de<m.length;++de)ee.parameters.push(D[m[de]]);m=new A(ee,f)}else{for(A=[1],D=m.slice(0,1),m=m.slice(1),ee={i:127,p:127,j:126,f:125,d:124,e:111},A.push(96),de=m.length,128>de?A.push(de):A.push(de%128|128,de>>7),de=0;de<m.length;++de)A.push(ee[m[de]]);D=="v"?A.push(0):A.push(1,ee[D]),m=[0,97,115,109,1,0,0,0,1],D=A.length,128>D?m.push(D):m.push(D%128|128,D>>7),m.push.apply(m,A),m.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),m=new WebAssembly.Module(new Uint8Array(m)),m=new WebAssembly.Instance(m,{e:{f}}).exports.f}ns.set(b,m)}return aa.set(f,b),b};function TS(f,m,b,A){f||(f=this),this.parent=f,this.Ra=f.Ra,this.Va=null,this.id=z++,this.name=m,this.mode=b,this.Ga={},this.Ha={},this.rdev=A}Object.defineProperties(TS.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(f){f?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(f){f?this.mode|=146:this.mode&=-147}}}),C(),K=Array(4096),sa(gt,"/"),Cn("/tmp"),Cn("/home"),Cn("/home/web_user"),function(){Cn("/dev"),ui(259,{read:()=>0,write:(A,D,ee,de)=>de}),ci("/dev/null",259),Ms(1280,es),Ms(1536,Bu),ci("/dev/tty",1280),ci("/dev/tty1",1536);var f=new Uint8Array(1024),m=0,b=()=>(m===0&&(m=Rt(f).byteLength),f[--m]);P("random",b),P("urandom",b),Cn("/dev/shm"),Cn("/dev/shm/tmp")}(),function(){Cn("/proc");var f=Cn("/proc/self");Cn("/proc/self/fd"),sa({Ra(){var m=_r(f,"fd",16895,73);return m.Ga={lookup(b,A){var D=Dr(+A);return b={parent:null,Ra:{tb:"fake"},Ga:{readlink:()=>D.path}},b.parent=b}},m}},"/proc/self/fd")}();var F6={a:(f,m,b,A)=>{ve(`Assertion failed: ${f?W(te,f):""}, at: `+[m?m?W(te,m):"":"unknown filename",b,A?A?W(te,A):"":"unknown function"])},h:function(f,m){try{return f=f?W(te,f):"",Fu(f,m),0}catch(b){if(typeof B>"u"||b.name!=="ErrnoError")throw b;return-b.Ka}},H:function(f,m,b){try{if(m=m?W(te,m):"",m=ye(f,m),b&-8)return-28;var A=Ze(m,{Sa:!0}).node;return A?(f="",b&4&&(f+="r"),b&2&&(f+="w"),b&1&&(f+="x"),f&&ir(A,f)?-2:0):-44}catch(D){if(typeof B>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},i:function(f,m){try{var b=Dr(f);return Fu(b.node,m),0}catch(A){if(typeof B>"u"||A.name!=="ErrnoError")throw A;return-A.Ka}},g:function(f){try{var m=Dr(f).node,b=typeof m=="string"?Ze(m,{Sa:!0}).node:m;if(!b.Ga.Oa)throw new H(63);return b.Ga.Oa(b,{timestamp:Date.now()}),0}catch(A){if(typeof B>"u"||A.name!=="ErrnoError")throw A;return-A.Ka}},b:function(f,m,b){Ne=b;try{var A=Dr(f);switch(m){case 0:var D=Re();if(0>D)return-28;for(;ho[D];)D++;return ts(A,D).fd;case 1:case 2:return 0;case 3:return A.flags;case 4:return D=Re(),A.flags|=D,0;case 5:return D=Re(),re[D+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return G[RS()>>2]=28,-1;default:return-28}}catch(ee){if(typeof B>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Ka}},f:function(f,m){try{var b=Dr(f);return Ee(di,b.path,m)}catch(A){if(typeof B>"u"||A.name!=="ErrnoError")throw A;return-A.Ka}},n:function(f,m,b){m=Ue(m,b);try{if(isNaN(m))return 61;var A=Dr(f);if(!(A.flags&2097155))throw new H(28);return bl(A.node,m),0}catch(D){if(typeof B>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},C:function(f,m){try{if(m===0)return-28;var b=Hr("/")+1;return m<b?-68:(kn("/",te,f,m),b)}catch(A){if(typeof B>"u"||A.name!=="ErrnoError")throw A;return-A.Ka}},F:function(f,m){try{return f=f?W(te,f):"",Ee(rs,f,m)}catch(b){if(typeof B>"u"||b.name!=="ErrnoError")throw b;return-b.Ka}},z:function(f,m,b){try{return m=m?W(te,m):"",m=ye(f,m),m=xe(m),m[m.length-1]==="/"&&(m=m.substr(0,m.length-1)),Cn(m,b),0}catch(A){if(typeof B>"u"||A.name!=="ErrnoError")throw A;return-A.Ka}},E:function(f,m,b,A){try{m=m?W(te,m):"";var D=A&256;return m=ye(f,m,A&4096),Ee(D?rs:di,m,b)}catch(ee){if(typeof B>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Ka}},y:function(f,m,b,A){Ne=A;try{m=m?W(te,m):"",m=ye(f,m);var D=A?Re():0;return Us(m,b,D).fd}catch(ee){if(typeof B>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Ka}},w:function(f,m,b,A){try{if(m=m?W(te,m):"",m=ye(f,m),0>=A)return-28;var D=Sr(m),ee=Math.min(A,Hr(D)),de=Q[b+ee];return kn(D,te,b,A+1),Q[b+ee]=de,ee}catch(lt){if(typeof B>"u"||lt.name!=="ErrnoError")throw lt;return-lt.Ka}},v:function(f){try{return f=f?W(te,f):"",Ct(f),0}catch(m){if(typeof B>"u"||m.name!=="ErrnoError")throw m;return-m.Ka}},G:function(f,m){try{return f=f?W(te,f):"",Ee(di,f,m)}catch(b){if(typeof B>"u"||b.name!=="ErrnoError")throw b;return-b.Ka}},r:function(f,m,b){try{return m=m?W(te,m):"",m=ye(f,m),b===0?It(m):b===512?Ct(m):ve("Invalid flags passed to unlinkat"),0}catch(A){if(typeof B>"u"||A.name!=="ErrnoError")throw A;return-A.Ka}},q:function(f,m,b){try{if(m=m?W(te,m):"",m=ye(f,m,!0),b){var A=fe[b>>2]+4294967296*G[b+4>>2],D=G[b+8>>2];ee=1e3*A+D/1e6,b+=16,A=fe[b>>2]+4294967296*G[b+4>>2],D=G[b+8>>2],de=1e3*A+D/1e6}else var ee=Date.now(),de=ee;f=ee;var lt=Ze(m,{Sa:!0}).node;return lt.Ga.Oa(lt,{timestamp:Math.max(f,de)}),0}catch(jt){if(typeof B>"u"||jt.name!=="ErrnoError")throw jt;return-jt.Ka}},l:function(f,m,b){f=new Date(1e3*Ue(f,m)),G[b>>2]=f.getSeconds(),G[b+4>>2]=f.getMinutes(),G[b+8>>2]=f.getHours(),G[b+12>>2]=f.getDate(),G[b+16>>2]=f.getMonth(),G[b+20>>2]=f.getFullYear()-1900,G[b+24>>2]=f.getDay(),m=f.getFullYear(),G[b+28>>2]=(m%4!==0||m%100===0&&m%400!==0?Bt:wt)[f.getMonth()]+f.getDate()-1|0,G[b+36>>2]=-(60*f.getTimezoneOffset()),m=new Date(f.getFullYear(),6,1).getTimezoneOffset();var A=new Date(f.getFullYear(),0,1).getTimezoneOffset();G[b+32>>2]=(m!=A&&f.getTimezoneOffset()==Math.min(A,m))|0},j:function(f,m,b,A,D,ee,de,lt){D=Ue(D,ee);try{if(isNaN(D))return 61;var jt=Dr(A);if(m&2&&!(b&2)&&(jt.flags&2097155)!==2)throw new H(2);if((jt.flags&2097155)===1)throw new H(2);if(!jt.Ha.bb)throw new H(43);var bt=jt.Ha.bb(jt,f,D,m,b),Qr=bt.Db;return G[de>>2]=bt.ub,fe[lt>>2]=Qr,0}catch(cn){if(typeof B>"u"||cn.name!=="ErrnoError")throw cn;return-cn.Ka}},k:function(f,m,b,A,D,ee,de){ee=Ue(ee,de);try{if(isNaN(ee))return 61;var lt=Dr(D);if(b&2){if((lt.node.mode&61440)!==32768)throw new H(43);if(!(A&2)){var jt=te.slice(f,f+m);lt.Ha.cb&&lt.Ha.cb(lt,jt,ee,m,A)}}}catch(bt){if(typeof B>"u"||bt.name!=="ErrnoError")throw bt;return-bt.Ka}},s:(f,m,b)=>{function A(jt){return(jt=jt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?jt[1]:"GMT"}var D=new Date().getFullYear(),ee=new Date(D,0,1),de=new Date(D,6,1);D=ee.getTimezoneOffset();var lt=de.getTimezoneOffset();fe[f>>2]=60*Math.max(D,lt),G[m>>2]=+(D!=lt),f=A(ee),m=A(de),f=Ft(f),m=Ft(m),lt<D?(fe[b>>2]=f,fe[b+4>>2]=m):(fe[b>>2]=m,fe[b+4>>2]=f)},d:()=>Date.now(),t:()=>2147483648,c:()=>performance.now(),o:f=>{var m=te.length;if(f>>>=0,2147483648<f)return!1;for(var b=1;4>=b;b*=2){var A=m*(1+.2/b);A=Math.min(A,f+100663296);var D=Math;A=Math.max(f,A);e:{D=(D.min.call(D,2147483648,A+(65536-A%65536)%65536)-j.buffer.byteLength+65535)/65536;try{j.grow(D),Pe();var ee=1;break e}catch{}ee=void 0}if(ee)return!0}return!1},A:(f,m)=>{var b=0;return gr().forEach((A,D)=>{var ee=m+b;for(D=fe[f+4*D>>2]=ee,ee=0;ee<A.length;++ee)Q[D++>>0]=A.charCodeAt(ee);Q[D>>0]=0,b+=A.length+1}),0},B:(f,m)=>{var b=gr();fe[f>>2]=b.length;var A=0;return b.forEach(D=>A+=D.length+1),fe[m>>2]=A,0},e:function(f){try{var m=Dr(f);return Ud(m),0}catch(b){if(typeof B>"u"||b.name!=="ErrnoError")throw b;return b.Ka}},p:function(f,m){try{var b=Dr(f);return Q[m>>0]=b.tty?2:Ke(b.mode)?3:(b.mode&61440)===40960?7:4,re[m+2>>1]=0,Be=[0,(me=0,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],G[m+8>>2]=Be[0],G[m+12>>2]=Be[1],Be=[0,(me=0,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],G[m+16>>2]=Be[0],G[m+20>>2]=Be[1],0}catch(A){if(typeof B>"u"||A.name!=="ErrnoError")throw A;return A.Ka}},x:function(f,m,b,A){try{e:{var D=Dr(f);f=m;for(var ee,de=m=0;de<b;de++){var lt=fe[f>>2],jt=fe[f+4>>2];f+=8;var bt=Wu(D,Q,lt,jt,ee);if(0>bt){var Qr=-1;break e}if(m+=bt,bt<jt)break;typeof ee<"u"&&(ee+=bt)}Qr=m}return fe[A>>2]=Qr,0}catch(cn){if(typeof B>"u"||cn.name!=="ErrnoError")throw cn;return cn.Ka}},m:function(f,m,b,A,D){m=Ue(m,b);try{if(isNaN(m))return 61;var ee=Dr(f);return Hp(ee,m,A),Be=[ee.position>>>0,(me=ee.position,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],G[D>>2]=Be[0],G[D+4>>2]=Be[1],ee.hb&&m===0&&A===0&&(ee.hb=null),0}catch(de){if(typeof B>"u"||de.name!=="ErrnoError")throw de;return de.Ka}},D:function(f){var b;try{var m=Dr(f);return(b=m.Ha)!=null&&b.fsync?m.Ha.fsync(m):0}catch(A){if(typeof B>"u"||A.name!=="ErrnoError")throw A;return A.Ka}},u:function(f,m,b,A){try{e:{var D=Dr(f);f=m;for(var ee,de=m=0;de<b;de++){var lt=fe[f>>2],jt=fe[f+4>>2];f+=8;var bt=Qp(D,Q,lt,jt,ee);if(0>bt){var Qr=-1;break e}m+=bt,typeof ee<"u"&&(ee+=bt)}Qr=m}return fe[A>>2]=Qr,0}catch(cn){if(typeof B>"u"||cn.name!=="ErrnoError")throw cn;return cn.Ka}}},tt=function(){var b;function f(A){var D;return tt=A.exports,j=tt.I,Pe(),ns=tt.Aa,ge.unshift(tt.J),ue--,(D=u.monitorRunDependencies)==null||D.call(u,ue),ue==0&&_e&&(A=_e,_e=null,A()),tt}var m={a:F6};if(ue++,(b=u.monitorRunDependencies)==null||b.call(u,ue),u.instantiateWasm)try{return u.instantiateWasm(m,f)}catch(A){return k(`Module.instantiateWasm callback failed with error: ${A}`),!1}return pe(m,function(A){f(A.instance)}),{}}();u._sqlite3_free=f=>(u._sqlite3_free=tt.K)(f),u._sqlite3_value_text=f=>(u._sqlite3_value_text=tt.L)(f);var RS=()=>(RS=tt.M)();u._sqlite3_prepare_v2=(f,m,b,A,D)=>(u._sqlite3_prepare_v2=tt.N)(f,m,b,A,D),u._sqlite3_step=f=>(u._sqlite3_step=tt.O)(f),u._sqlite3_reset=f=>(u._sqlite3_reset=tt.P)(f),u._sqlite3_exec=(f,m,b,A,D)=>(u._sqlite3_exec=tt.Q)(f,m,b,A,D),u._sqlite3_finalize=f=>(u._sqlite3_finalize=tt.R)(f),u._sqlite3_column_name=(f,m)=>(u._sqlite3_column_name=tt.S)(f,m),u._sqlite3_column_text=(f,m)=>(u._sqlite3_column_text=tt.T)(f,m),u._sqlite3_column_type=(f,m)=>(u._sqlite3_column_type=tt.U)(f,m),u._sqlite3_errmsg=f=>(u._sqlite3_errmsg=tt.V)(f),u._sqlite3_clear_bindings=f=>(u._sqlite3_clear_bindings=tt.W)(f),u._sqlite3_value_blob=f=>(u._sqlite3_value_blob=tt.X)(f),u._sqlite3_value_bytes=f=>(u._sqlite3_value_bytes=tt.Y)(f),u._sqlite3_value_double=f=>(u._sqlite3_value_double=tt.Z)(f),u._sqlite3_value_int=f=>(u._sqlite3_value_int=tt._)(f),u._sqlite3_value_type=f=>(u._sqlite3_value_type=tt.$)(f),u._sqlite3_result_blob=(f,m,b,A)=>(u._sqlite3_result_blob=tt.aa)(f,m,b,A),u._sqlite3_result_double=(f,m)=>(u._sqlite3_result_double=tt.ba)(f,m),u._sqlite3_result_error=(f,m,b)=>(u._sqlite3_result_error=tt.ca)(f,m,b),u._sqlite3_result_int=(f,m)=>(u._sqlite3_result_int=tt.da)(f,m),u._sqlite3_result_int64=(f,m,b)=>(u._sqlite3_result_int64=tt.ea)(f,m,b),u._sqlite3_result_null=f=>(u._sqlite3_result_null=tt.fa)(f),u._sqlite3_result_text=(f,m,b,A)=>(u._sqlite3_result_text=tt.ga)(f,m,b,A),u._sqlite3_aggregate_context=(f,m)=>(u._sqlite3_aggregate_context=tt.ha)(f,m),u._sqlite3_column_count=f=>(u._sqlite3_column_count=tt.ia)(f),u._sqlite3_data_count=f=>(u._sqlite3_data_count=tt.ja)(f),u._sqlite3_column_blob=(f,m)=>(u._sqlite3_column_blob=tt.ka)(f,m),u._sqlite3_column_bytes=(f,m)=>(u._sqlite3_column_bytes=tt.la)(f,m),u._sqlite3_column_double=(f,m)=>(u._sqlite3_column_double=tt.ma)(f,m),u._sqlite3_bind_blob=(f,m,b,A,D)=>(u._sqlite3_bind_blob=tt.na)(f,m,b,A,D),u._sqlite3_bind_double=(f,m,b)=>(u._sqlite3_bind_double=tt.oa)(f,m,b),u._sqlite3_bind_int=(f,m,b)=>(u._sqlite3_bind_int=tt.pa)(f,m,b),u._sqlite3_bind_text=(f,m,b,A,D)=>(u._sqlite3_bind_text=tt.qa)(f,m,b,A,D),u._sqlite3_bind_parameter_index=(f,m)=>(u._sqlite3_bind_parameter_index=tt.ra)(f,m),u._sqlite3_sql=f=>(u._sqlite3_sql=tt.sa)(f),u._sqlite3_normalized_sql=f=>(u._sqlite3_normalized_sql=tt.ta)(f),u._sqlite3_changes=f=>(u._sqlite3_changes=tt.ua)(f),u._sqlite3_close_v2=f=>(u._sqlite3_close_v2=tt.va)(f),u._sqlite3_create_function_v2=(f,m,b,A,D,ee,de,lt,jt)=>(u._sqlite3_create_function_v2=tt.wa)(f,m,b,A,D,ee,de,lt,jt),u._sqlite3_open=(f,m)=>(u._sqlite3_open=tt.xa)(f,m);var Jp=u._malloc=f=>(Jp=u._malloc=tt.ya)(f),Yp=u._free=f=>(Yp=u._free=tt.za)(f);u._RegisterExtensionFunctions=f=>(u._RegisterExtensionFunctions=tt.Ba)(f);var OS=(f,m)=>(OS=tt.Ca)(f,m),Hd=()=>(Hd=tt.Da)(),Qd=f=>(Qd=tt.Ea)(f),la=f=>(la=tt.Fa)(f);u.stackAlloc=la,u.stackSave=Hd,u.stackRestore=Qd,u.cwrap=(f,m,b,A)=>{var D=!b||b.every(ee=>ee==="number"||ee==="boolean");return m!=="string"&&D&&!A?u["_"+f]:function(){return zd(f,m,b,arguments)}},u.addFunction=Gp,u.removeFunction=mo,u.UTF8ToString=J,u.ALLOC_NORMAL=qu,u.allocate=oa,u.allocateUTF8OnStack=po;var Kp;_e=function f(){Kp||AS(),Kp||(_e=f)};function AS(){function f(){if(!Kp&&(Kp=!0,u.calledRun=!0,!Z)){if(u.noFSInit||M||(M=!0,C(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?P("stdin",u.stdin):qs("/dev/tty","/dev/stdin"),u.stdout?P("stdout",null,u.stdout):qs("/dev/tty","/dev/stdout"),u.stderr?P("stderr",null,u.stderr):qs("/dev/tty1","/dev/stderr"),Us("/dev/stdin",0),Us("/dev/stdout",1),Us("/dev/stderr",1)),ae=!1,$e(ge),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var m=u.postRun.shift();Ce.unshift(m)}$e(Ce)}}if(!(0<ue)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Ae();$e(X),0<ue||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),f()},1)):f())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return AS(),a}),r)};t.exports=n,t.exports.default=n})(RO);var qU=RO.exports;const UU=hp(qU),zU=t=>`https://sql.js.org/dist/${t}`,VU=zU,Fp=async()=>await UU({locateFile:VU}),OO=(t,e,r)=>{const n=new t.Database(e);return{db:Zx(n,r),sqlite:n}},Zx=(t,e)=>{const r=new WU({database:t});return new Hh({...e,plugins:[new MW],dialect:r})},AO="yuuka",IO=t=>`${t}/book.db`,HU=async(t,e)=>{const r=IO(t),n=e.export(),{data:i,error:s}=await cu.storage.from(AO).upload(r,n,{upsert:!0,contentType:"application/x-sqlite3",cacheControl:"10"});if(s)throw s;return i},QU=async t=>{const e=IO(t),{data:r,error:n}=await cu.storage.from(AO).download(e);if(n)throw n;return await r.arrayBuffer()},GU=async t=>{const e=await Fp(),r=await QU(t);return new e.Database(new Uint8Array(r))},PO={upload:HU,download:GU},JU=async()=>{var n;const{data:t,error:e}=await cu.auth.getSession();if(e)throw e;const r=(n=t.session)==null?void 0:n.user.id;if(!r)throw new Error("user id is null");return r},YU=()=>{const t=O.useContext(Eu),{session:e}=t,[r,n]=O.useState(!1),[i,s]=O.useState(null),[o,a]=O.useState(null),l=async()=>{const u=t._tag!=="api"?t.sqlite:null;if(!u){console.log("sqlite is null");return}try{n(!0),s(null),a(null);const c=await JU(),h=await PO.upload(c,u);s(h),a(null)}catch(c){s(null),a(c)}finally{n(!1)}};return e?y.jsxs("div",{children:[y.jsx("h3",{children:"upload"}),y.jsx(jr,{onClick:l,loading:r,children:"upload"}),i&&y.jsxs("p",{children:[y.jsx("h4",{children:"result"}),y.jsx("pre",{children:JSON.stringify(i,null,2)})]}),o&&y.jsxs("p",{children:[y.jsxs("h4",{children:["error: ",o.name]}),y.jsx("p",{children:o.message}),y.jsx("p",{children:o.stack})]})]}):y.jsx("div",{children:y.jsx("h3",{children:"upload not supported"})})},KU=()=>{const t=O.useContext(Eu),e=t._tag!=="api"?t.sqlite:null,r=t._tag!=="api"?t.db:null;return e?r?y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"book"}),y.jsx("h2",{children:"supabase"}),y.jsx(YU,{}),y.jsxs(nx,{children:[y.jsx(HW,{sqlite:e}),y.jsx(TO,{})]}),y.jsx("h3",{children:"actions"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsx(Hn,{component:Si,to:"/book/tables",children:"tables"})}),y.jsx("li",{children:y.jsx(Hn,{component:Si,to:"/book/query",children:"query"})})]})]}):y.jsx("p",{children:"no db"}):y.jsx("p",{children:"no sqlite"})},ZU=(t,e)=>{const i=Kv("SELECT * FROM sqlite_master WHERE type='table'").compile(t);return L4(i,e)},XU=(t,e,r)=>{const n=t.selectFrom(r).select(s=>s.fn.count("code").as("cnt")).compile(),i=aM(n,e);return(i==null?void 0:i.cnt)??0},ez=()=>{const t=O.useContext(Eu),e=t._tag!=="api"?t.sqlite:null,r=t._tag!=="api"?t.db:null;if(!e)return y.jsx("p",{children:"no sqlite"});if(!r)return y.jsx("p",{children:"no db"});const n=ZU(r,e),i=n.map(o=>{const a=XU(r,e,o.name);return[o.name,a]}),s=new Map(i);return y.jsxs(U,{children:[y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:"name"}),y.jsx(U.Th,{children:"count"}),y.jsx(U.Th,{children:"etc"})]})}),y.jsx(U.Tbody,{children:n.map(o=>y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:o.name}),y.jsx(U.Td,{children:s.get(o.name)??0}),y.jsx(U.Td,{children:y.jsxs("details",{children:[y.jsx("summary",{children:"sql"}),o.sql??""]})})]},o.name))})]})},tz=()=>y.jsxs(Fv,{children:[y.jsx(sn,{index:!0,element:y.jsx(KU,{})}),y.jsx(sn,{path:"/query",element:y.jsx(zW,{})}),y.jsx(sn,{path:"/tables",element:y.jsx(ez,{})})]}),rz=async(t,e,r)=>{const n=`${t}${e}`;return fetch(n,r)},nz=async(t,e,r)=>await t.request(e,r),iz=async(t,e,r)=>{switch(t._tag){case"api":return await rz(t.endpoint,e,r);default:return await nz(t.app,e,r)}},sz=async(t,e,r)=>await iz(t,e,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),oz="http://localhost:3000",$O=t=>async(...e)=>{const[r,n]=e,i=`${oz}${r}`;return await(await t(i,{method:"GET"})).json()},az=()=>$O(fetch),lz=t=>$O(async(r,n)=>await t.request(r,n));var KN=function(t){var e=t.as,r=t.errors,n=t.name,i=t.message,s=t.render,o=function(p,g){if(p==null)return{};var _,S,E={},w=Object.keys(p);for(S=0;S<w.length;S++)g.indexOf(_=w[S])>=0||(E[_]=p[_]);return E}(t,["as","errors","name","message","render"]),a=xB(),l=Qe(r||a.formState.errors,n);if(!l)return null;var u=l.message,c=l.types,h=Object.assign({},o,{children:u||i});return O.isValidElement(e)?O.cloneElement(e,h):s?s({message:u||i,messages:c}):O.createElement(e||O.Fragment,h)},kd=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},Ks=[],Wi=[],uz=typeof Uint8Array<"u"?Uint8Array:Array,Xx=!1;function jO(){Xx=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)Ks[e]=t[e],Wi[t.charCodeAt(e)]=e;Wi[45]=62,Wi[95]=63}function cz(t){Xx||jO();var e,r,n,i,s,o,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=t[a-2]==="="?2:t[a-1]==="="?1:0,o=new uz(a*3/4-s),n=s>0?a-4:a;var l=0;for(e=0,r=0;e<n;e+=4,r+=3)i=Wi[t.charCodeAt(e)]<<18|Wi[t.charCodeAt(e+1)]<<12|Wi[t.charCodeAt(e+2)]<<6|Wi[t.charCodeAt(e+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=i&255;return s===2?(i=Wi[t.charCodeAt(e)]<<2|Wi[t.charCodeAt(e+1)]>>4,o[l++]=i&255):s===1&&(i=Wi[t.charCodeAt(e)]<<10|Wi[t.charCodeAt(e+1)]<<4|Wi[t.charCodeAt(e+2)]>>2,o[l++]=i>>8&255,o[l++]=i&255),o}function dz(t){return Ks[t>>18&63]+Ks[t>>12&63]+Ks[t>>6&63]+Ks[t&63]}function fz(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(dz(n));return i.join("")}function ZN(t){Xx||jO();for(var e,r=t.length,n=r%3,i="",s=[],o=16383,a=0,l=r-n;a<l;a+=o)s.push(fz(t,a,a+o>l?l:a+o));return n===1?(e=t[r-1],i+=Ks[e>>2],i+=Ks[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=Ks[e>>10],i+=Ks[e>>4&63],i+=Ks[e<<2&63],i+="="),s.push(i),s.join("")}function e0(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,g=t[e+h];for(h+=p,s=g&(1<<-c)-1,g>>=-c,c+=a;c>0;s=s*256+t[e+h],h+=p,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+t[e+h],h+=p,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(g?-1:1)*o*Math.pow(2,s-n)}function LO(t,e,r,n,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,h=c>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:s-1,_=n?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+g]=a&255,g+=_,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+g]=o&255,g+=_,o/=256,u-=8);t[r+g-_]|=S*128}var hz={}.toString,DO=Array.isArray||function(t){return hz.call(t)=="[object Array]"},pz=50;ce.TYPED_ARRAY_SUPPORT=kd.TYPED_ARRAY_SUPPORT!==void 0?kd.TYPED_ARRAY_SUPPORT:!0;Lg();function Lg(){return ce.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Lo(t,e){if(Lg()<e)throw new RangeError("Invalid typed array length");return ce.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=ce.prototype):(t===null&&(t=new ce(e)),t.length=e),t}function ce(t,e,r){if(!ce.TYPED_ARRAY_SUPPORT&&!(this instanceof ce))return new ce(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return eS(this,t)}return MO(this,t,e,r)}ce.poolSize=8192;ce._augment=function(t){return t.__proto__=ce.prototype,t};function MO(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?gz(t,e,r,n):typeof e=="string"?yz(t,e,r):vz(t,e)}ce.from=function(t,e,r){return MO(null,t,e,r)};ce.TYPED_ARRAY_SUPPORT&&(ce.prototype.__proto__=Uint8Array.prototype,ce.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&ce[Symbol.species]);function BO(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function mz(t,e,r,n){return BO(e),e<=0?Lo(t,e):r!==void 0?typeof n=="string"?Lo(t,e).fill(r,n):Lo(t,e).fill(r):Lo(t,e)}ce.alloc=function(t,e,r){return mz(null,t,e,r)};function eS(t,e){if(BO(e),t=Lo(t,e<0?0:tS(e)|0),!ce.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}ce.allocUnsafe=function(t){return eS(null,t)};ce.allocUnsafeSlow=function(t){return eS(null,t)};function yz(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!ce.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=FO(e,r)|0;t=Lo(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function Bb(t,e){var r=e.length<0?0:tS(e.length)|0;t=Lo(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function gz(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),ce.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=ce.prototype):t=Bb(t,e),t}function vz(t,e){if(uo(e)){var r=tS(e.length)|0;return t=Lo(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Dz(e.length)?Lo(t,0):Bb(t,e);if(e.type==="Buffer"&&DO(e.data))return Bb(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function tS(t){if(t>=Lg())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Lg().toString(16)+" bytes");return t|0}ce.isBuffer=Ba;function uo(t){return!!(t!=null&&t._isBuffer)}ce.compare=function(e,r){if(!uo(e)||!uo(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};ce.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ce.concat=function(e,r){if(!DO(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ce.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=ce.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!uo(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function FO(t,e){if(uo(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Dg(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return QO(t).length;default:if(n)return Dg(t).length;e=(""+e).toLowerCase(),n=!0}}ce.byteLength=FO;function wz(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Rz(this,e,r);case"utf8":case"utf-8":return UO(this,e,r);case"ascii":return Cz(this,e,r);case"latin1":case"binary":return Tz(this,e,r);case"base64":return Nz(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Oz(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ce.prototype._isBuffer=!0;function zl(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}ce.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)zl(this,r,r+1);return this};ce.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)zl(this,r,r+3),zl(this,r+1,r+2);return this};ce.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)zl(this,r,r+7),zl(this,r+1,r+6),zl(this,r+2,r+5),zl(this,r+3,r+4);return this};ce.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?UO(this,0,e):wz.apply(this,arguments)};ce.prototype.equals=function(e){if(!uo(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ce.compare(this,e)===0};ce.prototype.inspect=function(){var e="",r=pz;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};ce.prototype.compare=function(e,r,n,i,s){if(!uo(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=n-r,l=Math.min(o,a),u=this.slice(i,s),c=e.slice(r,n),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0};function WO(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ce.from(e,n)),uo(e))return e.length===0?-1:XN(t,e,r,n,i);if(typeof e=="number")return e=e&255,ce.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):XN(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function XN(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function l(g,_){return s===1?g[_]:g.readUInt16BE(_*s)}var u;if(i){var c=-1;for(u=r;u<o;u++)if(l(t,u)===l(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===a)return c*s}else c!==-1&&(u-=u-c),c=-1}else for(r+a>o&&(r=o-a),u=r;u>=0;u--){for(var h=!0,p=0;p<a;p++)if(l(t,u+p)!==l(e,p)){h=!1;break}if(h)return u}return-1}ce.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ce.prototype.indexOf=function(e,r,n){return WO(this,e,r,n,!0)};ce.prototype.lastIndexOf=function(e,r,n){return WO(this,e,r,n,!1)};function bz(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(o*2,2),16);if(isNaN(a))return o;t[r+o]=a}return o}function _z(t,e,r,n){return n0(Dg(e,t.length-r),t,r,n)}function qO(t,e,r,n){return n0(jz(e),t,r,n)}function xz(t,e,r,n){return qO(t,e,r,n)}function Sz(t,e,r,n){return n0(QO(e),t,r,n)}function Ez(t,e,r,n){return n0(Lz(e,t.length-r),t,r,n)}ce.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return bz(this,e,r,n);case"utf8":case"utf-8":return _z(this,e,r,n);case"ascii":return qO(this,e,r,n);case"latin1":case"binary":return xz(this,e,r,n);case"base64":return Sz(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ez(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};ce.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Nz(t,e,r){return e===0&&r===t.length?ZN(t):ZN(t.slice(e,r))}function UO(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var l,u,c,h;switch(a){case 1:s<128&&(o=s);break;case 2:l=t[i+1],(l&192)===128&&(h=(s&31)<<6|l&63,h>127&&(o=h));break;case 3:l=t[i+1],u=t[i+2],(l&192)===128&&(u&192)===128&&(h=(s&15)<<12|(l&63)<<6|u&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],(l&192)===128&&(u&192)===128&&(c&192)===128&&(h=(s&15)<<18|(l&63)<<12|(u&63)<<6|c&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return kz(n)}var ek=4096;function kz(t){var e=t.length;if(e<=ek)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=ek));return r}function Cz(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Tz(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Rz(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=$z(t[s]);return i}function Oz(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}ce.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(ce.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=ce.prototype;else{var s=r-e;i=new ce(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i};function pn(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ce.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||pn(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return i};ce.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||pn(e,r,this.length);for(var i=this[e+--r],s=1;r>0&&(s*=256);)i+=this[e+--r]*s;return i};ce.prototype.readUInt8=function(e,r){return r||pn(e,1,this.length),this[e]};ce.prototype.readUInt16LE=function(e,r){return r||pn(e,2,this.length),this[e]|this[e+1]<<8};ce.prototype.readUInt16BE=function(e,r){return r||pn(e,2,this.length),this[e]<<8|this[e+1]};ce.prototype.readUInt32LE=function(e,r){return r||pn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ce.prototype.readUInt32BE=function(e,r){return r||pn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ce.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||pn(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};ce.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||pn(e,r,this.length);for(var i=r,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};ce.prototype.readInt8=function(e,r){return r||pn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ce.prototype.readInt16LE=function(e,r){r||pn(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ce.prototype.readInt16BE=function(e,r){r||pn(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ce.prototype.readInt32LE=function(e,r){return r||pn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ce.prototype.readInt32BE=function(e,r){return r||pn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ce.prototype.readFloatLE=function(e,r){return r||pn(e,4,this.length),e0(this,e,!0,23,4)};ce.prototype.readFloatBE=function(e,r){return r||pn(e,4,this.length),e0(this,e,!1,23,4)};ce.prototype.readDoubleLE=function(e,r){return r||pn(e,8,this.length),e0(this,e,!0,52,8)};ce.prototype.readDoubleBE=function(e,r){return r||pn(e,8,this.length),e0(this,e,!1,52,8)};function li(t,e,r,n,i,s){if(!uo(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ce.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;li(this,e,r,n,s,0)}var o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};ce.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;li(this,e,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};ce.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,1,255,0),ce.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};function t0(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}ce.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,2,65535,0),ce.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):t0(this,e,r,!0),r+2};ce.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,2,65535,0),ce.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):t0(this,e,r,!1),r+2};function r0(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>(n?i:3-i)*8&255}ce.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,4,4294967295,0),ce.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):r0(this,e,r,!0),r+4};ce.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,4,4294967295,0),ce.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):r0(this,e,r,!1),r+4};ce.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var s=Math.pow(2,8*n-1);li(this,e,r,n,s-1,-s)}var o=0,a=1,l=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&l===0&&this[r+o-1]!==0&&(l=1),this[r+o]=(e/a>>0)-l&255;return r+n};ce.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var s=Math.pow(2,8*n-1);li(this,e,r,n,s-1,-s)}var o=n-1,a=1,l=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&l===0&&this[r+o+1]!==0&&(l=1),this[r+o]=(e/a>>0)-l&255;return r+n};ce.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,1,127,-128),ce.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};ce.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,2,32767,-32768),ce.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):t0(this,e,r,!0),r+2};ce.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,2,32767,-32768),ce.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):t0(this,e,r,!1),r+2};ce.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,4,2147483647,-2147483648),ce.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):r0(this,e,r,!0),r+4};ce.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||li(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),ce.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):r0(this,e,r,!1),r+4};function zO(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function VO(t,e,r,n,i){return i||zO(t,e,r,4),LO(t,e,r,n,23,4),r+4}ce.prototype.writeFloatLE=function(e,r,n){return VO(this,e,r,!0,n)};ce.prototype.writeFloatBE=function(e,r,n){return VO(this,e,r,!1,n)};function HO(t,e,r,n,i){return i||zO(t,e,r,8),LO(t,e,r,n,52,8),r+8}ce.prototype.writeDoubleLE=function(e,r,n){return HO(this,e,r,!0,n)};ce.prototype.writeDoubleBE=function(e,r,n){return HO(this,e,r,!1,n)};ce.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n,o;if(this===e&&n<r&&r<i)for(o=s-1;o>=0;--o)e[o+r]=this[o+n];else if(s<1e3||!ce.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),r);return s};ce.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ce.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var a=uo(e)?e:Dg(new ce(e,i).toString()),l=a.length;for(o=0;o<n-r;++o)this[o+r]=a[o%l]}return this};var Az=/[^+\/0-9A-Za-z-_]/g;function Iz(t){if(t=Pz(t).replace(Az,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Pz(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function $z(t){return t<16?"0"+t.toString(16):t.toString(16)}function Dg(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function jz(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Lz(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function QO(t){return cz(Iz(t))}function n0(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Dz(t){return t!==t}function Ba(t){return t!=null&&(!!t._isBuffer||GO(t)||Mz(t))}function GO(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Mz(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&GO(t.slice(0,0))}var Bz;function el(){}el.prototype=Object.create(null);function $t(){$t.init.call(this)}$t.EventEmitter=$t;$t.usingDomains=!1;$t.prototype.domain=void 0;$t.prototype._events=void 0;$t.prototype._maxListeners=void 0;$t.defaultMaxListeners=10;$t.init=function(){this.domain=null,$t.usingDomains&&Bz.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new el,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};$t.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};function JO(t){return t._maxListeners===void 0?$t.defaultMaxListeners:t._maxListeners}$t.prototype.getMaxListeners=function(){return JO(this)};function Fz(t,e,r){if(e)t.call(r);else for(var n=t.length,i=Wp(t,n),s=0;s<n;++s)i[s].call(r)}function Wz(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,s=Wp(t,i),o=0;o<i;++o)s[o].call(r,n)}function qz(t,e,r,n,i){if(e)t.call(r,n,i);else for(var s=t.length,o=Wp(t,s),a=0;a<s;++a)o[a].call(r,n,i)}function Uz(t,e,r,n,i,s){if(e)t.call(r,n,i,s);else for(var o=t.length,a=Wp(t,o),l=0;l<o;++l)a[l].call(r,n,i,s)}function zz(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,s=Wp(t,i),o=0;o<i;++o)s[o].apply(r,n)}$t.prototype.emit=function(e){var r,n,i,s,o,a,l,u=e==="error";if(a=this._events,a)u=u&&a.error==null;else if(!u)return!1;if(l=this.domain,u){if(r=arguments[1],l)r||(r=new Error('Uncaught, unspecified "error" event')),r.domainEmitter=this,r.domain=l,r.domainThrown=!1,l.emit("error",r);else{if(r instanceof Error)throw r;var c=new Error('Uncaught, unspecified "error" event. ('+r+")");throw c.context=r,c}return!1}if(n=a[e],!n)return!1;var h=typeof n=="function";switch(i=arguments.length,i){case 1:Fz(n,h,this);break;case 2:Wz(n,h,this,arguments[1]);break;case 3:qz(n,h,this,arguments[1],arguments[2]);break;case 4:Uz(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(i-1),o=1;o<i;o++)s[o-1]=arguments[o];zz(n,h,this,s)}return!0};function YO(t,e,r,n){var i,s,o;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(s=t._events,s?(s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]):(s=t._events=new el,t._eventsCount=0),!o)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=JO(t),i&&i>0&&o.length>i)){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Vz(a)}return t}function Vz(t){typeof console.warn=="function"?console.warn(t):console.log(t)}$t.prototype.addListener=function(e,r){return YO(this,e,r,!1)};$t.prototype.on=$t.prototype.addListener;$t.prototype.prependListener=function(e,r){return YO(this,e,r,!0)};function KO(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}$t.prototype.once=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,KO(this,e,r)),this};$t.prototype.prependOnceListener=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,KO(this,e,r)),this};$t.prototype.removeListener=function(e,r){var n,i,s,o,a;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(n=i[e],!n)return this;if(n===r||n.listener&&n.listener===r)--this._eventsCount===0?this._events=new el:(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length;o-- >0;)if(n[o]===r||n[o].listener&&n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount===0)return this._events=new el,this;delete i[e]}else Hz(n,s);i.removeListener&&this.emit("removeListener",e,a||r)}return this};$t.prototype.removeAllListeners=function(e){var r,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new el,this._eventsCount=0):n[e]&&(--this._eventsCount===0?this._events=new el:delete n[e]),this;if(arguments.length===0){for(var i=Object.keys(n),s=0,o;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new el,this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r)do this.removeListener(e,r[r.length-1]);while(r[0]);return this};$t.prototype.listeners=function(e){var r,n,i=this._events;return i?(r=i[e],r?typeof r=="function"?n=[r.listener||r]:n=Qz(r):n=[]):n=[],n};$t.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ZO.call(t,e)};$t.prototype.listenerCount=ZO;function ZO(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}$t.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function Hz(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}function Wp(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}function Qz(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function XO(){throw new Error("setTimeout has not been defined")}function e6(){throw new Error("clearTimeout has not been defined")}var ha=XO,pa=e6;typeof kd.setTimeout=="function"&&(ha=setTimeout);typeof kd.clearTimeout=="function"&&(pa=clearTimeout);function t6(t){if(ha===setTimeout)return setTimeout(t,0);if((ha===XO||!ha)&&setTimeout)return ha=setTimeout,setTimeout(t,0);try{return ha(t,0)}catch{try{return ha.call(null,t,0)}catch{return ha.call(this,t,0)}}}function Gz(t){if(pa===clearTimeout)return clearTimeout(t);if((pa===e6||!pa)&&clearTimeout)return pa=clearTimeout,clearTimeout(t);try{return pa(t)}catch{try{return pa.call(null,t)}catch{return pa.call(this,t)}}}var Do=[],Dc=!1,Vl,uy=-1;function Jz(){!Dc||!Vl||(Dc=!1,Vl.length?Do=Vl.concat(Do):uy=-1,Do.length&&r6())}function r6(){if(!Dc){var t=t6(Jz);Dc=!0;for(var e=Do.length;e;){for(Vl=Do,Do=[];++uy<e;)Vl&&Vl[uy].run();uy=-1,e=Do.length}Vl=null,Dc=!1,Gz(t)}}function Pi(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Do.push(new n6(t,e)),Do.length===1&&!Dc&&t6(r6)}function n6(t,e){this.fun=t,this.array=e}n6.prototype.run=function(){this.fun.apply(null,this.array)};var Yz="browser",Kz="browser",Zz=!0,Xz={},eV=[],tV="",rV={},nV={},iV={};function Lu(){}var sV=Lu,oV=Lu,aV=Lu,lV=Lu,uV=Lu,cV=Lu,dV=Lu;function fV(t){throw new Error("process.binding is not supported")}function hV(){return"/"}function pV(t){throw new Error("process.chdir is not supported")}function mV(){return 0}var ic=kd.performance||{},yV=ic.now||ic.mozNow||ic.msNow||ic.oNow||ic.webkitNow||function(){return new Date().getTime()};function gV(t){var e=yV.call(ic)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}var vV=new Date;function wV(){var t=new Date,e=t-vV;return e/1e3}var cy={nextTick:Pi,title:Yz,browser:Zz,env:Xz,argv:eV,version:tV,versions:rV,on:sV,addListener:oV,once:aV,off:lV,removeListener:uV,removeAllListeners:cV,emit:dV,binding:fV,cwd:hV,chdir:pV,umask:mV,hrtime:gV,platform:Kz,release:nV,config:iV,uptime:wV},Fb;typeof Object.create=="function"?Fb=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:Fb=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};var Du=Fb,bV=/%[sdj%]/g;function rS(t){if(!s0(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(zo(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(bV,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),o=n[r];r<i;o=n[++r])i0(o)||!qd(o)?s+=" "+o:s+=" "+zo(o);return s}function nS(t,e){if(Mo(kd.process))return function(){return nS(t,e).apply(this,arguments)};if(cy.noDeprecation===!0)return t;var r=!1;function n(){if(!r){if(cy.throwDeprecation)throw new Error(e);cy.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n}var Am={},Bw;function i6(t){if(Mo(Bw)&&(Bw=cy.env.NODE_DEBUG||""),t=t.toUpperCase(),!Am[t])if(new RegExp("\\b"+t+"\\b","i").test(Bw)){var e=0;Am[t]=function(){var r=rS.apply(null,arguments);console.error("%s %d: %s",t,e,r)}}else Am[t]=function(){};return Am[t]}function zo(t,e){var r={seen:[],stylize:xV};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),iS(e)?r.showHidden=e:e&&a6(r,e),Mo(r.showHidden)&&(r.showHidden=!1),Mo(r.depth)&&(r.depth=2),Mo(r.colors)&&(r.colors=!1),Mo(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=_V),Mg(r,t,r.depth)}zo.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};zo.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function _V(t,e){var r=zo.styles[e];return r?"\x1B["+zo.colors[r][0]+"m"+t+"\x1B["+zo.colors[r][1]+"m":t}function xV(t,e){return t}function SV(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function Mg(t,e,r){if(t.customInspect&&e&&hy(e.inspect)&&e.inspect!==zo&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return s0(n)||(n=Mg(t,n,r)),n}var i=EV(t,e);if(i)return i;var s=Object.keys(e),o=SV(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),fy(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Fw(e);if(s.length===0){if(hy(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(dy(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(qb(e))return t.stylize(Date.prototype.toString.call(e),"date");if(fy(e))return Fw(e)}var l="",u=!1,c=["{","}"];if(s6(e)&&(u=!0,c=["[","]"]),hy(e)){var h=e.name?": "+e.name:"";l=" [Function"+h+"]"}if(dy(e)&&(l=" "+RegExp.prototype.toString.call(e)),qb(e)&&(l=" "+Date.prototype.toUTCString.call(e)),fy(e)&&(l=" "+Fw(e)),s.length===0&&(!u||e.length==0))return c[0]+l+c[1];if(r<0)return dy(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var p;return u?p=NV(t,e,r,o,s):p=s.map(function(g){return Wb(t,e,r,o,g,u)}),t.seen.pop(),kV(p,l,c)}function EV(t,e){if(Mo(e))return t.stylize("undefined","undefined");if(s0(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(o6(e))return t.stylize(""+e,"number");if(iS(e))return t.stylize(""+e,"boolean");if(i0(e))return t.stylize("null","null")}function Fw(t){return"["+Error.prototype.toString.call(t)+"]"}function NV(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)l6(e,String(o))?s.push(Wb(t,e,r,n,String(o),!0)):s.push("");return i.forEach(function(l){l.match(/^\d+$/)||s.push(Wb(t,e,r,n,l,!0))}),s}function Wb(t,e,r,n,i,s){var o,a,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),l6(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(i0(r)?a=Mg(t,l.value,null):a=Mg(t,l.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=t.stylize("[Circular]","special")),Mo(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function kV(t,e,r){var n=t.reduce(function(i,s){return s.indexOf(`
`)>=0,i+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function s6(t){return Array.isArray(t)}function iS(t){return typeof t=="boolean"}function i0(t){return t===null}function CV(t){return t==null}function o6(t){return typeof t=="number"}function s0(t){return typeof t=="string"}function TV(t){return typeof t=="symbol"}function Mo(t){return t===void 0}function dy(t){return qd(t)&&sS(t)==="[object RegExp]"}function qd(t){return typeof t=="object"&&t!==null}function qb(t){return qd(t)&&sS(t)==="[object Date]"}function fy(t){return qd(t)&&(sS(t)==="[object Error]"||t instanceof Error)}function hy(t){return typeof t=="function"}function RV(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function OV(t){return Ba(t)}function sS(t){return Object.prototype.toString.call(t)}function Ww(t){return t<10?"0"+t.toString(10):t.toString(10)}var AV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function IV(){var t=new Date,e=[Ww(t.getHours()),Ww(t.getMinutes()),Ww(t.getSeconds())].join(":");return[t.getDate(),AV[t.getMonth()],e].join(" ")}function PV(){console.log("%s - %s",IV(),rS.apply(null,arguments))}function a6(t,e){if(!e||!qd(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function l6(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var u6={inherits:Du,_extend:a6,log:PV,isBuffer:OV,isPrimitive:RV,isFunction:hy,isError:fy,isDate:qb,isObject:qd,isRegExp:dy,isUndefined:Mo,isSymbol:TV,isString:s0,isNumber:o6,isNullOrUndefined:CV,isNull:i0,isBoolean:iS,isArray:s6,inspect:zo,deprecate:nS,format:rS,debuglog:i6};function Mu(){this.head=null,this.tail=null,this.length=0}Mu.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length};Mu.prototype.unshift=function(t){var e={data:t,next:this.head};this.length===0&&(this.tail=e),this.head=e,++this.length};Mu.prototype.shift=function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}};Mu.prototype.clear=function(){this.head=this.tail=null,this.length=0};Mu.prototype.join=function(t){if(this.length===0)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r};Mu.prototype.concat=function(t){if(this.length===0)return ce.alloc(0);if(this.length===1)return this.head.data;for(var e=ce.allocUnsafe(t>>>0),r=this.head,n=0;r;)r.data.copy(e,n),n+=r.data.length,r=r.next;return e};var $V=ce.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function jV(t){if(t&&!$V(t))throw new Error("Unknown encoding: "+t)}function qp(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),jV(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=DV;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=MV;break;default:this.write=LV;return}this.charBuffer=new ce(6),this.charReceived=0,this.charLength=0}qp.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";t=t.slice(r,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize,e="";continue}if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),e+=t.toString(this.encoding,0,n);var n=e.length-1,i=e.charCodeAt(n);if(i>=55296&&i<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,n)}return e};qp.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(e==1&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e};qp.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e};function LV(t){return t.toString(this.encoding)}function DV(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function MV(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}Lr.ReadableState=c6;var Jt=i6("stream");Du(Lr,$t);function BV(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function FV(t,e){return t.listeners(e).length}function c6(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof Yi&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Mu,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new qp(t.encoding),this.encoding=t.encoding)}function Lr(t){if(!(this instanceof Lr))return new Lr(t);this._readableState=new c6(t,this),this.readable=!0,t&&typeof t.read=="function"&&(this._read=t.read),$t.call(this)}Lr.prototype.push=function(t,e){var r=this._readableState;return!r.objectMode&&typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=ce.from(t,e),e="")),d6(this,r,t,e,!1)};Lr.prototype.unshift=function(t){var e=this._readableState;return d6(this,e,t,"",!0)};Lr.prototype.isPaused=function(){return this._readableState.flowing===!1};function d6(t,e,r,n,i){var s=UV(e,r);if(s)t.emit("error",s);else if(r===null)e.reading=!1,zV(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!i){var o=new Error("stream.push() after EOF");t.emit("error",o)}else if(e.endEmitted&&i){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var l;e.decoder&&!i&&!n&&(r=e.decoder.write(r),l=!e.objectMode&&r.length===0),i||(e.reading=!1),l||(e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&o0(t))),VV(t,e)}else i||(e.reading=!1);return WV(e)}function WV(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Lr.prototype.setEncoding=function(t){return this._readableState.decoder=new qp(t),this._readableState.encoding=t,this};var tk=8388608;function qV(t){return t>=tk?t=tk:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function rk(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=qV(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Lr.prototype.read=function(t){Jt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Jt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?qw(this):o0(this),null;if(t=rk(t,e),t===0&&e.ended)return e.length===0&&qw(this),null;var n=e.needReadable;Jt("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Jt("length less than watermark",n)),e.ended||e.reading?(n=!1,Jt("reading or ended",n)):n&&(Jt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=rk(r,e)));var i;return t>0?i=f6(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&qw(this)),i!==null&&this.emit("data",i),i};function UV(t,e){var r=null;return!Ba(e)&&typeof e!="string"&&e!==null&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function zV(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,o0(t)}}function o0(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Jt("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Pi(nk,t):nk(t))}function nk(t){Jt("emit readable"),t.emit("readable"),oS(t)}function VV(t,e){e.readingMore||(e.readingMore=!0,Pi(HV,t,e))}function HV(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Jt("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Lr.prototype._read=function(t){this.emit("error",new Error("not implemented"))};Lr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Jt("pipe count=%d opts=%j",n.pipesCount,e);var i=!e||e.end!==!1,s=i?a:c;n.endEmitted?Pi(s):r.once("end",s),t.on("unpipe",o);function o(w){Jt("onunpipe"),w===r&&c()}function a(){Jt("onend"),t.end()}var l=QV(r);t.on("drain",l);var u=!1;function c(){Jt("cleanup"),t.removeListener("close",_),t.removeListener("finish",S),t.removeListener("drain",l),t.removeListener("error",g),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",c),r.removeListener("data",p),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var h=!1;r.on("data",p);function p(w){Jt("ondata"),h=!1;var v=t.write(w);v===!1&&!h&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&h6(n.pipes,t)!==-1)&&!u&&(Jt("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function g(w){Jt("onerror",w),E(),t.removeListener("error",g),FV(t,"error")===0&&t.emit("error",w)}BV(t,"error",g);function _(){t.removeListener("finish",S),E()}t.once("close",_);function S(){Jt("onfinish"),t.removeListener("close",_),E()}t.once("finish",S);function E(){Jt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Jt("pipe resume"),r.resume()),t};function QV(t){return function(){var e=t._readableState;Jt("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&t.listeners("data").length&&(e.flowing=!0,oS(t))}}Lr.prototype.unpipe=function(t){var e=this._readableState;if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var s=h6(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)};Lr.prototype.on=function(t,e){var r=$t.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&o0(this):Pi(GV,this))}return r};Lr.prototype.addListener=Lr.prototype.on;function GV(t){Jt("readable nexttick read 0"),t.read(0)}Lr.prototype.resume=function(){var t=this._readableState;return t.flowing||(Jt("resume"),t.flowing=!0,JV(this,t)),this};function JV(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Pi(YV,t,e))}function YV(t,e){e.reading||(Jt("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),oS(t),e.flowing&&!e.reading&&t.read(0)}Lr.prototype.pause=function(){return Jt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Jt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function oS(t){var e=t._readableState;for(Jt("flow",e.flowing);e.flowing&&t.read()!==null;);}Lr.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;t.on("end",function(){if(Jt("wrapped end"),e.decoder&&!e.ended){var o=e.decoder.end();o&&o.length&&n.push(o)}n.push(null)}),t.on("data",function(o){if(Jt("wrapped data"),e.decoder&&(o=e.decoder.write(o)),!(e.objectMode&&o==null)&&!(!e.objectMode&&(!o||!o.length))){var a=n.push(o);a||(r=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));var s=["error","close","destroy","pause","resume"];return tH(s,function(o){t.on(o,n.emit.bind(n,o))}),n._read=function(o){Jt("wrapped _read",o),r&&(r=!1,t.resume())},n};Lr._fromList=f6;function f6(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=KV(t,e.buffer,e.decoder),r}function KV(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?ZV(t,e):XV(t,e),n}function ZV(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function XV(t,e){var r=ce.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function qw(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Pi(eH,e,t))}function eH(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function tH(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}function h6(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}Ln.WritableState=aS;Du(Ln,$t);function rH(){}function nH(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function aS(t,e){Object.defineProperty(this,"buffer",{get:nS(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof Yi&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){cH(e,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new g6(this)}aS.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};function Ln(t){if(!(this instanceof Ln)&&!(this instanceof Yi))return new Ln(t);this._writableState=new aS(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev)),$t.call(this)}Ln.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function iH(t,e){var r=new Error("write after end");t.emit("error",r),Pi(e,r)}function sH(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):!ce.isBuffer(r)&&typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),Pi(n,s),i=!1),i}Ln.prototype.write=function(t,e,r){var n=this._writableState,i=!1;return typeof e=="function"&&(r=e,e=null),ce.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=rH),n.ended?iH(this,r):sH(this,n,t,r)&&(n.pendingcb++,i=aH(this,n,t,e,r)),i};Ln.prototype.cork=function(){var t=this._writableState;t.corked++};Ln.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&p6(this,t))};Ln.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function oH(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=ce.from(e,r)),e}function aH(t,e,r,n,i){r=oH(e,r,n),ce.isBuffer(r)&&(n="buffer");var s=e.objectMode?1:r.length;e.length+=s;var o=e.length<e.highWaterMark;if(o||(e.needDrain=!0),e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new nH(r,n,i),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Ub(t,e,!1,s,r,n,i);return o}function Ub(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function lH(t,e,r,n,i){--e.pendingcb,r?Pi(i,n):i(n),t._writableState.errorEmitted=!0,t.emit("error",n)}function uH(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function cH(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(uH(r),e)lH(t,r,n,e,i);else{var s=m6(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&p6(t,r),n?Pi(ik,t,r,s,i):ik(t,r,s,i)}}function ik(t,e,r,n){r||dH(t,e),e.pendingcb--,n(),y6(t,e)}function dH(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function p6(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;Ub(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new g6(e)}else{for(;r;){var a=r.chunk,l=r.encoding,u=r.callback,c=e.objectMode?1:a.length;if(Ub(t,e,!1,c,a,l,u),r=r.next,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}Ln.prototype._write=function(t,e,r){r(new Error("not implemented"))};Ln.prototype._writev=null;Ln.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&fH(this,n,r)};function m6(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function sk(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function y6(t,e){var r=m6(e);return r&&(e.pendingcb===0?(sk(t,e),e.finished=!0,t.emit("finish")):sk(t,e)),r}function fH(t,e,r){e.ending=!0,y6(t,e),r&&(e.finished?Pi(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function g6(t){var e=this;this.next=null,this.entry=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}Du(Yi,Lr);var ok=Object.keys(Ln.prototype);for(var Uw=0;Uw<ok.length;Uw++){var zw=ok[Uw];Yi.prototype[zw]||(Yi.prototype[zw]=Ln.prototype[zw])}function Yi(t){if(!(this instanceof Yi))return new Yi(t);Lr.call(this,t),Ln.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",hH)}function hH(){this.allowHalfOpen||this._writableState.ended||Pi(pH,this)}function pH(t){t.end()}Du(co,Yi);function mH(t){this.afterTransform=function(e,r){return yH(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function yH(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,r!=null&&t.push(r),i(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}function co(t){if(!(this instanceof co))return new co(t);Yi.call(this,t),this._transformState=new mH(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r){ak(e,r)}):ak(e)})}co.prototype.push=function(t,e){return this._transformState.needTransform=!1,Yi.prototype.push.call(this,t,e)};co.prototype._transform=function(t,e,r){throw new Error("Not implemented")};co.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};co.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};function ak(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}Du(Gh,co);function Gh(t){if(!(this instanceof Gh))return new Gh(t);co.call(this,t)}Gh.prototype._transform=function(t,e,r){r(null,t)};Du(Ri,$t);Ri.Readable=Lr;Ri.Writable=Ln;Ri.Duplex=Yi;Ri.Transform=co;Ri.PassThrough=Gh;Ri.Stream=Ri;function Ri(){$t.call(this)}Ri.prototype.pipe=function(t,e){var r=this;function n(c){t.writable&&t.write(c)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(c){if(u(),$t.listenerCount(this,"error")===0)throw c}r.on("error",l),t.on("error",l);function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t};const gH=t=>({start_time:t.duration?Date.now():null,fixed_size_buffer:"",count_written:0,count_created:0}),Im=function(t={}){return t.seed?t.seed=t.seed*Math.PI*100%100/100:Math.random()},lk={ascii:function({options:t}){const e=[],r=Math.ceil(Im(t)*t.maxWordLength);for(let n=0;n<r;n++){const i=Math.floor(Im(t)*32);e.push(String.fromCharCode(i+(i<16?65:81)))}return e.join("")},int:function({options:t}){return Math.floor(Im(t)*Math.pow(2,52))},bool:function({options:t}){return Math.floor(Im(t)*2)}},vH=function(t){return t.replace(/_([a-z])/gi,function(e,r){return r.toUpperCase()})},wH=t=>{t.object_mode&&(t.objectMode=t.object_mode),t.high_water_mark&&(t.highWaterMark=t.high_water_mark);const e={};for(const i in t)e[vH(i)]=t[i];const r={columns:8,delimiter:",",duration:null,encoding:null,end:null,eof:!1,fixedSize:!1,length:-1,maxWordLength:16,rowDelimiter:`
`,seed:!1,sleep:0};for(const i in r)e[i]===void 0&&(e[i]=r[i]);e.eof===!0&&(e.eof=e.rowDelimiter),typeof e.columns=="number"&&(e.columns=new Array(e.columns));const n=Object.keys(lk).filter(i=>!["super_","camelize"].includes(i));for(let i=0;i<e.columns.length;i++){const s=e.columns[i]||"ascii";if(typeof s=="string"){if(!n.includes(s))throw Error(`Invalid column type: got "${s}", default values are ${JSON.stringify(n)}`);e.columns[i]=lk[s]}}return e},bH=(t,e,r,n,i)=>{const s=[];let o=0;for(t.fixedSize&&(o=e.fixed_size_buffer.length,o!==0&&s.push(e.fixed_size_buffer));;){if(e.count_created===t.length||t.end&&Date.now()>t.end||t.duration&&Date.now()>e.start_time+t.duration){if(s.length){if(t.objectMode)for(const u of s)n(u);else n(s.join("")+(t.eof?t.eof:""));e.end=!0}else i();return}let a=[],l;for(const u of t.columns){const c=u({options:t,state:e}),h=typeof c;if(c!==null&&h!=="string"&&h!=="number"){i(Error(["INVALID_VALUE:","values returned by column function must be","a string, a number or null,",`got ${JSON.stringify(c)}`].join(" ")));return}a.push(c)}if(t.objectMode){l=0;for(const u of a)l+=u.length}else a=(e.count_created===0?"":t.rowDelimiter)+a.join(t.delimiter),l=a.length;if(e.count_created++,o+l>r){if(t.objectMode){s.push(a);for(const u of s)n(u)}else t.fixedSize?(e.fixed_size_buffer=a.substr(r-o),s.push(a.substr(0,r-o))):s.push(a),n(s.join(""));return}o+=l,s.push(a)}},Up=function(t={}){return this.options=wH(t),Ri.Readable.call(this,this.options),this.state=gH(this.options),this};u6.inherits(Up,Ri.Readable);Up.prototype.end=function(){this.push(null)};Up.prototype._read=function(t){setImmediate(()=>{this.__read(t)})};Up.prototype.__read=function(t){bH(this.options,this.state,t,e=>{this.__push(e)},e=>{e?this.destroy(e):this.push(null)})};Up.prototype.__push=function(t){const e=()=>{if(this.state.count_written++,this.push(t),this.state.end===!0)return this.push(null)};this.options.sleep>0?setTimeout(e,this.options.sleep):e()};ce.from([239,187,191]),ce.from([255,254]);const _H=46,xH=/\\(\\)?/g,SH=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),EH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NH=/^\w*$/,kH=function(t){return Object.prototype.toString.call(t)},v6=function(t){const e=typeof t;return e==="symbol"||e==="object"&&t&&kH(t)==="[object Symbol]"},CH=function(t,e){if(Array.isArray(t))return!1;const r=typeof t;return r==="number"||r==="symbol"||r==="boolean"||!t||v6(t)?!0:NH.test(t)||!EH.test(t)||e!=null&&t in Object(e)},TH=function(t){const e=[];return t.charCodeAt(0)===_H&&e.push(""),t.replace(SH,function(r,n,i,s){let o=r;i?o=s.replace(xH,"$1"):n&&(o=n.trim()),e.push(o)}),e},RH=function(t,e){return Array.isArray(t)?t:CH(t,e)?[t]:TH(t)},OH=function(t){if(typeof t=="string"||v6(t))return t;const e=`${t}`;return e=="0"&&1/t==-INFINITY?"-0":e},AH=function(t,e){e=RH(e,t);let r=0;const n=e.length;for(;t!=null&&r<n;)t=t[OH(e[r++])];return r&&r===n?t:void 0},IH=function(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)},w6=function(t){if(t==null)return[void 0,void 0];if(typeof t!="object")return[Error('Invalid option "columns": expect an array or an object')];if(Array.isArray(t)){const e=[];for(const r of t)if(typeof r=="string")e.push({key:r,header:r});else if(typeof r=="object"&&r!==null&&!Array.isArray(r)){if(!r.key)return[Error('Invalid column definition: property "key" is required')];r.header===void 0&&(r.header=r.key),e.push(r)}else return[Error("Invalid column definition: expect a string or an object")];t=e}else{const e=[];for(const r in t)e.push({key:r,header:t[r]});t=e}return[void 0,t]};class Sc extends Error{constructor(e,r,...n){Array.isArray(r)&&(r=r.join(" ")),super(r),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,Sc),this.code=e;for(const i of n)for(const s in i){const o=i[s];this[s]=Ba(o)?o.toString():o==null?o:JSON.parse(JSON.stringify(o))}}}const PH=function(t){return t.replace(/([A-Z])/g,function(e,r){return"_"+r.toLowerCase()})},b6=function(t){const e={};for(const i in t)e[PH(i)]=t[i];if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)return[new Sc("CSV_OPTION_BOOLEAN_INVALID_TYPE",["option `bom` is optional and must be a boolean value,",`got ${JSON.stringify(e.bom)}`])];if(e.delimiter===void 0||e.delimiter===null)e.delimiter=",";else if(Ba(e.delimiter))e.delimiter=e.delimiter.toString();else if(typeof e.delimiter!="string")return[new Sc("CSV_OPTION_DELIMITER_INVALID_TYPE",["option `delimiter` must be a buffer or a string,",`got ${JSON.stringify(e.delimiter)}`])];if(e.quote===void 0||e.quote===null)e.quote='"';else if(e.quote===!0)e.quote='"';else if(e.quote===!1)e.quote="";else if(Ba(e.quote))e.quote=e.quote.toString();else if(typeof e.quote!="string")return[new Sc("CSV_OPTION_QUOTE_INVALID_TYPE",["option `quote` must be a boolean, a buffer or a string,",`got ${JSON.stringify(e.quote)}`])];if((e.quoted===void 0||e.quoted===null)&&(e.quoted=!1),e.escape_formulas===void 0||e.escape_formulas===null)e.escape_formulas=!1;else if(typeof e.escape_formulas!="boolean")return[new Sc("CSV_OPTION_ESCAPE_FORMULAS_INVALID_TYPE",["option `escape_formulas` must be a boolean,",`got ${JSON.stringify(e.escape_formulas)}`])];if((e.quoted_empty===void 0||e.quoted_empty===null)&&(e.quoted_empty=void 0),e.quoted_match===void 0||e.quoted_match===null||e.quoted_match===!1?e.quoted_match=null:Array.isArray(e.quoted_match)||(e.quoted_match=[e.quoted_match]),e.quoted_match)for(const i of e.quoted_match){const s=typeof i=="string",o=i instanceof RegExp;if(!s&&!o)return[Error(`Invalid Option: quoted_match must be a string or a regex, got ${JSON.stringify(i)}`)]}if((e.quoted_string===void 0||e.quoted_string===null)&&(e.quoted_string=!1),(e.eof===void 0||e.eof===null)&&(e.eof=!0),e.escape===void 0||e.escape===null)e.escape='"';else if(Ba(e.escape))e.escape=e.escape.toString();else if(typeof e.escape!="string")return[Error(`Invalid Option: escape must be a buffer or a string, got ${JSON.stringify(e.escape)}`)];if(e.escape.length>1)return[Error(`Invalid Option: escape must be one character, got ${e.escape.length} characters`)];(e.header===void 0||e.header===null)&&(e.header=!1);const[r,n]=w6(e.columns);if(r!==void 0)return[r];if(e.columns=n,(e.quoted===void 0||e.quoted===null)&&(e.quoted=!1),(e.cast===void 0||e.cast===null)&&(e.cast={}),(e.cast.bigint===void 0||e.cast.bigint===null)&&(e.cast.bigint=i=>""+i),(e.cast.boolean===void 0||e.cast.boolean===null)&&(e.cast.boolean=i=>i?"1":""),(e.cast.date===void 0||e.cast.date===null)&&(e.cast.date=i=>""+i.getTime()),(e.cast.number===void 0||e.cast.number===null)&&(e.cast.number=i=>""+i),(e.cast.object===void 0||e.cast.object===null)&&(e.cast.object=i=>JSON.stringify(i)),(e.cast.string===void 0||e.cast.string===null)&&(e.cast.string=function(i){return i}),e.on_record!==void 0&&typeof e.on_record!="function")return[Error('Invalid Option: "on_record" must be a function.')];if(e.record_delimiter===void 0||e.record_delimiter===null)e.record_delimiter=`
`;else if(Ba(e.record_delimiter))e.record_delimiter=e.record_delimiter.toString();else if(typeof e.record_delimiter!="string")return[Error(`Invalid Option: record_delimiter must be a buffer or a string, got ${JSON.stringify(e.record_delimiter)}`)];switch(e.record_delimiter){case"unix":e.record_delimiter=`
`;break;case"mac":e.record_delimiter="\r";break;case"windows":e.record_delimiter=`\r
`;break;case"ascii":e.record_delimiter="";break;case"unicode":e.record_delimiter="\u2028";break}return[void 0,e]},$H=ce.from([239,187,191]),jH=function(t,e,r){return{options:t,state:e,info:r,__transform:function(n,i){if(!Array.isArray(n)&&typeof n!="object")return Error(`Invalid Record: expect an array or an object, got ${JSON.stringify(n)}`);if(this.info.records===0){if(Array.isArray(n)){if(this.options.header===!0&&this.options.columns===void 0)return Error("Undiscoverable Columns: header option requires column option or object records")}else if(this.options.columns===void 0){const[a,l]=w6(Object.keys(n));if(a)return;this.options.columns=l}}if(this.info.records===0){this.bom(i);const a=this.headers(i);if(a)return a}try{this.options.on_record&&this.options.on_record(n,this.info.records)}catch(a){return a}let s,o;if(this.options.eof){if([s,o]=this.stringify(n),s)return s;if(o===void 0)return;o=o+this.options.record_delimiter}else{if([s,o]=this.stringify(n),s)return s;if(o===void 0)return;(this.options.header||this.info.records)&&(o=this.options.record_delimiter+o)}this.info.records++,i(o)},stringify:function(n,i=!1){if(typeof n!="object")return[void 0,n];const{columns:s}=this.options,o=[];if(Array.isArray(n)){s&&n.splice(s.length);for(let l=0;l<n.length;l++){const u=n[l],[c,h]=this.__cast(u,{index:l,column:l,records:this.info.records,header:i});if(c)return[c];o[l]=[h,u]}}else for(let l=0;l<s.length;l++){const u=AH(n,s[l].key),[c,h]=this.__cast(u,{index:l,column:s[l].key,records:this.info.records,header:i});if(c)return[c];o[l]=[h,u]}let a="";for(let l=0;l<o.length;l++){let u,c,[h,p]=o[l];if(typeof h=="string")u=this.options;else if(IH(h)){if(u=h,h=u.value,delete u.value,typeof h!="string"&&h!==void 0&&h!==null&&c)return[Error(`Invalid Casting Value: returned value must return a string, null or undefined, got ${JSON.stringify(h)}`)];if(u={...this.options,...u},[c,u]=b6(u),c!==void 0)return[c]}else if(h==null)u=this.options;else return[Error(`Invalid Casting Value: returned value must return a string, an object, null or undefined, got ${JSON.stringify(h)}`)];const{delimiter:g,escape:_,quote:S,quoted:E,quoted_empty:w,quoted_string:v,quoted_match:N,record_delimiter:I,escape_formulas:R}=u;if(h===""&&p===""){let k=N&&N.filter(j=>typeof j=="string"?h.indexOf(j)!==-1:j.test(h));k=k&&k.length>0,(k||w===!0||v===!0&&w!==!1)===!0&&(h=S+h+S),a+=h}else if(h){if(typeof h!="string")return[Error(`Formatter must return a string, null or undefined, got ${JSON.stringify(h)}`)];const k=g.length&&h.indexOf(g)>=0,L=S!==""&&h.indexOf(S)>=0,j=h.indexOf(_)>=0&&_!==S,Z=h.indexOf(I)>=0,Q=v&&typeof p=="string";let te=N&&N.filter(G=>typeof G=="string"?h.indexOf(G)!==-1:G.test(h));if(te=te&&te.length>0,R)switch(h[0]){case"=":case"+":case"-":case"@":case"	":case"\r":case"":case"":case"":case"":h=`'${h}`;break}const re=L===!0||k||Z||E||Q||te;if(re===!0&&j===!0){const G=_==="\\"?new RegExp(_+_,"g"):new RegExp(_,"g");h=h.replace(G,_+_)}if(L===!0){const G=new RegExp(S,"g");h=h.replace(G,_+S)}re===!0&&(h=S+h+S),a+=h}else(w===!0||p===""&&v===!0&&w!==!1)&&(a+=S+S);l!==o.length-1&&(a+=g)}return[void 0,a]},bom:function(n){this.options.bom===!0&&n($H)},headers:function(n){if(this.options.header===!1||this.options.columns===void 0)return;let i,s=this.options.columns.map(o=>o.header);if(this.options.eof?([i,s]=this.stringify(s,!0),s+=this.options.record_delimiter):[i,s]=this.stringify(s),i)return i;n(s)},__cast:function(n,i){const s=typeof n;try{return s==="string"?[void 0,this.options.cast.string(n,i)]:s==="bigint"?[void 0,this.options.cast.bigint(n,i)]:s==="number"?[void 0,this.options.cast.number(n,i)]:s==="boolean"?[void 0,this.options.cast.boolean(n,i)]:n instanceof Date?[void 0,this.options.cast.date(n,i)]:s==="object"&&n!==null?[void 0,this.options.cast.object(n,i)]:[void 0,n,n]}catch(o){return[o]}}}},LH=function(t,e={}){const r=[],[n,i]=b6(e);if(n!==void 0)throw n;const a=jH(i,{stop:!1},{records:0});for(const l of t){const u=a.__transform(l,function(c){r.push(c)});if(u!==void 0)throw u}if(r.length===0){a.bom(u=>{r.push(u)});const l=a.headers(u=>{r.push(u)});if(l!==void 0)throw l}return r.join("")},a0=function(t={},e){return this.options=t,(t.consume===void 0||t.consume===null)&&(this.options.consume=!1),this.options.objectMode=!0,(t.parallel===void 0||t.parallel===null)&&(this.options.parallel=100),(t.params===void 0||t.params===null)&&(t.params=null),this.handler=e,Ri.Transform.call(this,this.options),this.state={running:0,started:0,finished:0,paused:!1},this};u6.inherits(a0,Ri.Transform);a0.prototype._transform=function(t,e,r){this.state.started++,this.state.running++,!this.state.paused&&this.state.running<this.options.parallel&&(r(),r=null);try{let n=this.handler.length;if(this.options.params!==null&&n--,n===1){const i=this.handler.call(this,t,this.options.params);i&&i.then?(i.then(s=>{this.__done(null,[s],r)}),i.catch(s=>{this.__done(s)})):this.__done(null,[i],r)}else if(n===2){const i=(s,...o)=>this.__done(s,o,r);this.handler.call(this,t,i,this.options.params)}else throw Error("Invalid handler arguments");return!1}catch(n){this.__done(n)}};a0.prototype._flush=function(t){this.state.running===0?t():this._ending=function(){t()}};a0.prototype.__done=function(t,e,r){if(this.state.running--,t)return this.destroy(t);this.state.finished++;for(let n of e)typeof n=="number"&&(n=`${n}`),n!=null&&n!==""&&(this.state.paused=!this.push(n));r&&r(),this._ending&&this.state.running===0&&this._ending()};const _6=t=>{const{id:e,label:r}=t,n=r??e,i=`/journal/transaction/${e}`;return y.jsx(Hn,{component:Si,to:i,children:n})},DH=t=>{const{entry:e,prev:r}=t,n=e.lines_debit.map((s,o)=>{const a=`${e.id}-debit-${s.code}`,l=o,u=o===0&&(r==null?void 0:r.date)!==e.date;return y.jsx(uk,{entry:e,lineIndex:l,code:s.code,displayDate:u,debit:s.debit},a)}),i=e.lines_credit.map((s,o)=>{const a=`${e.id}-debit-${s.code}`,l=!1,u=n.length+o;return y.jsx(uk,{entry:e,lineIndex:u,code:s.code,displayDate:l,credit:s.credit},a)});return y.jsxs(y.Fragment,{children:[...n,...i]})},uk=t=>{const{code:e,entry:r,lineIndex:n,displayDate:i,debit:s,credit:o}=t,a=Mh.safeValidate(r),l=a.isErr?a.error:null,u=n===0,c=n===1;return r.lines_debit.length+r.lines_credit.length,y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:i?y.jsx(pd,{children:r.date}):null}),y.jsxs(U.Td,{children:[u?y.jsx(_6,{id:r.id,label:r.brief}):null,c&&l?l.message:null]}),y.jsx(U.Td,{children:y.jsx(Hv,{code:e})}),y.jsx(U.Td,{children:s?y.jsx(cr,{amount:s}):null}),y.jsx(U.Td,{children:o?y.jsx(cr,{amount:o}):null})]})},lS=t=>{const{entries:e}=t,r=yd(e,Eh(i=>i.lines_debit),Zr(i=>i.debit)),n=yd(e,Eh(i=>i.lines_credit),Zr(i=>i.credit));return y.jsx(y.Fragment,{children:y.jsxs(U,{children:[y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:"date"}),y.jsx(U.Th,{children:"brief"}),y.jsx(U.Th,{children:"code"}),y.jsx(U.Th,{children:"debit"}),y.jsx(U.Th,{children:"credit"})]})}),y.jsx(U.Tbody,{children:e.map((i,s)=>{const o=e[s-1];return y.jsx(DH,{prev:o,entry:i,order:s},i.id)})}),y.jsx(U.Tfoot,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:" "}),y.jsx(U.Th,{children:" "}),y.jsx(U.Th,{children:r!==n?"unbalanced!":null}),y.jsx(U.Th,{children:y.jsx(cr,{amount:r,fw:500})}),y.jsx(U.Th,{children:y.jsx(cr,{amount:n,fw:500})})]})})]})})},MH=t=>{const{onSubmit:e}=t,r=O.useContext(Op),{register:n,handleSubmit:i,watch:s,setValue:o,formState:{errors:a}}=Rx({defaultValues:t.defaultValue}),l=s(),c=Mh.safeValidate(l).isOk&&sD(a),h=()=>{const I=[...l.lines_debit,...l.lines_credit].map(L=>L.code),R=r.accounts.map(L=>L.code);return xh(R,I,w4)[0]??101e3},p=()=>{const I={_tag:"debit",code:h(),debit:0},R=[...l.lines_debit,I];o("lines_debit",R)},g=()=>{const I={_tag:"credit",code:h(),credit:0},R=[...l.lines_credit,I];o("lines_credit",R)},_=()=>{const I=l.lines_credit.map(k=>({_tag:"debit",code:k.code,debit:k.credit})),R=l.lines_debit.map(k=>({_tag:"credit",code:k.code,credit:k.debit}));o("lines_debit",I),o("lines_credit",R)},S=()=>{o("brief",t.defaultValue.brief),o("lines_debit",t.defaultValue.lines_debit),o("lines_credit",t.defaultValue.lines_credit)},E=I=>{const R=l.lines_debit.filter(k=>k.code!==I);o("lines_debit",R)},w=I=>{const R=l.lines_credit.filter(k=>k.code!==I);o("lines_credit",R)},v=I=>{const R=Mh.toMat(I);return LH(R)},N=I=>{const R=[...l.lines_debit,...l.lines_credit].map(L=>L.code);return r.accounts.filter(L=>L.code===I.code?!0:!R.includes(L.code))};return y.jsxs(y.Fragment,{children:[y.jsxs("form",{onSubmit:i(e),children:[y.jsx(Ht.Wrapper,{label:"date",children:y.jsx(Ht,{type:"date",...n("date",{onChange:I=>{const k=I.target.value.split("-"),L=Number.parseInt(k[0],10)-2e3,j=k[1],Z=k[2],Q=`${L}${j}${Z}_000000`;o("id",Q)}})})}),y.jsxs(Ht.Wrapper,{label:"id",children:[y.jsx(Ht,{...n("id",{required:"id is required"})}),y.jsx(KN,{errors:a,name:"id",render:({message:I})=>y.jsx("p",{children:I})})]}),y.jsxs(Ht.Wrapper,{label:"brief",children:[y.jsx(Ht,{...n("brief",{required:"brief is required"}),autoComplete:"off"}),y.jsx(KN,{errors:a,name:"brief",render:({message:I})=>y.jsx("p",{children:I})})]}),y.jsxs(U,{color:"blue",children:[y.jsx(BH,{}),y.jsx(U.Tbody,{children:l.lines_debit.map((I,R)=>{const k=`${I._tag}-${I.code}`,L=N(I);return y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:y.jsx("select",{...n(`lines_debit.${R}.code`,{valueAsNumber:!0}),children:L.map(j=>y.jsxs("option",{value:j.code,children:["[",j.code,"] ",j.name]},j.code))})}),y.jsx(U.Td,{children:y.jsx(Ht,{type:"number",...n(`lines_debit.${R}.debit`,{valueAsNumber:!0})})}),y.jsx(U.Td,{children:y.jsx(jr,{onClick:()=>E(I.code),variant:"light",color:"red",children:"del"})})]},k)})})]}),y.jsxs(U,{color:"red",children:[y.jsx(FH,{}),y.jsx(U.Tbody,{children:l.lines_credit.map((I,R)=>{const k=`${I._tag}-${I.code}`,L=N(I);return y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:y.jsx("select",{...n(`lines_credit.${R}.code`,{valueAsNumber:!0}),children:L.map(j=>y.jsxs("option",{value:j.code,children:["[",j.code,"] ",j.name]},j.code))})}),y.jsx(U.Td,{children:y.jsx(Ht,{type:"number",...n(`lines_credit.${R}.credit`,{valueAsNumber:!0})})}),y.jsx(U.Td,{children:y.jsx(jr,{onClick:()=>w(I.code),variant:"light",color:"red",children:"del"})})]},k)})})]}),y.jsx(Ht.Wrapper,{children:y.jsx(WH,{debit:p,credit:g,swap:_,reset:S})}),y.jsx(jr,{type:"submit",disabled:!c,children:"submit"})]}),y.jsx(lS,{entries:[l]}),c?y.jsx("pre",{children:v(l)}):null]})},BH=()=>y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:"code"}),y.jsx(U.Th,{children:"debit"}),y.jsx(U.Th,{children:"actions"})]})}),FH=()=>y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:"code"}),y.jsx(U.Th,{children:"credit"}),y.jsx(U.Th,{children:"actions"})]})}),WH=t=>y.jsxs(jr.Group,{children:[y.jsx(jr,{type:"button",onClick:t.debit,variant:"default",children:"debit"}),y.jsx(jr,{type:"button",onClick:t.credit,variant:"default",children:"credit"}),y.jsx(jr,{type:"button",onClick:t.swap,variant:"default",children:"swap"}),y.jsx(jr,{type:"button",onClick:t.reset,color:"red",children:"reset"})]}),qH=()=>{const t=O.useContext(Eu),[e,r]=O.useState(null),[n,i]=O.useState(null),s=new Date,o=w=>`${w}`.padStart(2,"0"),a=s.getFullYear(),l=o(s.getMonth()+1),u=o(s.getDate()),c=o(s.getHours()),h=o(s.getMinutes()),p=o(s.getSeconds()),g=`${a}-${l}-${u}`,_=`${a-2e3}${l}${u}_${c}${h}${p}`,S={brief:"",date:g,id:_,lines_debit:[{code:96e4,_tag:"debit",debit:0}],lines_credit:[{code:93e4,_tag:"credit",credit:0}]},E=async w=>{try{const v=`${Vv}/transaction`,I=await(await sz(t,v,w)).json();i(I),r(null)}catch(v){i(null),r(v)}};return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"Journal: create"}),y.jsx(MH,{defaultValue:S,onSubmit:E}),e&&y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"error"}),y.jsx("pre",{children:e.message})]}),n&&y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"success"}),y.jsx("pre",{children:JSON.stringify(n,null,2)})]})]})},UH=()=>y.jsx("div",{children:"TODO: edit"}),zH=()=>{const t=kp(),e=tR.parse(t),r=new URLSearchParams(e),i=`${`${Vv}/list`}?${r}`,{data:s,error:o,isLoading:a}=jd(i),l=s;return o?y.jsx("div",{children:"failed to load"}):a?y.jsx("div",{children:"loading..."}):y.jsx(VH,{req:e,resp:l})},VH=t=>{const{req:e,resp:r}=t,{startDate:n,endDate:i}=e,s=r;return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"Journals"}),y.jsxs("h2",{children:[n," ~ ",i]}),y.jsx(lS,{entries:s})]})},HH=()=>{const t=kp(),e=rR.parse(t);new URLSearchParams(e);const r=`${Vv}/transaction/${e.id}`,{data:n,error:i,isLoading:s}=jd(r),o=n;return i?y.jsx("div",{children:"failed to load"}):s?y.jsx("div",{children:"loading..."}):y.jsx(QH,{req:e,resp:o})},QH=t=>{const{req:e,resp:r}=t,{id:n}=e,i=r,s=Mh.safeValidate(i);return y.jsxs(y.Fragment,{children:[y.jsxs("h1",{children:["Journal Entry: ",n]}),s.isErr?y.jsxs("h2",{children:["error: ",s.error.message]}):null,y.jsx(lS,{entries:[i]}),y.jsx(Hn,{component:Si,to:`/journal/entry/${n}/edit`,children:"edit"})]})},GH=()=>{const e=oD(1,12).map(n=>{const i=`2024-${n.toString().padStart(2,"0")}-01`,s=`2024-${(n+1).toString().padStart(2,"0")}-01`;return{startDate:i,endDate:s}}),r=new Date;return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:"Journal"}),y.jsx(Hn,{component:Si,to:"/journal/action/create",children:"create"}),y.jsxs(U,{children:[y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:"start date"}),y.jsx(U.Th,{children:"end date"}),y.jsx(U.Th,{children:"journal"})]})}),y.jsx(U.Tbody,{children:e.map((n,i)=>{const{startDate:s,endDate:o}=n,a=`/journal/list/${s}/${o}`;return s<=r.toISOString()&&r.toISOString()<o,y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:s}),y.jsx(U.Td,{children:o}),y.jsx(U.Td,{children:y.jsx(Hn,{component:Si,to:a,children:"journal"})})]},n.startDate)})})]})]})},JH=()=>y.jsxs(Fv,{children:[y.jsx(sn,{index:!0,element:y.jsx(GH,{})}),y.jsx(sn,{path:"/list/:startDate/:endDate",element:y.jsx(zH,{})}),y.jsx(sn,{path:"/action/create",element:y.jsx(qH,{})}),y.jsx(sn,{path:"/transaction/:id",element:y.jsx(HH,{})}),y.jsx(sn,{path:"/transaction/:id/edit",element:y.jsx(UH,{})})]}),YH=()=>{const t=kp(),e=sR.parse(t),r=new URLSearchParams;r.append("code",`${e.code}`),r.append("startDate",`${e.startDate}`),r.append("endDate",`${e.endDate}`);const n=`${uR}/list?${r}`,{data:i,error:s,isLoading:o}=jd(n),a=i;return s?y.jsx("div",{children:"failed to load"}):o?y.jsx("div",{children:"loading..."}):y.jsx(KH,{req:e,resp:a})},KH=t=>{var u;const{req:e,resp:r}=t,{code:n,startDate:i,endDate:s}=e,{lines:o}=r,a=Zr(o,c=>c.debit),l=Zr(o,c=>c.credit);return y.jsxs(y.Fragment,{children:[y.jsx("h1",{children:y.jsx(Hv,{code:n,startDate:i,endDate:s})}),y.jsxs(U,{children:[y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:""}),y.jsx(U.Th,{children:""}),y.jsx(U.Th,{children:"debit"}),y.jsx(U.Th,{children:"credit"}),y.jsx(U.Th,{children:"balance"})]})}),y.jsx(U.Tbody,{children:o.map((c,h)=>{const{debit:p,credit:g,balance:_}=c,S=o[h-1],E=c.date!==(S==null?void 0:S.date),w=c.id;return y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:E?c.date:null}),y.jsx(U.Td,{children:y.jsx(_6,{id:c.id,label:c.brief})}),y.jsx(U.Td,{children:p?y.jsx(cr,{amount:p}):null}),y.jsx(U.Td,{children:g?y.jsx(cr,{amount:g}):null}),y.jsx(U.Td,{children:y.jsx(cr,{amount:_})})]},w)})}),y.jsx(U.Tfoot,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:" "}),y.jsx(U.Th,{children:" "}),y.jsx(U.Th,{children:y.jsx(cr,{amount:a,fw:500})}),y.jsx(U.Th,{children:y.jsx(cr,{amount:l,fw:500})}),y.jsx(U.Th,{children:y.jsx(cr,{amount:((u=o[o.length-1])==null?void 0:u.balance)??0,fw:500})})]})})]})]})},ZH=()=>{const t=new Date;return y.jsx(XH,{now:t})},XH=t=>{const{accountGroups:e,accounts:r}=O.useContext(Op),{now:n}=t,i=fR(n),[s,o]=O.useState(i.startDate),[a,l]=O.useState(i.endDate),u=new Map(e.map(c=>[c.code,c]));return Nh(r,c=>Su.toGroup(c.code)),y.jsxs(y.Fragment,{children:[y.jsx("h2",{children:"date range"}),y.jsxs("form",{children:[y.jsx(Ht.Wrapper,{label:"start date",children:y.jsx(Ht,{type:"date",value:s,onChange:c=>o(c.target.value)})}),y.jsx(Ht.Wrapper,{label:"end date",children:y.jsx(Ht,{type:"date",value:a,onChange:c=>l(c.target.value)})})]}),y.jsxs(U,{children:[y.jsx(U.Thead,{children:y.jsxs(U.Tr,{children:[y.jsx(U.Th,{children:""}),y.jsx(U.Th,{children:""}),y.jsx(U.Th,{children:""}),y.jsxs(U.Th,{children:[": ",s," ~ ",a]})]})}),y.jsx(U.Tbody,{children:r.map(c=>{const h=Su.toGroup(c.code),p=u.get(h);if(!p)throw new Error("tag not found");const g=xx.toKorean(p.major),_=p.minor,S=h*1e3===c.code;return y.jsxs(U.Tr,{children:[y.jsx(U.Td,{children:g}),y.jsx(U.Td,{children:_}),y.jsx(U.Td,{children:S?h:c.code}),y.jsx(U.Td,{children:y.jsx(Hv,{code:c.code,startDate:s,endDate:a})})]},c.code)})})]})]})},eQ=()=>y.jsxs(Fv,{children:[y.jsx(sn,{index:!0,element:y.jsx(ZH,{})}),y.jsx(sn,{path:"/account/:code/:startDate/:endDate",element:y.jsx(YH,{})})]}),tQ=()=>(Np(),y.jsxs(y.Fragment,{children:[y.jsxs(il,{children:[y.jsx(Hn,{component:Si,to:"/",children:"yuuka"})," | ",y.jsx(Hn,{component:Si,to:"/journal",children:"journal"})," | ",y.jsx(Hn,{component:Si,to:"/ledger",children:"ledger"})," | ",y.jsx(Hn,{component:Si,to:"/balance",children:"balance"})," | ",y.jsx(Hn,{component:Si,to:"/book",children:"book"})]}),y.jsx("div",{style:{paddingBottom:"120px"},children:y.jsx(il,{fluid:!0,children:y.jsx(zL,{})})})]})),rQ=ZL(qy(y.jsxs(sn,{path:"/",element:y.jsx(tQ,{}),children:[y.jsx(sn,{path:"/journal/*",element:y.jsx(JH,{})}),y.jsx(sn,{path:"/ledger/*",element:y.jsx(eQ,{})}),y.jsx(sn,{path:"/balance/*",element:y.jsx(UB,{})}),y.jsx(sn,{path:"/book/*",element:y.jsx(tz,{})})]})),{}),nQ=()=>y.jsx(a9,{router:rQ}),iQ=t=>{const{setDataSource:e,setError:r,session:n}=t,[i,s]=O.useState("http://127.0.0.1:3000"),o=async a=>(e({_tag:"api",endpoint:i,session:n}),a.preventDefault(),!1);return y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"api server"}),y.jsxs("form",{onSubmit:o,children:[y.jsx(dx,{type:"text",onChange:a=>s(a.target.value),value:i}),y.jsx(jr,{type:"submit",disabled:i.length===0,children:"connect"})]})]})},uS=t=>{const e=new J4;return e.use("*",async(r,n)=>{r.env={db:t},await n()}),e.route(dR,cR),e.route(Vv,Ld),e.route(uR,lR),e.route(Ex,Sx),e},sQ=t=>{const{setDataSource:e,setError:r,session:n}=t,i=async()=>{try{const s=await Fp(),o=Uint8Array.from([]),{sqlite:a,db:l}=OO(s,o,{});await oM(l);const u=uS(l);e({_tag:"sandbox",sqlite:a,db:l,app:u,session:n})}catch(s){r(s)}};return y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"blank project"}),y.jsx(jr,{type:"button",onClick:i,children:"start"})]})};var x6={exports:{}},Zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS=Symbol.for("react.element"),dS=Symbol.for("react.portal"),l0=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),c0=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),oQ=Symbol.for("react.server_context"),h0=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),m0=Symbol.for("react.suspense_list"),y0=Symbol.for("react.memo"),g0=Symbol.for("react.lazy"),aQ=Symbol.for("react.offscreen"),S6;S6=Symbol.for("react.module.reference");function Xi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cS:switch(t=t.type,t){case l0:case c0:case u0:case p0:case m0:return t;default:switch(t=t&&t.$$typeof,t){case oQ:case f0:case h0:case g0:case y0:case d0:return t;default:return e}}case dS:return e}}}Zt.ContextConsumer=f0;Zt.ContextProvider=d0;Zt.Element=cS;Zt.ForwardRef=h0;Zt.Fragment=l0;Zt.Lazy=g0;Zt.Memo=y0;Zt.Portal=dS;Zt.Profiler=c0;Zt.StrictMode=u0;Zt.Suspense=p0;Zt.SuspenseList=m0;Zt.isAsyncMode=function(){return!1};Zt.isConcurrentMode=function(){return!1};Zt.isContextConsumer=function(t){return Xi(t)===f0};Zt.isContextProvider=function(t){return Xi(t)===d0};Zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cS};Zt.isForwardRef=function(t){return Xi(t)===h0};Zt.isFragment=function(t){return Xi(t)===l0};Zt.isLazy=function(t){return Xi(t)===g0};Zt.isMemo=function(t){return Xi(t)===y0};Zt.isPortal=function(t){return Xi(t)===dS};Zt.isProfiler=function(t){return Xi(t)===c0};Zt.isStrictMode=function(t){return Xi(t)===u0};Zt.isSuspense=function(t){return Xi(t)===p0};Zt.isSuspenseList=function(t){return Xi(t)===m0};Zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===l0||t===c0||t===u0||t===p0||t===m0||t===aQ||typeof t=="object"&&t!==null&&(t.$$typeof===g0||t.$$typeof===y0||t.$$typeof===d0||t.$$typeof===f0||t.$$typeof===h0||t.$$typeof===S6||t.getModuleId!==void 0)};Zt.typeOf=Xi;x6.exports=Zt;var E6=x6.exports;function lQ(t){function e(ue,_e,ve,Le,V){for(var Ve=0,se=0,ct=0,st=0,Ge,pe,me=0,Be=0,$e,pt=$e=Ge=0,it=0,$=0,W=0,J=0,Te=ve.length,xe=Te-1,he,ne="",De="",Rt="",Mt="",er;it<Te;){if(pe=ve.charCodeAt(it),it===xe&&se+st+ct+Ve!==0&&(se!==0&&(pe=se===47?10:47),st=ct=Ve=0,Te++,xe++),se+st+ct+Ve===0){if(it===xe&&(0<$&&(ne=ne.replace(p,"")),0<ne.trim().length)){switch(pe){case 32:case 9:case 59:case 13:case 10:break;default:ne+=ve.charAt(it)}pe=59}switch(pe){case 123:for(ne=ne.trim(),Ge=ne.charCodeAt(0),$e=1,J=++it;it<Te;){switch(pe=ve.charCodeAt(it)){case 123:$e++;break;case 125:$e--;break;case 47:switch(pe=ve.charCodeAt(it+1)){case 42:case 47:e:{for(pt=it+1;pt<xe;++pt)switch(ve.charCodeAt(pt)){case 47:if(pe===42&&ve.charCodeAt(pt-1)===42&&it+2!==pt){it=pt+1;break e}break;case 10:if(pe===47){it=pt+1;break e}}it=pt}}break;case 91:pe++;case 40:pe++;case 34:case 39:for(;it++<xe&&ve.charCodeAt(it)!==pe;);}if($e===0)break;it++}switch($e=ve.substring(J,it),Ge===0&&(Ge=(ne=ne.replace(h,"").trim()).charCodeAt(0)),Ge){case 64:switch(0<$&&(ne=ne.replace(p,"")),pe=ne.charCodeAt(1),pe){case 100:case 109:case 115:case 45:$=_e;break;default:$=Fe}if($e=e(_e,$,$e,pe,V+1),J=$e.length,0<X&&($=r(Fe,ne,W),er=a(3,$e,$,_e,G,re,J,pe,V,Le),ne=$.join(""),er!==void 0&&(J=($e=er.trim()).length)===0&&(pe=0,$e="")),0<J)switch(pe){case 115:ne=ne.replace(k,o);case 100:case 109:case 45:$e=ne+"{"+$e+"}";break;case 107:ne=ne.replace(v,"$1 $2"),$e=ne+"{"+$e+"}",$e=je===1||je===2&&s("@"+$e,3)?"@-webkit-"+$e+"@"+$e:"@"+$e;break;default:$e=ne+$e,Le===112&&($e=(De+=$e,""))}else $e="";break;default:$e=e(_e,r(_e,ne,W),$e,Le,V+1)}Rt+=$e,$e=W=$=pt=Ge=0,ne="",pe=ve.charCodeAt(++it);break;case 125:case 59:if(ne=(0<$?ne.replace(p,""):ne).trim(),1<(J=ne.length))switch(pt===0&&(Ge=ne.charCodeAt(0),Ge===45||96<Ge&&123>Ge)&&(J=(ne=ne.replace(" ",":")).length),0<X&&(er=a(1,ne,_e,ue,G,re,De.length,Le,V,Le))!==void 0&&(J=(ne=er.trim()).length)===0&&(ne="\0\0"),Ge=ne.charCodeAt(0),pe=ne.charCodeAt(1),Ge){case 0:break;case 64:if(pe===105||pe===99){Mt+=ne+ve.charAt(it);break}default:ne.charCodeAt(J-1)!==58&&(De+=i(ne,Ge,pe,ne.charCodeAt(2)))}W=$=pt=Ge=0,ne="",pe=ve.charCodeAt(++it)}}switch(pe){case 13:case 10:se===47?se=0:1+Ge===0&&Le!==107&&0<ne.length&&($=1,ne+="\0"),0<X*Ce&&a(0,ne,_e,ue,G,re,De.length,Le,V,Le),re=1,G++;break;case 59:case 125:if(se+st+ct+Ve===0){re++;break}default:switch(re++,he=ve.charAt(it),pe){case 9:case 32:if(st+Ve+se===0)switch(me){case 44:case 58:case 9:case 32:he="";break;default:pe!==32&&(he=" ")}break;case 0:he="\\0";break;case 12:he="\\f";break;case 11:he="\\v";break;case 38:st+se+Ve===0&&($=W=1,he="\f"+he);break;case 108:if(st+se+Ve+fe===0&&0<pt)switch(it-pt){case 2:me===112&&ve.charCodeAt(it-3)===58&&(fe=me);case 8:Be===111&&(fe=Be)}break;case 58:st+se+Ve===0&&(pt=it);break;case 44:se+ct+st+Ve===0&&($=1,he+="\r");break;case 34:case 39:se===0&&(st=st===pe?0:st===0?pe:st);break;case 91:st+se+ct===0&&Ve++;break;case 93:st+se+ct===0&&Ve--;break;case 41:st+se+Ve===0&&ct--;break;case 40:if(st+se+Ve===0){if(Ge===0)switch(2*me+3*Be){case 533:break;default:Ge=1}ct++}break;case 64:se+ct+st+Ve+pt+$e===0&&($e=1);break;case 42:case 47:if(!(0<st+Ve+ct))switch(se){case 0:switch(2*pe+3*ve.charCodeAt(it+1)){case 235:se=47;break;case 220:J=it,se=42}break;case 42:pe===47&&me===42&&J+2!==it&&(ve.charCodeAt(J+2)===33&&(De+=ve.substring(J,it+1)),he="",se=0)}}se===0&&(ne+=he)}Be=me,me=pe,it++}if(J=De.length,0<J){if($=_e,0<X&&(er=a(2,De,$,ue,G,re,J,Le,V,Le),er!==void 0&&(De=er).length===0))return Mt+De+Rt;if(De=$.join(",")+"{"+De+"}",je*fe!==0){switch(je!==2||s(De,2)||(fe=0),fe){case 111:De=De.replace(I,":-moz-$1")+De;break;case 112:De=De.replace(N,"::-webkit-input-$1")+De.replace(N,"::-moz-$1")+De.replace(N,":-ms-input-$1")+De}fe=0}}return Mt+De+Rt}function r(ue,_e,ve){var Le=_e.trim().split(E);_e=Le;var V=Le.length,Ve=ue.length;switch(Ve){case 0:case 1:var se=0;for(ue=Ve===0?"":ue[0]+" ";se<V;++se)_e[se]=n(ue,_e[se],ve).trim();break;default:var ct=se=0;for(_e=[];se<V;++se)for(var st=0;st<Ve;++st)_e[ct++]=n(ue[st]+" ",Le[se],ve).trim()}return _e}function n(ue,_e,ve){var Le=_e.charCodeAt(0);switch(33>Le&&(Le=(_e=_e.trim()).charCodeAt(0)),Le){case 38:return _e.replace(w,"$1"+ue.trim());case 58:return ue.trim()+_e.replace(w,"$1"+ue.trim());default:if(0<1*ve&&0<_e.indexOf("\f"))return _e.replace(w,(ue.charCodeAt(0)===58?"":"$1")+ue.trim())}return ue+_e}function i(ue,_e,ve,Le){var V=ue+";",Ve=2*_e+3*ve+4*Le;if(Ve===944){ue=V.indexOf(":",9)+1;var se=V.substring(ue,V.length-1).trim();return se=V.substring(0,ue).trim()+se+";",je===1||je===2&&s(se,1)?"-webkit-"+se+se:se}if(je===0||je===2&&!s(V,1))return V;switch(Ve){case 1015:return V.charCodeAt(10)===97?"-webkit-"+V+V:V;case 951:return V.charCodeAt(3)===116?"-webkit-"+V+V:V;case 963:return V.charCodeAt(5)===110?"-webkit-"+V+V:V;case 1009:if(V.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+V+V;case 978:return"-webkit-"+V+"-moz-"+V+V;case 1019:case 983:return"-webkit-"+V+"-moz-"+V+"-ms-"+V+V;case 883:if(V.charCodeAt(8)===45)return"-webkit-"+V+V;if(0<V.indexOf("image-set(",11))return V.replace(te,"$1-webkit-$2")+V;break;case 932:if(V.charCodeAt(4)===45)switch(V.charCodeAt(5)){case 103:return"-webkit-box-"+V.replace("-grow","")+"-webkit-"+V+"-ms-"+V.replace("grow","positive")+V;case 115:return"-webkit-"+V+"-ms-"+V.replace("shrink","negative")+V;case 98:return"-webkit-"+V+"-ms-"+V.replace("basis","preferred-size")+V}return"-webkit-"+V+"-ms-"+V+V;case 964:return"-webkit-"+V+"-ms-flex-"+V+V;case 1023:if(V.charCodeAt(8)!==99)break;return se=V.substring(V.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+se+"-webkit-"+V+"-ms-flex-pack"+se+V;case 1005:return _.test(V)?V.replace(g,":-webkit-")+V.replace(g,":-moz-")+V:V;case 1e3:switch(se=V.substring(13).trim(),_e=se.indexOf("-")+1,se.charCodeAt(0)+se.charCodeAt(_e)){case 226:se=V.replace(R,"tb");break;case 232:se=V.replace(R,"tb-rl");break;case 220:se=V.replace(R,"lr");break;default:return V}return"-webkit-"+V+"-ms-"+se+V;case 1017:if(V.indexOf("sticky",9)===-1)break;case 975:switch(_e=(V=ue).length-10,se=(V.charCodeAt(_e)===33?V.substring(0,_e):V).substring(ue.indexOf(":",7)+1).trim(),Ve=se.charCodeAt(0)+(se.charCodeAt(7)|0)){case 203:if(111>se.charCodeAt(8))break;case 115:V=V.replace(se,"-webkit-"+se)+";"+V;break;case 207:case 102:V=V.replace(se,"-webkit-"+(102<Ve?"inline-":"")+"box")+";"+V.replace(se,"-webkit-"+se)+";"+V.replace(se,"-ms-"+se+"box")+";"+V}return V+";";case 938:if(V.charCodeAt(5)===45)switch(V.charCodeAt(6)){case 105:return se=V.replace("-items",""),"-webkit-"+V+"-webkit-box-"+se+"-ms-flex-"+se+V;case 115:return"-webkit-"+V+"-ms-flex-item-"+V.replace(j,"")+V;default:return"-webkit-"+V+"-ms-flex-line-pack"+V.replace("align-content","").replace(j,"")+V}break;case 973:case 989:if(V.charCodeAt(3)!==45||V.charCodeAt(4)===122)break;case 931:case 953:if(Q.test(ue)===!0)return(se=ue.substring(ue.indexOf(":")+1)).charCodeAt(0)===115?i(ue.replace("stretch","fill-available"),_e,ve,Le).replace(":fill-available",":stretch"):V.replace(se,"-webkit-"+se)+V.replace(se,"-moz-"+se.replace("fill-",""))+V;break;case 962:if(V="-webkit-"+V+(V.charCodeAt(5)===102?"-ms-"+V:"")+V,ve+Le===211&&V.charCodeAt(13)===105&&0<V.indexOf("transform",10))return V.substring(0,V.indexOf(";",27)+1).replace(S,"$1-webkit-$2")+V}return V}function s(ue,_e){var ve=ue.indexOf(_e===1?":":"{"),Le=ue.substring(0,_e!==3?ve:10);return ve=ue.substring(ve+1,ue.length-1),ge(_e!==2?Le:Le.replace(Z,"$1"),ve,_e)}function o(ue,_e){var ve=i(_e,_e.charCodeAt(0),_e.charCodeAt(1),_e.charCodeAt(2));return ve!==_e+";"?ve.replace(L," or ($1)").substring(4):"("+_e+")"}function a(ue,_e,ve,Le,V,Ve,se,ct,st,Ge){for(var pe=0,me=_e,Be;pe<X;++pe)switch(Be=Pe[pe].call(c,ue,me,ve,Le,V,Ve,se,ct,st,Ge)){case void 0:case!1:case!0:case null:break;default:me=Be}if(me!==_e)return me}function l(ue){switch(ue){case void 0:case null:X=Pe.length=0;break;default:if(typeof ue=="function")Pe[X++]=ue;else if(typeof ue=="object")for(var _e=0,ve=ue.length;_e<ve;++_e)l(ue[_e]);else Ce=!!ue|0}return l}function u(ue){return ue=ue.prefix,ue!==void 0&&(ge=null,ue?typeof ue!="function"?je=1:(je=2,ge=ue):je=0),u}function c(ue,_e){var ve=ue;if(33>ve.charCodeAt(0)&&(ve=ve.trim()),Ae=ve,ve=[Ae],0<X){var Le=a(-1,_e,ve,ve,G,re,0,0,0,0);Le!==void 0&&typeof Le=="string"&&(_e=Le)}var V=e(Fe,ve,_e,0,0);return 0<X&&(Le=a(-2,V,ve,ve,G,re,V.length,0,0,0),Le!==void 0&&(V=Le)),Ae="",fe=0,re=G=1,V}var h=/^\0+/g,p=/[\0\r\f]/g,g=/: */g,_=/zoo|gra/,S=/([,: ])(transform)/g,E=/,\r+?/g,w=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,N=/::(place)/g,I=/:(read-only)/g,R=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,L=/([\s\S]*?);/g,j=/-self|flex-/g,Z=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Q=/stretch|:\s*\w+\-(?:conte|avail)/,te=/([^-])(image-set\()/,re=1,G=1,fe=0,je=1,Fe=[],Pe=[],X=0,ge=null,Ce=0,Ae="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var uQ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function cQ(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var dQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ck=cQ(function(t){return dQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),N6={exports:{}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mn=typeof Symbol=="function"&&Symbol.for,fS=mn?Symbol.for("react.element"):60103,hS=mn?Symbol.for("react.portal"):60106,v0=mn?Symbol.for("react.fragment"):60107,w0=mn?Symbol.for("react.strict_mode"):60108,b0=mn?Symbol.for("react.profiler"):60114,_0=mn?Symbol.for("react.provider"):60109,x0=mn?Symbol.for("react.context"):60110,pS=mn?Symbol.for("react.async_mode"):60111,S0=mn?Symbol.for("react.concurrent_mode"):60111,E0=mn?Symbol.for("react.forward_ref"):60112,N0=mn?Symbol.for("react.suspense"):60113,fQ=mn?Symbol.for("react.suspense_list"):60120,k0=mn?Symbol.for("react.memo"):60115,C0=mn?Symbol.for("react.lazy"):60116,hQ=mn?Symbol.for("react.block"):60121,pQ=mn?Symbol.for("react.fundamental"):60117,mQ=mn?Symbol.for("react.responder"):60118,yQ=mn?Symbol.for("react.scope"):60119;function $i(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fS:switch(t=t.type,t){case pS:case S0:case v0:case b0:case w0:case N0:return t;default:switch(t=t&&t.$$typeof,t){case x0:case E0:case C0:case k0:case _0:return t;default:return e}}case hS:return e}}}function k6(t){return $i(t)===S0}Xt.AsyncMode=pS;Xt.ConcurrentMode=S0;Xt.ContextConsumer=x0;Xt.ContextProvider=_0;Xt.Element=fS;Xt.ForwardRef=E0;Xt.Fragment=v0;Xt.Lazy=C0;Xt.Memo=k0;Xt.Portal=hS;Xt.Profiler=b0;Xt.StrictMode=w0;Xt.Suspense=N0;Xt.isAsyncMode=function(t){return k6(t)||$i(t)===pS};Xt.isConcurrentMode=k6;Xt.isContextConsumer=function(t){return $i(t)===x0};Xt.isContextProvider=function(t){return $i(t)===_0};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fS};Xt.isForwardRef=function(t){return $i(t)===E0};Xt.isFragment=function(t){return $i(t)===v0};Xt.isLazy=function(t){return $i(t)===C0};Xt.isMemo=function(t){return $i(t)===k0};Xt.isPortal=function(t){return $i(t)===hS};Xt.isProfiler=function(t){return $i(t)===b0};Xt.isStrictMode=function(t){return $i(t)===w0};Xt.isSuspense=function(t){return $i(t)===N0};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===v0||t===S0||t===b0||t===w0||t===N0||t===fQ||typeof t=="object"&&t!==null&&(t.$$typeof===C0||t.$$typeof===k0||t.$$typeof===_0||t.$$typeof===x0||t.$$typeof===E0||t.$$typeof===pQ||t.$$typeof===mQ||t.$$typeof===yQ||t.$$typeof===hQ)};Xt.typeOf=$i;N6.exports=Xt;var gQ=N6.exports,mS=gQ,vQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},wQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},C6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yS={};yS[mS.ForwardRef]=bQ;yS[mS.Memo]=C6;function dk(t){return mS.isMemo(t)?C6:yS[t.$$typeof]||vQ}var _Q=Object.defineProperty,xQ=Object.getOwnPropertyNames,fk=Object.getOwnPropertySymbols,SQ=Object.getOwnPropertyDescriptor,EQ=Object.getPrototypeOf,hk=Object.prototype;function T6(t,e,r){if(typeof e!="string"){if(hk){var n=EQ(e);n&&n!==hk&&T6(t,n,r)}var i=xQ(e);fk&&(i=i.concat(fk(e)));for(var s=dk(t),o=dk(e),a=0;a<i.length;++a){var l=i[a];if(!wQ[l]&&!(r&&r[l])&&!(o&&o[l])&&!(s&&s[l])){var u=SQ(e,l);try{_Q(t,l,u)}catch{}}}}return t}var NQ=T6;const kQ=hp(NQ);var qi={};function Bo(){return(Bo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var pk=function(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r},zb=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!E6.typeOf(t)},Bg=Object.freeze([]),tl=Object.freeze({});function Jh(t){return typeof t=="function"}function mk(t){return t.displayName||t.name||"Component"}function gS(t){return t&&typeof t.styledComponentId=="string"}var Cd=typeof process<"u"&&qi!==void 0&&(qi.REACT_APP_SC_ATTR||qi.SC_ATTR)||"data-styled",vS=typeof window<"u"&&"HTMLElement"in window,CQ=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&qi!==void 0&&(qi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&qi.REACT_APP_SC_DISABLE_SPEEDY!==""?qi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&qi.REACT_APP_SC_DISABLE_SPEEDY:qi.SC_DISABLE_SPEEDY!==void 0&&qi.SC_DISABLE_SPEEDY!==""&&qi.SC_DISABLE_SPEEDY!=="false"&&qi.SC_DISABLE_SPEEDY));function zp(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var TQ=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var e=t.prototype;return e.indexOfGroup=function(r){for(var n=0,i=0;i<r;i++)n+=this.groupSizes[i];return n},e.insertRules=function(r,n){if(r>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;r>=o;)(o<<=1)<0&&zp(16,""+r);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(r+1),u=0,c=n.length;u<c;u++)this.tag.insertRule(l,n[u])&&(this.groupSizes[r]++,l++)},e.clearGroup=function(r){if(r<this.length){var n=this.groupSizes[r],i=this.indexOfGroup(r),s=i+n;this.groupSizes[r]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(r){var n="";if(r>=this.length||this.groupSizes[r]===0)return n;for(var i=this.groupSizes[r],s=this.indexOfGroup(r),o=s+i,a=s;a<o;a++)n+=this.tag.getRule(a)+`/*!sc*/
`;return n},t}(),py=new Map,Fg=new Map,Vf=1,Pm=function(t){if(py.has(t))return py.get(t);for(;Fg.has(Vf);)Vf++;var e=Vf++;return py.set(t,e),Fg.set(e,t),e},RQ=function(t){return Fg.get(t)},OQ=function(t,e){e>=Vf&&(Vf=e+1),py.set(t,e),Fg.set(e,t)},AQ="style["+Cd+'][data-styled-version="5.3.11"]',IQ=new RegExp("^"+Cd+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),PQ=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},$Q=function(t,e){for(var r=(e.textContent||"").split(`/*!sc*/
`),n=[],i=0,s=r.length;i<s;i++){var o=r[i].trim();if(o){var a=o.match(IQ);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(OQ(u,l),PQ(t,u,a[3]),t.getTag().insertRules(l,n)),n.length=0}else n.push(o)}}},jQ=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},R6=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(Cd))return c}}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(Cd,"active"),n.setAttribute("data-styled-version","5.3.11");var o=jQ();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},LQ=function(){function t(r){var n=this.element=R6(r);n.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}zp(17)}(n),this.length=0}var e=t.prototype;return e.insertRule=function(r,n){try{return this.sheet.insertRule(n,r),this.length++,!0}catch{return!1}},e.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},e.getRule=function(r){var n=this.sheet.cssRules[r];return n!==void 0&&typeof n.cssText=="string"?n.cssText:""},t}(),DQ=function(){function t(r){var n=this.element=R6(r);this.nodes=n.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(r,n){if(r<=this.length&&r>=0){var i=document.createTextNode(n),s=this.nodes[r];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},e.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),MQ=function(){function t(r){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(r,n){return r<=this.length&&(this.rules.splice(r,0,n),this.length++,!0)},e.deleteRule=function(r){this.rules.splice(r,1),this.length--},e.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),yk=vS,BQ={isServer:!vS,useCSSOMInjection:!CQ},O6=function(){function t(r,n,i){r===void 0&&(r=tl),n===void 0&&(n={}),this.options=Bo({},BQ,{},r),this.gs=n,this.names=new Map(i),this.server=!!r.isServer,!this.server&&vS&&yk&&(yk=!1,function(s){for(var o=document.querySelectorAll(AQ),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(Cd)!=="active"&&($Q(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(r){return Pm(r)};var e=t.prototype;return e.reconstructWithOptions=function(r,n){return n===void 0&&(n=!0),new t(Bo({},this.options,{},r),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(n=this.options).isServer,s=n.useCSSOMInjection,o=n.target,r=i?new MQ(o):s?new LQ(o):new DQ(o),new TQ(r)));var r,n,i,s,o},e.hasNameForId=function(r,n){return this.names.has(r)&&this.names.get(r).has(n)},e.registerName=function(r,n){if(Pm(r),this.names.has(r))this.names.get(r).add(n);else{var i=new Set;i.add(n),this.names.set(r,i)}},e.insertRules=function(r,n,i){this.registerName(r,n),this.getTag().insertRules(Pm(r),i)},e.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},e.clearRules=function(r){this.getTag().clearGroup(Pm(r)),this.clearNames(r)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(r){for(var n=r.getTag(),i=n.length,s="",o=0;o<i;o++){var a=RQ(o);if(a!==void 0){var l=r.names.get(a),u=n.getGroup(o);if(l&&u&&l.size){var c=Cd+".g"+o+'[id="'+a+'"]',h="";l!==void 0&&l.forEach(function(p){p.length>0&&(h+=p+",")}),s+=""+u+c+'{content:"'+h+`"}/*!sc*/
`}}}return s}(this)},t}(),FQ=/(a)(d)/gi,gk=function(t){return String.fromCharCode(t+(t>25?39:97))};function Vb(t){var e,r="";for(e=Math.abs(t);e>52;e=e/52|0)r=gk(e%52)+r;return(gk(e%52)+r).replace(FQ,"$1-$2")}var Ec=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},A6=function(t){return Ec(5381,t)};function WQ(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Jh(r)&&!gS(r))return!1}return!0}var qQ=A6("5.3.11"),UQ=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&WQ(e),this.componentId=r,this.baseHash=Ec(qQ,r),this.baseStyle=n,O6.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,r,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=Td(this.rules,e,r,n).join(""),a=Vb(Ec(this.baseHash,o)>>>0);if(!r.hasNameForId(i,a)){var l=n(o,"."+a,void 0,i);r.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Ec(this.baseHash,n.hash),h="",p=0;p<u;p++){var g=this.rules[p];if(typeof g=="string")h+=g;else if(g){var _=Td(g,e,r,n),S=Array.isArray(_)?_.join(""):_;c=Ec(c,S+p),h+=S}}if(h){var E=Vb(c>>>0);if(!r.hasNameForId(i,E)){var w=n(h,"."+E,void 0,i);r.insertRules(i,E,w)}s.push(E)}}return s.join(" ")},t}(),zQ=/^\s*\/\/.*$/gm,VQ=[":","[",".","#"];function HQ(t){var e,r,n,i,s=t===void 0?tl:t,o=s.options,a=o===void 0?tl:o,l=s.plugins,u=l===void 0?Bg:l,c=new lQ(a),h=[],p=function(S){function E(w){if(w)try{S(w+"}")}catch{}}return function(w,v,N,I,R,k,L,j,Z,Q){switch(w){case 1:if(Z===0&&v.charCodeAt(0)===64)return S(v+";"),"";break;case 2:if(j===0)return v+"/*|*/";break;case 3:switch(j){case 102:case 112:return S(N[0]+v),"";default:return v+(Q===0?"/*|*/":"")}case-2:v.split("/*|*/}").forEach(E)}}}(function(S){h.push(S)}),g=function(S,E,w){return E===0&&VQ.indexOf(w[r.length])!==-1||w.match(i)?S:"."+e};function _(S,E,w,v){v===void 0&&(v="&");var N=S.replace(zQ,""),I=E&&w?w+" "+E+" { "+N+" }":N;return e=v,r=E,n=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),c(w||!E?"":E,I)}return c.use([].concat(u,[function(S,E,w){S===2&&w.length&&w[0].lastIndexOf(r)>0&&(w[0]=w[0].replace(n,g))},p,function(S){if(S===-2){var E=h;return h=[],E}}])),_.hash=u.length?u.reduce(function(S,E){return E.name||zp(15),Ec(S,E.name)},5381).toString():"",_}var I6=T.createContext();I6.Consumer;var P6=T.createContext(),QQ=(P6.Consumer,new O6),Hb=HQ();function GQ(){return O.useContext(I6)||QQ}function JQ(){return O.useContext(P6)||Hb}var YQ=function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=Hb);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.toString=function(){return zp(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=r}return t.prototype.getName=function(e){return e===void 0&&(e=Hb),this.name+e.hash},t}(),KQ=/([A-Z])/,ZQ=/([A-Z])/g,XQ=/^ms-/,eG=function(t){return"-"+t.toLowerCase()};function vk(t){return KQ.test(t)?t.replace(ZQ,eG).replace(XQ,"-ms-"):t}var wk=function(t){return t==null||t===!1||t===""};function Td(t,e,r,n){if(Array.isArray(t)){for(var i,s=[],o=0,a=t.length;o<a;o+=1)(i=Td(t[o],e,r,n))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(wk(t))return"";if(gS(t))return"."+t.styledComponentId;if(Jh(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return Td(l,e,r,n)}var u;return t instanceof YQ?r?(t.inject(r,n),t.getName(n)):t:zb(t)?function c(h,p){var g,_,S=[];for(var E in h)h.hasOwnProperty(E)&&!wk(h[E])&&(Array.isArray(h[E])&&h[E].isCss||Jh(h[E])?S.push(vk(E)+":",h[E],";"):zb(h[E])?S.push.apply(S,c(h[E],E)):S.push(vk(E)+": "+(g=E,(_=h[E])==null||typeof _=="boolean"||_===""?"":typeof _!="number"||_===0||g in uQ||g.startsWith("--")?String(_).trim():_+"px")+";"));return p?[p+" {"].concat(S,["}"]):S}(t):t.toString()}var bk=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function $6(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Jh(t)||zb(t)?bk(Td(pk(Bg,[t].concat(r)))):r.length===0&&t.length===1&&typeof t[0]=="string"?t:bk(Td(pk(t,r)))}var tG=function(t,e,r){return r===void 0&&(r=tl),t.theme!==r.theme&&t.theme||e||r.theme},rG=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,nG=/(^-|-$)/g;function Vw(t){return t.replace(rG,"-").replace(nG,"")}var iG=function(t){return Vb(A6(t)>>>0)};function $m(t){return typeof t=="string"&&!0}var Qb=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},sG=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function oG(t,e,r){var n=t[r];Qb(e)&&Qb(n)?j6(n,e):t[r]=e}function j6(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var i=0,s=r;i<s.length;i++){var o=s[i];if(Qb(o))for(var a in o)sG(a)&&oG(t,o[a],a)}return t}var L6=T.createContext();L6.Consumer;var Hw={};function D6(t,e,r){var n=gS(t),i=!$m(t),s=e.attrs,o=s===void 0?Bg:s,a=e.componentId,l=a===void 0?function(v,N){var I=typeof v!="string"?"sc":Vw(v);Hw[I]=(Hw[I]||0)+1;var R=I+"-"+iG("5.3.11"+I+Hw[I]);return N?N+"-"+R:R}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(v){return $m(v)?"styled."+v:"Styled("+mk(v)+")"}(t):u,h=e.displayName&&e.componentId?Vw(e.displayName)+"-"+e.componentId:e.componentId||l,p=n&&t.attrs?Array.prototype.concat(t.attrs,o).filter(Boolean):o,g=e.shouldForwardProp;n&&t.shouldForwardProp&&(g=e.shouldForwardProp?function(v,N,I){return t.shouldForwardProp(v,N,I)&&e.shouldForwardProp(v,N,I)}:t.shouldForwardProp);var _,S=new UQ(r,h,n?t.componentStyle:void 0),E=S.isStatic&&o.length===0,w=function(v,N){return function(I,R,k,L){var j=I.attrs,Z=I.componentStyle,Q=I.defaultProps,te=I.foldedComponentIds,re=I.shouldForwardProp,G=I.styledComponentId,fe=I.target,je=function(Le,V,Ve){Le===void 0&&(Le=tl);var se=Bo({},V,{theme:Le}),ct={};return Ve.forEach(function(st){var Ge,pe,me,Be=st;for(Ge in Jh(Be)&&(Be=Be(se)),Be)se[Ge]=ct[Ge]=Ge==="className"?(pe=ct[Ge],me=Be[Ge],pe&&me?pe+" "+me:pe||me):Be[Ge]}),[se,ct]}(tG(R,O.useContext(L6),Q)||tl,R,j),Fe=je[0],Pe=je[1],X=function(Le,V,Ve,se){var ct=GQ(),st=JQ(),Ge=V?Le.generateAndInjectStyles(tl,ct,st):Le.generateAndInjectStyles(Ve,ct,st);return Ge}(Z,L,Fe),ge=k,Ce=Pe.$as||R.$as||Pe.as||R.as||fe,Ae=$m(Ce),ue=Pe!==R?Bo({},R,{},Pe):R,_e={};for(var ve in ue)ve[0]!=="$"&&ve!=="as"&&(ve==="forwardedAs"?_e.as=ue[ve]:(re?re(ve,ck,Ce):!Ae||ck(ve))&&(_e[ve]=ue[ve]));return R.style&&Pe.style!==R.style&&(_e.style=Bo({},R.style,{},Pe.style)),_e.className=Array.prototype.concat(te,G,X!==G?X:null,R.className,Pe.className).filter(Boolean).join(" "),_e.ref=ge,O.createElement(Ce,_e)}(_,v,N,E)};return w.displayName=c,(_=T.forwardRef(w)).attrs=p,_.componentStyle=S,_.displayName=c,_.shouldForwardProp=g,_.foldedComponentIds=n?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Bg,_.styledComponentId=h,_.target=n?t.target:t,_.withComponent=function(v){var N=e.componentId,I=function(k,L){if(k==null)return{};var j,Z,Q={},te=Object.keys(k);for(Z=0;Z<te.length;Z++)j=te[Z],L.indexOf(j)>=0||(Q[j]=k[j]);return Q}(e,["componentId"]),R=N&&N+"-"+($m(v)?v:Vw(mk(v)));return D6(v,Bo({},I,{attrs:p,componentId:R}),r)},Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=n?j6({},t.defaultProps,v):v}}),Object.defineProperty(_,"toString",{value:function(){return"."+_.styledComponentId}}),i&&kQ(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),_}var Gb=function(t){return function e(r,n,i){if(i===void 0&&(i=tl),!E6.isValidElementType(n))return zp(1,String(n));var s=function(){return r(n,i,$6.apply(void 0,arguments))};return s.withConfig=function(o){return e(r,n,Bo({},i,{},o))},s.attrs=function(o){return e(r,n,Bo({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(D6,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){Gb[t]=Gb(t)});const T0=Gb;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var du=function(){return du=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},du.apply(this,arguments)};function Vp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var _k,xk,Sk,Ek,Nk,aG=$6(_k||(_k=Vp([`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`],[`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`])),"#0658c2","#666","#666","#666","#666","#666"),lG=T0.label(xk||(xk=Vp([`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`],[`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`])),function(t){return t.overRide?"":aG}),uG=T0.div(Sk||(Sk=Vp([`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.5;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`],[`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.5;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`])),"#666","#999"),cG=T0.div(Ek||(Ek=Vp([`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`],[`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`])),function(t){return t.error?"red":"#666"}),dG=T0.span(Nk||(Nk=Vp([`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`],[`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`])),"#666"),kk=function(t){return t/1e3/1e3},fG=function(t){return t===void 0?"":t.map(function(e){return".".concat(e.toLowerCase())}).join(",")};function hG(t){var e=t.types,r=t.minSize,n=t.maxSize;if(e){var i=e.toString(),s="";return n&&(s+="size >= ".concat(n,", ")),r&&(s+="size <= ".concat(r,", ")),y.jsx("span",du({title:"".concat(s,"types: ").concat(i),className:"file-types"},{children:i}),void 0)}return null}function pG(){return y.jsxs("svg",du({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[y.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),y.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),y.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var Qw=0,mG=function(t,e,r,n,i){return r?y.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):y.jsx(dG,{children:n?y.jsx("span",{children:"Upload disabled"},void 0):t||e?y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0):y.jsx(y.Fragment,{children:y.jsxs(y.Fragment,i?{children:[y.jsx("span",{children:i.split(" ")[0]},void 0)," ",i.substr(i.indexOf(" ")+1)]}:{children:[y.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},yG=function(t){var e=t.name,r=t.hoverTitle,n=t.types,i=t.handleChange,s=t.classes,o=t.children,a=t.maxSize,l=t.minSize,u=t.fileOrFiles,c=t.onSizeError,h=t.onTypeError,p=t.onSelect,g=t.onDrop,_=t.disabled,S=t.label,E=t.multiple,w=t.required,v=t.onDraggingStateChange,N=t.dropMessageStyle,I=O.useRef(null),R=O.useRef(null),k=O.useState(!1),L=k[0],j=k[1],Z=O.useState(null),Q=Z[0],te=Z[1],re=O.useState(!1),G=re[0],fe=re[1],je=function(X){return n&&!function(ge,Ce){var Ae=ge.name.split(".").pop();return Ce.map(function(ue){return ue.toLowerCase()}).includes(Ae.toLowerCase())}(X,n)?(fe(!0),h&&h("File type is not supported"),!1):a&&kk(X.size)>a?(fe(!0),c&&c("File size is too big"),!1):!(l&&kk(X.size)<l)||(fe(!0),c&&c("File size is too small"),!1)},Fe=function(X){var ge=!1;if(X){if(X instanceof File)ge=!je(X);else for(var Ce=0;Ce<X.length;Ce++){var Ae=X[Ce];ge=!je(Ae)||ge}return!ge&&(i&&i(X),te(X),j(!0),fe(!1),!0)}return!1},Pe=function(X){var ge=X.labelRef,Ce=X.inputRef,Ae=X.multiple,ue=X.handleChanges,_e=X.onDrop,ve=O.useState(!1),Le=ve[0],V=ve[1],Ve=O.useCallback(function(){Ce.current.click()},[Ce]),se=O.useCallback(function(pe){pe.preventDefault(),pe.stopPropagation(),Qw++,pe.dataTransfer.items&&pe.dataTransfer.items.length!==0&&V(!0)},[]),ct=O.useCallback(function(pe){pe.preventDefault(),pe.stopPropagation(),--Qw>0||V(!1)},[]),st=O.useCallback(function(pe){pe.preventDefault(),pe.stopPropagation()},[]),Ge=O.useCallback(function(pe){pe.preventDefault(),pe.stopPropagation(),V(!1),Qw=0;var me=pe.dataTransfer.files;if(me&&me.length>0){var Be=Ae?me:me[0],$e=ue(Be);_e&&$e&&_e(Be)}},[ue]);return O.useEffect(function(){var pe=ge.current;return pe.addEventListener("click",Ve),pe.addEventListener("dragenter",se),pe.addEventListener("dragleave",ct),pe.addEventListener("dragover",st),pe.addEventListener("drop",Ge),function(){pe.removeEventListener("click",Ve),pe.removeEventListener("dragenter",se),pe.removeEventListener("dragleave",ct),pe.removeEventListener("dragover",st),pe.removeEventListener("drop",Ge)}},[Ve,se,ct,st,Ge,ge]),Le}({labelRef:I,inputRef:R,multiple:E,handleChanges:Fe,onDrop:g});return O.useEffect(function(){v==null||v(Pe)},[Pe]),O.useEffect(function(){u?(j(!0),te(u)):(R.current&&(R.current.value=""),j(!1),te(null))},[u]),y.jsxs(lG,du({overRide:o,className:"".concat(s||""," ").concat(_?"is-disabled":""),ref:I,htmlFor:e,onClick:function(X){X.preventDefault(),X.stopPropagation()}},{children:[y.jsx("input",{onClick:function(X){X.stopPropagation(),R&&R.current&&(R.current.value="",R.current.click())},onChange:function(X){var ge=X.target.files,Ce=E?ge:ge[0],Ae=Fe(Ce);p&&Ae&&p(Ce)},accept:fG(n),ref:R,type:"file",name:e,disabled:_,multiple:E,required:w},void 0),Pe&&y.jsx(uG,du({style:N},{children:y.jsx("span",{children:r||"Drop Here"},void 0)}),void 0),!o&&y.jsxs(y.Fragment,{children:[y.jsx(pG,{},void 0),y.jsxs(cG,du({error:G},{children:[mG(Q,L,G,_,S),y.jsx(hG,{types:n,minSize:l,maxSize:a},void 0)]}),void 0)]},void 0),o]}),void 0)};const gG=t=>{const e=["sqlite","db"],{setDataSource:r,setError:n,session:i}=t,[s,o]=O.useState(null),a=async l=>{o(l);try{const u=await l.arrayBuffer(),c=new Uint8Array(u),h=await Fp(),{sqlite:p,db:g}=OO(h,c,{}),_=uS(g);r({_tag:"sandbox",sqlite:p,db:g,app:_,session:i})}catch(u){n(u)}};return y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"drag and drop"}),y.jsx(yG,{multiple:!1,handleChange:a,name:"file",types:e}),y.jsx("p",{children:s?`File name: ${s.name}`:"no files uploaded yet"})]})};function jm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var M6={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function o(u,c){if(!i[u]){if(!n[u]){var h=typeof jm=="function"&&jm;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var g=i[u]={exports:{}};n[u][0].call(g.exports,function(_){var S=n[u][1][_];return o(S||_)},g,g.exports,r,n,i,s)}return i[u].exports}for(var a=typeof jm=="function"&&jm,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,u=new o(_),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var h=new s.MessageChannel;h.port1.onmessage=_,a=function(){h.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var E=s.document.createElement("script");E.onreadystatechange=function(){_(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},s.document.documentElement.appendChild(E)}:a=function(){setTimeout(_,0)};var p,g=[];function _(){p=!0;for(var E,w,v=g.length;v;){for(w=g,g=[],E=-1;++E<v;)w[E]();v=g.length}p=!1}n.exports=S;function S(E){g.push(E)===1&&!p&&a()}}).call(this,typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var s=r(1);function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];n.exports=h;function h(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,R!==o&&S(this,R)}h.prototype.catch=function(R){return this.then(null,R)},h.prototype.then=function(R,k){if(typeof R!="function"&&this.state===u||typeof k!="function"&&this.state===l)return this;var L=new this.constructor(o);if(this.state!==c){var j=this.state===u?R:k;g(L,j,this.outcome)}else this.queue.push(new p(L,R,k));return L};function p(R,k,L){this.promise=R,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(R){a.resolve(this.promise,R)},p.prototype.otherCallFulfilled=function(R){g(this.promise,this.onFulfilled,R)},p.prototype.callRejected=function(R){a.reject(this.promise,R)},p.prototype.otherCallRejected=function(R){g(this.promise,this.onRejected,R)};function g(R,k,L){s(function(){var j;try{j=k(L)}catch(Z){return a.reject(R,Z)}j===R?a.reject(R,new TypeError("Cannot resolve promise with itself")):a.resolve(R,j)})}a.resolve=function(R,k){var L=E(_,k);if(L.status==="error")return a.reject(R,L.value);var j=L.value;if(j)S(R,j);else{R.state=u,R.outcome=k;for(var Z=-1,Q=R.queue.length;++Z<Q;)R.queue[Z].callFulfilled(k)}return R},a.reject=function(R,k){R.state=l,R.outcome=k;for(var L=-1,j=R.queue.length;++L<j;)R.queue[L].callRejected(k);return R};function _(R){var k=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof k=="function")return function(){k.apply(R,arguments)}}function S(R,k){var L=!1;function j(re){L||(L=!0,a.reject(R,re))}function Z(re){L||(L=!0,a.resolve(R,re))}function Q(){k(Z,j)}var te=E(Q);te.status==="error"&&j(te.value)}function E(R,k){var L={};try{L.value=R(k),L.status="success"}catch(j){L.status="error",L.value=j}return L}h.resolve=w;function w(R){return R instanceof this?R:a.resolve(new this(o),R)}h.reject=v;function v(R){var k=new this(o);return a.reject(k,R)}h.all=N;function N(R){var k=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=R.length,j=!1;if(!L)return this.resolve([]);for(var Z=new Array(L),Q=0,te=-1,re=new this(o);++te<L;)G(R[te],te);return re;function G(fe,je){k.resolve(fe).then(Fe,function(Pe){j||(j=!0,a.reject(re,Pe))});function Fe(Pe){Z[je]=Pe,++Q===L&&!j&&(j=!0,a.resolve(re,Z))}}}h.race=I;function I(R){var k=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=R.length,j=!1;if(!L)return this.resolve([]);for(var Z=-1,Q=new this(o);++Z<L;)te(R[Z]);return Q;function te(re){k.resolve(re).then(function(G){j||(j=!0,a.resolve(Q,G))},function(G){j||(j=!0,a.reject(Q,G))})}}},{1:1}],3:[function(r,n,i){(function(s){typeof s.Promise!="function"&&(s.Promise=r(2))}).call(this,typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function o(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),M=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||M)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(C,M){C=C||[],M=M||{};try{return new Blob(C,M)}catch(F){if(F.name!=="TypeError")throw F;for(var P=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,q=new P,B=0;B<C.length;B+=1)q.append(C[B]);return q.getBlob(M.type)}}typeof Promise>"u"&&r(3);var h=Promise;function p(C,M){M&&C.then(function(P){M(null,P)},function(P){M(P)})}function g(C,M,P){typeof M=="function"&&C.then(M),typeof P=="function"&&C.catch(P)}function _(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var E="local-forage-detect-blob-support",w=void 0,v={},N=Object.prototype.toString,I="readonly",R="readwrite";function k(C){for(var M=C.length,P=new ArrayBuffer(M),q=new Uint8Array(P),B=0;B<M;B++)q[B]=C.charCodeAt(B);return P}function L(C){return new h(function(M){var P=C.transaction(E,R),q=c([""]);P.objectStore(E).put(q,"key"),P.onabort=function(B){B.preventDefault(),B.stopPropagation(),M(!1)},P.oncomplete=function(){var B=navigator.userAgent.match(/Chrome\/(\d+)/),F=navigator.userAgent.match(/Edge\//);M(F||!B||parseInt(B[1],10)>=43)}}).catch(function(){return!1})}function j(C){return typeof w=="boolean"?h.resolve(w):L(C).then(function(M){return w=M,w})}function Z(C){var M=v[C.name],P={};P.promise=new h(function(q,B){P.resolve=q,P.reject=B}),M.deferredOperations.push(P),M.dbReady?M.dbReady=M.dbReady.then(function(){return P.promise}):M.dbReady=P.promise}function Q(C){var M=v[C.name],P=M.deferredOperations.pop();if(P)return P.resolve(),P.promise}function te(C,M){var P=v[C.name],q=P.deferredOperations.pop();if(q)return q.reject(M),q.promise}function re(C,M){return new h(function(P,q){if(v[C.name]=v[C.name]||ue(),C.db)if(M)Z(C),C.db.close();else return P(C.db);var B=[C.name];M&&B.push(C.version);var F=l.open.apply(l,B);M&&(F.onupgradeneeded=function(le){var ye=F.result;try{ye.createObjectStore(C.storeName),le.oldVersion<=1&&ye.createObjectStore(E)}catch(Ee){if(Ee.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+le.oldVersion+" to version "+le.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw Ee}}),F.onerror=function(le){le.preventDefault(),q(F.error)},F.onsuccess=function(){var le=F.result;le.onversionchange=function(ye){ye.target.close()},P(le),Q(C)}})}function G(C){return re(C,!1)}function fe(C){return re(C,!0)}function je(C,M){if(!C.db)return!0;var P=!C.db.objectStoreNames.contains(C.storeName),q=C.version<C.db.version,B=C.version>C.db.version;if(q&&(C.version!==M&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),B||P){if(P){var F=C.db.version+1;F>C.version&&(C.version=F)}return!0}return!1}function Fe(C){return new h(function(M,P){var q=new FileReader;q.onerror=P,q.onloadend=function(B){var F=btoa(B.target.result||"");M({__local_forage_encoded_blob:!0,data:F,type:C.type})},q.readAsBinaryString(C)})}function Pe(C){var M=k(atob(C.data));return c([M],{type:C.type})}function X(C){return C&&C.__local_forage_encoded_blob}function ge(C){var M=this,P=M._initReady().then(function(){var q=v[M._dbInfo.name];if(q&&q.dbReady)return q.dbReady});return g(P,C,C),P}function Ce(C){Z(C);for(var M=v[C.name],P=M.forages,q=0;q<P.length;q++){var B=P[q];B._dbInfo.db&&(B._dbInfo.db.close(),B._dbInfo.db=null)}return C.db=null,G(C).then(function(F){return C.db=F,je(C)?fe(C):F}).then(function(F){C.db=M.db=F;for(var le=0;le<P.length;le++)P[le]._dbInfo.db=F}).catch(function(F){throw te(C,F),F})}function Ae(C,M,P,q){q===void 0&&(q=1);try{var B=C.db.transaction(C.storeName,M);P(null,B)}catch(F){if(q>0&&(!C.db||F.name==="InvalidStateError"||F.name==="NotFoundError"))return h.resolve().then(function(){if(!C.db||F.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),fe(C)}).then(function(){return Ce(C).then(function(){Ae(C,M,P,q-1)})}).catch(P);P(F)}}function ue(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _e(C){var M=this,P={db:null};if(C)for(var q in C)P[q]=C[q];var B=v[P.name];B||(B=ue(),v[P.name]=B),B.forages.push(M),M._initReady||(M._initReady=M.ready,M.ready=ge);var F=[];function le(){return h.resolve()}for(var ye=0;ye<B.forages.length;ye++){var Ee=B.forages[ye];Ee!==M&&F.push(Ee._initReady().catch(le))}var Ne=B.forages.slice(0);return h.all(F).then(function(){return P.db=B.db,G(P)}).then(function(Re){return P.db=Re,je(P,M._defaultConfig.version)?fe(P):Re}).then(function(Re){P.db=B.db=Re,M._dbInfo=P;for(var Ue=0;Ue<Ne.length;Ue++){var wt=Ne[Ue];wt!==M&&(wt._dbInfo.db=P.db,wt._dbInfo.version=P.version)}})}function ve(C,M){var P=this;C=_(C);var q=new h(function(B,F){P.ready().then(function(){Ae(P._dbInfo,I,function(le,ye){if(le)return F(le);try{var Ee=ye.objectStore(P._dbInfo.storeName),Ne=Ee.get(C);Ne.onsuccess=function(){var Re=Ne.result;Re===void 0&&(Re=null),X(Re)&&(Re=Pe(Re)),B(Re)},Ne.onerror=function(){F(Ne.error)}}catch(Re){F(Re)}})}).catch(F)});return p(q,M),q}function Le(C,M){var P=this,q=new h(function(B,F){P.ready().then(function(){Ae(P._dbInfo,I,function(le,ye){if(le)return F(le);try{var Ee=ye.objectStore(P._dbInfo.storeName),Ne=Ee.openCursor(),Re=1;Ne.onsuccess=function(){var Ue=Ne.result;if(Ue){var wt=Ue.value;X(wt)&&(wt=Pe(wt));var Bt=C(wt,Ue.key,Re++);Bt!==void 0?B(Bt):Ue.continue()}else B()},Ne.onerror=function(){F(Ne.error)}}catch(Ue){F(Ue)}})}).catch(F)});return p(q,M),q}function V(C,M,P){var q=this;C=_(C);var B=new h(function(F,le){var ye;q.ready().then(function(){return ye=q._dbInfo,N.call(M)==="[object Blob]"?j(ye.db).then(function(Ee){return Ee?M:Fe(M)}):M}).then(function(Ee){Ae(q._dbInfo,R,function(Ne,Re){if(Ne)return le(Ne);try{var Ue=Re.objectStore(q._dbInfo.storeName);Ee===null&&(Ee=void 0);var wt=Ue.put(Ee,C);Re.oncomplete=function(){Ee===void 0&&(Ee=null),F(Ee)},Re.onabort=Re.onerror=function(){var Bt=wt.error?wt.error:wt.transaction.error;le(Bt)}}catch(Bt){le(Bt)}})}).catch(le)});return p(B,P),B}function Ve(C,M){var P=this;C=_(C);var q=new h(function(B,F){P.ready().then(function(){Ae(P._dbInfo,R,function(le,ye){if(le)return F(le);try{var Ee=ye.objectStore(P._dbInfo.storeName),Ne=Ee.delete(C);ye.oncomplete=function(){B()},ye.onerror=function(){F(Ne.error)},ye.onabort=function(){var Re=Ne.error?Ne.error:Ne.transaction.error;F(Re)}}catch(Re){F(Re)}})}).catch(F)});return p(q,M),q}function se(C){var M=this,P=new h(function(q,B){M.ready().then(function(){Ae(M._dbInfo,R,function(F,le){if(F)return B(F);try{var ye=le.objectStore(M._dbInfo.storeName),Ee=ye.clear();le.oncomplete=function(){q()},le.onabort=le.onerror=function(){var Ne=Ee.error?Ee.error:Ee.transaction.error;B(Ne)}}catch(Ne){B(Ne)}})}).catch(B)});return p(P,C),P}function ct(C){var M=this,P=new h(function(q,B){M.ready().then(function(){Ae(M._dbInfo,I,function(F,le){if(F)return B(F);try{var ye=le.objectStore(M._dbInfo.storeName),Ee=ye.count();Ee.onsuccess=function(){q(Ee.result)},Ee.onerror=function(){B(Ee.error)}}catch(Ne){B(Ne)}})}).catch(B)});return p(P,C),P}function st(C,M){var P=this,q=new h(function(B,F){if(C<0){B(null);return}P.ready().then(function(){Ae(P._dbInfo,I,function(le,ye){if(le)return F(le);try{var Ee=ye.objectStore(P._dbInfo.storeName),Ne=!1,Re=Ee.openKeyCursor();Re.onsuccess=function(){var Ue=Re.result;if(!Ue){B(null);return}C===0||Ne?B(Ue.key):(Ne=!0,Ue.advance(C))},Re.onerror=function(){F(Re.error)}}catch(Ue){F(Ue)}})}).catch(F)});return p(q,M),q}function Ge(C){var M=this,P=new h(function(q,B){M.ready().then(function(){Ae(M._dbInfo,I,function(F,le){if(F)return B(F);try{var ye=le.objectStore(M._dbInfo.storeName),Ee=ye.openKeyCursor(),Ne=[];Ee.onsuccess=function(){var Re=Ee.result;if(!Re){q(Ne);return}Ne.push(Re.key),Re.continue()},Ee.onerror=function(){B(Ee.error)}}catch(Re){B(Re)}})}).catch(B)});return p(P,C),P}function pe(C,M){M=S.apply(this,arguments);var P=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||P.name,C.storeName=C.storeName||P.storeName);var q=this,B;if(!C.name)B=h.reject("Invalid arguments");else{var F=C.name===P.name&&q._dbInfo.db,le=F?h.resolve(q._dbInfo.db):G(C).then(function(ye){var Ee=v[C.name],Ne=Ee.forages;Ee.db=ye;for(var Re=0;Re<Ne.length;Re++)Ne[Re]._dbInfo.db=ye;return ye});C.storeName?B=le.then(function(ye){if(ye.objectStoreNames.contains(C.storeName)){var Ee=ye.version+1;Z(C);var Ne=v[C.name],Re=Ne.forages;ye.close();for(var Ue=0;Ue<Re.length;Ue++){var wt=Re[Ue];wt._dbInfo.db=null,wt._dbInfo.version=Ee}var Bt=new h(function(Ft,yr){var gr=l.open(C.name,Ee);gr.onerror=function(Tn){var po=gr.result;po.close(),yr(Tn)},gr.onupgradeneeded=function(){var Tn=gr.result;Tn.deleteObjectStore(C.storeName)},gr.onsuccess=function(){var Tn=gr.result;Tn.close(),Ft(Tn)}});return Bt.then(function(Ft){Ne.db=Ft;for(var yr=0;yr<Re.length;yr++){var gr=Re[yr];gr._dbInfo.db=Ft,Q(gr._dbInfo)}}).catch(function(Ft){throw(te(C,Ft)||h.resolve()).catch(function(){}),Ft})}}):B=le.then(function(ye){Z(C);var Ee=v[C.name],Ne=Ee.forages;ye.close();for(var Re=0;Re<Ne.length;Re++){var Ue=Ne[Re];Ue._dbInfo.db=null}var wt=new h(function(Bt,Ft){var yr=l.deleteDatabase(C.name);yr.onerror=function(){var gr=yr.result;gr&&gr.close(),Ft(yr.error)},yr.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},yr.onsuccess=function(){var gr=yr.result;gr&&gr.close(),Bt(gr)}});return wt.then(function(Bt){Ee.db=Bt;for(var Ft=0;Ft<Ne.length;Ft++){var yr=Ne[Ft];Q(yr._dbInfo)}}).catch(function(Bt){throw(te(C,Bt)||h.resolve()).catch(function(){}),Bt})})}return p(B,M),B}var me={_driver:"asyncStorage",_initStorage:_e,_support:u(),iterate:Le,getItem:ve,setItem:V,removeItem:Ve,clear:se,length:ct,key:st,keys:Ge,dropInstance:pe};function Be(){return typeof openDatabase=="function"}var $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt="~~local_forage_type~",it=/^~~local_forage_type~([^~]+)~/,$="__lfsc__:",W=$.length,J="arbf",Te="blob",xe="si08",he="ui08",ne="uic8",De="si16",Rt="si32",Mt="ur16",er="ui32",Hr="fl32",kn="fl64",ji=W+J.length,Ds=Object.prototype.toString;function Ms(C){var M=C.length*.75,P=C.length,q,B=0,F,le,ye,Ee;C[C.length-1]==="="&&(M--,C[C.length-2]==="="&&M--);var Ne=new ArrayBuffer(M),Re=new Uint8Array(Ne);for(q=0;q<P;q+=4)F=$e.indexOf(C[q]),le=$e.indexOf(C[q+1]),ye=$e.indexOf(C[q+2]),Ee=$e.indexOf(C[q+3]),Re[B++]=F<<2|le>>4,Re[B++]=(le&15)<<4|ye>>2,Re[B++]=(ye&3)<<6|Ee&63;return Ne}function Bs(C){var M=new Uint8Array(C),P="",q;for(q=0;q<M.length;q+=3)P+=$e[M[q]>>2],P+=$e[(M[q]&3)<<4|M[q+1]>>4],P+=$e[(M[q+1]&15)<<2|M[q+2]>>6],P+=$e[M[q+2]&63];return M.length%3===2?P=P.substring(0,P.length-1)+"=":M.length%3===1&&(P=P.substring(0,P.length-2)+"=="),P}function es(C,M){var P="";if(C&&(P=Ds.call(C)),C&&(P==="[object ArrayBuffer]"||C.buffer&&Ds.call(C.buffer)==="[object ArrayBuffer]")){var q,B=$;C instanceof ArrayBuffer?(q=C,B+=J):(q=C.buffer,P==="[object Int8Array]"?B+=xe:P==="[object Uint8Array]"?B+=he:P==="[object Uint8ClampedArray]"?B+=ne:P==="[object Int16Array]"?B+=De:P==="[object Uint16Array]"?B+=Mt:P==="[object Int32Array]"?B+=Rt:P==="[object Uint32Array]"?B+=er:P==="[object Float32Array]"?B+=Hr:P==="[object Float64Array]"?B+=kn:M(new Error("Failed to get type for BinaryArray"))),M(B+Bs(q))}else if(P==="[object Blob]"){var F=new FileReader;F.onload=function(){var le=pt+C.type+"~"+Bs(this.result);M($+Te+le)},F.readAsArrayBuffer(C)}else try{M(JSON.stringify(C))}catch(le){console.error("Couldn't convert value into a JSON string: ",C),M(null,le)}}function Bu(C){if(C.substring(0,W)!==$)return JSON.parse(C);var M=C.substring(ji),P=C.substring(W,ji),q;if(P===Te&&it.test(M)){var B=M.match(it);q=B[1],M=M.substring(B[0].length)}var F=Ms(M);switch(P){case J:return F;case Te:return c([F],{type:q});case xe:return new Int8Array(F);case he:return new Uint8Array(F);case ne:return new Uint8ClampedArray(F);case De:return new Int16Array(F);case Mt:return new Uint16Array(F);case Rt:return new Int32Array(F);case er:return new Uint32Array(F);case Hr:return new Float32Array(F);case kn:return new Float64Array(F);default:throw new Error("Unkown type: "+P)}}var Fs={serialize:es,deserialize:Bu,stringToBuffer:Ms,bufferToString:Bs};function gt(C,M,P,q){C.executeSql("CREATE TABLE IF NOT EXISTS "+M.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],P,q)}function vl(C){var M=this,P={db:null};if(C)for(var q in C)P[q]=typeof C[q]!="string"?C[q].toString():C[q];var B=new h(function(F,le){try{P.db=openDatabase(P.name,String(P.version),P.description,P.size)}catch(ye){return le(ye)}P.db.transaction(function(ye){gt(ye,P,function(){M._dbInfo=P,F()},function(Ee,Ne){le(Ne)})},le)});return P.serializer=Fs,B}function Xn(C,M,P,q,B,F){C.executeSql(P,q,B,function(le,ye){ye.code===ye.SYNTAX_ERR?le.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[M.storeName],function(Ee,Ne){Ne.rows.length?F(Ee,ye):gt(Ee,M,function(){Ee.executeSql(P,q,B,F)},F)},F):F(le,ye)},F)}function wl(C,M){var P=this;C=_(C);var q=new h(function(B,F){P.ready().then(function(){var le=P._dbInfo;le.db.transaction(function(ye){Xn(ye,le,"SELECT * FROM "+le.storeName+" WHERE key = ? LIMIT 1",[C],function(Ee,Ne){var Re=Ne.rows.length?Ne.rows.item(0).value:null;Re&&(Re=le.serializer.deserialize(Re)),B(Re)},function(Ee,Ne){F(Ne)})})}).catch(F)});return p(q,M),q}function ho(C,M){var P=this,q=new h(function(B,F){P.ready().then(function(){var le=P._dbInfo;le.db.transaction(function(ye){Xn(ye,le,"SELECT * FROM "+le.storeName,[],function(Ee,Ne){for(var Re=Ne.rows,Ue=Re.length,wt=0;wt<Ue;wt++){var Bt=Re.item(wt),Ft=Bt.value;if(Ft&&(Ft=le.serializer.deserialize(Ft)),Ft=C(Ft,Bt.key,wt+1),Ft!==void 0){B(Ft);return}}B()},function(Ee,Ne){F(Ne)})})}).catch(F)});return p(q,M),q}function z(C,M,P,q){var B=this;C=_(C);var F=new h(function(le,ye){B.ready().then(function(){M===void 0&&(M=null);var Ee=M,Ne=B._dbInfo;Ne.serializer.serialize(M,function(Re,Ue){Ue?ye(Ue):Ne.db.transaction(function(wt){Xn(wt,Ne,"INSERT OR REPLACE INTO "+Ne.storeName+" (key, value) VALUES (?, ?)",[C,Re],function(){le(Ee)},function(Bt,Ft){ye(Ft)})},function(wt){if(wt.code===wt.QUOTA_ERR){if(q>0){le(z.apply(B,[C,Ee,P,q-1]));return}ye(wt)}})})}).catch(ye)});return p(F,P),F}function K(C,M,P){return z.apply(this,[C,M,P,1])}function ae(C,M){var P=this;C=_(C);var q=new h(function(B,F){P.ready().then(function(){var le=P._dbInfo;le.db.transaction(function(ye){Xn(ye,le,"DELETE FROM "+le.storeName+" WHERE key = ?",[C],function(){B()},function(Ee,Ne){F(Ne)})})}).catch(F)});return p(q,M),q}function H(C){var M=this,P=new h(function(q,B){M.ready().then(function(){var F=M._dbInfo;F.db.transaction(function(le){Xn(le,F,"DELETE FROM "+F.storeName,[],function(){q()},function(ye,Ee){B(Ee)})})}).catch(B)});return p(P,C),P}function We(C){var M=this,P=new h(function(q,B){M.ready().then(function(){var F=M._dbInfo;F.db.transaction(function(le){Xn(le,F,"SELECT COUNT(key) as c FROM "+F.storeName,[],function(ye,Ee){var Ne=Ee.rows.item(0).c;q(Ne)},function(ye,Ee){B(Ee)})})}).catch(B)});return p(P,C),P}function Ze(C,M){var P=this,q=new h(function(B,F){P.ready().then(function(){var le=P._dbInfo;le.db.transaction(function(ye){Xn(ye,le,"SELECT key FROM "+le.storeName+" WHERE id = ? LIMIT 1",[C+1],function(Ee,Ne){var Re=Ne.rows.length?Ne.rows.item(0).key:null;B(Re)},function(Ee,Ne){F(Ne)})})}).catch(F)});return p(q,M),q}function et(C){var M=this,P=new h(function(q,B){M.ready().then(function(){var F=M._dbInfo;F.db.transaction(function(le){Xn(le,F,"SELECT key FROM "+F.storeName,[],function(ye,Ee){for(var Ne=[],Re=0;Re<Ee.rows.length;Re++)Ne.push(Ee.rows.item(Re).key);q(Ne)},function(ye,Ee){B(Ee)})})}).catch(B)});return p(P,C),P}function Xe(C){return new h(function(M,P){C.transaction(function(q){q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(B,F){for(var le=[],ye=0;ye<F.rows.length;ye++)le.push(F.rows.item(ye).name);M({db:C,storeNames:le})},function(B,F){P(F)})},function(q){P(q)})})}function Je(C,M){M=S.apply(this,arguments);var P=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||P.name,C.storeName=C.storeName||P.storeName);var q=this,B;return C.name?B=new h(function(F){var le;C.name===P.name?le=q._dbInfo.db:le=openDatabase(C.name,"","",0),C.storeName?F({db:le,storeNames:[C.storeName]}):F(Xe(le))}).then(function(F){return new h(function(le,ye){F.db.transaction(function(Ee){function Ne(Bt){return new h(function(Ft,yr){Ee.executeSql("DROP TABLE IF EXISTS "+Bt,[],function(){Ft()},function(gr,Tn){yr(Tn)})})}for(var Re=[],Ue=0,wt=F.storeNames.length;Ue<wt;Ue++)Re.push(Ne(F.storeNames[Ue]));h.all(Re).then(function(){le()}).catch(function(Bt){ye(Bt)})},function(Ee){ye(Ee)})})}):B=h.reject("Invalid arguments"),p(B,M),B}var ft={_driver:"webSQLStorage",_initStorage:vl,_support:Be(),iterate:ho,getItem:wl,setItem:K,removeItem:ae,clear:H,length:We,key:Ze,keys:et,dropInstance:Je};function _r(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ke(C,M){var P=C.name+"/";return C.storeName!==M.storeName&&(P+=C.storeName+"/"),P}function Ut(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function ir(){return!Ut()||localStorage.length>0}function un(C){var M=this,P={};if(C)for(var q in C)P[q]=C[q];return P.keyPrefix=Ke(C,M._defaultConfig),ir()?(M._dbInfo=P,P.serializer=Fs,h.resolve()):h.reject()}function xr(C){var M=this,P=M.ready().then(function(){for(var q=M._dbInfo.keyPrefix,B=localStorage.length-1;B>=0;B--){var F=localStorage.key(B);F.indexOf(q)===0&&localStorage.removeItem(F)}});return p(P,C),P}function Ws(C,M){var P=this;C=_(C);var q=P.ready().then(function(){var B=P._dbInfo,F=localStorage.getItem(B.keyPrefix+C);return F&&(F=B.serializer.deserialize(F)),F});return p(q,M),q}function Dr(C,M){var P=this,q=P.ready().then(function(){for(var B=P._dbInfo,F=B.keyPrefix,le=F.length,ye=localStorage.length,Ee=1,Ne=0;Ne<ye;Ne++){var Re=localStorage.key(Ne);if(Re.indexOf(F)===0){var Ue=localStorage.getItem(Re);if(Ue&&(Ue=B.serializer.deserialize(Ue)),Ue=C(Ue,Re.substring(le),Ee++),Ue!==void 0)return Ue}}});return p(q,M),q}function ts(C,M){var P=this,q=P.ready().then(function(){var B=P._dbInfo,F;try{F=localStorage.key(C)}catch{F=null}return F&&(F=F.substring(B.keyPrefix.length)),F});return p(q,M),q}function Li(C){var M=this,P=M.ready().then(function(){for(var q=M._dbInfo,B=localStorage.length,F=[],le=0;le<B;le++){var ye=localStorage.key(le);ye.indexOf(q.keyPrefix)===0&&F.push(ye.substring(q.keyPrefix.length))}return F});return p(P,C),P}function ui(C){var M=this,P=M.keys().then(function(q){return q.length});return p(P,C),P}function sa(C,M){var P=this;C=_(C);var q=P.ready().then(function(){var B=P._dbInfo;localStorage.removeItem(B.keyPrefix+C)});return p(q,M),q}function Di(C,M,P){var q=this;C=_(C);var B=q.ready().then(function(){M===void 0&&(M=null);var F=M;return new h(function(le,ye){var Ee=q._dbInfo;Ee.serializer.serialize(M,function(Ne,Re){if(Re)ye(Re);else try{localStorage.setItem(Ee.keyPrefix+C,Ne),le(F)}catch(Ue){(Ue.name==="QuotaExceededError"||Ue.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ye(Ue),ye(Ue)}})})});return p(B,P),B}function Cn(C,M){if(M=S.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var P=this.config();C.name=C.name||P.name,C.storeName=C.storeName||P.storeName}var q=this,B;return C.name?B=new h(function(F){C.storeName?F(Ke(C,q._defaultConfig)):F(C.name+"/")}).then(function(F){for(var le=localStorage.length-1;le>=0;le--){var ye=localStorage.key(le);ye.indexOf(F)===0&&localStorage.removeItem(ye)}}):B=h.reject("Invalid arguments"),p(B,M),B}var ci={_driver:"localStorageWrapper",_initStorage:un,_support:_r(),iterate:Dr,getItem:Ws,setItem:Di,removeItem:sa,clear:xr,length:ui,key:ts,keys:Li,dropInstance:Cn},qs=function(M,P){return M===P||typeof M=="number"&&typeof P=="number"&&isNaN(M)&&isNaN(P)},Ct=function(M,P){for(var q=M.length,B=0;B<q;){if(qs(M[B],P))return!0;B++}return!1},It=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},Sr={},di={},rs={INDEXEDDB:me,WEBSQL:ft,LOCALSTORAGE:ci},Fu=[rs.INDEXEDDB._driver,rs.WEBSQL._driver,rs.LOCALSTORAGE._driver],bl=["dropInstance"],Us=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(bl),Ud={description:"",driver:Fu.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Hp(C,M){C[M]=function(){var P=arguments;return C.ready().then(function(){return C[M].apply(C,P)})}}function Wu(){for(var C=1;C<arguments.length;C++){var M=arguments[C];if(M)for(var P in M)M.hasOwnProperty(P)&&(It(M[P])?arguments[0][P]=M[P].slice():arguments[0][P]=M[P])}return arguments[0]}var Qp=function(){function C(M){o(this,C);for(var P in rs)if(rs.hasOwnProperty(P)){var q=rs[P],B=q._driver;this[P]=B,Sr[B]||this.defineDriver(q)}this._defaultConfig=Wu({},Ud),this._config=Wu({},this._defaultConfig,M),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(P){if((typeof P>"u"?"undefined":s(P))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in P){if(q==="storeName"&&(P[q]=P[q].replace(/\W/g,"_")),q==="version"&&typeof P[q]!="number")return new Error("Database version must be a number.");this._config[q]=P[q]}return"driver"in P&&P.driver?this.setDriver(this._config.driver):!0}else return typeof P=="string"?this._config[P]:this._config},C.prototype.defineDriver=function(P,q,B){var F=new h(function(le,ye){try{var Ee=P._driver,Ne=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!P._driver){ye(Ne);return}for(var Re=Us.concat("_initStorage"),Ue=0,wt=Re.length;Ue<wt;Ue++){var Bt=Re[Ue],Ft=!Ct(bl,Bt);if((Ft||P[Bt])&&typeof P[Bt]!="function"){ye(Ne);return}}var yr=function(){for(var po=function(Vd){return function(){var ns=new Error("Method "+Vd+" is not implemented by the current driver"),mo=h.reject(ns);return p(mo,arguments[arguments.length-1]),mo}},zd=0,qu=bl.length;zd<qu;zd++){var oa=bl[zd];P[oa]||(P[oa]=po(oa))}};yr();var gr=function(po){Sr[Ee]&&console.info("Redefining LocalForage driver: "+Ee),Sr[Ee]=P,di[Ee]=po,le()};"_support"in P?P._support&&typeof P._support=="function"?P._support().then(gr,ye):gr(!!P._support):gr(!0)}catch(Tn){ye(Tn)}});return g(F,q,B),F},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(P,q,B){var F=Sr[P]?h.resolve(Sr[P]):h.reject(new Error("Driver not found."));return g(F,q,B),F},C.prototype.getSerializer=function(P){var q=h.resolve(Fs);return g(q,P),q},C.prototype.ready=function(P){var q=this,B=q._driverSet.then(function(){return q._ready===null&&(q._ready=q._initDriver()),q._ready});return g(B,P,P),B},C.prototype.setDriver=function(P,q,B){var F=this;It(P)||(P=[P]);var le=this._getSupportedDrivers(P);function ye(){F._config.driver=F.driver()}function Ee(Ue){return F._extend(Ue),ye(),F._ready=F._initStorage(F._config),F._ready}function Ne(Ue){return function(){var wt=0;function Bt(){for(;wt<Ue.length;){var Ft=Ue[wt];return wt++,F._dbInfo=null,F._ready=null,F.getDriver(Ft).then(Ee).catch(Bt)}ye();var yr=new Error("No available storage method found.");return F._driverSet=h.reject(yr),F._driverSet}return Bt()}}var Re=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Re.then(function(){var Ue=le[0];return F._dbInfo=null,F._ready=null,F.getDriver(Ue).then(function(wt){F._driver=wt._driver,ye(),F._wrapLibraryMethodsWithReady(),F._initDriver=Ne(le)})}).catch(function(){ye();var Ue=new Error("No available storage method found.");return F._driverSet=h.reject(Ue),F._driverSet}),g(this._driverSet,q,B),this._driverSet},C.prototype.supports=function(P){return!!di[P]},C.prototype._extend=function(P){Wu(this,P)},C.prototype._getSupportedDrivers=function(P){for(var q=[],B=0,F=P.length;B<F;B++){var le=P[B];this.supports(le)&&q.push(le)}return q},C.prototype._wrapLibraryMethodsWithReady=function(){for(var P=0,q=Us.length;P<q;P++)Hp(this,Us[P])},C.prototype.createInstance=function(P){return new C(P)},C}(),R0=new Qp;n.exports=R0},{3:3}]},{},[4])(4)})})(M6);var vG=M6.exports;const wS=hp(vG),bS="book.db",wG=async t=>{const e=t.export();await wS.setItem(bS,e)},bG=async()=>{const t=await wS.getItem(bS);if(t===null)throw new Error("file not found");return B6(t)},_G=async()=>{await wS.removeItem(bS)},xG=async()=>{const t=await Fp();return new t.Database},B6=async t=>{const e=await Fp();return new e.Database(new Uint8Array(t))},_S={load:bG,save:wG,del:_G,empty:xG,initial:B6},SG=async t=>{const e=await PO.download(t.user.id),r=Zx(e,{});return await _S.save(e),{db:r,sqlite:e}},EG=async t=>{const e=await _S.load();return{db:Zx(e,{}),sqlite:e}},Ck=t=>{const{setDataSource:e,setError:r,session:n}=t,[i,s]=O.useState(!1),o=async()=>{try{s(!0);const{db:a,sqlite:l}=await t.load(n);e({_tag:"supabase",sqlite:l,db:a,app:uS(a),session:n})}catch(a){r(a)}finally{s(!1)}};return y.jsx(jr,{onClick:o,loading:i,children:t.children})},NG=t=>{const e=async()=>{await _S.del()};return y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"supabase"}),y.jsxs(jr.Group,{children:[y.jsx(Ck,{...t,load:SG,children:"remote"}),y.jsx(Ck,{...t,load:EG,children:"browser"}),y.jsx(jr,{type:"button",onClick:e,color:"red",children:"delete"})]})]})},kG=t=>{const{session:e}=t,[r,n]=O.useState(null),[i,s]=O.useState(null);if(i)return console.error(i),y.jsxs(il,{children:[y.jsx("h1",{children:"yuuka"}),y.jsxs("p",{children:["error: ",i.name]}),y.jsx("p",{children:i.message}),y.jsx("p",{children:i.stack})]});if(r===null){const o={setDataSource:n,setError:s,session:e};return y.jsxs(il,{children:[y.jsx("h1",{children:"project: yuuka"}),y.jsx(Dv,{src:"/yuuka/yuuka-plain.jpg",alt:"yuuka"}),y.jsx(NG,{...o}),y.jsx(iQ,{...o}),y.jsx(gG,{...o}),y.jsx(sQ,{...o}),y.jsx("hr",{}),y.jsx(TO,{}),y.jsx("hr",{}),y.jsx("footer",{children:y.jsx("p",{children:y.jsx("a",{href:"https://github.com/if1live/yuuka",children:"github"})})})]})}return r._tag==="api"?y.jsx(Eu.Provider,{value:r,children:y.jsx(qE,{value:{fetcher:az()},children:t.children})}):y.jsx(Eu.Provider,{value:r,children:y.jsx(qE,{value:{fetcher:lz(r.app)},children:t.children})})},CG=t=>{const e=`${dR}/list`,{data:r,error:n,isLoading:i}=jd(e),s=r;if(n)return y.jsx("div",{children:"failed to load masterdata"});if(i)return y.jsx("div",{children:"loading..."});const o={accountGroups:s.accountGroups,accounts:s.accounts};return y.jsx(Op.Provider,{value:o,children:t.children})},TG=()=>{const[t,e]=O.useState(null);return O.useEffect(()=>{cu.auth.getSession().then(({data:{session:n}})=>{e(n)});const{data:{subscription:r}}=cu.auth.onAuthStateChange((n,i)=>{e(i)});return()=>r.unsubscribe()},[]),t?y.jsx(kG,{session:t,children:y.jsx(CG,{children:y.jsx(nQ,{})})}):y.jsxs(il,{children:[y.jsx("h1",{children:"project: yuuka"}),y.jsx(Dv,{src:"/yuuka/yuuka-plain.jpg"}),y.jsx(Pd,{supabaseClient:cu,appearance:{theme:n8},providers:[]})]})},RG=()=>y.jsx(nT,{children:y.jsx(TG,{})});Gw.createRoot(document.getElementById("root")).render(y.jsx(RG,{}));export{hp as g};
