var wA=Object.defineProperty;var bA=(t,e,r)=>e in t?wA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ie=(t,e,r)=>(bA(t,typeof e!="symbol"?e+"":e,r),r),D0=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var d=(t,e,r)=>(D0(t,e,"read from private field"),r?r.call(t):e.get(t)),ie=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},se=(t,e,r,n)=>(D0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var _t=(t,e,r)=>(D0(t,e,"access private method"),r);function Mk(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _A(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Bk={exports:{}},hv={},Fk={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=Symbol.for("react.element"),xA=Symbol.for("react.portal"),SA=Symbol.for("react.fragment"),EA=Symbol.for("react.strict_mode"),NA=Symbol.for("react.profiler"),kA=Symbol.for("react.provider"),CA=Symbol.for("react.context"),TA=Symbol.for("react.forward_ref"),RA=Symbol.for("react.suspense"),OA=Symbol.for("react.memo"),AA=Symbol.for("react.lazy"),zS=Symbol.iterator;function IA(t){return t===null||typeof t!="object"?null:(t=zS&&t[zS]||t["@@iterator"],typeof t=="function"?t:null)}var Wk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qk=Object.assign,Uk={};function Rd(t,e,r){this.props=t,this.context=e,this.refs=Uk,this.updater=r||Wk}Rd.prototype.isReactComponent={};Rd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zk(){}zk.prototype=Rd.prototype;function Xb(t,e,r){this.props=t,this.context=e,this.refs=Uk,this.updater=r||Wk}var e_=Xb.prototype=new zk;e_.constructor=Xb;qk(e_,Rd.prototype);e_.isPureReactComponent=!0;var VS=Array.isArray,Vk=Object.prototype.hasOwnProperty,t_={current:null},Hk={key:!0,ref:!0,__self:!0,__source:!0};function Qk(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Vk.call(e,n)&&!Hk.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:gp,type:t,key:o,ref:s,props:i,_owner:t_.current}}function PA(t,e){return{$$typeof:gp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r_(t){return typeof t=="object"&&t!==null&&t.$$typeof===gp}function $A(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var HS=/\/+/g;function M0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$A(""+t.key):e.toString(36)}function Bm(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gp:case xA:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+M0(s,0):n,VS(i)?(r="",t!=null&&(r=t.replace(HS,"$&/")+"/"),Bm(i,e,r,"",function(u){return u})):i!=null&&(r_(i)&&(i=PA(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(HS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",VS(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+M0(o,a);s+=Bm(o,e,r,l,i)}else if(l=IA(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+M0(o,a++),s+=Bm(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function nm(t,e,r){if(t==null)return t;var n=[],i=0;return Bm(t,n,"","",function(o){return e.call(r,o,i++)}),n}function jA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zn={current:null},Fm={transition:null},LA={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:Fm,ReactCurrentOwner:t_};Tt.Children={map:nm,forEach:function(t,e,r){nm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nm(t,function(){e++}),e},toArray:function(t){return nm(t,function(e){return e})||[]},only:function(t){if(!r_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tt.Component=Rd;Tt.Fragment=SA;Tt.Profiler=NA;Tt.PureComponent=Xb;Tt.StrictMode=EA;Tt.Suspense=RA;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LA;Tt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=t_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Vk.call(e,l)&&!Hk.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:gp,type:t.type,key:i,ref:o,props:n,_owner:s}};Tt.createContext=function(t){return t={$$typeof:CA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kA,_context:t},t.Consumer=t};Tt.createElement=Qk;Tt.createFactory=function(t){var e=Qk.bind(null,t);return e.type=t,e};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(t){return{$$typeof:TA,render:t}};Tt.isValidElement=r_;Tt.lazy=function(t){return{$$typeof:AA,_payload:{_status:-1,_result:t},_init:jA}};Tt.memo=function(t,e){return{$$typeof:OA,type:t,compare:e===void 0?null:e}};Tt.startTransition=function(t){var e=Fm.transition;Fm.transition={};try{t()}finally{Fm.transition=e}};Tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Tt.useCallback=function(t,e){return Zn.current.useCallback(t,e)};Tt.useContext=function(t){return Zn.current.useContext(t)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(t){return Zn.current.useDeferredValue(t)};Tt.useEffect=function(t,e){return Zn.current.useEffect(t,e)};Tt.useId=function(){return Zn.current.useId()};Tt.useImperativeHandle=function(t,e,r){return Zn.current.useImperativeHandle(t,e,r)};Tt.useInsertionEffect=function(t,e){return Zn.current.useInsertionEffect(t,e)};Tt.useLayoutEffect=function(t,e){return Zn.current.useLayoutEffect(t,e)};Tt.useMemo=function(t,e){return Zn.current.useMemo(t,e)};Tt.useReducer=function(t,e,r){return Zn.current.useReducer(t,e,r)};Tt.useRef=function(t){return Zn.current.useRef(t)};Tt.useState=function(t){return Zn.current.useState(t)};Tt.useSyncExternalStore=function(t,e,r){return Zn.current.useSyncExternalStore(t,e,r)};Tt.useTransition=function(){return Zn.current.useTransition()};Tt.version="18.2.0";Fk.exports=Tt;var A=Fk.exports;const T=yp(A),DA=Mk({__proto__:null,default:T},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=A,BA=Symbol.for("react.element"),FA=Symbol.for("react.fragment"),WA=Object.prototype.hasOwnProperty,qA=MA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UA={key:!0,ref:!0,__self:!0,__source:!0};function Gk(t,e,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)WA.call(e,n)&&!UA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:BA,type:t,key:o,ref:s,props:i,_owner:qA.current}}hv.Fragment=FA;hv.jsx=Gk;hv.jsxs=Gk;Bk.exports=hv;var g=Bk.exports,e1={},Jk={exports:{}},Ii={},Yk={exports:{}},Kk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ge){var Ce=X.length;X.push(ge);e:for(;0<Ce;){var Ae=Ce-1>>>1,ue=X[Ae];if(0<i(ue,ge))X[Ae]=ge,X[Ce]=ue,Ce=Ae;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ge=X[0],Ce=X.pop();if(Ce!==ge){X[0]=Ce;e:for(var Ae=0,ue=X.length,_e=ue>>>1;Ae<_e;){var ve=2*(Ae+1)-1,Le=X[ve],z=ve+1,Ve=X[z];if(0>i(Le,Ce))z<ue&&0>i(Ve,Le)?(X[Ae]=Ve,X[z]=Ce,Ae=z):(X[Ae]=Le,X[ve]=Ce,Ae=ve);else if(z<ue&&0>i(Ve,Ce))X[Ae]=Ve,X[z]=Ce,Ae=z;else break e}}return ge}function i(X,ge){var Ce=X.sortIndex-ge.sortIndex;return Ce!==0?Ce:X.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,p=3,y=!1,b=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(X){for(var ge=r(u);ge!==null;){if(ge.callback===null)n(u);else if(ge.startTime<=X)n(u),ge.sortIndex=ge.expirationTime,e(l,ge);else break;ge=r(u)}}function I(X){if(S=!1,N(X),!b)if(r(l)!==null)b=!0,Fe(R);else{var ge=r(u);ge!==null&&Pe(I,ge.startTime-X)}}function R(X,ge){b=!1,S&&(S=!1,v(j),j=-1),y=!0;var Ce=p;try{for(N(ge),h=r(l);h!==null&&(!(h.expirationTime>ge)||X&&!te());){var Ae=h.callback;if(typeof Ae=="function"){h.callback=null,p=h.priorityLevel;var ue=Ae(h.expirationTime<=ge);ge=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===r(l)&&n(l),N(ge)}else n(l);h=r(l)}if(h!==null)var _e=!0;else{var ve=r(u);ve!==null&&Pe(I,ve.startTime-ge),_e=!1}return _e}finally{h=null,p=Ce,y=!1}}var k=!1,L=null,j=-1,Z=5,H=-1;function te(){return!(t.unstable_now()-H<Z)}function re(){if(L!==null){var X=t.unstable_now();H=X;var ge=!0;try{ge=L(!0,X)}finally{ge?Q():(k=!1,L=null)}}else k=!1}var Q;if(typeof w=="function")Q=function(){w(re)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,je=fe.port2;fe.port1.onmessage=re,Q=function(){je.postMessage(null)}}else Q=function(){E(re,0)};function Fe(X){L=X,k||(k=!0,Q())}function Pe(X,ge){j=E(function(){X(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,Fe(R))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(X){switch(p){case 1:case 2:case 3:var ge=3;break;default:ge=p}var Ce=p;p=ge;try{return X()}finally{p=Ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ge){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Ce=p;p=X;try{return ge()}finally{p=Ce}},t.unstable_scheduleCallback=function(X,ge,Ce){var Ae=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Ae+Ce:Ae):Ce=Ae,X){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Ce+ue,X={id:c++,callback:ge,priorityLevel:X,startTime:Ce,expirationTime:ue,sortIndex:-1},Ce>Ae?(X.sortIndex=Ce,e(u,X),r(l)===null&&X===r(u)&&(S?(v(j),j=-1):S=!0,Pe(I,Ce-Ae))):(X.sortIndex=ue,e(l,X),b||y||(b=!0,Fe(R))),X},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(X){var ge=p;return function(){var Ce=p;p=ge;try{return X.apply(this,arguments)}finally{p=Ce}}}})(Kk);Yk.exports=Kk;var zA=Yk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk=A,Ti=zA;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xk=new Set,rh={};function Tu(t,e){ud(t,e),ud(t+"Capture",e)}function ud(t,e){for(rh[t]=e,t=0;t<e.length;t++)Xk.add(e[t])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t1=Object.prototype.hasOwnProperty,VA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QS={},GS={};function HA(t){return t1.call(GS,t)?!0:t1.call(QS,t)?!1:VA.test(t)?GS[t]=!0:(QS[t]=!0,!1)}function QA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GA(t,e,r,n){if(e===null||typeof e>"u"||QA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){En[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];En[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){En[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){En[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){En[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){En[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){En[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){En[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){En[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var n_=/[\-:]([a-z])/g;function i_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n_,i_);En[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n_,i_);En[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n_,i_);En[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){En[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});En.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){En[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function o_(t,e,r,n){var i=En.hasOwnProperty(e)?En[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GA(e,r,i,n)&&(r=null),n||i===null?HA(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var oa=Zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,im=Symbol.for("react.element"),ac=Symbol.for("react.portal"),lc=Symbol.for("react.fragment"),s_=Symbol.for("react.strict_mode"),r1=Symbol.for("react.profiler"),eC=Symbol.for("react.provider"),tC=Symbol.for("react.context"),a_=Symbol.for("react.forward_ref"),n1=Symbol.for("react.suspense"),i1=Symbol.for("react.suspense_list"),l_=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),rC=Symbol.for("react.offscreen"),JS=Symbol.iterator;function Yd(t){return t===null||typeof t!="object"?null:(t=JS&&t[JS]||t["@@iterator"],typeof t=="function"?t:null)}var Or=Object.assign,B0;function bf(t){if(B0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);B0=e&&e[1]||""}return`
`+B0+t}var F0=!1;function W0(t,e){if(!t||F0)return"";F0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{F0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bf(t):""}function JA(t){switch(t.tag){case 5:return bf(t.type);case 16:return bf("Lazy");case 13:return bf("Suspense");case 19:return bf("SuspenseList");case 0:case 2:case 15:return t=W0(t.type,!1),t;case 11:return t=W0(t.type.render,!1),t;case 1:return t=W0(t.type,!0),t;default:return""}}function o1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lc:return"Fragment";case ac:return"Portal";case r1:return"Profiler";case s_:return"StrictMode";case n1:return"Suspense";case i1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tC:return(t.displayName||"Context")+".Consumer";case eC:return(t._context.displayName||"Context")+".Provider";case a_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case l_:return e=t.displayName||null,e!==null?e:o1(t.type)||"Memo";case va:e=t._payload,t=t._init;try{return o1(t(e))}catch{}}return null}function YA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o1(e);case 8:return e===s_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ol(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KA(t){var e=nC(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function om(t){t._valueTracker||(t._valueTracker=KA(t))}function iC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=nC(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function s1(t,e){var r=e.checked;return Or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function YS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ol(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oC(t,e){e=e.checked,e!=null&&o_(t,"checked",e,!1)}function a1(t,e){oC(t,e);var r=ol(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?l1(t,e.type,r):e.hasOwnProperty("defaultValue")&&l1(t,e.type,ol(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function l1(t,e,r){(e!=="number"||gy(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var _f=Array.isArray;function Rc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ol(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function u1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Or({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ZS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ke(92));if(_f(r)){if(1<r.length)throw Error(ke(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ol(r)}}function sC(t,e){var r=ol(e.value),n=ol(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function XS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sm,lC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sm=sm||document.createElement("div"),sm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Cf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZA=["Webkit","ms","Moz","O"];Object.keys(Cf).forEach(function(t){ZA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cf[e]=Cf[t]})});function uC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Cf.hasOwnProperty(t)&&Cf[t]?(""+e).trim():e+"px"}function cC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=uC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var XA=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d1(t,e){if(e){if(XA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function f1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h1=null;function u_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p1=null,Oc=null,Ac=null;function e2(t){if(t=bp(t)){if(typeof p1!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=vv(e),p1(t.stateNode,t.type,e))}}function dC(t){Oc?Ac?Ac.push(t):Ac=[t]:Oc=t}function fC(){if(Oc){var t=Oc,e=Ac;if(Ac=Oc=null,e2(t),e)for(t=0;t<e.length;t++)e2(e[t])}}function hC(t,e){return t(e)}function pC(){}var q0=!1;function mC(t,e,r){if(q0)return t(e,r);q0=!0;try{return hC(t,e,r)}finally{q0=!1,(Oc!==null||Ac!==null)&&(pC(),fC())}}function ih(t,e){var r=t.stateNode;if(r===null)return null;var n=vv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ke(231,e,typeof r));return r}var m1=!1;if(Js)try{var Kd={};Object.defineProperty(Kd,"passive",{get:function(){m1=!0}}),window.addEventListener("test",Kd,Kd),window.removeEventListener("test",Kd,Kd)}catch{m1=!1}function e5(t,e,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Tf=!1,vy=null,wy=!1,y1=null,t5={onError:function(t){Tf=!0,vy=t}};function r5(t,e,r,n,i,o,s,a,l){Tf=!1,vy=null,e5.apply(t5,arguments)}function n5(t,e,r,n,i,o,s,a,l){if(r5.apply(this,arguments),Tf){if(Tf){var u=vy;Tf=!1,vy=null}else throw Error(ke(198));wy||(wy=!0,y1=u)}}function Ru(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function yC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t2(t){if(Ru(t)!==t)throw Error(ke(188))}function i5(t){var e=t.alternate;if(!e){if(e=Ru(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return t2(i),t;if(o===n)return t2(i),e;o=o.sibling}throw Error(ke(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(ke(189))}}if(r.alternate!==n)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?t:e}function gC(t){return t=i5(t),t!==null?vC(t):null}function vC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vC(t);if(e!==null)return e;t=t.sibling}return null}var wC=Ti.unstable_scheduleCallback,r2=Ti.unstable_cancelCallback,o5=Ti.unstable_shouldYield,s5=Ti.unstable_requestPaint,zr=Ti.unstable_now,a5=Ti.unstable_getCurrentPriorityLevel,c_=Ti.unstable_ImmediatePriority,bC=Ti.unstable_UserBlockingPriority,by=Ti.unstable_NormalPriority,l5=Ti.unstable_LowPriority,_C=Ti.unstable_IdlePriority,pv=null,is=null;function u5(t){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(pv,t,void 0,(t.current.flags&128)===128)}catch{}}var Io=Math.clz32?Math.clz32:f5,c5=Math.log,d5=Math.LN2;function f5(t){return t>>>=0,t===0?32:31-(c5(t)/d5|0)|0}var am=64,lm=4194304;function xf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _y(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=xf(a):(o&=s,o!==0&&(n=xf(o)))}else s=r&~i,s!==0?n=xf(s):o!==0&&(n=xf(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Io(e),i=1<<r,n|=t[r],e&=~i;return n}function h5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Io(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=h5(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function g1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xC(){var t=am;return am<<=1,!(am&4194240)&&(am=64),t}function U0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Io(e),t[e]=r}function m5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Io(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function d_(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Io(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Yt=0;function SC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var EC,f_,NC,kC,CC,v1=!1,um=[],Ua=null,za=null,Va=null,oh=new Map,sh=new Map,Ea=[],y5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n2(t,e){switch(t){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":oh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sh.delete(e.pointerId)}}function Zd(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=bp(e),e!==null&&f_(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function g5(t,e,r,n,i){switch(e){case"focusin":return Ua=Zd(Ua,t,e,r,n,i),!0;case"dragenter":return za=Zd(za,t,e,r,n,i),!0;case"mouseover":return Va=Zd(Va,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return oh.set(o,Zd(oh.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,sh.set(o,Zd(sh.get(o)||null,t,e,r,n,i)),!0}return!1}function TC(t){var e=Ml(t.target);if(e!==null){var r=Ru(e);if(r!==null){if(e=r.tag,e===13){if(e=yC(r),e!==null){t.blockedOn=e,CC(t.priority,function(){NC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=w1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);h1=n,r.target.dispatchEvent(n),h1=null}else return e=bp(r),e!==null&&f_(e),t.blockedOn=r,!1;e.shift()}return!0}function i2(t,e,r){Wm(t)&&r.delete(e)}function v5(){v1=!1,Ua!==null&&Wm(Ua)&&(Ua=null),za!==null&&Wm(za)&&(za=null),Va!==null&&Wm(Va)&&(Va=null),oh.forEach(i2),sh.forEach(i2)}function Xd(t,e){t.blockedOn===e&&(t.blockedOn=null,v1||(v1=!0,Ti.unstable_scheduleCallback(Ti.unstable_NormalPriority,v5)))}function ah(t){function e(i){return Xd(i,t)}if(0<um.length){Xd(um[0],t);for(var r=1;r<um.length;r++){var n=um[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ua!==null&&Xd(Ua,t),za!==null&&Xd(za,t),Va!==null&&Xd(Va,t),oh.forEach(e),sh.forEach(e),r=0;r<Ea.length;r++)n=Ea[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ea.length&&(r=Ea[0],r.blockedOn===null);)TC(r),r.blockedOn===null&&Ea.shift()}var Ic=oa.ReactCurrentBatchConfig,xy=!0;function w5(t,e,r,n){var i=Yt,o=Ic.transition;Ic.transition=null;try{Yt=1,h_(t,e,r,n)}finally{Yt=i,Ic.transition=o}}function b5(t,e,r,n){var i=Yt,o=Ic.transition;Ic.transition=null;try{Yt=4,h_(t,e,r,n)}finally{Yt=i,Ic.transition=o}}function h_(t,e,r,n){if(xy){var i=w1(t,e,r,n);if(i===null)X0(t,e,n,Sy,r),n2(t,n);else if(g5(i,t,e,r,n))n.stopPropagation();else if(n2(t,n),e&4&&-1<y5.indexOf(t)){for(;i!==null;){var o=bp(i);if(o!==null&&EC(o),o=w1(t,e,r,n),o===null&&X0(t,e,n,Sy,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else X0(t,e,n,null,r)}}var Sy=null;function w1(t,e,r,n){if(Sy=null,t=u_(n),t=Ml(t),t!==null)if(e=Ru(t),e===null)t=null;else if(r=e.tag,r===13){if(t=yC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sy=t,null}function RC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a5()){case c_:return 1;case bC:return 4;case by:case l5:return 16;case _C:return 536870912;default:return 16}default:return 16}}var Ma=null,p_=null,qm=null;function OC(){if(qm)return qm;var t,e=p_,r=e.length,n,i="value"in Ma?Ma.value:Ma.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return qm=i.slice(t,1<n?1-n:void 0)}function Um(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cm(){return!0}function o2(){return!1}function Pi(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cm:o2,this.isPropagationStopped=o2,this}return Or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cm)},persist:function(){},isPersistent:cm}),e}var Od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m_=Pi(Od),wp=Or({},Od,{view:0,detail:0}),_5=Pi(wp),z0,V0,ef,mv=Or({},wp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ef&&(ef&&t.type==="mousemove"?(z0=t.screenX-ef.screenX,V0=t.screenY-ef.screenY):V0=z0=0,ef=t),z0)},movementY:function(t){return"movementY"in t?t.movementY:V0}}),s2=Pi(mv),x5=Or({},mv,{dataTransfer:0}),S5=Pi(x5),E5=Or({},wp,{relatedTarget:0}),H0=Pi(E5),N5=Or({},Od,{animationName:0,elapsedTime:0,pseudoElement:0}),k5=Pi(N5),C5=Or({},Od,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T5=Pi(C5),R5=Or({},Od,{data:0}),a2=Pi(R5),O5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I5[t])?!!e[t]:!1}function y_(){return P5}var $5=Or({},wp,{key:function(t){if(t.key){var e=O5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Um(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y_,charCode:function(t){return t.type==="keypress"?Um(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Um(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),j5=Pi($5),L5=Or({},mv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l2=Pi(L5),D5=Or({},wp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y_}),M5=Pi(D5),B5=Or({},Od,{propertyName:0,elapsedTime:0,pseudoElement:0}),F5=Pi(B5),W5=Or({},mv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q5=Pi(W5),U5=[9,13,27,32],g_=Js&&"CompositionEvent"in window,Rf=null;Js&&"documentMode"in document&&(Rf=document.documentMode);var z5=Js&&"TextEvent"in window&&!Rf,AC=Js&&(!g_||Rf&&8<Rf&&11>=Rf),u2=" ",c2=!1;function IC(t,e){switch(t){case"keyup":return U5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uc=!1;function V5(t,e){switch(t){case"compositionend":return PC(e);case"keypress":return e.which!==32?null:(c2=!0,u2);case"textInput":return t=e.data,t===u2&&c2?null:t;default:return null}}function H5(t,e){if(uc)return t==="compositionend"||!g_&&IC(t,e)?(t=OC(),qm=p_=Ma=null,uc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AC&&e.locale!=="ko"?null:e.data;default:return null}}var Q5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Q5[t.type]:e==="textarea"}function $C(t,e,r,n){dC(n),e=Ey(e,"onChange"),0<e.length&&(r=new m_("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Of=null,lh=null;function G5(t){VC(t,0)}function yv(t){var e=fc(t);if(iC(e))return t}function J5(t,e){if(t==="change")return e}var jC=!1;if(Js){var Q0;if(Js){var G0="oninput"in document;if(!G0){var f2=document.createElement("div");f2.setAttribute("oninput","return;"),G0=typeof f2.oninput=="function"}Q0=G0}else Q0=!1;jC=Q0&&(!document.documentMode||9<document.documentMode)}function h2(){Of&&(Of.detachEvent("onpropertychange",LC),lh=Of=null)}function LC(t){if(t.propertyName==="value"&&yv(lh)){var e=[];$C(e,lh,t,u_(t)),mC(G5,e)}}function Y5(t,e,r){t==="focusin"?(h2(),Of=e,lh=r,Of.attachEvent("onpropertychange",LC)):t==="focusout"&&h2()}function K5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yv(lh)}function Z5(t,e){if(t==="click")return yv(e)}function X5(t,e){if(t==="input"||t==="change")return yv(e)}function eI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Do=typeof Object.is=="function"?Object.is:eI;function uh(t,e){if(Do(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!t1.call(e,i)||!Do(t[i],e[i]))return!1}return!0}function p2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m2(t,e){var r=p2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=p2(r)}}function DC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MC(){for(var t=window,e=gy();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=gy(t.document)}return e}function v_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tI(t){var e=MC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&DC(r.ownerDocument.documentElement,r)){if(n!==null&&v_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=m2(r,o);var s=m2(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rI=Js&&"documentMode"in document&&11>=document.documentMode,cc=null,b1=null,Af=null,_1=!1;function y2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_1||cc==null||cc!==gy(n)||(n=cc,"selectionStart"in n&&v_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Af&&uh(Af,n)||(Af=n,n=Ey(b1,"onSelect"),0<n.length&&(e=new m_("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=cc)))}function dm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var dc={animationend:dm("Animation","AnimationEnd"),animationiteration:dm("Animation","AnimationIteration"),animationstart:dm("Animation","AnimationStart"),transitionend:dm("Transition","TransitionEnd")},J0={},BC={};Js&&(BC=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function gv(t){if(J0[t])return J0[t];if(!dc[t])return t;var e=dc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in BC)return J0[t]=e[r];return t}var FC=gv("animationend"),WC=gv("animationiteration"),qC=gv("animationstart"),UC=gv("transitionend"),zC=new Map,g2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pl(t,e){zC.set(t,e),Tu(e,[t])}for(var Y0=0;Y0<g2.length;Y0++){var K0=g2[Y0],nI=K0.toLowerCase(),iI=K0[0].toUpperCase()+K0.slice(1);pl(nI,"on"+iI)}pl(FC,"onAnimationEnd");pl(WC,"onAnimationIteration");pl(qC,"onAnimationStart");pl("dblclick","onDoubleClick");pl("focusin","onFocus");pl("focusout","onBlur");pl(UC,"onTransitionEnd");ud("onMouseEnter",["mouseout","mouseover"]);ud("onMouseLeave",["mouseout","mouseover"]);ud("onPointerEnter",["pointerout","pointerover"]);ud("onPointerLeave",["pointerout","pointerover"]);Tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf));function v2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,n5(n,e,void 0,t),t.currentTarget=null}function VC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;v2(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;v2(i,a,u),o=l}}}if(wy)throw t=y1,wy=!1,y1=null,t}function fr(t,e){var r=e[k1];r===void 0&&(r=e[k1]=new Set);var n=t+"__bubble";r.has(n)||(HC(e,t,2,!1),r.add(n))}function Z0(t,e,r){var n=0;e&&(n|=4),HC(r,t,n,e)}var fm="_reactListening"+Math.random().toString(36).slice(2);function ch(t){if(!t[fm]){t[fm]=!0,Xk.forEach(function(r){r!=="selectionchange"&&(oI.has(r)||Z0(r,!1,t),Z0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fm]||(e[fm]=!0,Z0("selectionchange",!1,e))}}function HC(t,e,r,n){switch(RC(e)){case 1:var i=w5;break;case 4:i=b5;break;default:i=h_}r=i.bind(null,e,r,t),i=void 0,!m1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function X0(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ml(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}mC(function(){var u=o,c=u_(r),h=[];e:{var p=zC.get(t);if(p!==void 0){var y=m_,b=t;switch(t){case"keypress":if(Um(r)===0)break e;case"keydown":case"keyup":y=j5;break;case"focusin":b="focus",y=H0;break;case"focusout":b="blur",y=H0;break;case"beforeblur":case"afterblur":y=H0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=s2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=S5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=M5;break;case FC:case WC:case qC:y=k5;break;case UC:y=F5;break;case"scroll":y=_5;break;case"wheel":y=q5;break;case"copy":case"cut":case"paste":y=T5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=l2}var S=(e&4)!==0,E=!S&&t==="scroll",v=S?p!==null?p+"Capture":null:p;S=[];for(var w=u,N;w!==null;){N=w;var I=N.stateNode;if(N.tag===5&&I!==null&&(N=I,v!==null&&(I=ih(w,v),I!=null&&S.push(dh(w,I,N)))),E)break;w=w.return}0<S.length&&(p=new y(p,b,null,r,c),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&r!==h1&&(b=r.relatedTarget||r.fromElement)&&(Ml(b)||b[Ys]))break e;if((y||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,y?(b=r.relatedTarget||r.toElement,y=u,b=b?Ml(b):null,b!==null&&(E=Ru(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(S=s2,I="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=l2,I="onPointerLeave",v="onPointerEnter",w="pointer"),E=y==null?p:fc(y),N=b==null?p:fc(b),p=new S(I,w+"leave",y,r,c),p.target=E,p.relatedTarget=N,I=null,Ml(c)===u&&(S=new S(v,w+"enter",b,r,c),S.target=N,S.relatedTarget=E,I=S),E=I,y&&b)t:{for(S=y,v=b,w=0,N=S;N;N=Vu(N))w++;for(N=0,I=v;I;I=Vu(I))N++;for(;0<w-N;)S=Vu(S),w--;for(;0<N-w;)v=Vu(v),N--;for(;w--;){if(S===v||v!==null&&S===v.alternate)break t;S=Vu(S),v=Vu(v)}S=null}else S=null;y!==null&&w2(h,p,y,S,!1),b!==null&&E!==null&&w2(h,E,b,S,!0)}}e:{if(p=u?fc(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var R=J5;else if(d2(p))if(jC)R=X5;else{R=K5;var k=Y5}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=Z5);if(R&&(R=R(t,u))){$C(h,R,r,c);break e}k&&k(t,p,u),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&l1(p,"number",p.value)}switch(k=u?fc(u):window,t){case"focusin":(d2(k)||k.contentEditable==="true")&&(cc=k,b1=u,Af=null);break;case"focusout":Af=b1=cc=null;break;case"mousedown":_1=!0;break;case"contextmenu":case"mouseup":case"dragend":_1=!1,y2(h,r,c);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":y2(h,r,c)}var L;if(g_)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else uc?IC(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(AC&&r.locale!=="ko"&&(uc||j!=="onCompositionStart"?j==="onCompositionEnd"&&uc&&(L=OC()):(Ma=c,p_="value"in Ma?Ma.value:Ma.textContent,uc=!0)),k=Ey(u,j),0<k.length&&(j=new a2(j,t,null,r,c),h.push({event:j,listeners:k}),L?j.data=L:(L=PC(r),L!==null&&(j.data=L)))),(L=z5?V5(t,r):H5(t,r))&&(u=Ey(u,"onBeforeInput"),0<u.length&&(c=new a2("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=L))}VC(h,e)})}function dh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ey(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ih(t,r),o!=null&&n.unshift(dh(t,o,i)),o=ih(t,e),o!=null&&n.push(dh(t,o,i))),t=t.return}return n}function Vu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function w2(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=ih(r,o),l!=null&&s.unshift(dh(r,l,a))):i||(l=ih(r,o),l!=null&&s.push(dh(r,l,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var sI=/\r\n?/g,aI=/\u0000|\uFFFD/g;function b2(t){return(typeof t=="string"?t:""+t).replace(sI,`
`).replace(aI,"")}function hm(t,e,r){if(e=b2(e),b2(t)!==e&&r)throw Error(ke(425))}function Ny(){}var x1=null,S1=null;function E1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var N1=typeof setTimeout=="function"?setTimeout:void 0,lI=typeof clearTimeout=="function"?clearTimeout:void 0,_2=typeof Promise=="function"?Promise:void 0,uI=typeof queueMicrotask=="function"?queueMicrotask:typeof _2<"u"?function(t){return _2.resolve(null).then(t).catch(cI)}:N1;function cI(t){setTimeout(function(){throw t})}function ew(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ah(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ah(e)}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function x2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ad=Math.random().toString(36).slice(2),es="__reactFiber$"+Ad,fh="__reactProps$"+Ad,Ys="__reactContainer$"+Ad,k1="__reactEvents$"+Ad,dI="__reactListeners$"+Ad,fI="__reactHandles$"+Ad;function Ml(t){var e=t[es];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ys]||r[es]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=x2(t);t!==null;){if(r=t[es])return r;t=x2(t)}return e}t=r,r=t.parentNode}return null}function bp(t){return t=t[es]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function vv(t){return t[fh]||null}var C1=[],hc=-1;function ml(t){return{current:t}}function pr(t){0>hc||(t.current=C1[hc],C1[hc]=null,hc--)}function dr(t,e){hc++,C1[hc]=t.current,t.current=e}var sl={},Dn=ml(sl),si=ml(!1),pu=sl;function cd(t,e){var r=t.type.contextTypes;if(!r)return sl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ai(t){return t=t.childContextTypes,t!=null}function ky(){pr(si),pr(Dn)}function S2(t,e,r){if(Dn.current!==sl)throw Error(ke(168));dr(Dn,e),dr(si,r)}function QC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ke(108,YA(t)||"Unknown",i));return Or({},r,n)}function Cy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sl,pu=Dn.current,dr(Dn,t),dr(si,si.current),!0}function E2(t,e,r){var n=t.stateNode;if(!n)throw Error(ke(169));r?(t=QC(t,e,pu),n.__reactInternalMemoizedMergedChildContext=t,pr(si),pr(Dn),dr(Dn,t)):pr(si),dr(si,r)}var ks=null,wv=!1,tw=!1;function GC(t){ks===null?ks=[t]:ks.push(t)}function hI(t){wv=!0,GC(t)}function yl(){if(!tw&&ks!==null){tw=!0;var t=0,e=Yt;try{var r=ks;for(Yt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ks=null,wv=!1}catch(i){throw ks!==null&&(ks=ks.slice(t+1)),wC(c_,yl),i}finally{Yt=e,tw=!1}}return null}var pc=[],mc=0,Ty=null,Ry=0,Hi=[],Qi=0,mu=null,Ms=1,Bs="";function kl(t,e){pc[mc++]=Ry,pc[mc++]=Ty,Ty=t,Ry=e}function JC(t,e,r){Hi[Qi++]=Ms,Hi[Qi++]=Bs,Hi[Qi++]=mu,mu=t;var n=Ms;t=Bs;var i=32-Io(n)-1;n&=~(1<<i),r+=1;var o=32-Io(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ms=1<<32-Io(e)+i|r<<i|n,Bs=o+t}else Ms=1<<o|r<<i|n,Bs=t}function w_(t){t.return!==null&&(kl(t,1),JC(t,1,0))}function b_(t){for(;t===Ty;)Ty=pc[--mc],pc[mc]=null,Ry=pc[--mc],pc[mc]=null;for(;t===mu;)mu=Hi[--Qi],Hi[Qi]=null,Bs=Hi[--Qi],Hi[Qi]=null,Ms=Hi[--Qi],Hi[Qi]=null}var Ci=null,ki=null,vr=!1,ko=null;function YC(t,e){var r=Gi(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function N2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ci=t,ki=Ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ci=t,ki=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=mu!==null?{id:Ms,overflow:Bs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gi(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ci=t,ki=null,!0):!1;default:return!1}}function T1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function R1(t){if(vr){var e=ki;if(e){var r=e;if(!N2(t,e)){if(T1(t))throw Error(ke(418));e=Ha(r.nextSibling);var n=Ci;e&&N2(t,e)?YC(n,r):(t.flags=t.flags&-4097|2,vr=!1,Ci=t)}}else{if(T1(t))throw Error(ke(418));t.flags=t.flags&-4097|2,vr=!1,Ci=t}}}function k2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ci=t}function pm(t){if(t!==Ci)return!1;if(!vr)return k2(t),vr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!E1(t.type,t.memoizedProps)),e&&(e=ki)){if(T1(t))throw KC(),Error(ke(418));for(;e;)YC(t,e),e=Ha(e.nextSibling)}if(k2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ki=Ha(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ki=null}}else ki=Ci?Ha(t.stateNode.nextSibling):null;return!0}function KC(){for(var t=ki;t;)t=Ha(t.nextSibling)}function dd(){ki=Ci=null,vr=!1}function __(t){ko===null?ko=[t]:ko.push(t)}var pI=oa.ReactCurrentBatchConfig;function fo(t,e){if(t&&t.defaultProps){e=Or({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Oy=ml(null),Ay=null,yc=null,x_=null;function S_(){x_=yc=Ay=null}function E_(t){var e=Oy.current;pr(Oy),t._currentValue=e}function O1(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Pc(t,e){Ay=t,x_=yc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ii=!0),t.firstContext=null)}function Yi(t){var e=t._currentValue;if(x_!==t)if(t={context:t,memoizedValue:e,next:null},yc===null){if(Ay===null)throw Error(ke(308));yc=t,Ay.dependencies={lanes:0,firstContext:t}}else yc=yc.next=t;return e}var Bl=null;function N_(t){Bl===null?Bl=[t]:Bl.push(t)}function ZC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,N_(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ks(t,n)}function Ks(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var wa=!1;function k_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Dt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ks(t,r)}return i=n.interleaved,i===null?(e.next=e,N_(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ks(t,r)}function zm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,d_(t,r)}}function C2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Iy(t,e,r,n){var i=t.updateQueue;wa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var p=a.lane,y=a.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,S=a;switch(p=e,y=r,S.tag){case 1:if(b=S.payload,typeof b=="function"){h=b.call(y,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,p=typeof b=="function"?b.call(y,h,p):b,p==null)break e;h=Or({},h,p);break e;case 2:wa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=h):c=c.next=y,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);gu|=s,t.lanes=s,t.memoizedState=h}}function T2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ke(191,i));i.call(n)}}}var e3=new Zk.Component().refs;function A1(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Or({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bv={isMounted:function(t){return(t=t._reactInternals)?Ru(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Yn(),i=Ja(t),o=zs(n,i);o.payload=e,r!=null&&(o.callback=r),e=Qa(t,o,i),e!==null&&(Po(e,t,i,n),zm(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Yn(),i=Ja(t),o=zs(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Qa(t,o,i),e!==null&&(Po(e,t,i,n),zm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Yn(),n=Ja(t),i=zs(r,n);i.tag=2,e!=null&&(i.callback=e),e=Qa(t,i,n),e!==null&&(Po(e,t,n,r),zm(e,t,n))}};function R2(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!uh(r,n)||!uh(i,o):!0}function t3(t,e,r){var n=!1,i=sl,o=e.contextType;return typeof o=="object"&&o!==null?o=Yi(o):(i=ai(e)?pu:Dn.current,n=e.contextTypes,o=(n=n!=null)?cd(t,i):sl),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function O2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&bv.enqueueReplaceState(e,e.state,null)}function I1(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=e3,k_(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yi(o):(o=ai(e)?pu:Dn.current,i.context=cd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(A1(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bv.enqueueReplaceState(i,i.state,null),Iy(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var n=r.stateNode}if(!n)throw Error(ke(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===e3&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,t))}return t}function mm(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function A2(t){var e=t._init;return e(t._payload)}function r3(t){function e(v,w){if(t){var N=v.deletions;N===null?(v.deletions=[w],v.flags|=16):N.push(w)}}function r(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Ya(v,w),v.index=0,v.sibling=null,v}function o(v,w,N){return v.index=N,t?(N=v.alternate,N!==null?(N=N.index,N<w?(v.flags|=2,w):N):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,N,I){return w===null||w.tag!==6?(w=lw(N,v.mode,I),w.return=v,w):(w=i(w,N),w.return=v,w)}function l(v,w,N,I){var R=N.type;return R===lc?c(v,w,N.props.children,I,N.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===va&&A2(R)===w.type)?(I=i(w,N.props),I.ref=tf(v,w,N),I.return=v,I):(I=Ym(N.type,N.key,N.props,null,v.mode,I),I.ref=tf(v,w,N),I.return=v,I)}function u(v,w,N,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=uw(N,v.mode,I),w.return=v,w):(w=i(w,N.children||[]),w.return=v,w)}function c(v,w,N,I,R){return w===null||w.tag!==7?(w=lu(N,v.mode,I,R),w.return=v,w):(w=i(w,N),w.return=v,w)}function h(v,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=lw(""+w,v.mode,N),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case im:return N=Ym(w.type,w.key,w.props,null,v.mode,N),N.ref=tf(v,null,w),N.return=v,N;case ac:return w=uw(w,v.mode,N),w.return=v,w;case va:var I=w._init;return h(v,I(w._payload),N)}if(_f(w)||Yd(w))return w=lu(w,v.mode,N,null),w.return=v,w;mm(v,w)}return null}function p(v,w,N,I){var R=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return R!==null?null:a(v,w,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case im:return N.key===R?l(v,w,N,I):null;case ac:return N.key===R?u(v,w,N,I):null;case va:return R=N._init,p(v,w,R(N._payload),I)}if(_f(N)||Yd(N))return R!==null?null:c(v,w,N,I,null);mm(v,N)}return null}function y(v,w,N,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return v=v.get(N)||null,a(w,v,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case im:return v=v.get(I.key===null?N:I.key)||null,l(w,v,I,R);case ac:return v=v.get(I.key===null?N:I.key)||null,u(w,v,I,R);case va:var k=I._init;return y(v,w,N,k(I._payload),R)}if(_f(I)||Yd(I))return v=v.get(N)||null,c(w,v,I,R,null);mm(w,I)}return null}function b(v,w,N,I){for(var R=null,k=null,L=w,j=w=0,Z=null;L!==null&&j<N.length;j++){L.index>j?(Z=L,L=null):Z=L.sibling;var H=p(v,L,N[j],I);if(H===null){L===null&&(L=Z);break}t&&L&&H.alternate===null&&e(v,L),w=o(H,w,j),k===null?R=H:k.sibling=H,k=H,L=Z}if(j===N.length)return r(v,L),vr&&kl(v,j),R;if(L===null){for(;j<N.length;j++)L=h(v,N[j],I),L!==null&&(w=o(L,w,j),k===null?R=L:k.sibling=L,k=L);return vr&&kl(v,j),R}for(L=n(v,L);j<N.length;j++)Z=y(L,v,j,N[j],I),Z!==null&&(t&&Z.alternate!==null&&L.delete(Z.key===null?j:Z.key),w=o(Z,w,j),k===null?R=Z:k.sibling=Z,k=Z);return t&&L.forEach(function(te){return e(v,te)}),vr&&kl(v,j),R}function S(v,w,N,I){var R=Yd(N);if(typeof R!="function")throw Error(ke(150));if(N=R.call(N),N==null)throw Error(ke(151));for(var k=R=null,L=w,j=w=0,Z=null,H=N.next();L!==null&&!H.done;j++,H=N.next()){L.index>j?(Z=L,L=null):Z=L.sibling;var te=p(v,L,H.value,I);if(te===null){L===null&&(L=Z);break}t&&L&&te.alternate===null&&e(v,L),w=o(te,w,j),k===null?R=te:k.sibling=te,k=te,L=Z}if(H.done)return r(v,L),vr&&kl(v,j),R;if(L===null){for(;!H.done;j++,H=N.next())H=h(v,H.value,I),H!==null&&(w=o(H,w,j),k===null?R=H:k.sibling=H,k=H);return vr&&kl(v,j),R}for(L=n(v,L);!H.done;j++,H=N.next())H=y(L,v,j,H.value,I),H!==null&&(t&&H.alternate!==null&&L.delete(H.key===null?j:H.key),w=o(H,w,j),k===null?R=H:k.sibling=H,k=H);return t&&L.forEach(function(re){return e(v,re)}),vr&&kl(v,j),R}function E(v,w,N,I){if(typeof N=="object"&&N!==null&&N.type===lc&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case im:e:{for(var R=N.key,k=w;k!==null;){if(k.key===R){if(R=N.type,R===lc){if(k.tag===7){r(v,k.sibling),w=i(k,N.props.children),w.return=v,v=w;break e}}else if(k.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===va&&A2(R)===k.type){r(v,k.sibling),w=i(k,N.props),w.ref=tf(v,k,N),w.return=v,v=w;break e}r(v,k);break}else e(v,k);k=k.sibling}N.type===lc?(w=lu(N.props.children,v.mode,I,N.key),w.return=v,v=w):(I=Ym(N.type,N.key,N.props,null,v.mode,I),I.ref=tf(v,w,N),I.return=v,v=I)}return s(v);case ac:e:{for(k=N.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){r(v,w.sibling),w=i(w,N.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else e(v,w);w=w.sibling}w=uw(N,v.mode,I),w.return=v,v=w}return s(v);case va:return k=N._init,E(v,w,k(N._payload),I)}if(_f(N))return b(v,w,N,I);if(Yd(N))return S(v,w,N,I);mm(v,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(r(v,w.sibling),w=i(w,N),w.return=v,v=w):(r(v,w),w=lw(N,v.mode,I),w.return=v,v=w),s(v)):r(v,w)}return E}var fd=r3(!0),n3=r3(!1),_p={},os=ml(_p),hh=ml(_p),ph=ml(_p);function Fl(t){if(t===_p)throw Error(ke(174));return t}function C_(t,e){switch(dr(ph,e),dr(hh,t),dr(os,_p),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:c1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=c1(e,t)}pr(os),dr(os,e)}function hd(){pr(os),pr(hh),pr(ph)}function i3(t){Fl(ph.current);var e=Fl(os.current),r=c1(e,t.type);e!==r&&(dr(hh,t),dr(os,r))}function T_(t){hh.current===t&&(pr(os),pr(hh))}var Cr=ml(0);function Py(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rw=[];function R_(){for(var t=0;t<rw.length;t++)rw[t]._workInProgressVersionPrimary=null;rw.length=0}var Vm=oa.ReactCurrentDispatcher,nw=oa.ReactCurrentBatchConfig,yu=0,Rr=null,on=null,hn=null,$y=!1,If=!1,mh=0,mI=0;function An(){throw Error(ke(321))}function O_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Do(t[r],e[r]))return!1;return!0}function A_(t,e,r,n,i,o){if(yu=o,Rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vm.current=t===null||t.memoizedState===null?wI:bI,t=r(n,i),If){o=0;do{if(If=!1,mh=0,25<=o)throw Error(ke(301));o+=1,hn=on=null,e.updateQueue=null,Vm.current=_I,t=r(n,i)}while(If)}if(Vm.current=jy,e=on!==null&&on.next!==null,yu=0,hn=on=Rr=null,$y=!1,e)throw Error(ke(300));return t}function I_(){var t=mh!==0;return mh=0,t}function Jo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Rr.memoizedState=hn=t:hn=hn.next=t,hn}function Ki(){if(on===null){var t=Rr.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=hn===null?Rr.memoizedState:hn.next;if(e!==null)hn=e,on=t;else{if(t===null)throw Error(ke(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?Rr.memoizedState=hn=t:hn=hn.next=t}return hn}function yh(t,e){return typeof e=="function"?e(t):e}function iw(t){var e=Ki(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=on,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((yu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=n):l=l.next=h,Rr.lanes|=c,gu|=c}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,Do(n,e.memoizedState)||(ii=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Rr.lanes|=o,gu|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ow(t){var e=Ki(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Do(o,e.memoizedState)||(ii=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function o3(){}function s3(t,e){var r=Rr,n=Ki(),i=e(),o=!Do(n.memoizedState,i);if(o&&(n.memoizedState=i,ii=!0),n=n.queue,P_(u3.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||hn!==null&&hn.memoizedState.tag&1){if(r.flags|=2048,gh(9,l3.bind(null,r,n,i,e),void 0,null),mn===null)throw Error(ke(349));yu&30||a3(r,e,i)}return i}function a3(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Rr.updateQueue,e===null?(e={lastEffect:null,stores:null},Rr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function l3(t,e,r,n){e.value=r,e.getSnapshot=n,c3(e)&&d3(t)}function u3(t,e,r){return r(function(){c3(e)&&d3(t)})}function c3(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Do(t,r)}catch{return!0}}function d3(t){var e=Ks(t,1);e!==null&&Po(e,t,1,-1)}function I2(t){var e=Jo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},e.queue=t,t=t.dispatch=vI.bind(null,Rr,t),[e.memoizedState,t]}function gh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Rr.updateQueue,e===null?(e={lastEffect:null,stores:null},Rr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function f3(){return Ki().memoizedState}function Hm(t,e,r,n){var i=Jo();Rr.flags|=t,i.memoizedState=gh(1|e,r,void 0,n===void 0?null:n)}function _v(t,e,r,n){var i=Ki();n=n===void 0?null:n;var o=void 0;if(on!==null){var s=on.memoizedState;if(o=s.destroy,n!==null&&O_(n,s.deps)){i.memoizedState=gh(e,r,o,n);return}}Rr.flags|=t,i.memoizedState=gh(1|e,r,o,n)}function P2(t,e){return Hm(8390656,8,t,e)}function P_(t,e){return _v(2048,8,t,e)}function h3(t,e){return _v(4,2,t,e)}function p3(t,e){return _v(4,4,t,e)}function m3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y3(t,e,r){return r=r!=null?r.concat([t]):null,_v(4,4,m3.bind(null,e,t),r)}function $_(){}function g3(t,e){var r=Ki();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&O_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function v3(t,e){var r=Ki();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&O_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function w3(t,e,r){return yu&21?(Do(r,e)||(r=xC(),Rr.lanes|=r,gu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ii=!0),t.memoizedState=r)}function yI(t,e){var r=Yt;Yt=r!==0&&4>r?r:4,t(!0);var n=nw.transition;nw.transition={};try{t(!1),e()}finally{Yt=r,nw.transition=n}}function b3(){return Ki().memoizedState}function gI(t,e,r){var n=Ja(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_3(t))x3(e,r);else if(r=ZC(t,e,r,n),r!==null){var i=Yn();Po(r,t,n,i),S3(r,e,n)}}function vI(t,e,r){var n=Ja(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_3(t))x3(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,Do(a,s)){var l=e.interleaved;l===null?(i.next=i,N_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=ZC(t,e,i,n),r!==null&&(i=Yn(),Po(r,t,n,i),S3(r,e,n))}}function _3(t){var e=t.alternate;return t===Rr||e!==null&&e===Rr}function x3(t,e){If=$y=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function S3(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,d_(t,r)}}var jy={readContext:Yi,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},wI={readContext:Yi,useCallback:function(t,e){return Jo().memoizedState=[t,e===void 0?null:e],t},useContext:Yi,useEffect:P2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hm(4194308,4,m3.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hm(4,2,t,e)},useMemo:function(t,e){var r=Jo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Jo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=gI.bind(null,Rr,t),[n.memoizedState,t]},useRef:function(t){var e=Jo();return t={current:t},e.memoizedState=t},useState:I2,useDebugValue:$_,useDeferredValue:function(t){return Jo().memoizedState=t},useTransition:function(){var t=I2(!1),e=t[0];return t=yI.bind(null,t[1]),Jo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Rr,i=Jo();if(vr){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=e(),mn===null)throw Error(ke(349));yu&30||a3(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,P2(u3.bind(null,n,o,t),[t]),n.flags|=2048,gh(9,l3.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Jo(),e=mn.identifierPrefix;if(vr){var r=Bs,n=Ms;r=(n&~(1<<32-Io(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=mh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=mI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bI={readContext:Yi,useCallback:g3,useContext:Yi,useEffect:P_,useImperativeHandle:y3,useInsertionEffect:h3,useLayoutEffect:p3,useMemo:v3,useReducer:iw,useRef:f3,useState:function(){return iw(yh)},useDebugValue:$_,useDeferredValue:function(t){var e=Ki();return w3(e,on.memoizedState,t)},useTransition:function(){var t=iw(yh)[0],e=Ki().memoizedState;return[t,e]},useMutableSource:o3,useSyncExternalStore:s3,useId:b3,unstable_isNewReconciler:!1},_I={readContext:Yi,useCallback:g3,useContext:Yi,useEffect:P_,useImperativeHandle:y3,useInsertionEffect:h3,useLayoutEffect:p3,useMemo:v3,useReducer:ow,useRef:f3,useState:function(){return ow(yh)},useDebugValue:$_,useDeferredValue:function(t){var e=Ki();return on===null?e.memoizedState=t:w3(e,on.memoizedState,t)},useTransition:function(){var t=ow(yh)[0],e=Ki().memoizedState;return[t,e]},useMutableSource:o3,useSyncExternalStore:s3,useId:b3,unstable_isNewReconciler:!1};function pd(t,e){try{var r="",n=e;do r+=JA(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function sw(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function P1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xI=typeof WeakMap=="function"?WeakMap:Map;function E3(t,e,r){r=zs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Dy||(Dy=!0,U1=n),P1(t,e)},r}function N3(t,e,r){r=zs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){P1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){P1(t,e),typeof n!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function $2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=LI.bind(null,t,e,r),e.then(t,t))}function j2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function L2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=zs(-1,1),e.tag=2,Qa(r,e,1))),r.lanes|=1),t)}var SI=oa.ReactCurrentOwner,ii=!1;function Vn(t,e,r,n){e.child=t===null?n3(e,null,r,n):fd(e,t.child,r,n)}function D2(t,e,r,n,i){r=r.render;var o=e.ref;return Pc(e,i),n=A_(t,e,r,n,o,i),r=I_(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zs(t,e,i)):(vr&&r&&w_(e),e.flags|=1,Vn(t,e,n,i),e.child)}function M2(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!q_(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,k3(t,e,o,n,i)):(t=Ym(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:uh,r(s,n)&&t.ref===e.ref)return Zs(t,e,i)}return e.flags|=1,t=Ya(o,n),t.ref=e.ref,t.return=e,e.child=t}function k3(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(uh(o,n)&&t.ref===e.ref)if(ii=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(ii=!0);else return e.lanes=t.lanes,Zs(t,e,i)}return $1(t,e,r,n,i)}function C3(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(vc,Si),Si|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dr(vc,Si),Si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,dr(vc,Si),Si|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,dr(vc,Si),Si|=n;return Vn(t,e,i,r),e.child}function T3(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $1(t,e,r,n,i){var o=ai(r)?pu:Dn.current;return o=cd(e,o),Pc(e,i),r=A_(t,e,r,n,o,i),n=I_(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zs(t,e,i)):(vr&&n&&w_(e),e.flags|=1,Vn(t,e,r,i),e.child)}function B2(t,e,r,n,i){if(ai(r)){var o=!0;Cy(e)}else o=!1;if(Pc(e,i),e.stateNode===null)Qm(t,e),t3(e,r,n),I1(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Yi(u):(u=ai(r)?pu:Dn.current,u=cd(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&O2(e,s,n,u),wa=!1;var p=e.memoizedState;s.state=p,Iy(e,n,s,i),l=e.memoizedState,a!==n||p!==l||si.current||wa?(typeof c=="function"&&(A1(e,r,c,n),l=e.memoizedState),(a=wa||R2(e,r,a,n,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,XC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:fo(e.type,a),s.props=u,h=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Yi(l):(l=ai(r)?pu:Dn.current,l=cd(e,l));var y=r.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==l)&&O2(e,s,n,l),wa=!1,p=e.memoizedState,s.state=p,Iy(e,n,s,i);var b=e.memoizedState;a!==h||p!==b||si.current||wa?(typeof y=="function"&&(A1(e,r,y,n),b=e.memoizedState),(u=wa||R2(e,r,u,n,p,b,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,b,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,b,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),s.props=n,s.state=b,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return j1(t,e,r,n,o,i)}function j1(t,e,r,n,i,o){T3(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&E2(e,r,!1),Zs(t,e,o);n=e.stateNode,SI.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=fd(e,t.child,null,o),e.child=fd(e,null,a,o)):Vn(t,e,a,o),e.memoizedState=n.state,i&&E2(e,r,!0),e.child}function R3(t){var e=t.stateNode;e.pendingContext?S2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S2(t,e.context,!1),C_(t,e.containerInfo)}function F2(t,e,r,n,i){return dd(),__(i),e.flags|=256,Vn(t,e,r,n),e.child}var L1={dehydrated:null,treeContext:null,retryLane:0};function D1(t){return{baseLanes:t,cachePool:null,transitions:null}}function O3(t,e,r){var n=e.pendingProps,i=Cr.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dr(Cr,i&1),t===null)return R1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ev(s,n,0,null),t=lu(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=D1(r),e.memoizedState=L1,t):j_(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return EI(t,e,s,n,a,i,r);if(o){o=n.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ya(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ya(a,o):(o=lu(o,s,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=t.child.memoizedState,s=s===null?D1(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=L1,n}return o=t.child,t=o.sibling,n=Ya(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function j_(t,e){return e=Ev({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ym(t,e,r,n){return n!==null&&__(n),fd(e,t.child,null,r),t=j_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EI(t,e,r,n,i,o,s){if(r)return e.flags&256?(e.flags&=-257,n=sw(Error(ke(422))),ym(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Ev({mode:"visible",children:n.children},i,0,null),o=lu(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&fd(e,t.child,null,s),e.child.memoizedState=D1(s),e.memoizedState=L1,o);if(!(e.mode&1))return ym(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(ke(419)),n=sw(o,n,void 0),ym(t,e,s,n)}if(a=(s&t.childLanes)!==0,ii||a){if(n=mn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ks(t,i),Po(n,t,i,-1))}return W_(),n=sw(Error(ke(421))),ym(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DI.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ki=Ha(i.nextSibling),Ci=e,vr=!0,ko=null,t!==null&&(Hi[Qi++]=Ms,Hi[Qi++]=Bs,Hi[Qi++]=mu,Ms=t.id,Bs=t.overflow,mu=e),e=j_(e,n.children),e.flags|=4096,e)}function W2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),O1(t.return,e,r)}function aw(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function A3(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Vn(t,e,n.children,r),n=Cr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W2(t,r,e);else if(t.tag===19)W2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(dr(Cr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Py(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),aw(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Py(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}aw(e,!0,r,null,o);break;case"together":aw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),gu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,r=Ya(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ya(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function NI(t,e,r){switch(e.tag){case 3:R3(e),dd();break;case 5:i3(e);break;case 1:ai(e.type)&&Cy(e);break;case 4:C_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;dr(Oy,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(dr(Cr,Cr.current&1),e.flags|=128,null):r&e.child.childLanes?O3(t,e,r):(dr(Cr,Cr.current&1),t=Zs(t,e,r),t!==null?t.sibling:null);dr(Cr,Cr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return A3(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dr(Cr,Cr.current),n)break;return null;case 22:case 23:return e.lanes=0,C3(t,e,r)}return Zs(t,e,r)}var I3,M1,P3,$3;I3=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};M1=function(){};P3=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Fl(os.current);var o=null;switch(r){case"input":i=s1(t,i),n=s1(t,n),o=[];break;case"select":i=Or({},i,{value:void 0}),n=Or({},n,{value:void 0}),o=[];break;case"textarea":i=u1(t,i),n=u1(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ny)}d1(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rh.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fr("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$3=function(t,e,r,n){r!==n&&(e.flags|=4)};function rf(t,e){if(!vr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function kI(t,e,r){var n=e.pendingProps;switch(b_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return ai(e.type)&&ky(),In(e),null;case 3:return n=e.stateNode,hd(),pr(si),pr(Dn),R_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ko!==null&&(H1(ko),ko=null))),M1(t,e),In(e),null;case 5:T_(e);var i=Fl(ph.current);if(r=e.type,t!==null&&e.stateNode!=null)P3(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ke(166));return In(e),null}if(t=Fl(os.current),pm(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[es]=e,n[fh]=o,t=(e.mode&1)!==0,r){case"dialog":fr("cancel",n),fr("close",n);break;case"iframe":case"object":case"embed":fr("load",n);break;case"video":case"audio":for(i=0;i<Sf.length;i++)fr(Sf[i],n);break;case"source":fr("error",n);break;case"img":case"image":case"link":fr("error",n),fr("load",n);break;case"details":fr("toggle",n);break;case"input":YS(n,o),fr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},fr("invalid",n);break;case"textarea":ZS(n,o),fr("invalid",n)}d1(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&hm(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&hm(n.textContent,a,t),i=["children",""+a]):rh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&fr("scroll",n)}switch(r){case"input":om(n),KS(n,o,!0);break;case"textarea":om(n),XS(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ny)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[es]=e,t[fh]=n,I3(t,e,!1,!1),e.stateNode=t;e:{switch(s=f1(r,n),r){case"dialog":fr("cancel",t),fr("close",t),i=n;break;case"iframe":case"object":case"embed":fr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Sf.length;i++)fr(Sf[i],t);i=n;break;case"source":fr("error",t),i=n;break;case"img":case"image":case"link":fr("error",t),fr("load",t),i=n;break;case"details":fr("toggle",t),i=n;break;case"input":YS(t,n),i=s1(t,n),fr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Or({},n,{value:void 0}),fr("invalid",t);break;case"textarea":ZS(t,n),i=u1(t,n),fr("invalid",t);break;default:i=n}d1(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?cC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lC(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&nh(t,l):typeof l=="number"&&nh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&fr("scroll",t):l!=null&&o_(t,o,l,s))}switch(r){case"input":om(t),KS(t,n,!1);break;case"textarea":om(t),XS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ol(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Rc(t,!!n.multiple,o,!1):n.defaultValue!=null&&Rc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ny)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)$3(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ke(166));if(r=Fl(ph.current),Fl(os.current),pm(e)){if(n=e.stateNode,r=e.memoizedProps,n[es]=e,(o=n.nodeValue!==r)&&(t=Ci,t!==null))switch(t.tag){case 3:hm(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hm(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=e,e.stateNode=n}return In(e),null;case 13:if(pr(Cr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vr&&ki!==null&&e.mode&1&&!(e.flags&128))KC(),dd(),e.flags|=98560,o=!1;else if(o=pm(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(ke(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ke(317));o[es]=e}else dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),o=!1}else ko!==null&&(H1(ko),ko=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Cr.current&1?an===0&&(an=3):W_())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return hd(),M1(t,e),t===null&&ch(e.stateNode.containerInfo),In(e),null;case 10:return E_(e.type._context),In(e),null;case 17:return ai(e.type)&&ky(),In(e),null;case 19:if(pr(Cr),o=e.memoizedState,o===null)return In(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)rf(o,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Py(t),s!==null){for(e.flags|=128,rf(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return dr(Cr,Cr.current&1|2),e.child}t=t.sibling}o.tail!==null&&zr()>md&&(e.flags|=128,n=!0,rf(o,!1),e.lanes=4194304)}else{if(!n)if(t=Py(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),rf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!vr)return In(e),null}else 2*zr()-o.renderingStartTime>md&&r!==1073741824&&(e.flags|=128,n=!0,rf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=zr(),e.sibling=null,r=Cr.current,dr(Cr,n?r&1|2:r&1),e):(In(e),null);case 22:case 23:return F_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Si&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function CI(t,e){switch(b_(e),e.tag){case 1:return ai(e.type)&&ky(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hd(),pr(si),pr(Dn),R_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T_(e),null;case 13:if(pr(Cr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));dd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pr(Cr),null;case 4:return hd(),null;case 10:return E_(e.type._context),null;case 22:case 23:return F_(),null;case 24:return null;default:return null}}var gm=!1,jn=!1,TI=typeof WeakSet=="function"?WeakSet:Set,ze=null;function gc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$r(t,e,n)}else r.current=null}function B1(t,e,r){try{r()}catch(n){$r(t,e,n)}}var q2=!1;function RI(t,e){if(x1=xy,t=MC(),v_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,p=null;t:for(;;){for(var y;h!==r||i!==0&&h.nodeType!==3||(a=s+i),h!==o||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===r&&++u===i&&(a=s),p===o&&++c===n&&(l=s),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(S1={focusedElem:t,selectionRange:r},xy=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,E=b.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?S:fo(e.type,S),E);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(I){$r(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return b=q2,q2=!1,b}function Pf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&B1(e,r,o)}i=i.next}while(i!==n)}}function xv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function F1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function j3(t){var e=t.alternate;e!==null&&(t.alternate=null,j3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[es],delete e[fh],delete e[k1],delete e[dI],delete e[fI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L3(t){return t.tag===5||t.tag===3||t.tag===4}function U2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function W1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ny));else if(n!==4&&(t=t.child,t!==null))for(W1(t,e,r),t=t.sibling;t!==null;)W1(t,e,r),t=t.sibling}function q1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(q1(t,e,r),t=t.sibling;t!==null;)q1(t,e,r),t=t.sibling}var _n=null,So=!1;function fa(t,e,r){for(r=r.child;r!==null;)D3(t,e,r),r=r.sibling}function D3(t,e,r){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(pv,r)}catch{}switch(r.tag){case 5:jn||gc(r,e);case 6:var n=_n,i=So;_n=null,fa(t,e,r),_n=n,So=i,_n!==null&&(So?(t=_n,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_n.removeChild(r.stateNode));break;case 18:_n!==null&&(So?(t=_n,r=r.stateNode,t.nodeType===8?ew(t.parentNode,r):t.nodeType===1&&ew(t,r),ah(t)):ew(_n,r.stateNode));break;case 4:n=_n,i=So,_n=r.stateNode.containerInfo,So=!0,fa(t,e,r),_n=n,So=i;break;case 0:case 11:case 14:case 15:if(!jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&B1(r,e,s),i=i.next}while(i!==n)}fa(t,e,r);break;case 1:if(!jn&&(gc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){$r(r,e,a)}fa(t,e,r);break;case 21:fa(t,e,r);break;case 22:r.mode&1?(jn=(n=jn)||r.memoizedState!==null,fa(t,e,r),jn=n):fa(t,e,r);break;default:fa(t,e,r)}}function z2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TI),e.forEach(function(n){var i=MI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function lo(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:_n=a.stateNode,So=!1;break e;case 3:_n=a.stateNode.containerInfo,So=!0;break e;case 4:_n=a.stateNode.containerInfo,So=!0;break e}a=a.return}if(_n===null)throw Error(ke(160));D3(o,s,i),_n=null,So=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$r(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M3(e,t),e=e.sibling}function M3(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lo(e,t),Go(t),n&4){try{Pf(3,t,t.return),xv(3,t)}catch(S){$r(t,t.return,S)}try{Pf(5,t,t.return)}catch(S){$r(t,t.return,S)}}break;case 1:lo(e,t),Go(t),n&512&&r!==null&&gc(r,r.return);break;case 5:if(lo(e,t),Go(t),n&512&&r!==null&&gc(r,r.return),t.flags&32){var i=t.stateNode;try{nh(i,"")}catch(S){$r(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&oC(i,o),f1(a,s);var u=f1(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?cC(i,h):c==="dangerouslySetInnerHTML"?lC(i,h):c==="children"?nh(i,h):o_(i,c,h,u)}switch(a){case"input":a1(i,o);break;case"textarea":sC(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Rc(i,!!o.multiple,y,!1):p!==!!o.multiple&&(o.defaultValue!=null?Rc(i,!!o.multiple,o.defaultValue,!0):Rc(i,!!o.multiple,o.multiple?[]:"",!1))}i[fh]=o}catch(S){$r(t,t.return,S)}}break;case 6:if(lo(e,t),Go(t),n&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(S){$r(t,t.return,S)}}break;case 3:if(lo(e,t),Go(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ah(e.containerInfo)}catch(S){$r(t,t.return,S)}break;case 4:lo(e,t),Go(t);break;case 13:lo(e,t),Go(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(M_=zr())),n&4&&z2(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(jn=(u=jn)||c,lo(e,t),jn=u):lo(e,t),Go(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ze=t,c=t.child;c!==null;){for(h=ze=c;ze!==null;){switch(p=ze,y=p.child,p.tag){case 0:case 11:case 14:case 15:Pf(4,p,p.return);break;case 1:gc(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(S){$r(n,r,S)}}break;case 5:gc(p,p.return);break;case 22:if(p.memoizedState!==null){H2(h);continue}}y!==null?(y.return=p,ze=y):H2(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uC("display",s))}catch(S){$r(t,t.return,S)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){$r(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lo(e,t),Go(t),n&4&&z2(t);break;case 21:break;default:lo(e,t),Go(t)}}function Go(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(L3(r)){var n=r;break e}r=r.return}throw Error(ke(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(nh(i,""),n.flags&=-33);var o=U2(t);q1(t,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=U2(t);W1(t,a,s);break;default:throw Error(ke(161))}}catch(l){$r(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OI(t,e,r){ze=t,B3(t)}function B3(t,e,r){for(var n=(t.mode&1)!==0;ze!==null;){var i=ze,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||gm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jn;a=gm;var u=jn;if(gm=s,(jn=l)&&!u)for(ze=i;ze!==null;)s=ze,l=s.child,s.tag===22&&s.memoizedState!==null?Q2(i):l!==null?(l.return=s,ze=l):Q2(i);for(;o!==null;)ze=o,B3(o),o=o.sibling;ze=i,gm=a,jn=u}V2(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ze=o):V2(t)}}function V2(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||xv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!jn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:fo(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&T2(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}T2(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ah(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}jn||e.flags&512&&F1(e)}catch(p){$r(e,e.return,p)}}if(e===t){ze=null;break}if(r=e.sibling,r!==null){r.return=e.return,ze=r;break}ze=e.return}}function H2(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ze=r;break}ze=e.return}}function Q2(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{xv(4,e)}catch(l){$r(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){$r(e,i,l)}}var o=e.return;try{F1(e)}catch(l){$r(e,o,l)}break;case 5:var s=e.return;try{F1(e)}catch(l){$r(e,s,l)}}}catch(l){$r(e,e.return,l)}if(e===t){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var AI=Math.ceil,Ly=oa.ReactCurrentDispatcher,L_=oa.ReactCurrentOwner,Ji=oa.ReactCurrentBatchConfig,Dt=0,mn=null,Xr=null,Sn=0,Si=0,vc=ml(0),an=0,vh=null,gu=0,Sv=0,D_=0,$f=null,ni=null,M_=0,md=1/0,Es=null,Dy=!1,U1=null,Ga=null,vm=!1,Ba=null,My=0,jf=0,z1=null,Gm=-1,Jm=0;function Yn(){return Dt&6?zr():Gm!==-1?Gm:Gm=zr()}function Ja(t){return t.mode&1?Dt&2&&Sn!==0?Sn&-Sn:pI.transition!==null?(Jm===0&&(Jm=xC()),Jm):(t=Yt,t!==0||(t=window.event,t=t===void 0?16:RC(t.type)),t):1}function Po(t,e,r,n){if(50<jf)throw jf=0,z1=null,Error(ke(185));vp(t,r,n),(!(Dt&2)||t!==mn)&&(t===mn&&(!(Dt&2)&&(Sv|=r),an===4&&Na(t,Sn)),li(t,n),r===1&&Dt===0&&!(e.mode&1)&&(md=zr()+500,wv&&yl()))}function li(t,e){var r=t.callbackNode;p5(t,e);var n=_y(t,t===mn?Sn:0);if(n===0)r!==null&&r2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&r2(r),e===1)t.tag===0?hI(G2.bind(null,t)):GC(G2.bind(null,t)),uI(function(){!(Dt&6)&&yl()}),r=null;else{switch(SC(n)){case 1:r=c_;break;case 4:r=bC;break;case 16:r=by;break;case 536870912:r=_C;break;default:r=by}r=Q3(r,F3.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function F3(t,e){if(Gm=-1,Jm=0,Dt&6)throw Error(ke(327));var r=t.callbackNode;if($c()&&t.callbackNode!==r)return null;var n=_y(t,t===mn?Sn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=By(t,n);else{e=n;var i=Dt;Dt|=2;var o=q3();(mn!==t||Sn!==e)&&(Es=null,md=zr()+500,au(t,e));do try{$I();break}catch(a){W3(t,a)}while(!0);S_(),Ly.current=o,Dt=i,Xr!==null?e=0:(mn=null,Sn=0,e=an)}if(e!==0){if(e===2&&(i=g1(t),i!==0&&(n=i,e=V1(t,i))),e===1)throw r=vh,au(t,0),Na(t,n),li(t,zr()),r;if(e===6)Na(t,n);else{if(i=t.current.alternate,!(n&30)&&!II(i)&&(e=By(t,n),e===2&&(o=g1(t),o!==0&&(n=o,e=V1(t,o))),e===1))throw r=vh,au(t,0),Na(t,n),li(t,zr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ke(345));case 2:Cl(t,ni,Es);break;case 3:if(Na(t,n),(n&130023424)===n&&(e=M_+500-zr(),10<e)){if(_y(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=N1(Cl.bind(null,t,ni,Es),e);break}Cl(t,ni,Es);break;case 4:if(Na(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Io(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=zr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AI(n/1960))-n,10<n){t.timeoutHandle=N1(Cl.bind(null,t,ni,Es),n);break}Cl(t,ni,Es);break;case 5:Cl(t,ni,Es);break;default:throw Error(ke(329))}}}return li(t,zr()),t.callbackNode===r?F3.bind(null,t):null}function V1(t,e){var r=$f;return t.current.memoizedState.isDehydrated&&(au(t,e).flags|=256),t=By(t,e),t!==2&&(e=ni,ni=r,e!==null&&H1(e)),t}function H1(t){ni===null?ni=t:ni.push.apply(ni,t)}function II(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Do(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Na(t,e){for(e&=~D_,e&=~Sv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Io(e),n=1<<r;t[r]=-1,e&=~n}}function G2(t){if(Dt&6)throw Error(ke(327));$c();var e=_y(t,0);if(!(e&1))return li(t,zr()),null;var r=By(t,e);if(t.tag!==0&&r===2){var n=g1(t);n!==0&&(e=n,r=V1(t,n))}if(r===1)throw r=vh,au(t,0),Na(t,e),li(t,zr()),r;if(r===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cl(t,ni,Es),li(t,zr()),null}function B_(t,e){var r=Dt;Dt|=1;try{return t(e)}finally{Dt=r,Dt===0&&(md=zr()+500,wv&&yl())}}function vu(t){Ba!==null&&Ba.tag===0&&!(Dt&6)&&$c();var e=Dt;Dt|=1;var r=Ji.transition,n=Yt;try{if(Ji.transition=null,Yt=1,t)return t()}finally{Yt=n,Ji.transition=r,Dt=e,!(Dt&6)&&yl()}}function F_(){Si=vc.current,pr(vc)}function au(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lI(r)),Xr!==null)for(r=Xr.return;r!==null;){var n=r;switch(b_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ky();break;case 3:hd(),pr(si),pr(Dn),R_();break;case 5:T_(n);break;case 4:hd();break;case 13:pr(Cr);break;case 19:pr(Cr);break;case 10:E_(n.type._context);break;case 22:case 23:F_()}r=r.return}if(mn=t,Xr=t=Ya(t.current,null),Sn=Si=e,an=0,vh=null,D_=Sv=gu=0,ni=$f=null,Bl!==null){for(e=0;e<Bl.length;e++)if(r=Bl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}Bl=null}return t}function W3(t,e){do{var r=Xr;try{if(S_(),Vm.current=jy,$y){for(var n=Rr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$y=!1}if(yu=0,hn=on=Rr=null,If=!1,mh=0,L_.current=null,r===null||r.return===null){an=1,vh=e,Xr=null;break}e:{var o=t,s=r.return,a=r,l=e;if(e=Sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=j2(s);if(y!==null){y.flags&=-257,L2(y,s,a,o,e),y.mode&1&&$2(o,u,e),e=y,l=u;var b=e.updateQueue;if(b===null){var S=new Set;S.add(l),e.updateQueue=S}else b.add(l);break e}else{if(!(e&1)){$2(o,u,e),W_();break e}l=Error(ke(426))}}else if(vr&&a.mode&1){var E=j2(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),L2(E,s,a,o,e),__(pd(l,a));break e}}o=l=pd(l,a),an!==4&&(an=2),$f===null?$f=[o]:$f.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=E3(o,l,e);C2(o,v);break e;case 1:a=l;var w=o.type,N=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ga===null||!Ga.has(N)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=N3(o,a,e);C2(o,I);break e}}o=o.return}while(o!==null)}z3(r)}catch(R){e=R,Xr===r&&r!==null&&(Xr=r=r.return);continue}break}while(!0)}function q3(){var t=Ly.current;return Ly.current=jy,t===null?jy:t}function W_(){(an===0||an===3||an===2)&&(an=4),mn===null||!(gu&268435455)&&!(Sv&268435455)||Na(mn,Sn)}function By(t,e){var r=Dt;Dt|=2;var n=q3();(mn!==t||Sn!==e)&&(Es=null,au(t,e));do try{PI();break}catch(i){W3(t,i)}while(!0);if(S_(),Dt=r,Ly.current=n,Xr!==null)throw Error(ke(261));return mn=null,Sn=0,an}function PI(){for(;Xr!==null;)U3(Xr)}function $I(){for(;Xr!==null&&!o5();)U3(Xr)}function U3(t){var e=H3(t.alternate,t,Si);t.memoizedProps=t.pendingProps,e===null?z3(t):Xr=e,L_.current=null}function z3(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=CI(r,e),r!==null){r.flags&=32767,Xr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Xr=null;return}}else if(r=kI(r,e,Si),r!==null){Xr=r;return}if(e=e.sibling,e!==null){Xr=e;return}Xr=e=t}while(e!==null);an===0&&(an=5)}function Cl(t,e,r){var n=Yt,i=Ji.transition;try{Ji.transition=null,Yt=1,jI(t,e,r,n)}finally{Ji.transition=i,Yt=n}return null}function jI(t,e,r,n){do $c();while(Ba!==null);if(Dt&6)throw Error(ke(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(m5(t,o),t===mn&&(Xr=mn=null,Sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vm||(vm=!0,Q3(by,function(){return $c(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ji.transition,Ji.transition=null;var s=Yt;Yt=1;var a=Dt;Dt|=4,L_.current=null,RI(t,r),M3(r,t),tI(S1),xy=!!x1,S1=x1=null,t.current=r,OI(r),s5(),Dt=a,Yt=s,Ji.transition=o}else t.current=r;if(vm&&(vm=!1,Ba=t,My=i),o=t.pendingLanes,o===0&&(Ga=null),u5(r.stateNode),li(t,zr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Dy)throw Dy=!1,t=U1,U1=null,t;return My&1&&t.tag!==0&&$c(),o=t.pendingLanes,o&1?t===z1?jf++:(jf=0,z1=t):jf=0,yl(),null}function $c(){if(Ba!==null){var t=SC(My),e=Ji.transition,r=Yt;try{if(Ji.transition=null,Yt=16>t?16:t,Ba===null)var n=!1;else{if(t=Ba,Ba=null,My=0,Dt&6)throw Error(ke(331));var i=Dt;for(Dt|=4,ze=t.current;ze!==null;){var o=ze,s=o.child;if(ze.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ze=u;ze!==null;){var c=ze;switch(c.tag){case 0:case 11:case 15:Pf(8,c,o)}var h=c.child;if(h!==null)h.return=c,ze=h;else for(;ze!==null;){c=ze;var p=c.sibling,y=c.return;if(j3(c),c===u){ze=null;break}if(p!==null){p.return=y,ze=p;break}ze=y}}}var b=o.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}ze=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ze=s;else e:for(;ze!==null;){if(o=ze,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pf(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ze=v;break e}ze=o.return}}var w=t.current;for(ze=w;ze!==null;){s=ze;var N=s.child;if(s.subtreeFlags&2064&&N!==null)N.return=s,ze=N;else e:for(s=w;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xv(9,a)}}catch(R){$r(a,a.return,R)}if(a===s){ze=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ze=I;break e}ze=a.return}}if(Dt=i,yl(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(pv,t)}catch{}n=!0}return n}finally{Yt=r,Ji.transition=e}}return!1}function J2(t,e,r){e=pd(r,e),e=E3(t,e,1),t=Qa(t,e,1),e=Yn(),t!==null&&(vp(t,1,e),li(t,e))}function $r(t,e,r){if(t.tag===3)J2(t,t,r);else for(;e!==null;){if(e.tag===3){J2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ga===null||!Ga.has(n))){t=pd(r,t),t=N3(e,t,1),e=Qa(e,t,1),t=Yn(),e!==null&&(vp(e,1,t),li(e,t));break}}e=e.return}}function LI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&r,mn===t&&(Sn&r)===r&&(an===4||an===3&&(Sn&130023424)===Sn&&500>zr()-M_?au(t,0):D_|=r),li(t,e)}function V3(t,e){e===0&&(t.mode&1?(e=lm,lm<<=1,!(lm&130023424)&&(lm=4194304)):e=1);var r=Yn();t=Ks(t,e),t!==null&&(vp(t,e,r),li(t,r))}function DI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),V3(t,r)}function MI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ke(314))}n!==null&&n.delete(e),V3(t,r)}var H3;H3=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||si.current)ii=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ii=!1,NI(t,e,r);ii=!!(t.flags&131072)}else ii=!1,vr&&e.flags&1048576&&JC(e,Ry,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qm(t,e),t=e.pendingProps;var i=cd(e,Dn.current);Pc(e,r),i=A_(null,e,n,t,i,r);var o=I_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ai(n)?(o=!0,Cy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k_(e),i.updater=bv,e.stateNode=i,i._reactInternals=e,I1(e,n,t,r),e=j1(null,e,n,!0,o,r)):(e.tag=0,vr&&o&&w_(e),Vn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qm(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=FI(n),t=fo(n,t),i){case 0:e=$1(null,e,n,t,r);break e;case 1:e=B2(null,e,n,t,r);break e;case 11:e=D2(null,e,n,t,r);break e;case 14:e=M2(null,e,n,fo(n.type,t),r);break e}throw Error(ke(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fo(n,i),$1(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fo(n,i),B2(t,e,n,i,r);case 3:e:{if(R3(e),t===null)throw Error(ke(387));n=e.pendingProps,o=e.memoizedState,i=o.element,XC(t,e),Iy(e,n,null,r);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=pd(Error(ke(423)),e),e=F2(t,e,n,r,i);break e}else if(n!==i){i=pd(Error(ke(424)),e),e=F2(t,e,n,r,i);break e}else for(ki=Ha(e.stateNode.containerInfo.firstChild),Ci=e,vr=!0,ko=null,r=n3(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dd(),n===i){e=Zs(t,e,r);break e}Vn(t,e,n,r)}e=e.child}return e;case 5:return i3(e),t===null&&R1(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,E1(n,i)?s=null:o!==null&&E1(n,o)&&(e.flags|=32),T3(t,e),Vn(t,e,s,r),e.child;case 6:return t===null&&R1(e),null;case 13:return O3(t,e,r);case 4:return C_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=fd(e,null,n,r):Vn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fo(n,i),D2(t,e,n,i,r);case 7:return Vn(t,e,e.pendingProps,r),e.child;case 8:return Vn(t,e,e.pendingProps.children,r),e.child;case 12:return Vn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,dr(Oy,n._currentValue),n._currentValue=s,o!==null)if(Do(o.value,s)){if(o.children===i.children&&!si.current){e=Zs(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=zs(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),O1(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ke(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),O1(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Vn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Pc(e,r),i=Yi(i),n=n(i),e.flags|=1,Vn(t,e,n,r),e.child;case 14:return n=e.type,i=fo(n,e.pendingProps),i=fo(n.type,i),M2(t,e,n,i,r);case 15:return k3(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fo(n,i),Qm(t,e),e.tag=1,ai(n)?(t=!0,Cy(e)):t=!1,Pc(e,r),t3(e,n,i),I1(e,n,i,r),j1(null,e,n,!0,t,r);case 19:return A3(t,e,r);case 22:return C3(t,e,r)}throw Error(ke(156,e.tag))};function Q3(t,e){return wC(t,e)}function BI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(t,e,r,n){return new BI(t,e,r,n)}function q_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FI(t){if(typeof t=="function")return q_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===a_)return 11;if(t===l_)return 14}return 2}function Ya(t,e){var r=t.alternate;return r===null?(r=Gi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ym(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")q_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case lc:return lu(r.children,i,o,e);case s_:s=8,i|=8;break;case r1:return t=Gi(12,r,e,i|2),t.elementType=r1,t.lanes=o,t;case n1:return t=Gi(13,r,e,i),t.elementType=n1,t.lanes=o,t;case i1:return t=Gi(19,r,e,i),t.elementType=i1,t.lanes=o,t;case rC:return Ev(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eC:s=10;break e;case tC:s=9;break e;case a_:s=11;break e;case l_:s=14;break e;case va:s=16,n=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Gi(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function lu(t,e,r,n){return t=Gi(7,t,n,e),t.lanes=r,t}function Ev(t,e,r,n){return t=Gi(22,t,n,e),t.elementType=rC,t.lanes=r,t.stateNode={isHidden:!1},t}function lw(t,e,r){return t=Gi(6,t,null,e),t.lanes=r,t}function uw(t,e,r){return e=Gi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U0(0),this.expirationTimes=U0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function U_(t,e,r,n,i,o,s,a,l){return t=new WI(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},k_(o),t}function qI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ac,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function G3(t){if(!t)return sl;t=t._reactInternals;e:{if(Ru(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ai(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var r=t.type;if(ai(r))return QC(t,r,e)}return e}function J3(t,e,r,n,i,o,s,a,l){return t=U_(r,n,!0,t,i,o,s,a,l),t.context=G3(null),r=t.current,n=Yn(),i=Ja(r),o=zs(n,i),o.callback=e??null,Qa(r,o,i),t.current.lanes=i,vp(t,i,n),li(t,n),t}function Nv(t,e,r,n){var i=e.current,o=Yn(),s=Ja(i);return r=G3(r),e.context===null?e.context=r:e.pendingContext=r,e=zs(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Qa(i,e,s),t!==null&&(Po(t,i,s,o),zm(t,i,s)),s}function Fy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function z_(t,e){Y2(t,e),(t=t.alternate)&&Y2(t,e)}function UI(){return null}var Y3=typeof reportError=="function"?reportError:function(t){console.error(t)};function V_(t){this._internalRoot=t}kv.prototype.render=V_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));Nv(t,e,null,null)};kv.prototype.unmount=V_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vu(function(){Nv(null,t,null,null)}),e[Ys]=null}};function kv(t){this._internalRoot=t}kv.prototype.unstable_scheduleHydration=function(t){if(t){var e=kC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ea.length&&e!==0&&e<Ea[r].priority;r++);Ea.splice(r,0,t),r===0&&TC(t)}};function H_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function K2(){}function zI(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Fy(s);o.call(u)}}var s=J3(e,n,t,0,null,!1,!1,"",K2);return t._reactRootContainer=s,t[Ys]=s.current,ch(t.nodeType===8?t.parentNode:t),vu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Fy(l);a.call(u)}}var l=U_(t,0,!1,null,null,!1,!1,"",K2);return t._reactRootContainer=l,t[Ys]=l.current,ch(t.nodeType===8?t.parentNode:t),vu(function(){Nv(e,l,r,n)}),l}function Tv(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Fy(s);a.call(l)}}Nv(e,s,t,i)}else s=zI(r,e,t,i,n);return Fy(s)}EC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=xf(e.pendingLanes);r!==0&&(d_(e,r|1),li(e,zr()),!(Dt&6)&&(md=zr()+500,yl()))}break;case 13:vu(function(){var n=Ks(t,1);if(n!==null){var i=Yn();Po(n,t,1,i)}}),z_(t,1)}};f_=function(t){if(t.tag===13){var e=Ks(t,134217728);if(e!==null){var r=Yn();Po(e,t,134217728,r)}z_(t,134217728)}};NC=function(t){if(t.tag===13){var e=Ja(t),r=Ks(t,e);if(r!==null){var n=Yn();Po(r,t,e,n)}z_(t,e)}};kC=function(){return Yt};CC=function(t,e){var r=Yt;try{return Yt=t,e()}finally{Yt=r}};p1=function(t,e,r){switch(e){case"input":if(a1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=vv(n);if(!i)throw Error(ke(90));iC(n),a1(n,i)}}}break;case"textarea":sC(t,r);break;case"select":e=r.value,e!=null&&Rc(t,!!r.multiple,e,!1)}};hC=B_;pC=vu;var VI={usingClientEntryPoint:!1,Events:[bp,fc,vv,dC,fC,B_]},nf={findFiberByHostInstance:Ml,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HI={bundleType:nf.bundleType,version:nf.version,rendererPackageName:nf.rendererPackageName,rendererConfig:nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gC(t),t===null?null:t.stateNode},findFiberByHostInstance:nf.findFiberByHostInstance||UI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wm.isDisabled&&wm.supportsFiber)try{pv=wm.inject(HI),is=wm}catch{}}Ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VI;Ii.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H_(e))throw Error(ke(200));return qI(t,e,null,r)};Ii.createRoot=function(t,e){if(!H_(t))throw Error(ke(299));var r=!1,n="",i=Y3;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=U_(t,1,!1,null,null,r,!1,n,i),t[Ys]=e.current,ch(t.nodeType===8?t.parentNode:t),new V_(e)};Ii.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=gC(e),t=t===null?null:t.stateNode,t};Ii.flushSync=function(t){return vu(t)};Ii.hydrate=function(t,e,r){if(!Cv(e))throw Error(ke(200));return Tv(null,t,e,!0,r)};Ii.hydrateRoot=function(t,e,r){if(!H_(t))throw Error(ke(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=Y3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=J3(e,null,t,1,r??null,i,!1,o,s),t[Ys]=e.current,ch(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new kv(e)};Ii.render=function(t,e,r){if(!Cv(e))throw Error(ke(200));return Tv(null,t,e,!1,r)};Ii.unmountComponentAtNode=function(t){if(!Cv(t))throw Error(ke(40));return t._reactRootContainer?(vu(function(){Tv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};Ii.unstable_batchedUpdates=B_;Ii.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Cv(r))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return Tv(t,e,r,!1,n)};Ii.version="18.2.0-next-9e3b772b8-20220608";function K3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K3)}catch(t){console.error(t)}}K3(),Jk.exports=Ii;var Q_=Jk.exports;const Z3=yp(Q_),QI=Mk({__proto__:null,default:Z3},[Q_]);var Z2=Q_;e1.createRoot=Z2.createRoot,e1.hydrateRoot=Z2.hydrateRoot;function ss(t){return Object.keys(t)}function cw(t){return t&&typeof t=="object"&&!Array.isArray(t)}function G_(t,e){const r={...t},n=e;return cw(t)&&cw(e)&&Object.keys(e).forEach(i=>{cw(n[i])&&i in t?r[i]=G_(r[i],n[i]):r[i]=n[i]}),r}function GI(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function JI(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function YI(t){const e=JI(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function dw(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function X3(t,{shouldScale:e=!1}={}){function r(n){if(n===0||n==="0")return`0${t}`;if(typeof n=="number"){const i=`${n/16}${t}`;return e?dw(i):i}if(typeof n=="string"){if(n.startsWith("calc(")||n.startsWith("clamp(")||n.includes("rgba("))return n;if(n.includes(","))return n.split(",").map(o=>r(o)).join(",");if(n.includes(" "))return n.split(" ").map(o=>r(o)).join(" ");if(n.includes(t))return e?dw(n):n;const i=n.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${t}`;return e?dw(o):o}}return n}return r}const we=X3("rem",{shouldScale:!0}),X2=X3("em");function J_(t){return Object.keys(t).reduce((e,r)=>(t[r]!==void 0&&(e[r]=t[r]),e),{})}function eT(t){return typeof t=="number"?!0:typeof t=="string"?t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!==""?!0:/[0-9]/.test(t.trim().replace("-","")[0]):!1}function Y_(t){const e=A.createContext(null);return[({children:i,value:o})=>T.createElement(e.Provider,{value:o},i),()=>{const i=A.useContext(e);if(i===null)throw new Error(t);return i}]}function KI(t=null){const e=A.createContext(t);return[({children:i,value:o})=>T.createElement(e.Provider,{value:o},i),()=>A.useContext(e)]}function Mo(t,e="size",r=!0){if(t!==void 0)return eT(t)?r?we(t):t:`var(--${e}-${t})`}function Wy(t){return Mo(t,"mantine-spacing")}function Rv(t){return t===void 0?"var(--mantine-radius-default)":Mo(t,"mantine-radius")}function $o(t){return Mo(t,"mantine-font-size")}function ZI(t){return Mo(t,"mantine-line-height",!1)}function XI(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Al(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Ov(t,e){const r=Al(t),n=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),A.useCallback((...i)=>{window.clearTimeout(n.current),n.current=window.setTimeout(()=>r(...i),e)},[r,e])}function eP(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function tP(t,e){return typeof e=="boolean"?e:typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function rP(t,e,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[n,i]=A.useState(r?e:tP(t)),o=A.useRef();return A.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(t),i(o.current.matches),eP(o.current,s=>i(s.matches))},[t]),n}const Av=typeof document<"u"?A.useLayoutEffect:A.useEffect;function nP(t,e){const r=A.useRef(!1);A.useEffect(()=>()=>{r.current=!1},[]),A.useEffect(()=>{if(r.current)return t();r.current=!0},e)}const iP=T.useId||(()=>{});function oP(){const t=iP();return t?`mantine-${t.replace(/:/g,"")}`:""}function tT(t){const e=oP(),[r,n]=A.useState(e);return Av(()=>{n(XI())},[]),typeof t=="string"?t:typeof window>"u"?e:r}function sP(t,e){typeof t=="function"?t(e):typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function aP(...t){return e=>{t.forEach(r=>sP(r,e))}}function gl(...t){return A.useCallback(aP(...t),t)}function lP({value:t,defaultValue:e,finalValue:r,onChange:n=()=>{}}){const[i,o]=A.useState(e!==void 0?e:r),s=(a,...l)=>{o(a),n==null||n(a,...l)};return t!==void 0?[t,n,!0]:[i,s,!1]}function uP(t,e){return rP("(prefers-reduced-motion: reduce)",t,e)}function cP(t,e,r={autoInvoke:!1}){const n=A.useRef(null),i=A.useCallback((...s)=>{n.current||(n.current=window.setTimeout(()=>{t(s),n.current=null},e))},[e]),o=A.useCallback(()=>{n.current&&(window.clearTimeout(n.current),n.current=null)},[]);return A.useEffect(()=>(r.autoInvoke&&i(),o),[o,i]),{start:i,clear:o}}function dP(t,e,r){const n=A.useRef(),i=A.useRef(null);return A.useEffect(()=>{const o=typeof r=="function"?r():r;return(o||i.current)&&(n.current=new MutationObserver(t),n.current.observe(o||i.current,e)),()=>{var s;(s=n.current)==null||s.disconnect()}},[t,e]),i}function fP(){const[t,e]=A.useState(!1);return A.useEffect(()=>e(!0),[]),t}var hP={};function pP(){return typeof process<"u"&&hP?"production":"development"}function rT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=rT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vl(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=rT(t))&&(n&&(n+=" "),n+=e);return n}const mP={};function yP(t){const e={};return t.forEach(r=>{Object.entries(r).forEach(([n,i])=>{e[n]?e[n]=vl(e[n],i):e[n]=i})}),e}function K_({theme:t,classNames:e,props:r,stylesCtx:n}){const o=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,r,n):s||mP);return yP(o)}function Q1({theme:t,styles:e,props:r,stylesCtx:n}){return(Array.isArray(e)?e:[e]).reduce((o,s)=>typeof s=="function"?{...o,...s(t,r,n)}:{...o,...s},{})}const nT=A.createContext(null);function xp(){const t=A.useContext(nT);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function gP(){return xp().cssVariablesResolver}function vP(){return xp().classNamesPrefix}function Z_(){return xp().getStyleNonce}function wP(){return xp().withStaticClasses}function bP(){return xp().headless}function _P(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function xP(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const r=parseInt(e,16),n=r>>16&255,i=r>>8&255,o=r&255;return{r:n,g:i,b:o,a:1}}function SP(t){const[e,r,n,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:r,b:n,a:i||1}}function EP(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=t.match(e);if(!r)return{r:0,g:0,b:0,a:1};const n=parseInt(r[1],10),i=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100,s=r[5]?parseFloat(r[5]):void 0,a=(1-Math.abs(2*o-1))*i,l=n/60,u=a*(1-Math.abs(l%2-1)),c=o-a/2;let h,p,y;return l>=0&&l<1?(h=a,p=u,y=0):l>=1&&l<2?(h=u,p=a,y=0):l>=2&&l<3?(h=0,p=a,y=u):l>=3&&l<4?(h=0,p=u,y=a):l>=4&&l<5?(h=u,p=0,y=a):(h=a,p=0,y=u),{r:Math.round((h+c)*255),g:Math.round((p+c)*255),b:Math.round((y+c)*255),a:s||1}}function X_(t){return _P(t)?xP(t):t.startsWith("rgb")?SP(t):t.startsWith("hsl")?EP(t):{r:0,g:0,b:0,a:1}}function bm(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r,g:n,b:i,a:o}=X_(t),s=1-e,a=l=>Math.round(l*s);return`rgba(${a(r)}, ${a(n)}, ${a(i)}, ${o})`}function wh(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function fw(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function NP(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function kP(t){if(t.startsWith("oklch("))return(NP(t)||0)/100;const{r:e,g:r,b:n}=X_(t),i=e/255,o=r/255,s=n/255,a=fw(i),l=fw(o),u=fw(s);return .2126*a+.7152*l+.0722*u}function of(t,e=.179){return t.startsWith("var(")?!1:kP(t)>e}function Sp({color:t,theme:e,colorScheme:r}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:r==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:of(r==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:r==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:of(r==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:of(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[n,i]=t.split("."),o=i?Number(i):void 0,s=n in e.colors;if(s){const a=o!==void 0?e.colors[n][o]:e.colors[n][wh(e,r||"light")];return{color:n,value:a,shade:o,isThemeColor:s,isLight:of(a,e.luminanceThreshold),variable:i?`--mantine-color-${n}-${o}`:`--mantine-color-${n}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:of(t,e.luminanceThreshold),shade:o,variable:void 0}}function Ka(t,e){const r=Sp({color:t||e.primaryColor,theme:e});return r.variable?`var(${r.variable})`:t}function G1(t,e){const r={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},n=Ka(r.from,e),i=Ka(r.to,e);return`linear-gradient(${r.deg}deg, ${n} 0%, ${i} 100%)`}function xs(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const o=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${o}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r,g:n,b:i}=X_(t);return`rgba(${r}, ${n}, ${i}, ${e})`}const Hu=xs,CP=({color:t,theme:e,variant:r,gradient:n,autoContrast:i})=>{const o=Sp({color:t,theme:e}),s=typeof i=="boolean"?i:e.autoContrast;if(r==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${we(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${we(1)} solid transparent`}:{background:t,hover:bm(t,.1),color:a,border:`${we(1)} solid transparent`}}if(r==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${we(1)} solid transparent`};const a=e.colors[o.color][o.shade];return{background:xs(a,.1),hover:xs(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${we(1)} solid transparent`}}return{background:xs(t,.1),hover:xs(t,.12),color:t,border:`${we(1)} solid transparent`}}if(r==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${we(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:xs(e.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${we(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:xs(t,.05),color:t,border:`${we(1)} solid ${t}`};if(r==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${we(1)} solid transparent`};const a=e.colors[o.color][o.shade];return{background:"transparent",hover:xs(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${we(1)} solid transparent`}}return{background:"transparent",hover:xs(t,.12),color:t,border:`${we(1)} solid transparent`}}return r==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${we(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${we(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${we(1)} solid transparent`}:r==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:bm(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${we(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:bm(e.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${we(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:bm(e.white,.01),color:t,border:`${we(1)} solid transparent`}:r==="gradient"?{background:G1(n,e),hover:G1(n,e),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${we(1)} solid var(--mantine-color-default-border)`}:{}},TP={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},eE="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",ex={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:TP,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:CP,autoContrast:!1,luminanceThreshold:.3,fontFamily:eE,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:eE,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:we(34),lineHeight:"1.3"},h2:{fontSize:we(26),lineHeight:"1.35"},h3:{fontSize:we(22),lineHeight:"1.4"},h4:{fontSize:we(18),lineHeight:"1.45"},h5:{fontSize:we(16),lineHeight:"1.5"},h6:{fontSize:we(14),lineHeight:"1.5"}}},fontSizes:{xs:we(12),sm:we(14),md:we(16),lg:we(18),xl:we(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:we(2),sm:we(4),md:we(8),lg:we(16),xl:we(32)},spacing:{xs:we(10),sm:we(12),md:we(16),lg:we(20),xl:we(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), 0 ${we(1)} ${we(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${we(10)} ${we(15)} ${we(-5)}, rgba(0, 0, 0, 0.04) 0 ${we(7)} ${we(7)} ${we(-5)}`,md:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${we(20)} ${we(25)} ${we(-5)}, rgba(0, 0, 0, 0.04) 0 ${we(10)} ${we(10)} ${we(-5)}`,lg:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${we(28)} ${we(23)} ${we(-7)}, rgba(0, 0, 0, 0.04) 0 ${we(12)} ${we(12)} ${we(-7)}`,xl:`0 ${we(1)} ${we(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${we(36)} ${we(28)} ${we(-7)}, rgba(0, 0, 0, 0.04) 0 ${we(17)} ${we(17)} ${we(-7)}`},other:{},components:{}};function tE(t){return t==="auto"||t==="dark"||t==="light"}function RP({key:t="mantine-color-scheme-value"}={}){let e;return{get:r=>{if(typeof window>"u")return r;try{const n=window.localStorage.getItem(t);return tE(n)?n:r}catch{return r}},set:r=>{try{window.localStorage.setItem(t,r)}catch(n){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",n)}},subscribe:r=>{e=n=>{n.storageArea===window.localStorage&&n.key===t&&tE(n.newValue)&&r(n.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const OP="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",rE="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function hw(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function nE(t){if(!(t.primaryColor in t.colors))throw new Error(OP);if(typeof t.primaryShade=="object"&&(!hw(t.primaryShade.dark)||!hw(t.primaryShade.light)))throw new Error(rE);if(typeof t.primaryShade=="number"&&!hw(t.primaryShade))throw new Error(rE)}function AP(t,e){var n;if(!e)return nE(t),t;const r=G_(t,e);return e.fontFamily&&!((n=e.headings)!=null&&n.fontFamily)&&(r.headings.fontFamily=e.fontFamily),nE(r),r}const tx=A.createContext(null),IP=()=>A.useContext(tx)||ex;function Ou(){const t=A.useContext(tx);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function iT({theme:t,children:e,inherit:r=!0}){const n=IP(),i=A.useMemo(()=>AP(r?n:ex,t),[t,n,r]);return T.createElement(tx.Provider,{value:i},e)}iT.displayName="@mantine/core/MantineThemeProvider";function PP(){const t=Ou(),e=Z_(),r=ss(t.breakpoints).reduce((n,i)=>{const o=t.breakpoints[i].includes("px"),s=YI(t.breakpoints[i]),a=o?`${s-.1}px`:X2(s-.1),l=o?`${s}px`:X2(s);return`${n}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return T.createElement("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:r}})}function pw(t){return Object.entries(t).map(([e,r])=>`${e}: ${r};`).join("")}function mw(t,e){return(Array.isArray(t)?t:[t]).reduce((n,i)=>`${i}{${n}}`,e)}function $P(t,e){const r=pw(t.variables),n=r?mw(e,r):"",i=pw(t.dark),o=i?mw(`${e}[data-mantine-color-scheme="dark"]`,i):"",s=pw(t.light),a=s?mw(`${e}[data-mantine-color-scheme="light"]`,s):"";return`${n}${o}${a}`}function oT({color:t,theme:e,autoContrast:r}){return(typeof r=="boolean"?r:e.autoContrast)&&Sp({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function iE(t,e){return oT({color:t.colors[t.primaryColor][wh(t,e)],theme:t,autoContrast:null})}function _m({theme:t,color:e,colorScheme:r,name:n=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(r==="light"){const a=wh(t,"light"),l={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-filled)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${a===9?8:a+1})`,[`--mantine-color-${n}-light`]:Hu(t.colors[e][a],.1),[`--mantine-color-${n}-light-hover`]:Hu(t.colors[e][a],.12),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${a})`,[`--mantine-color-${n}-outline-hover`]:Hu(t.colors[e][a],.05)};return i?{[`--mantine-color-${n}-0`]:t.colors[e][0],[`--mantine-color-${n}-1`]:t.colors[e][1],[`--mantine-color-${n}-2`]:t.colors[e][2],[`--mantine-color-${n}-3`]:t.colors[e][3],[`--mantine-color-${n}-4`]:t.colors[e][4],[`--mantine-color-${n}-5`]:t.colors[e][5],[`--mantine-color-${n}-6`]:t.colors[e][6],[`--mantine-color-${n}-7`]:t.colors[e][7],[`--mantine-color-${n}-8`]:t.colors[e][8],[`--mantine-color-${n}-9`]:t.colors[e][9],...l}:l}const o=wh(t,"dark"),s={[`--mantine-color-${n}-text`]:`var(--mantine-color-${n}-4)`,[`--mantine-color-${n}-filled`]:`var(--mantine-color-${n}-${o})`,[`--mantine-color-${n}-filled-hover`]:`var(--mantine-color-${n}-${o===9?8:o+1})`,[`--mantine-color-${n}-light`]:Hu(t.colors[e][Math.max(0,o-2)],.15),[`--mantine-color-${n}-light-hover`]:Hu(t.colors[e][Math.max(0,o-2)],.2),[`--mantine-color-${n}-light-color`]:`var(--mantine-color-${n}-${Math.max(o-5,0)})`,[`--mantine-color-${n}-outline`]:`var(--mantine-color-${n}-${Math.max(o-4,0)})`,[`--mantine-color-${n}-outline-hover`]:Hu(t.colors[e][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${n}-0`]:t.colors[e][0],[`--mantine-color-${n}-1`]:t.colors[e][1],[`--mantine-color-${n}-2`]:t.colors[e][2],[`--mantine-color-${n}-3`]:t.colors[e][3],[`--mantine-color-${n}-4`]:t.colors[e][4],[`--mantine-color-${n}-5`]:t.colors[e][5],[`--mantine-color-${n}-6`]:t.colors[e][6],[`--mantine-color-${n}-7`]:t.colors[e][7],[`--mantine-color-${n}-8`]:t.colors[e][8],[`--mantine-color-${n}-9`]:t.colors[e][9],...s}:s}function jP(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function Qu(t,e,r){ss(e).forEach(n=>Object.assign(t,{[`--mantine-${r}-${n}`]:e[n]}))}const sT=t=>{const e=wh(t,"light"),r=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:we(t.defaultRadius),n={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":iE(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":iE(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Qu(n.variables,t.breakpoints,"breakpoint"),Qu(n.variables,t.spacing,"spacing"),Qu(n.variables,t.fontSizes,"font-size"),Qu(n.variables,t.lineHeights,"line-height"),Qu(n.variables,t.shadows,"shadow"),Qu(n.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((o,s)=>{n.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),ss(t.colors).forEach(o=>{const s=t.colors[o];if(jP(s)){Object.assign(n.light,_m({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(n.dark,_m({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,l)=>{n.variables[`--mantine-color-${o}-${l}`]=a}),Object.assign(n.light,_m({theme:t,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(n.dark,_m({theme:t,color:o,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return ss(i).forEach(o=>{n.variables[`--mantine-${o}-font-size`]=i[o].fontSize,n.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,n.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||t.headings.fontWeight}),n};function LP({theme:t,generator:e}){const r=sT(t),n=e==null?void 0:e(t);return n?G_(r,n):r}const yw=sT(ex);function DP(t){const e={variables:{},light:{},dark:{}};return ss(t.variables).forEach(r=>{yw.variables[r]!==t.variables[r]&&(e.variables[r]=t.variables[r])}),ss(t.light).forEach(r=>{yw.light[r]!==t.light[r]&&(e.light[r]=t.light[r])}),ss(t.dark).forEach(r=>{yw.dark[r]!==t.dark[r]&&(e.dark[r]=t.dark[r])}),e}function MP(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function aT({cssVariablesSelector:t,deduplicateCssVariables:e}){const r=Ou(),n=Z_(),i=gP(),o=LP({theme:r,generator:i}),s=t===":root"&&e,a=s?DP(o):o,l=$P(a,t);return l?T.createElement("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${l}${s?"":MP(t)}`}}):null}aT.displayName="@mantine/CssVariables";function BP(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function Gu(t,e){var n;const r=t!=="auto"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(n=e())==null||n.setAttribute("data-mantine-color-scheme",r)}function FP({manager:t,defaultColorScheme:e,getRootElement:r,forceColorScheme:n}){const i=A.useRef(),[o,s]=A.useState(()=>t.get(e)),a=n||o,l=A.useCallback(c=>{n||(Gu(c,r),s(c),t.set(c))},[t.set,a,n]),u=A.useCallback(()=>{s(e),Gu(e,r),t.clear()},[t.clear,e]);return A.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),Av(()=>{Gu(t.get(e),r)},[]),A.useEffect(()=>{var h;if(n)return Gu(n,r),()=>{};n===void 0&&Gu(o,r),i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=p=>{o==="auto"&&Gu(p.matches?"dark":"light",r)};return(h=i.current)==null||h.addEventListener("change",c),()=>{var p;return(p=i.current)==null?void 0:p.removeEventListener("change",c)}},[o,n]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function WP({respectReducedMotion:t,getRootElement:e}){Av(()=>{var r;t&&((r=e())==null||r.setAttribute("data-respect-reduced-motion","true"))},[t])}BP();function lT({theme:t,children:e,getStyleNonce:r,withStaticClasses:n=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=RP(),defaultColorScheme:c="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:y}){const{colorScheme:b,setColorScheme:S,clearColorScheme:E}=FP({defaultColorScheme:c,forceColorScheme:y,manager:u,getRootElement:h});return WP({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:h}),T.createElement(nT.Provider,{value:{colorScheme:b,setColorScheme:S,clearColorScheme:E,getRootElement:h,classNamesPrefix:l,getStyleNonce:r,cssVariablesResolver:p,cssVariablesSelector:a,withStaticClasses:n}},T.createElement(iT,{theme:t},s&&T.createElement(aT,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&T.createElement(PP,null),e))}lT.displayName="@mantine/core/MantineProvider";const qP={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function UP({theme:t,options:e,unstyled:r}){return vl((e==null?void 0:e.focusable)&&!r&&(t.focusClassName||qP[t.focusRing]),(e==null?void 0:e.active)&&!r&&t.activeClassName)}function zP({selector:t,stylesCtx:e,options:r,props:n,theme:i}){return K_({theme:i,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||n,stylesCtx:e})[t]}function VP({selector:t,stylesCtx:e,theme:r,classNames:n,props:i}){return K_({theme:r,classNames:n,props:i,stylesCtx:e})[t]}function HP({rootSelector:t,selector:e,className:r}){return t===e?r:void 0}function QP({selector:t,classes:e,unstyled:r}){return r?void 0:e[t]}function GP({themeName:t,classNamesPrefix:e,selector:r,withStaticClass:n}){return n===!1?[]:t.map(i=>`${e}-${i}-${r}`)}function JP({themeName:t,theme:e,selector:r,props:n,stylesCtx:i}){return t.map(o=>{var s,a;return(a=K_({theme:e,classNames:(s=e.components[o])==null?void 0:s.classNames,props:n,stylesCtx:i}))==null?void 0:a[r]})}function YP({options:t,classes:e,selector:r,unstyled:n}){return t!=null&&t.variant&&!n?e[`${r}--${t.variant}`]:void 0}function KP({theme:t,options:e,themeName:r,selector:n,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:h,withStaticClasses:p,headless:y}){return vl(UP({theme:t,options:e,unstyled:a||y}),JP({theme:t,themeName:r,selector:n,props:c,stylesCtx:h}),YP({options:e,classes:s,selector:n,unstyled:a}),VP({selector:n,stylesCtx:h,theme:t,classNames:o,props:c}),zP({selector:n,stylesCtx:h,options:e,props:c,theme:t}),HP({rootSelector:u,selector:n,className:l}),QP({selector:n,classes:s,unstyled:a||y}),p&&!y&&GP({themeName:r,classNamesPrefix:i,selector:n,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function ZP({theme:t,themeName:e,props:r,stylesCtx:n,selector:i}){return e.map(o=>{var s;return Q1({theme:t,styles:(s=t.components[o])==null?void 0:s.styles,props:r,stylesCtx:n})[i]}).reduce((o,s)=>({...o,...s}),{})}function J1({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((r,n)=>({...r,...J1({style:n,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function XP(t){return t.reduce((e,r)=>(r&&Object.keys(r).forEach(n=>{e[n]={...e[n],...J_(r[n])}}),e),{})}function e$({vars:t,varsResolver:e,theme:r,props:n,stylesCtx:i,selector:o,themeName:s,headless:a}){var l;return(l=XP([a?{}:e==null?void 0:e(r,n,i),...s.map(u=>{var c,h,p;return(p=(h=(c=r.components)==null?void 0:c[u])==null?void 0:h.vars)==null?void 0:p.call(h,r,n,i)}),t==null?void 0:t(r,n,i)]))==null?void 0:l[o]}function t$({theme:t,themeName:e,selector:r,options:n,props:i,stylesCtx:o,rootSelector:s,styles:a,style:l,vars:u,varsResolver:c,headless:h}){return{...ZP({theme:t,themeName:e,props:i,stylesCtx:o,selector:r}),...Q1({theme:t,styles:a,props:i,stylesCtx:o})[r],...Q1({theme:t,styles:n==null?void 0:n.styles,props:(n==null?void 0:n.props)||i,stylesCtx:o})[r],...e$({theme:t,props:i,stylesCtx:o,vars:u,varsResolver:c,selector:r,themeName:e,headless:h}),...s===r?J1({style:l,theme:t}):null,...J1({style:n==null?void 0:n.style,theme:t})}}function un({name:t,classes:e,props:r,stylesCtx:n,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:h}){const p=Ou(),y=vP(),b=wP(),S=bP(),E=(Array.isArray(t)?t:[t]).filter(v=>v);return(v,w)=>({className:KP({theme:p,options:w,themeName:E,selector:v,classNamesPrefix:y,classNames:l,classes:e,unstyled:a,className:i,rootSelector:s,props:r,stylesCtx:n,withStaticClasses:b,headless:S}),style:t$({theme:p,themeName:E,selector:v,options:w,props:r,stylesCtx:n,rootSelector:s,styles:u,style:o,vars:c,varsResolver:h,headless:S})})}function Kt(t,e,r){var s;const n=Ou(),i=(s=n.components[t])==null?void 0:s.defaultProps,o=typeof i=="function"?i(n):i;return{...e,...o,...J_(r)}}function oE(t){return ss(t).reduce((e,r)=>t[r]!==void 0?`${e}${GI(r)}:${t[r]};`:e,"").trim()}function r$({selector:t,styles:e,media:r}){const n=e?oE(e):"",i=Array.isArray(r)?r.map(o=>`@media${o.query}{${t}{${oE(o.styles)}}}`):[];return`${n?`${t}{${n}}`:""}${i.join("")}`.trim()}function n$({selector:t,styles:e,media:r}){const n=Z_();return T.createElement("style",{"data-mantine-styles":"inline",nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:r$({selector:t,styles:e,media:r})}})}function rx(t){const{m:e,mx:r,my:n,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:h,py:p,pt:y,pb:b,pl:S,pr:E,pe:v,ps:w,bg:N,c:I,opacity:R,ff:k,fz:L,fw:j,lts:Z,ta:H,lh:te,fs:re,tt:Q,td:fe,w:je,miw:Fe,maw:Pe,h:X,mih:ge,mah:Ce,bgsz:Ae,bgp:ue,bgr:_e,bga:ve,pos:Le,top:z,left:Ve,bottom:oe,right:ct,inset:ot,display:Ge,flex:pe,hiddenFrom:me,visibleFrom:Be,lightHidden:$e,darkHidden:pt,...it}=t;return{styleProps:J_({m:e,mx:r,my:n,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:h,py:p,pt:y,pb:b,pl:S,pr:E,pe:v,ps:w,bg:N,c:I,opacity:R,ff:k,fz:L,fw:j,lts:Z,ta:H,lh:te,fs:re,tt:Q,td:fe,w:je,miw:Fe,maw:Pe,h:X,mih:ge,mah:Ce,bgsz:Ae,bgp:ue,bgr:_e,bga:ve,pos:Le,top:z,left:Ve,bottom:oe,right:ct,inset:ot,display:Ge,flex:pe,hiddenFrom:me,visibleFrom:Be,lightHidden:$e,darkHidden:pt}),rest:it}}const i$={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function uT(t,e){const r=Sp({color:t,theme:e});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function o$(t,e){const r=Sp({color:t,theme:e});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:uT(t,e)}const sE={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function s$(t){return typeof t=="string"&&t in sE?sE[t]:t}const a$=["h1","h2","h3","h4","h5","h6"];function l$(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&a$.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?we(t):t}function u$(t){return t}const c$=["h1","h2","h3","h4","h5","h6"];function d$(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&c$.includes(t)?`var(--mantine-${t}-line-height)`:t}function f$(t){return typeof t=="number"?we(t):t}function h$(t,e){if(typeof t=="number")return we(t);if(typeof t=="string"){const r=t.replace("-","");if(!(r in e.spacing))return we(t);const n=`--mantine-spacing-${r}`;return t.startsWith("-")?`calc(var(${n}) * -1)`:`var(${n})`}return t}const gw={color:uT,textColor:o$,fontSize:l$,spacing:h$,identity:u$,size:f$,lineHeight:d$,fontFamily:s$};function aE(t){return t.replace("(min-width: ","").replace("em)","")}function p$({media:t,...e}){const n=Object.keys(t).sort((i,o)=>Number(aE(i))-Number(aE(o))).map(i=>({query:i,styles:t[i]}));return{...e,media:n}}function m$(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function y$(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function g$(t){return typeof t=="object"&&t!==null?ss(t).filter(e=>e!=="base"):[]}function v$(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function w$({styleProps:t,data:e,theme:r}){return p$(ss(t).reduce((n,i)=>{if(i==="hiddenFrom"||i==="visibleFrom")return n;const o=e[i],s=Array.isArray(o.property)?o.property:[o.property],a=y$(t[i]);if(!m$(t[i]))return s.forEach(u=>{n.inlineStyles[u]=gw[o.type](a,r)}),n;n.hasResponsiveStyles=!0;const l=g$(t[i]);return s.forEach(u=>{a&&(n.styles[u]=gw[o.type](a,r)),l.forEach(c=>{const h=`(min-width: ${r.breakpoints[c]})`;n.media[h]={...n.media[h],[u]:gw[o.type](v$(t[i],c),r)}})}),n},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function b$(){return`__m__-${A.useId().replace(/:/g,"")}`}function cT(t){return t.startsWith("data-")?t:`data-${t}`}function _$(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return n===void 0||n===""||n===!1||n===null||(e[cT(r)]=t[r]),e},{})}function dT(t){return t?typeof t=="string"?{[cT(t)]:!0}:Array.isArray(t)?[...t].reduce((e,r)=>({...e,...dT(r)}),{}):_$(t):null}function Y1(t,e){return Array.isArray(t)?[...t].reduce((r,n)=>({...r,...Y1(n,e)}),{}):typeof t=="function"?t(e):t??{}}function x$({theme:t,style:e,vars:r,styleProps:n}){const i=Y1(e,t),o=Y1(r,t);return{...i,...o,...n}}const fT=A.forwardRef(({component:t,style:e,__vars:r,className:n,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:h,...p},y)=>{const b=Ou(),S=t||"div",{styleProps:E,rest:v}=rx(p),w=b$(),N=w$({styleProps:E,theme:b,data:i$}),I={ref:y,style:x$({theme:b,style:e,vars:r,styleProps:N.inlineStyles}),className:vl(n,{[w]:N.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":eT(s)?void 0:s||void 0,...dT(o),...v};return T.createElement(T.Fragment,null,N.hasResponsiveStyles&&T.createElement(n$,{selector:`.${w}`,styles:N.styles,media:N.media}),typeof h=="function"?h(I):T.createElement(S,{...I}))});fT.displayName="@mantine/core/Box";const Pt=fT;function hT(t){return t}function kn(t){const e=A.forwardRef(t);return e.extend=hT,e}function Au(t){const e=A.forwardRef(t);return e.extend=hT,e}const S$=A.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function E$(){return A.useContext(S$)}const[N$,Xi]=Y_("ScrollArea.Root component was not found in tree");function yd(t,e){const r=Al(e);Av(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}const k$=T.forwardRef((t,e)=>{const{style:r,...n}=t,i=Xi(),[o,s]=T.useState(0),[a,l]=T.useState(0),u=!!(o&&a);return yd(i.scrollbarX,()=>{var h;const c=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),yd(i.scrollbarY,()=>{var h;const c=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(c),s(c)}),u?T.createElement("div",{...n,ref:e,style:{...r,width:o,height:a}}):null}),C$=T.forwardRef((t,e)=>{const r=Xi(),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?T.createElement(k$,{...t,ref:e}):null}),T$={scrollHideDelay:1e3,type:"hover"},pT=A.forwardRef((t,e)=>{const r=Kt("ScrollAreaRoot",T$,t),{type:n,scrollHideDelay:i,scrollbars:o,...s}=r,[a,l]=A.useState(null),[u,c]=A.useState(null),[h,p]=A.useState(null),[y,b]=A.useState(null),[S,E]=A.useState(null),[v,w]=A.useState(0),[N,I]=A.useState(0),[R,k]=A.useState(!1),[L,j]=A.useState(!1),Z=gl(e,H=>l(H));return T.createElement(N$,{value:{type:n,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:h,onContentChange:p,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:R,onScrollbarXEnabledChange:k,scrollbarY:S,onScrollbarYChange:E,scrollbarYEnabled:L,onScrollbarYEnabledChange:j,onCornerWidthChange:w,onCornerHeightChange:I}},T.createElement(Pt,{...s,ref:Z,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${v}px`,"--sa-corner-height":o!=="xy"?"0px":`${N}px`}}))});pT.displayName="@mantine/core/ScrollAreaRoot";function mT(t,e){const r=t/e;return Number.isNaN(r)?0:r}function Iv(t){const e=mT(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function yT(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function R$(t,[e,r]){return Math.min(r,Math.max(e,t))}function lE(t,e,r="ltr"){const n=Iv(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-n,l=r==="ltr"?[0,s]:[s*-1,0],u=R$(t,l);return yT([0,s],[0,a])(u)}function O$(t,e,r,n="ltr"){const i=Iv(r),o=i/2,s=e||o,a=i-s,l=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,c=r.content-r.viewport,h=n==="ltr"?[0,c]:[c*-1,0];return yT([l,u],h)(t)}function gT(t,e){return t>0&&t<e}function qy(t){return t?parseInt(t,10):0}function uu(t,e,{checkForDefaultPrevented:r=!0}={}){return n=>{t==null||t(n),(r===!1||!n.defaultPrevented)&&(e==null||e(n))}}const[A$,vT]=Y_("ScrollAreaScrollbar was not found in tree"),wT=A.forwardRef((t,e)=>{const{sizes:r,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...h}=t,p=Xi(),[y,b]=T.useState(null),S=gl(e,j=>b(j)),E=T.useRef(null),v=T.useRef(""),{viewport:w}=p,N=r.content-r.viewport,I=Al(u),R=Al(a),k=Ov(c,10),L=j=>{if(E.current){const Z=j.clientX-E.current.left,H=j.clientY-E.current.top;l({x:Z,y:H})}};return A.useEffect(()=>{const j=Z=>{const H=Z.target;(y==null?void 0:y.contains(H))&&I(Z,N)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[w,y,N,I]),A.useEffect(R,[r,R]),yd(y,k),yd(p.content,k),T.createElement(A$,{value:{scrollbar:y,hasThumb:n,onThumbChange:Al(i),onThumbPointerUp:Al(o),onThumbPositionChange:R,onThumbPointerDown:Al(s)}},T.createElement("div",{...h,ref:S,style:{position:"absolute",...h.style},onPointerDown:uu(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),E.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",L(j))}),onPointerMove:uu(t.onPointerMove,L),onPointerUp:uu(t.onPointerUp,j=>{const Z=j.target;Z.hasPointerCapture(j.pointerId)&&Z.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=v.current,E.current=null})}))}),I$=A.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,style:i,...o}=t,s=Xi(),[a,l]=A.useState(),u=A.useRef(null),c=gl(e,u,s.onScrollbarXChange);return A.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),T.createElement(wT,{"data-orientation":"horizontal",...o,ref:c,sizes:r,style:{...i,"--sa-thumb-width":`${Iv(r)}px`},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(s.viewport){const y=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(y),gT(y,p)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:qy(a.paddingLeft),paddingEnd:qy(a.paddingRight)}})}})}),P$=A.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,style:i,...o}=t,s=Xi(),[a,l]=T.useState(),u=A.useRef(null),c=gl(e,u,s.onScrollbarYChange);return A.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),T.createElement(wT,{...o,"data-orientation":"vertical",ref:c,sizes:r,style:{"--sa-thumb-height":`${Iv(r)}px`,...i},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(s.viewport){const y=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(y),gT(y,p)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:qy(a.paddingTop),paddingEnd:qy(a.paddingBottom)}})}})}),nx=A.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,{dir:i}=E$(),o=Xi(),s=A.useRef(null),a=A.useRef(0),[l,u]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=mT(l.viewport,l.content),h={...n,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:y=>{s.current=y},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:y=>{a.current=y}},p=(y,b)=>O$(y,a.current,l,b);return r==="horizontal"?T.createElement(I$,{...h,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const y=o.viewport.scrollLeft,b=lE(y,l,i);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{o.viewport&&(o.viewport.scrollLeft=y)},onDragScroll:y=>{o.viewport&&(o.viewport.scrollLeft=p(y,i))}}):r==="vertical"?T.createElement(P$,{...h,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const y=o.viewport.scrollTop,b=lE(y,l);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{o.viewport&&(o.viewport.scrollTop=y)},onDragScroll:y=>{o.viewport&&(o.viewport.scrollTop=p(y))}}):null}),bT=A.forwardRef((t,e)=>{const r=Xi(),{forceMount:n,...i}=t,[o,s]=A.useState(!1),a=t.orientation==="horizontal",l=Ov(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,c=r.viewport.offsetHeight<r.viewport.scrollHeight;s(a?u:c)}},10);return yd(r.viewport,l),yd(r.content,l),n||o?T.createElement(nx,{"data-state":o?"visible":"hidden",...i,ref:e}):null}),$$=A.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Xi(),[o,s]=A.useState(!1);return A.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),r||o?T.createElement(bT,{"data-state":o?"visible":"hidden",...n,ref:e}):null}),j$=A.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Xi(),o=t.orientation==="horizontal",[s,a]=A.useState("hidden"),l=Ov(()=>a("idle"),100);return A.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),A.useEffect(()=>{const{viewport:u}=i,c=o?"scrollLeft":"scrollTop";if(u){let h=u[c];const p=()=>{const y=u[c];h!==y&&(a("scrolling"),l()),h=y};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,o,l]),r||s!=="hidden"?T.createElement(nx,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:uu(t.onPointerEnter,()=>a("interacting")),onPointerLeave:uu(t.onPointerLeave,()=>a("idle"))}):null}),uE=T.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Xi(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return T.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?T.createElement($$,{...n,ref:e,forceMount:r}):i.type==="scroll"?T.createElement(j$,{...n,ref:e,forceMount:r}):i.type==="auto"?T.createElement(bT,{...n,ref:e,forceMount:r}):i.type==="always"?T.createElement(nx,{...n,ref:e}):null});function L$(t,e=()=>{}){let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=r.left!==o.left,a=r.top!==o.top;(s||a)&&e(),r=o,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)}const D$=A.forwardRef((t,e)=>{const{style:r,...n}=t,i=Xi(),o=vT(),{onThumbPositionChange:s}=o,a=gl(e,c=>o.onThumbChange(c)),l=A.useRef(),u=Ov(()=>{l.current&&(l.current(),l.current=void 0)},100);return A.useEffect(()=>{const{viewport:c}=i;if(c){const h=()=>{if(u(),!l.current){const p=L$(c,s);l.current=p,s()}};return s(),c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,u,s]),T.createElement("div",{"data-state":o.hasThumb?"visible":"hidden",...n,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:uu(t.onPointerDownCapture,c=>{const p=c.target.getBoundingClientRect(),y=c.clientX-p.left,b=c.clientY-p.top;o.onThumbPointerDown({x:y,y:b})}),onPointerUp:uu(t.onPointerUp,o.onThumbPointerUp)})}),cE=T.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vT();return r||i.hasThumb?T.createElement(D$,{ref:e,...n}):null}),_T=A.forwardRef(({children:t,style:e,...r},n)=>{const i=Xi(),o=gl(n,i.onViewportChange);return T.createElement(Pt,{...r,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e}},T.createElement("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange},t))});_T.displayName="@mantine/core/ScrollAreaViewport";var ix={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const xT={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},M$=(t,{scrollbarSize:e})=>({root:{"--scrollarea-scrollbar-size":we(e)}}),Ep=kn((t,e)=>{const r=Kt("ScrollArea",xT,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:h,viewportProps:p,viewportRef:y,onScrollPositionChange:b,children:S,offsetScrollbars:E,scrollbars:v,...w}=r,[N,I]=A.useState(!1),R=un({name:"ScrollArea",props:r,classes:ix,className:i,style:o,classNames:n,styles:s,unstyled:a,vars:u,varsResolver:M$});return T.createElement(pT,{type:c==="never"?"always":c,scrollHideDelay:h,ref:e,scrollbars:v,...R("root"),...w},T.createElement(_T,{...p,...R("viewport",{style:p==null?void 0:p.style}),ref:y,"data-offset-scrollbars":E===!0?"xy":E||void 0,"data-scrollbars":v||void 0,onScroll:k=>{var L;(L=p==null?void 0:p.onScroll)==null||L.call(p,k),b==null||b({x:k.currentTarget.scrollLeft,y:k.currentTarget.scrollTop})}},S),(v==="xy"||v==="x")&&T.createElement(uE,{...R("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1)},T.createElement(cE,{...R("thumb")})),(v==="xy"||v==="y")&&T.createElement(uE,{...R("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1)},T.createElement(cE,{...R("thumb")})),T.createElement(C$,{...R("corner"),"data-hovered":N||void 0,"data-hidden":c==="never"||void 0}))});Ep.displayName="@mantine/core/ScrollArea";const ox=kn((t,e)=>{const{children:r,classNames:n,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:h,unstyled:p,variant:y,viewportProps:b,scrollbars:S,style:E,vars:v,...w}=Kt("ScrollAreaAutosize",xT,t);return T.createElement(Pt,{...w,ref:e,style:[{display:"flex",overflow:"auto"},E]},T.createElement(Pt,{style:{display:"flex",flexDirection:"column",flex:1}},T.createElement(Ep,{classNames:n,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:h,unstyled:p,variant:y,viewportProps:b,vars:v,scrollbars:S},r)))});Ep.classes=ix;ox.displayName="@mantine/core/ScrollAreaAutosize";ox.classes=ix;Ep.Autosize=ox;var ST={root:"m_87cf2631"};const B$={__staticSelector:"UnstyledButton"},sx=Au((t,e)=>{const r=Kt("UnstyledButton",B$,t),{className:n,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:l,style:u,...c}=r,h=un({name:o,props:r,classes:ST,className:n,style:u,classNames:a,styles:l,unstyled:s});return T.createElement(Pt,{...h("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...c})});sx.classes=ST;sx.displayName="@mantine/core/UnstyledButton";const sf=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${we(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),xm={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${we(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${we(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${we(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${we(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${we(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${we(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${we(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${we(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...sf("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...sf("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...sf("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...sf("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...sf("top"),common:{transformOrigin:"top right"}}},dE={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function F$({transition:t,state:e,duration:r,timingFunction:n}){const i={transitionDuration:`${r}ms`,transitionTimingFunction:n};return typeof t=="string"?t in xm?{transitionProperty:xm[t].transitionProperty,...i,...xm[t].common,...xm[t][dE[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[dE[e]]}}function W$({duration:t,exitDuration:e,timingFunction:r,mounted:n,onEnter:i,onExit:o,onEntered:s,onExited:a}){const l=Ou(),u=uP(),c=l.respectReducedMotion?u:!1,[h,p]=A.useState(c?0:t),[y,b]=A.useState(n?"entered":"exited"),S=A.useRef(-1),E=A.useRef(-1),v=w=>{const N=w?i:o,I=w?s:a;window.clearTimeout(S.current);const R=c?0:w?t:e;p(R),R===0?(typeof N=="function"&&N(),typeof I=="function"&&I(),b(w?"entered":"exited")):E.current=requestAnimationFrame(()=>{Z3.flushSync(()=>{b(w?"pre-entering":"pre-exiting")}),E.current=requestAnimationFrame(()=>{typeof N=="function"&&N(),b(w?"entering":"exiting"),S.current=window.setTimeout(()=>{typeof I=="function"&&I(),b(w?"entered":"exited")},R)})})};return nP(()=>{v(n)},[n]),A.useEffect(()=>()=>{window.clearTimeout(S.current),cancelAnimationFrame(E.current)},[]),{transitionDuration:h,transitionStatus:y,transitionTimingFunction:r||"ease"}}function ET({keepMounted:t,transition:e="fade",duration:r=250,exitDuration:n=r,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:l,onEnter:u,onExited:c}){const{transitionDuration:h,transitionStatus:p,transitionTimingFunction:y}=W$({mounted:i,exitDuration:n,duration:r,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c});return h===0?i?T.createElement(T.Fragment,null,o({})):t?o({display:"none"}):null:p==="exited"?t?o({display:"none"}):null:T.createElement(T.Fragment,null,o(F$({transition:e,duration:h,state:p,timingFunction:y})))}ET.displayName="@mantine/core/Transition";var Oo={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const q$=A.forwardRef(({className:t,...e},r)=>T.createElement(Pt,{component:"span",className:vl(Oo.barsLoader,t),...e,ref:r},T.createElement("span",{className:Oo.bar}),T.createElement("span",{className:Oo.bar}),T.createElement("span",{className:Oo.bar}))),U$=A.forwardRef(({className:t,...e},r)=>T.createElement(Pt,{component:"span",className:vl(Oo.dotsLoader,t),...e,ref:r},T.createElement("span",{className:Oo.dot}),T.createElement("span",{className:Oo.dot}),T.createElement("span",{className:Oo.dot}))),z$=A.forwardRef(({className:t,...e},r)=>T.createElement(Pt,{component:"span",className:vl(Oo.ovalLoader,t),...e,ref:r})),NT={bars:q$,oval:z$,dots:U$},V$={loaders:NT,type:"oval"},H$=(t,{size:e,color:r})=>({root:{"--loader-size":Mo(e,"loader-size"),"--loader-color":r?Ka(r,t):void 0}}),Pv=kn((t,e)=>{const r=Kt("Loader",V$,t),{size:n,color:i,type:o,vars:s,className:a,style:l,classNames:u,styles:c,unstyled:h,loaders:p,variant:y,children:b,...S}=r,E=un({name:"Loader",props:r,classes:Oo,className:a,style:l,classNames:u,styles:c,unstyled:h,vars:s,varsResolver:H$});return b?T.createElement(Pt,{...E("root"),ref:e,...S},b):T.createElement(Pt,{...E("root"),ref:e,component:p[o],variant:y,size:n,...S})});Pv.defaultLoaders=NT;Pv.classes=Oo;Pv.displayName="@mantine/core/Loader";function Q$(t){return A.Children.toArray(t).filter(Boolean)}var kT={root:"m_4081bf90"};const G$={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},J$=(t,{grow:e,preventGrowOverflow:r,gap:n,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":e&&r?a:void 0,"--group-gap":Wy(n),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),ax=kn((t,e)=>{const r=Kt("Group",G$,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,children:l,gap:u,align:c,justify:h,wrap:p,grow:y,preventGrowOverflow:b,vars:S,variant:E,__size:v,mod:w,...N}=r,I=Q$(l),R=I.length,k=Wy(u??"md"),j={childWidth:`calc(${100/R}% - (${k} - ${k} / ${R}))`},Z=un({name:"Group",props:r,stylesCtx:j,className:i,style:o,classes:kT,classNames:n,styles:s,unstyled:a,vars:S,varsResolver:J$});return T.createElement(Pt,{...Z("root"),ref:e,variant:E,mod:[{grow:y},w],size:v,...N},I)});ax.classes=kT;ax.displayName="@mantine/core/Group";const[Y$,$v]=KI({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var eo={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const fE={},K$=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${$o(e)} - ${we(2)})`}}),jv=kn((t,e)=>{const r=Kt("InputDescription",fE,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:h=!0,variant:p,...y}=Kt("InputDescription",fE,r),b=$v(),S=un({name:["InputWrapper",c],props:r,classes:eo,className:i,style:o,classNames:n,styles:s,unstyled:a,rootSelector:"description",vars:l,varsResolver:K$}),E=h&&(b==null?void 0:b.getStyles)||S;return T.createElement(Pt,{component:"p",ref:e,variant:p,size:u,...E("description",b!=null&&b.getStyles?{className:i,style:o}:void 0),...y})});jv.classes=eo;jv.displayName="@mantine/core/InputDescription";const Z$={},X$=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${$o(e)} - ${we(2)})`}}),Lv=kn((t,e)=>{const r=Kt("InputError",Z$,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:h=!0,variant:p,...y}=r,b=un({name:["InputWrapper",c],props:r,classes:eo,className:i,style:o,classNames:n,styles:s,unstyled:a,rootSelector:"error",vars:l,varsResolver:X$}),S=$v(),E=h&&(S==null?void 0:S.getStyles)||b;return T.createElement(Pt,{component:"p",ref:e,variant:p,size:u,...E("error",S!=null&&S.getStyles?{className:i,style:o}:void 0),...y})});Lv.classes=eo;Lv.displayName="@mantine/core/InputError";const hE={labelElement:"label"},ej=(t,{size:e})=>({label:{"--input-label-size":$o(e),"--input-asterisk-color":void 0}}),Dv=kn((t,e)=>{const r=Kt("InputLabel",hE,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,labelElement:u,size:c,required:h,htmlFor:p,onMouseDown:y,children:b,__staticSelector:S,variant:E,mod:v,...w}=Kt("InputLabel",hE,r),N=un({name:["InputWrapper",S],props:r,classes:eo,className:i,style:o,classNames:n,styles:s,unstyled:a,rootSelector:"label",vars:l,varsResolver:ej}),I=$v(),R=(I==null?void 0:I.getStyles)||N;return T.createElement(Pt,{...R("label",I!=null&&I.getStyles?{className:i,style:o}:void 0),component:u,variant:E,size:c,ref:e,htmlFor:u==="label"?p:void 0,mod:[{required:h},v],onMouseDown:k=>{y==null||y(k),!k.defaultPrevented&&k.detail>1&&k.preventDefault()},...w},b,h&&T.createElement("span",{...R("required"),"aria-hidden":!0}," *"))});Dv.classes=eo;Dv.displayName="@mantine/core/InputLabel";const pE={},lx=kn((t,e)=>{const r=Kt("InputPlaceholder",pE,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,variant:c,error:h,mod:p,...y}=Kt("InputPlaceholder",pE,r),b=un({name:["InputPlaceholder",u],props:r,classes:eo,className:i,style:o,classNames:n,styles:s,unstyled:a,rootSelector:"placeholder"});return T.createElement(Pt,{...b("placeholder"),mod:[{error:!!h},p],component:"span",variant:c,ref:e,...y})});lx.classes=eo;lx.displayName="@mantine/core/InputPlaceholder";function tj(t,{hasDescription:e,hasError:r}){const n=t.findIndex(l=>l==="input"),i=t[n-1],o=t[n+1];return{offsetBottom:e&&o==="description"||r&&o==="error",offsetTop:e&&i==="description"||r&&i==="error"}}const rj={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},nj=(t,{size:e})=>({label:{"--input-label-size":$o(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${$o(e)} - ${we(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${$o(e)} - ${we(2)})`}}),ux=kn((t,e)=>{const r=Kt("InputWrapper",rj,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,variant:c,__staticSelector:h,inputContainer:p,inputWrapperOrder:y,label:b,error:S,description:E,labelProps:v,descriptionProps:w,errorProps:N,labelElement:I,children:R,withAsterisk:k,id:L,required:j,__stylesApiProps:Z,mod:H,...te}=r,re=un({name:["InputWrapper",h],props:Z||r,classes:eo,className:i,style:o,classNames:n,styles:s,unstyled:a,vars:l,varsResolver:nj}),Q={size:u,variant:c,__staticSelector:h},fe=tT(L),je=typeof k=="boolean"?k:j,Fe=(N==null?void 0:N.id)||`${fe}-error`,Pe=(w==null?void 0:w.id)||`${fe}-description`,X=fe,ge=!!S&&typeof S!="boolean",Ce=!!E,Ae=`${ge?Fe:""} ${Ce?Pe:""}`,ue=Ae.trim().length>0?Ae.trim():void 0,_e=(v==null?void 0:v.id)||`${fe}-label`,ve=b&&T.createElement(Dv,{key:"label",labelElement:I,id:_e,htmlFor:X,required:je,...Q,...v},b),Le=Ce&&T.createElement(jv,{key:"description",...w,...Q,size:(w==null?void 0:w.size)||Q.size,id:(w==null?void 0:w.id)||Pe},E),z=T.createElement(T.Fragment,{key:"input"},p(R)),Ve=ge&&T.createElement(Lv,{...N,...Q,size:(N==null?void 0:N.size)||Q.size,key:"error",id:(N==null?void 0:N.id)||Fe},S),oe=y.map(ct=>{switch(ct){case"label":return ve;case"input":return z;case"description":return Le;case"error":return Ve;default:return null}});return T.createElement(Y$,{value:{getStyles:re,describedBy:ue,inputId:X,labelId:_e,...tj(y,{hasDescription:Ce,hasError:ge})}},T.createElement(Pt,{ref:e,variant:c,size:u,mod:[{error:!!S},H],...re("root"),...te},oe))});ux.classes=eo;ux.displayName="@mantine/core/InputWrapper";const ij={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},oj=(t,e,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Mo(e.size,"input-height"),"--input-fz":$o(e.size),"--input-radius":e.radius===void 0?void 0:Rv(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?we(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?we(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Mo(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),Jt=Au((t,e)=>{const r=Kt("Input",ij,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:h,wrapperProps:p,error:y,disabled:b,leftSection:S,leftSectionProps:E,leftSectionWidth:v,rightSection:w,rightSectionProps:N,rightSectionWidth:I,rightSectionPointerEvents:R,leftSectionPointerEvents:k,variant:L,vars:j,pointer:Z,multiline:H,radius:te,id:re,withAria:Q,withErrorStyles:fe,mod:je,...Fe}=r,{styleProps:Pe,rest:X}=rx(Fe),ge=$v(),Ce={offsetBottom:ge==null?void 0:ge.offsetBottom,offsetTop:ge==null?void 0:ge.offsetTop},Ae=un({name:["Input",u],props:c||r,classes:eo,className:i,style:o,classNames:n,styles:s,unstyled:a,stylesCtx:Ce,rootSelector:"wrapper",vars:j,varsResolver:oj}),ue=Q?{required:l,disabled:b,"aria-invalid":!!y,"aria-describedby":ge==null?void 0:ge.describedBy,id:(ge==null?void 0:ge.inputId)||re}:{};return T.createElement(Pt,{...Ae("wrapper"),...Pe,...p,mod:[{error:!!y&&fe,pointer:Z,disabled:b,multiline:H,"data-with-right-section":!!w,"data-with-left-section":!!S},je],variant:L,size:h},S&&T.createElement("div",{...E,"data-position":"left",...Ae("section",{className:E==null?void 0:E.className,style:E==null?void 0:E.style})},S),T.createElement(Pt,{component:"input",...X,...ue,ref:e,required:l,mod:{disabled:b,error:!!y&&fe},variant:L,...Ae("input")}),w&&T.createElement("div",{...N,"data-position":"right",...Ae("section",{className:N==null?void 0:N.className,style:N==null?void 0:N.style})},w))});Jt.classes=eo;Jt.Wrapper=ux;Jt.Label=Dv;Jt.Error=Lv;Jt.Description=jv;Jt.Placeholder=lx;Jt.displayName="@mantine/core/Input";function sj(t,e,r){const n=Kt(t,e,r),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:h,__staticSelector:p,__stylesApiProps:y,errorProps:b,labelProps:S,descriptionProps:E,wrapperProps:v,id:w,size:N,style:I,inputContainer:R,inputWrapperOrder:k,withAsterisk:L,variant:j,vars:Z,mod:H,...te}=n,{styleProps:re,rest:Q}=rx(te),fe={label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:p,__stylesApiProps:y||n,errorProps:b,labelProps:S,descriptionProps:E,unstyled:h,styles:u,size:N,style:I,inputContainer:R,inputWrapperOrder:k,withAsterisk:L,variant:j,id:w,mod:H,...v};return{...Q,classNames:l,styles:u,unstyled:h,wrapperProps:{...fe,...re},inputProps:{required:a,classNames:l,styles:u,unstyled:h,size:N,__staticSelector:p,__stylesApiProps:y||n,error:s,variant:j,id:w}}}const aj={__staticSelector:"InputBase",withAria:!0},Mv=Au((t,e)=>{const{inputProps:r,wrapperProps:n,...i}=sj("InputBase",aj,t);return T.createElement(Jt.Wrapper,{...n},T.createElement(Jt,{...r,...i,ref:e}))});Mv.classes={...Jt.classes,...Jt.Wrapper.classes};Mv.displayName="@mantine/core/InputBase";function lj(t,e){if(!e||!t)return!1;let r=e.parentNode;for(;r!=null;){if(r===t)return!0;r=r.parentNode}return!1}function uj({target:t,parent:e,ref:r,displayAfterTransitionEnd:n}){const i=A.useRef(),[o,s]=A.useState(!1),[a,l]=A.useState(typeof n=="boolean"?n:!1),u=()=>{if(!t||!e)return;const y=t.getBoundingClientRect(),b=e.getBoundingClientRect(),S={top:y.top-b.top,left:y.left-b.left,width:y.width,height:y.height};r.current&&(r.current.style.transform=`translateY(${S.top}px) translateX(${S.left}px)`,r.current.style.width=`${S.width}px`,r.current.style.height=`${S.height}px`)},c=()=>{window.clearTimeout(i.current),r.current&&(r.current.style.transitionDuration="0ms"),u(),i.current=window.setTimeout(()=>{r.current&&(r.current.style.transitionDuration="")},30)},h=A.useRef(),p=A.useRef();return A.useEffect(()=>{if(u(),t)return h.current=new ResizeObserver(c),h.current.observe(t),p.current=new ResizeObserver(c),p.current.observe(e),()=>{var y,b;(y=h.current)==null||y.disconnect(),(b=p.current)==null||b.disconnect()}},[e,t]),A.useEffect(()=>{if(e){const y=b=>{lj(b.target,e)&&(c(),l(!1))};return document.addEventListener("transitionend",y),()=>{document.removeEventListener("transitionend",y)}}},[e]),cP(()=>{pP()!=="test"&&s(!0)},20,{autoInvoke:!0}),dP(y=>{y.forEach(b=>{b.type==="attributes"&&b.attributeName==="dir"&&c()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:a}}var CT={root:"m_96b553a6"};const cj={},dj=(t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}}),cx=kn((t,e)=>{const r=Kt("FloatingIndicator",cj,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,target:u,parent:c,transitionDuration:h,mod:p,displayAfterTransitionEnd:y,...b}=r,S=un({name:"FloatingIndicator",classes:CT,props:r,className:i,style:o,classNames:n,styles:s,unstyled:a,vars:l,varsResolver:dj}),E=A.useRef(null),{initialized:v,hidden:w}=uj({target:u,parent:c,ref:E,displayAfterTransitionEnd:y}),N=gl(e,E);return!u||!c?null:T.createElement(Pt,{ref:N,mod:[{initialized:v,hidden:w},p],...S("root"),...b})});cx.displayName="@mantine/core/FloatingIndicator";cx.classes=CT;var TT={root:"m_b6d8b162"};function fj(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const hj={inherit:!1},pj=(t,{variant:e,lineClamp:r,gradient:n,size:i,color:o})=>({root:{"--text-fz":$o(i),"--text-lh":ZI(i),"--text-gradient":e==="gradient"?G1(n,t):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":o?Ka(o,t):void 0}}),gd=Au((t,e)=>{const r=Kt("Text",hj,t),{lineClamp:n,truncate:i,inline:o,inherit:s,gradient:a,span:l,__staticSelector:u,vars:c,className:h,style:p,classNames:y,styles:b,unstyled:S,variant:E,mod:v,size:w,...N}=r,I=un({name:["Text",u],props:r,classes:TT,className:h,style:p,classNames:y,styles:b,unstyled:S,vars:c,varsResolver:pj});return T.createElement(Pt,{...I("root",{focusable:!0}),ref:e,component:l?"span":"p",variant:E,mod:[{"data-truncate":fj(i),"data-line-clamp":typeof n=="number","data-inline":o,"data-inherit":s},v],size:w,...N})});gd.classes=TT;gd.displayName="@mantine/core/Text";var RT={root:"m_849cf0da"};const mj={underline:"hover"},pn=Au((t,e)=>{const{underline:r,className:n,unstyled:i,mod:o,...s}=Kt("Anchor",mj,t);return T.createElement(gd,{component:"a",ref:e,className:vl({[RT.root]:!i},n),...s,mod:[{underline:r},o],__staticSelector:"Anchor",unstyled:i})});pn.classes=RT;pn.displayName="@mantine/core/Anchor";var Bv={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const mE={orientation:"horizontal"},yj=(t,{borderWidth:e})=>({group:{"--button-border-width":we(e)}}),dx=kn((t,e)=>{const r=Kt("ButtonGroup",mE,t),{className:n,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:h,mod:p,...y}=Kt("ButtonGroup",mE,t),b=un({name:"ButtonGroup",props:r,classes:Bv,className:n,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:yj,rootSelector:"group"});return T.createElement(Pt,{...b("group"),ref:e,variant:h,mod:[{"data-orientation":l},p],role:"group",...y})});dx.classes=Bv;dx.displayName="@mantine/core/ButtonGroup";const gj={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${we(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},vj={},wj=(t,{radius:e,color:r,gradient:n,variant:i,size:o,justify:s,autoContrast:a})=>{const l=t.variantColorResolver({color:r||t.primaryColor,theme:t,gradient:n,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":Mo(o,"button-height"),"--button-padding-x":Mo(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?$o(o.replace("compact-","")):$o(o),"--button-radius":e===void 0?void 0:Rv(e),"--button-bg":r||i?l.background:void 0,"--button-hover":r||i?l.hover:void 0,"--button-color":l.color,"--button-bd":r||i?l.border:void 0,"--button-hover-color":r||i?l.hoverColor:void 0}}},Lr=Au((t,e)=>{const r=Kt("Button",vj,t),{style:n,vars:i,className:o,color:s,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:h,variant:p,radius:y,loading:b,loaderProps:S,gradient:E,classNames:v,styles:w,unstyled:N,"data-disabled":I,autoContrast:R,mod:k,...L}=r,j=un({name:"Button",props:r,classes:Bv,className:o,style:n,classNames:v,styles:w,unstyled:N,vars:i,varsResolver:wj}),Z=!!u,H=!!c;return T.createElement(sx,{ref:e,...j("root",{active:!a&&!b&&!I}),unstyled:N,variant:p,disabled:a||b,mod:[{disabled:a||I,loading:b,block:h,"with-left-section":Z,"with-right-section":H},k],...L},T.createElement(ET,{mounted:!!b,transition:gj,duration:150},te=>T.createElement(Pt,{component:"span",...j("loader",{style:te}),"aria-hidden":!0},T.createElement(Pv,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...S}))),T.createElement("span",{...j("inner")},u&&T.createElement(Pt,{component:"span",...j("section"),mod:{position:"left"}},u),T.createElement(Pt,{component:"span",mod:{loading:b},...j("label")},l),c&&T.createElement(Pt,{component:"span",...j("section"),mod:{position:"right"}},c)))});Lr.classes=Bv;Lr.displayName="@mantine/core/Button";Lr.Group=dx;var OT={root:"m_7485cace"};const bj={},_j=(t,{size:e,fluid:r})=>({root:{"--container-size":r?void 0:Mo(e,"container-size")}}),Ri=kn((t,e)=>{const r=Kt("Container",bj,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,fluid:u,mod:c,...h}=r,p=un({name:"Container",classes:OT,props:r,className:i,style:o,classNames:n,styles:s,unstyled:a,vars:l,varsResolver:_j});return T.createElement(Pt,{ref:e,mod:[{fluid:u},c],...p("root"),...h})});Ri.classes=OT;Ri.displayName="@mantine/core/Container";var AT={root:"m_9e117634"};const xj={},Sj=(t,{radius:e,fit:r})=>({root:{"--image-radius":e===void 0?void 0:Rv(e),"--image-object-fit":r}}),Fv=Au((t,e)=>{const r=Kt("Image",xj,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,onError:u,src:c,radius:h,fit:p,fallbackSrc:y,mod:b,...S}=r,[E,v]=A.useState(!c);A.useEffect(()=>v(!c),[c]);const w=un({name:"Image",classes:AT,props:r,className:i,style:o,classNames:n,styles:s,unstyled:a,vars:l,varsResolver:Sj});return E&&y?T.createElement(Pt,{component:"img",ref:e,src:y,...w("root"),onError:u,mod:["fallback",b],...S}):T.createElement(Pt,{component:"img",ref:e,...w("root"),src:c,onError:N=>{u==null||u(N),v(!0)},mod:b,...S})});Fv.classes=AT;Fv.displayName="@mantine/core/Image";var IT={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Ej={withItemsBorders:!0},Nj=(t,{radius:e,color:r,transitionDuration:n,size:i,transitionTimingFunction:o})=>({root:{"--sc-radius":e===void 0?void 0:Rv(e),"--sc-color":r?Ka(r,t):void 0,"--sc-shadow":r?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":n===void 0?void 0:`${n}ms`,"--sc-transition-timing-function":o,"--sc-padding":Mo(i,"sc-padding"),"--sc-font-size":$o(i)}}),Wv=kn((t,e)=>{var z,Ve;const r=Kt("SegmentedControl",Ej,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,data:u,value:c,defaultValue:h,onChange:p,size:y,name:b,disabled:S,readOnly:E,fullWidth:v,orientation:w,radius:N,color:I,transitionDuration:R,transitionTimingFunction:k,variant:L,autoContrast:j,withItemsBorders:Z,mod:H,...te}=r,re=un({name:"SegmentedControl",props:r,classes:IT,className:i,style:o,classNames:n,styles:s,unstyled:a,vars:l,varsResolver:Nj}),Q=Ou(),fe=u.map(oe=>typeof oe=="string"?{label:oe,value:oe}:oe),je=fP(),[Fe,Pe]=A.useState(null),[X,ge]=A.useState({}),Ce=(oe,ct)=>{X[ct]=oe,ge(X)},[Ae,ue]=lP({value:c,defaultValue:h,finalValue:Array.isArray(u)?((z=fe.find(oe=>!oe.disabled))==null?void 0:z.value)??((Ve=u[0])==null?void 0:Ve.value)??null:null,onChange:p}),_e=tT(b),ve=fe.map(oe=>T.createElement(Pt,{...re("control"),mod:{active:Ae===oe.value,orientation:w},key:oe.value},T.createElement("input",{...re("input"),disabled:S||oe.disabled,type:"radio",name:_e,value:oe.value,id:`${_e}-${oe.value}`,checked:Ae===oe.value,onChange:()=>!E&&ue(oe.value),"data-focus-ring":Q.focusRing}),T.createElement(Pt,{component:"label",...re("label"),mod:{active:Ae===oe.value&&!(S||oe.disabled),disabled:S||oe.disabled,"read-only":E},htmlFor:`${_e}-${oe.value}`,ref:ct=>Ce(ct,oe.value),__vars:{"--sc-label-color":I!==void 0?oT({color:I,theme:Q,autoContrast:j}):void 0}},T.createElement("span",{...re("innerLabel")},oe.label)))),Le=gl(e,oe=>Pe(oe));return u.length===0?null:T.createElement(Pt,{...re("root"),variant:L,size:y,ref:Le,mod:[{"full-width":v,orientation:w,initialized:je,"with-items-borders":Z},H],...te,role:"radiogroup"},typeof Ae=="string"&&T.createElement(cx,{target:X[Ae],parent:Fe,component:"span",transitionDuration:"var(--sc-transition-duration)",...re("indicator")}),ve)});Wv.classes=IT;Wv.displayName="@mantine/core/SegmentedControl";const[kj,Cj]=Y_("Table component was not found in the tree");var Np={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function Tj(t,e){if(!e)return;const r={};return e.columnBorder&&t.withColumnBorders&&(r["data-with-column-border"]=!0),e.rowBorder&&t.withRowBorders&&(r["data-with-row-border"]=!0),e.striped&&t.striped&&(r["data-striped"]=t.striped),e.highlightOnHover&&t.highlightOnHover&&(r["data-hover"]=!0),e.captionSide&&t.captionSide&&(r["data-side"]=t.captionSide),e.stickyHeader&&t.stickyHeader&&(r["data-sticky"]=!0),r}function Iu(t,e){const r=`Table${t.charAt(0).toUpperCase()}${t.slice(1)}`,n=kn((i,o)=>{const s=Kt(r,{},i),{classNames:a,className:l,style:u,styles:c,...h}=s,p=Cj();return T.createElement(Pt,{component:t,ref:o,...Tj(p,e),...p.getStyles(t,{className:l,classNames:a,style:u,styles:c,props:s}),...h})});return n.displayName=`@mantine/core/${r}`,n.classes=Np,n}const K1=Iu("th",{columnBorder:!0}),PT=Iu("td",{columnBorder:!0}),Km=Iu("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),$T=Iu("thead",{stickyHeader:!0}),jT=Iu("tbody"),LT=Iu("tfoot"),DT=Iu("caption",{captionSide:!0});function fx({data:t}){return T.createElement(T.Fragment,null,t.caption&&T.createElement(DT,null,t.caption),t.head&&T.createElement($T,null,T.createElement(Km,null,t.head.map((e,r)=>T.createElement(K1,{key:r},e)))),t.body&&T.createElement(jT,null,t.body.map((e,r)=>T.createElement(Km,{key:r},e.map((n,i)=>T.createElement(PT,{key:i},n))))),t.foot&&T.createElement(LT,null,T.createElement(Km,null,t.foot.map((e,r)=>T.createElement(K1,{key:r},e)))))}fx.displayName="@mantine/core/TableDataRenderer";const Rj={type:"scrollarea"},Oj=(t,{minWidth:e,type:r})=>({scrollContainer:{"--table-min-width":we(e),"--table-overflow":r==="native"?"auto":void 0}}),hx=kn((t,e)=>{const r=Kt("TableScrollContainer",Rj,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,minWidth:c,type:h,...p}=r,y=un({name:"TableScrollContainer",classes:Np,props:r,className:i,style:o,classNames:n,styles:s,unstyled:a,vars:l,varsResolver:Oj,rootSelector:"scrollContainer"});return T.createElement(Pt,{component:h==="scrollarea"?Ep:"div",...h==="scrollarea"?{offsetScrollbars:"x"}:{},ref:e,...y("scrollContainer"),...p},T.createElement("div",{...y("scrollContainerInner")},u))});hx.classes=Np;hx.displayName="@mantine/core/TableScrollContainer";const Aj={withRowBorders:!0,verticalSpacing:7},Ij=(t,{layout:e,captionSide:r,horizontalSpacing:n,verticalSpacing:i,borderColor:o,stripedColor:s,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:h})=>({table:{"--table-layout":e,"--table-caption-side":r,"--table-horizontal-spacing":Wy(n),"--table-vertical-spacing":Wy(i),"--table-border-color":o?Ka(o,t):void 0,"--table-striped-color":l&&s?Ka(s,t):void 0,"--table-highlight-on-hover-color":u&&a?Ka(a,t):void 0,"--table-sticky-header-offset":h?we(c):void 0}}),K=kn((t,e)=>{const r=Kt("Table",Aj,t),{classNames:n,className:i,style:o,styles:s,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:h,stripedColor:p,highlightOnHoverColor:y,striped:b,highlightOnHover:S,withColumnBorders:E,withRowBorders:v,withTableBorder:w,borderColor:N,layout:I,variant:R,data:k,children:L,stickyHeader:j,stickyHeaderOffset:Z,mod:H,...te}=r,re=un({name:"Table",props:r,className:i,style:o,classes:Np,classNames:n,styles:s,unstyled:a,rootSelector:"table",vars:l,varsResolver:Ij});return T.createElement(kj,{value:{getStyles:re,stickyHeader:j,striped:b===!0?"odd":b||void 0,highlightOnHover:S,withColumnBorders:E,withRowBorders:v,captionSide:h||"bottom"}},T.createElement(Pt,{component:"table",variant:R,ref:e,mod:[{"data-with-table-border":w},H],...re("table"),...te},L||!!k&&T.createElement(fx,{data:k})))});K.classes=Np;K.displayName="@mantine/core/Table";K.Td=PT;K.Th=K1;K.Tr=Km;K.Thead=$T;K.Tbody=jT;K.Tfoot=LT;K.Caption=DT;K.ScrollContainer=hx;K.DataRenderer=fx;const Pj={},px=kn((t,e)=>{const r=Kt("TextInput",Pj,t);return T.createElement(Mv,{component:"input",ref:e,...r,__staticSelector:"TextInput"})});px.classes=Mv.classes;px.displayName="@mantine/core/TextInput";var yE,tr="colors",Fn="sizes",He="space",$j={gap:He,gridGap:He,columnGap:He,gridColumnGap:He,rowGap:He,gridRowGap:He,inset:He,insetBlock:He,insetBlockEnd:He,insetBlockStart:He,insetInline:He,insetInlineEnd:He,insetInlineStart:He,margin:He,marginTop:He,marginRight:He,marginBottom:He,marginLeft:He,marginBlock:He,marginBlockEnd:He,marginBlockStart:He,marginInline:He,marginInlineEnd:He,marginInlineStart:He,padding:He,paddingTop:He,paddingRight:He,paddingBottom:He,paddingLeft:He,paddingBlock:He,paddingBlockEnd:He,paddingBlockStart:He,paddingInline:He,paddingInlineEnd:He,paddingInlineStart:He,top:He,right:He,bottom:He,left:He,scrollMargin:He,scrollMarginTop:He,scrollMarginRight:He,scrollMarginBottom:He,scrollMarginLeft:He,scrollMarginX:He,scrollMarginY:He,scrollMarginBlock:He,scrollMarginBlockEnd:He,scrollMarginBlockStart:He,scrollMarginInline:He,scrollMarginInlineEnd:He,scrollMarginInlineStart:He,scrollPadding:He,scrollPaddingTop:He,scrollPaddingRight:He,scrollPaddingBottom:He,scrollPaddingLeft:He,scrollPaddingX:He,scrollPaddingY:He,scrollPaddingBlock:He,scrollPaddingBlockEnd:He,scrollPaddingBlockStart:He,scrollPaddingInline:He,scrollPaddingInlineEnd:He,scrollPaddingInlineStart:He,fontSize:"fontSizes",background:tr,backgroundColor:tr,backgroundImage:tr,borderImage:tr,border:tr,borderBlock:tr,borderBlockEnd:tr,borderBlockStart:tr,borderBottom:tr,borderBottomColor:tr,borderColor:tr,borderInline:tr,borderInlineEnd:tr,borderInlineStart:tr,borderLeft:tr,borderLeftColor:tr,borderRight:tr,borderRightColor:tr,borderTop:tr,borderTopColor:tr,caretColor:tr,color:tr,columnRuleColor:tr,fill:tr,outline:tr,outlineColor:tr,stroke:tr,textDecorationColor:tr,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Fn,minBlockSize:Fn,maxBlockSize:Fn,inlineSize:Fn,minInlineSize:Fn,maxInlineSize:Fn,width:Fn,minWidth:Fn,maxWidth:Fn,height:Fn,minHeight:Fn,maxHeight:Fn,flexBasis:Fn,gridTemplateColumns:Fn,gridTemplateRows:Fn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},jj=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,kp=()=>{const t=Object.create(null);return(e,r,...n)=>{const i=(o=>JSON.stringify(o,jj))(e);return i in t?t[i]:t[i]=r(e,...n)}},Zm=Symbol.for("sxs.internal"),mx=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),gE=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:Lj}=Object.prototype,Z1=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Dj=/\s+(?![^()]*\))/,Ju=t=>e=>t(...typeof e=="string"?String(e).split(Dj):[e]),vE={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Ju((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Ju((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Ju((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Ju((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Ju((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Ju((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},vw=/([\d.]+)([^]*)/,Mj=(t,e)=>t.length?t.reduce((r,n)=>(r.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i)),r),[]):e,Bj=(t,e)=>t in Fj&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(r,n,i,o)=>n+(i==="stretch"?`-moz-available${o};${Z1(t)}:${n}-webkit-fill-available`:`-moz-fit-content${o};${Z1(t)}:${n}fit-content`)+o):String(e),Fj={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Xs=t=>t?t+"-":"",MT=(t,e,r)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,i,o,s,a)=>s=="$"==!!o?n:(i||s=="--"?"calc(":"")+"var(--"+(s==="$"?Xs(e)+(a.includes("$")?"":Xs(r))+a.replace(/\$/g,"-"):a)+")"+(i||s=="--"?"*"+(i||"")+(o||"1")+")":"")),Wj=/\s*,\s*(?![^()]*\))/,qj=Object.prototype.toString,wc=(t,e,r,n,i)=>{let o,s,a;const l=(u,c,h)=>{let p,y;const b=S=>{for(p in S){const w=p.charCodeAt(0)===64,N=w&&Array.isArray(S[p])?S[p]:[S[p]];for(y of N){const I=/[A-Z]/.test(v=p)?v:v.replace(/-[^]/g,k=>k[1].toUpperCase()),R=typeof y=="object"&&y&&y.toString===qj&&(!n.utils[I]||!c.length);if(I in n.utils&&!R){const k=n.utils[I];if(k!==s){s=k,b(k(y)),s=null;continue}}else if(I in vE){const k=vE[I];if(k!==a){a=k,b(k(y)),a=null;continue}}if(w&&(E=p.slice(1)in n.media?"@media "+n.media[p.slice(1)]:p,p=E.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(k,L,j,Z,H,te)=>{const re=vw.test(L),Q=.0625*(re?-1:1),[fe,je]=re?[Z,L]:[L,Z];return"("+(j[0]==="="?"":j[0]===">"===re?"max-":"min-")+fe+":"+(j[0]!=="="&&j.length===1?je.replace(vw,(Fe,Pe,X)=>Number(Pe)+Q*(j===">"?1:-1)+X):je)+(H?") and ("+(H[0]===">"?"min-":"max-")+fe+":"+(H.length===1?te.replace(vw,(Fe,Pe,X)=>Number(Pe)+Q*(H===">"?-1:1)+X):te):"")+")"})),R){const k=w?h.concat(p):[...h],L=w?[...c]:Mj(c,p.split(Wj));o!==void 0&&i(wE(...o)),o=void 0,l(y,L,k)}else o===void 0&&(o=[[],c,h]),p=w||p.charCodeAt(0)!==36?p:`--${Xs(n.prefix)}${p.slice(1).replace(/\$/g,"-")}`,y=R?y:typeof y=="number"?y&&I in Uj?String(y)+"px":String(y):MT(Bj(I,y??""),n.prefix,n.themeMap[I]),o[0].push(`${w?`${p} `:`${Z1(p)}:`}${y}`)}}var E,v};b(u),o!==void 0&&i(wE(...o)),o=void 0};l(t,e,r)},wE=(t,e,r)=>`${r.map(n=>`${n}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,Uj={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},bE=t=>String.fromCharCode(t+(t>25?39:97)),cu=t=>(e=>{let r,n="";for(r=Math.abs(e);r>52;r=r/52|0)n=bE(r%52)+n;return bE(r%52)+n})(((e,r)=>{let n=r.length;for(;n;)e=33*e^r.charCodeAt(--n);return e})(5381,JSON.stringify(t))>>>0),Ef=["themed","global","styled","onevar","resonevar","allvar","inline"],zj=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},Vj=t=>{let e;const r=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(o,s)=>{const{cssText:a}=o;let l="";if(a.startsWith("--sxs"))return"";if(i[s-1]&&(l=i[s-1].cssText).startsWith("--sxs")){if(!o.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===o)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return o.cssRules.length?`${l}${a}`:""}return a}).join("")},n=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(t).styleSheets||[];for(const a of i)if(zj(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const h=Object(u[l+1]);if(h.type!==4)continue;++l;const{cssText:p}=c;if(!p.startsWith("--sxs"))continue;const y=p.slice(14,-3).trim().split(/\s+/),b=Ef[y[0]];b&&(e||(e={sheet:a,reset:n,rules:{},toString:r}),e.rules[b]={group:h,index:l,cache:new Set(y)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,h){this.cssRules.splice(h,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:n,toString:r}}const{sheet:o,rules:s}=e;for(let a=Ef.length-1;a>=0;--a){const l=Ef[a];if(!s[l]){const u=Ef[a+1],c=s[u]?s[u].index:o.cssRules.length;o.insertRule("@media{}",c),o.insertRule(`--sxs{--sxs:${a}}`,c),s[l]={group:o.cssRules[c+1],index:c,cache:new Set([a])}}Hj(s[l])}};return n(),e},Hj=t=>{const e=t.group;let r=e.cssRules.length;t.apply=n=>{try{e.insertRule(n,r),++r}catch{}}},af=Symbol(),Qj=kp(),Gj=(t,e)=>Qj(t,()=>(...r)=>{let n={type:null,composers:new Set};for(const i of r)if(i!=null)if(i[Zm]){n.type==null&&(n.type=i[Zm].type);for(const o of i[Zm].composers)n.composers.add(o)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(Jj(i,t));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),Yj(t,n,e)}),Jj=({variants:t,compoundVariants:e,defaultVariants:r,...n},i)=>{const o=`${Xs(i.prefix)}c-${cu(n)}`,s=[],a=[],l=Object.create(null),u=[];for(const p in r)l[p]=String(r[p]);if(typeof t=="object"&&t)for(const p in t){c=l,h=p,Lj.call(c,h)||(l[p]="undefined");const y=t[p];for(const b in y){const S={[p]:String(b)};String(b)==="undefined"&&u.push(p);const E=y[b],v=[S,E,!gE(E)];s.push(v)}}var c,h;if(typeof e=="object"&&e)for(const p of e){let{css:y,...b}=p;y=typeof y=="object"&&y||{};for(const E in b)b[E]=String(b[E]);const S=[b,y,!gE(y)];a.push(S)}return[o,n,s,a,l,u]},Yj=(t,e,r)=>{const[n,i,o,s]=Kj(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function p(){for(let y=0;y<p[af].length;y++){const[b,S]=p[af][y];h.rules[b].apply(S)}return p[af]=[],null}return p[af]=[],p.rules={},Ef.forEach(y=>p.rules[y]={apply:b=>p[af].push([y,b])}),p})(r):null,l=(a||r).rules,u=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=h=>{h=typeof h=="object"&&h||Zj;const{css:p,...y}=h,b={};for(const v in o)if(delete y[v],v in h){let w=h[v];typeof w=="object"&&w?b[v]={"@initial":o[v],...w}:(w=String(w),b[v]=w!=="undefined"||s.has(v)?w:o[v])}else b[v]=o[v];const S=new Set([...i]);for(const[v,w,N,I]of e.composers){r.rules.styled.cache.has(v)||(r.rules.styled.cache.add(v),wc(w,[`.${v}`],[],t,L=>{l.styled.apply(L)}));const R=_E(N,b,t.media),k=_E(I,b,t.media,!0);for(const L of R)if(L!==void 0)for(const[j,Z,H]of L){const te=`${v}-${cu(Z)}-${j}`;S.add(te);const re=(H?r.rules.resonevar:r.rules.onevar).cache,Q=H?l.resonevar:l.onevar;re.has(te)||(re.add(te),wc(Z,[`.${te}`],[],t,fe=>{Q.apply(fe)}))}for(const L of k)if(L!==void 0)for(const[j,Z]of L){const H=`${v}-${cu(Z)}-${j}`;S.add(H),r.rules.allvar.cache.has(H)||(r.rules.allvar.cache.add(H),wc(Z,[`.${H}`],[],t,te=>{l.allvar.apply(te)}))}}if(typeof p=="object"&&p){const v=`${n}-i${cu(p)}-css`;S.add(v),r.rules.inline.cache.has(v)||(r.rules.inline.cache.add(v),wc(p,[`.${v}`],[],t,w=>{l.inline.apply(w)}))}for(const v of String(h.className||"").trim().split(/\s+/))v&&S.add(v);const E=y.className=[...S].join(" ");return{type:e.type,className:E,selector:u,props:y,toString:()=>E,deferredInjector:a}};return mx(c,{className:n,selector:u,[Zm]:e,toString:()=>(r.rules.styled.cache.has(n)||c(),n)})},Kj=t=>{let e="";const r=[],n={},i=[];for(const[o,,,,s,a]of t){e===""&&(e=o),r.push(o),i.push(...a);for(const l in s){const u=s[l];(n[l]===void 0||u!=="undefined"||a.includes(u))&&(n[l]=u)}}return[e,r,n,new Set(i)]},_E=(t,e,r,n)=>{const i=[];e:for(let[o,s,a]of t){if(a)continue;let l,u=0,c=!1;for(l in o){const h=o[l];let p=e[l];if(p!==h){if(typeof p!="object"||!p)continue e;{let y,b,S=0;for(const E in p){if(h===String(p[E])){if(E!=="@initial"){const v=E.slice(1);(b=b||[]).push(v in r?r[v]:E.replace(/^@media ?/,"")),c=!0}u+=S,y=!0}++S}if(b&&b.length&&(s={["@media "+b.join(", ")]:s}),!y)continue e}}}(i[u]=i[u]||[]).push([n?"cv":`${l}-${o[l]}`,s,c])}return i},Zj={},Xj=kp(),e8=(t,e)=>Xj(t,()=>(...r)=>{const n=()=>{for(let i of r){i=typeof i=="object"&&i||{};let o=cu(i);if(!e.rules.global.cache.has(o)){if(e.rules.global.cache.add(o),"@import"in i){let s=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,s++);delete i["@import"]}wc(i,[],[],t,s=>{e.rules.global.apply(s)})}}return""};return mx(n,{toString:n})}),t8=kp(),r8=(t,e)=>t8(t,()=>r=>{const n=`${Xs(t.prefix)}k-${cu(r)}`,i=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);const o=[];wc(r,[],[],t,a=>o.push(a));const s=`@keyframes ${n}{${o.join("")}}`;e.rules.global.apply(s)}return n};return mx(i,{get name(){return i()},toString:i})}),n8=class{constructor(e,r,n,i){this.token=e==null?"":String(e),this.value=r==null?"":String(r),this.scale=n==null?"":String(n),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Xs(this.prefix)+Xs(this.scale)+this.token}toString(){return this.computedValue}},i8=kp(),o8=(t,e)=>i8(t,()=>(r,n)=>{n=typeof r=="object"&&r||Object(n);const i=`.${r=(r=typeof r=="string"?r:"")||`${Xs(t.prefix)}t-${cu(n)}`}`,o={},s=[];for(const l in n){o[l]={};for(const u in n[l]){const c=`--${Xs(t.prefix)}${l}-${u}`,h=MT(String(n[l][u]),t.prefix,l);o[l][u]=new n8(u,h,l,t.prefix),s.push(`${c}:${h}`)}}const a=()=>{if(s.length&&!e.rules.themed.cache.has(r)){e.rules.themed.cache.add(r);const l=`${n===t.theme?":root,":""}.${r}{${s.join(";")}}`;e.rules.themed.apply(l)}return r};return{...o,get className(){return a()},selector:i,toString:a}}),s8=kp(),BT=t=>{let e=!1;const r=s8(t,n=>{e=!0;const i="prefix"in(n=typeof n=="object"&&n||{})?String(n.prefix):"",o=typeof n.media=="object"&&n.media||{},s=typeof n.root=="object"?n.root||null:globalThis.document||null,a=typeof n.theme=="object"&&n.theme||{},l={prefix:i,media:o,theme:a,themeMap:typeof n.themeMap=="object"&&n.themeMap||{...$j},utils:typeof n.utils=="object"&&n.utils||{}},u=Vj(s),c={css:Gj(l,u),globalCss:e8(l,u),keyframes:r8(l,u),createTheme:o8(l,u),reset(){u.reset(),c.theme.toString()},theme:{},sheet:u,config:l,prefix:i,getCssText:u.toString,toString:u.toString};return String(c.theme=c.createTheme(a)),c});return e||r.reset(),r},FT=()=>yE||(yE=BT()),a8=(...t)=>FT().createTheme(...t),sa=(...t)=>FT().css(...t),l8={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},Ur={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},u8="supabase-auth-ui",c8={ROOT:"root",SIGN_IN:Ur.SIGN_IN,SIGN_UP:Ur.SIGN_UP,FORGOTTEN_PASSWORD:Ur.FORGOTTEN_PASSWORD,MAGIC_LINK:Ur.MAGIC_LINK,UPDATE_PASSWORD:Ur.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function Pu(t,e,r){var n,i;const o=[],s=c8[t];return o.push(r!=null&&r.prependedClassName?(r==null?void 0:r.prependedClassName)+"_"+s:u8+"_"+s),(n=r==null?void 0:r.className)!=null&&n[t]&&o.push((i=r==null?void 0:r.className)==null?void 0:i[t]),((r==null?void 0:r.extend)===void 0||(r==null?void 0:r.extend)===!0)&&o.push(e),o}function X1(t,e){let r;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(e))for(r=0;r<e.length;r++)t[r]=X1(t[r],e[r]);else for(r in e)t[r]=X1(t[r],e[r]);return t}return e}function ww(t,...e){let r=e.length;for(let n=0;n<r;n++)t=X1(t,e[n]);return t}function d8(t,e){return t.replace(/{{(\w+)}}/g,(r,n)=>e.hasOwnProperty(n)?e[n]:r)}var f8={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const h8=sa({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Wl=({children:t,appearance:e,...r})=>{var n;const i=Pu("anchor",h8(),e);return T.createElement("a",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.anchor,className:i.join(" ")},t)},p8=sa({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),Id=({children:t,color:e="default",appearance:r,icon:n,loading:i=!1,...o})=>{var s;const a=Pu("button",p8({color:e}),r);return T.createElement("button",{...o,style:(s=r==null?void 0:r.style)==null?void 0:s.button,className:a.join(" "),disabled:i},n,t)},m8=sa({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),as=({children:t,appearance:e,...r})=>{var n;const i=Pu("container",m8({direction:r.direction,gap:r.gap}),e);return T.createElement("div",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.container,className:i.join(" ")},t)},y8=sa({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),g8=({children:t,appearance:e,...r})=>{var n;const i=Pu("divider",y8(),e);return T.createElement("div",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.divider,className:i.join(" ")})},v8=sa({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Za=({children:t,appearance:e,...r})=>{var n;const i=Pu("input",v8({type:r.type==="password"?"password":"default"}),e);return T.createElement("input",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.input,className:i.join(" ")},t)},w8=sa({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Xa=({children:t,appearance:e,...r})=>{var n;const i=Pu("label",w8(),e);return T.createElement("label",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.label,className:i.join(" ")},t)},b8=sa({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),ls=({children:t,appearance:e,...r})=>{var n;const i=Pu("message",b8({color:r.color}),e);return T.createElement("span",{...r,style:(n=e==null?void 0:e.style)==null?void 0:n.message,className:i.join(" ")},t)};function WT({setAuthView:t=()=>{},supabaseClient:e,redirectTo:r,i18n:n,appearance:i,showLinks:o=!1}){var s;const[a,l]=A.useState(""),[u,c]=A.useState(""),[h,p]=A.useState(""),[y,b]=A.useState(!1),S=async v=>{var w,N;if(v.preventDefault(),c(""),p(""),b(!0),a.length===0){c((w=n==null?void 0:n.magic_link)==null?void 0:w.empty_email_address),b(!1);return}const{error:I}=await e.auth.signInWithOtp({email:a,options:{emailRedirectTo:r}});I?c(I.message):p((N=n==null?void 0:n.magic_link)==null?void 0:N.confirmation_text),b(!1)},E=n==null?void 0:n.magic_link;return T.createElement("form",{id:"auth-magic-link",onSubmit:S},T.createElement(as,{gap:"large",direction:"vertical",appearance:i},T.createElement("div",null,T.createElement(Xa,{htmlFor:"email",appearance:i},E==null?void 0:E.email_input_label),T.createElement(Za,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:E==null?void 0:E.email_input_placeholder,onChange:v=>{c&&c(""),l(v.target.value)},appearance:i})),T.createElement(Id,{color:"primary",type:"submit",loading:y,appearance:i},y?E==null?void 0:E.loading_button_label:E==null?void 0:E.button_label),o&&T.createElement(Wl,{href:"#auth-sign-in",onClick:v=>{v.preventDefault(),t(Ur.SIGN_IN)},appearance:i},(s=n==null?void 0:n.sign_in)==null?void 0:s.link_text),h&&T.createElement(ls,{appearance:i},h),u&&T.createElement(ls,{color:"danger",appearance:i},u)))}const Cn=sa({width:"21px",height:"21px"}),_8=({provider:t})=>t=="google"?x8():t=="facebook"?S8():t=="twitter"?E8():t=="apple"?N8():t=="github"?k8():t=="gitlab"?C8():t=="bitbucket"?T8():t=="discord"?R8():t=="azure"?O8():t=="keycloak"?A8():t=="linkedin"?I8():t=="notion"?P8():t=="slack"?$8():t=="spotify"?j8():t=="twitch"?L8():t=="workos"?D8():t=="kakao"?M8():null,x8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),T.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),T.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),T.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),S8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),T.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),E8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),N8=()=>T.createElement("svg",{className:Cn(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",T.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),k8=()=>T.createElement("svg",{className:Cn(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",T.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),C8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),T.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),T.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),T.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),T.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),T.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),T.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),T8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},T.createElement("defs",null,T.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},T.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),T.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),T.createElement("title",null,"Bitbucket-blue"),T.createElement("g",{id:"Layer_2","data-name":"Layer 2"},T.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},T.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),T.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),R8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),O8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},T.createElement("stop",{offset:"0",stopColor:"#114a8b"}),T.createElement("stop",{offset:"1",stopColor:"#0669bc"})),T.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),T.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),T.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},T.createElement("stop",{offset:"0",stopOpacity:".3"}),T.createElement("stop",{offset:".071",stopOpacity:".2"}),T.createElement("stop",{offset:".321",stopOpacity:".1"}),T.createElement("stop",{offset:".623",stopOpacity:".05"}),T.createElement("stop",{offset:"1",stopOpacity:"0"})),T.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),T.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},T.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),T.createElement("stop",{offset:"1",stopColor:"#2892df"})),T.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),A8=()=>T.createElement("svg",{className:Cn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),I8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),T.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),P8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},T.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),T.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),T.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),$8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},T.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),T.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),T.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),T.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),T.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),T.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),T.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),T.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),j8=()=>T.createElement("svg",{className:Cn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),L8=()=>T.createElement("svg",{className:Cn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),T.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),T.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),T.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),D8=()=>T.createElement("svg",{className:Cn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},T.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),T.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),M8=()=>T.createElement("svg",{className:Cn(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},T.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),T.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),T.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function B8({supabaseClient:t,socialLayout:e="vertical",providers:r=["github","google","azure"],providerScopes:n,queryParams:i,redirectTo:o,onlyThirdPartyProviders:s=!0,view:a="sign_in",i18n:l,appearance:u}){const[c,h]=A.useState(!1),[p,y]=A.useState(""),b=e==="vertical",S=a==="magic_link"?"sign_in":a,E=async w=>{h(!0);const{error:N}=await t.auth.signInWithOAuth({provider:w,options:{redirectTo:o,scopes:n==null?void 0:n[w],queryParams:i}});N&&y(N.message),h(!1)};function v(w){const N=w.toLowerCase();return w.charAt(0).toUpperCase()+N.slice(1)}return T.createElement(T.Fragment,null,r&&r.length>0&&T.createElement(T.Fragment,null,T.createElement(as,{gap:"large",direction:"vertical",appearance:u},T.createElement(as,{direction:b?"vertical":"horizontal",gap:b?"small":"medium",appearance:u},r.map(w=>{var N;return T.createElement(Id,{key:w,color:"default",loading:c,onClick:()=>E(w),appearance:u},T.createElement(_8,{provider:w}),b&&d8((N=l==null?void 0:l[S])==null?void 0:N.social_provider_text,{provider:v(w)}))}))),!s&&T.createElement(g8,{appearance:u})))}function xE({authView:t="sign_in",defaultEmail:e="",defaultPassword:r="",setAuthView:n=()=>{},setDefaultEmail:i=b=>{},setDefaultPassword:o=b=>{},supabaseClient:s,showLinks:a=!1,redirectTo:l,additionalData:u,magicLink:c,i18n:h,appearance:p,children:y}){var b,S,E,v;const w=A.useRef(!0),[N,I]=A.useState(e),[R,k]=A.useState(r),[L,j]=A.useState(""),[Z,H]=A.useState(!1),[te,re]=A.useState("");A.useEffect(()=>(w.current=!0,I(e),k(r),()=>{w.current=!1}),[t]);const Q=async Fe=>{var Pe;switch(Fe.preventDefault(),j(""),H(!0),t){case"sign_in":const{error:X}=await s.auth.signInWithPassword({email:N,password:R});X&&j(X.message);break;case"sign_up":let ge={emailRedirectTo:l};u&&(ge.data=u);const{data:{user:Ce,session:Ae},error:ue}=await s.auth.signUp({email:N,password:R,options:ge});ue?j(ue.message):Ce&&!Ae&&re((Pe=h==null?void 0:h.sign_up)==null?void 0:Pe.confirmation_text);break}w.current&&H(!1)},fe=Fe=>{i(N),o(R),n(Fe)},je=h==null?void 0:h[t];return T.createElement("form",{id:t==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:Q,autoComplete:"on",style:{width:"100%"}},T.createElement(as,{direction:"vertical",gap:"large",appearance:p},T.createElement(as,{direction:"vertical",gap:"large",appearance:p},T.createElement("div",null,T.createElement(Xa,{htmlFor:"email",appearance:p},je==null?void 0:je.email_label),T.createElement(Za,{id:"email",type:"email",name:"email",placeholder:je==null?void 0:je.email_input_placeholder,defaultValue:N,onChange:Fe=>I(Fe.target.value),autoComplete:"email",appearance:p})),T.createElement("div",null,T.createElement(Xa,{htmlFor:"password",appearance:p},je==null?void 0:je.password_label),T.createElement(Za,{id:"password",type:"password",name:"password",placeholder:je==null?void 0:je.password_input_placeholder,defaultValue:R,onChange:Fe=>k(Fe.target.value),autoComplete:t==="sign_in"?"current-password":"new-password",appearance:p})),y),T.createElement(Id,{type:"submit",color:"primary",loading:Z,appearance:p},Z?je==null?void 0:je.loading_button_label:je==null?void 0:je.button_label),a&&T.createElement(as,{direction:"vertical",gap:"small",appearance:p},t===Ur.SIGN_IN&&c&&T.createElement(Wl,{href:"#auth-magic-link",onClick:Fe=>{Fe.preventDefault(),n(Ur.MAGIC_LINK)},appearance:p},(b=h==null?void 0:h.magic_link)==null?void 0:b.link_text),t===Ur.SIGN_IN&&T.createElement(Wl,{href:"#auth-forgot-password",onClick:Fe=>{Fe.preventDefault(),n(Ur.FORGOTTEN_PASSWORD)},appearance:p},(S=h==null?void 0:h.forgotten_password)==null?void 0:S.link_text),t===Ur.SIGN_IN?T.createElement(Wl,{href:"#auth-sign-up",onClick:Fe=>{Fe.preventDefault(),fe(Ur.SIGN_UP)},appearance:p},(E=h==null?void 0:h.sign_up)==null?void 0:E.link_text):T.createElement(Wl,{href:"#auth-sign-in",onClick:Fe=>{Fe.preventDefault(),fe(Ur.SIGN_IN)},appearance:p},(v=h==null?void 0:h.sign_in)==null?void 0:v.link_text))),te&&T.createElement(ls,{appearance:p},te),L&&T.createElement(ls,{color:"danger",appearance:p},L))}function qT({setAuthView:t=()=>{},supabaseClient:e,redirectTo:r,i18n:n,appearance:i,showLinks:o=!1}){var s;const[a,l]=A.useState(""),[u,c]=A.useState(""),[h,p]=A.useState(""),[y,b]=A.useState(!1),S=async v=>{var w;v.preventDefault(),c(""),p(""),b(!0);const{error:N}=await e.auth.resetPasswordForEmail(a,{redirectTo:r});N?c(N.message):p((w=n==null?void 0:n.forgotten_password)==null?void 0:w.confirmation_text),b(!1)},E=n==null?void 0:n.forgotten_password;return T.createElement("form",{id:"auth-forgot-password",onSubmit:S},T.createElement(as,{direction:"vertical",gap:"large",appearance:i},T.createElement(as,{gap:"large",direction:"vertical",appearance:i},T.createElement("div",null,T.createElement(Xa,{htmlFor:"email",appearance:i},E==null?void 0:E.email_label),T.createElement(Za,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:E==null?void 0:E.email_input_placeholder,onChange:v=>l(v.target.value),appearance:i})),T.createElement(Id,{type:"submit",color:"primary",loading:y,appearance:i},y?E==null?void 0:E.loading_button_label:E==null?void 0:E.button_label),o&&T.createElement(Wl,{href:"#auth-sign-in",onClick:v=>{v.preventDefault(),t(Ur.SIGN_IN)},appearance:i},(s=n==null?void 0:n.sign_in)==null?void 0:s.link_text),h&&T.createElement(ls,{appearance:i},h),u&&T.createElement(ls,{color:"danger",appearance:i},u))))}function UT({supabaseClient:t,i18n:e,appearance:r}){const[n,i]=A.useState(""),[o,s]=A.useState(""),[a,l]=A.useState(""),[u,c]=A.useState(!1),h=async y=>{var b;y.preventDefault(),s(""),l(""),c(!0);const{error:S}=await t.auth.updateUser({password:n});S?s(S.message):l((b=e==null?void 0:e.update_password)==null?void 0:b.confirmation_text),c(!1)},p=e==null?void 0:e.update_password;return T.createElement("form",{id:"auth-update-password",onSubmit:h},T.createElement(as,{gap:"large",direction:"vertical",appearance:r},T.createElement("div",null,T.createElement(Xa,{htmlFor:"password",appearance:r},p==null?void 0:p.password_label),T.createElement(Za,{id:"password",name:"password",placeholder:p==null?void 0:p.password_input_placeholder,type:"password",autoFocus:!0,onChange:y=>i(y.target.value),appearance:r})),T.createElement(Id,{type:"submit",color:"primary",loading:u,appearance:r},u?p==null?void 0:p.loading_button_label:p==null?void 0:p.button_label),a&&T.createElement(ls,{appearance:r},a),o&&T.createElement(ls,{color:"danger",appearance:r},o)))}function F8({setAuthView:t=()=>{},supabaseClient:e,otpType:r="email",i18n:n,appearance:i,showLinks:o=!1}){var s;const[a,l]=A.useState(""),[u,c]=A.useState(""),[h,p]=A.useState(""),[y,b]=A.useState(""),[S,E]=A.useState(""),[v,w]=A.useState(!1),N=async R=>{R.preventDefault(),b(""),E(""),w(!0);let k={email:a,token:h,type:r};["sms","phone_change"].includes(r)&&(k={phone:u,token:h,type:r});const{error:L}=await e.auth.verifyOtp(k);L&&b(L.message),w(!1)},I=n==null?void 0:n.verify_otp;return T.createElement("form",{id:"auth-magic-link",onSubmit:N},T.createElement(as,{gap:"large",direction:"vertical",appearance:i},["sms","phone_change"].includes(r)?T.createElement("div",null,T.createElement(Xa,{htmlFor:"phone",appearance:i},I==null?void 0:I.phone_input_label),T.createElement(Za,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:I==null?void 0:I.phone_input_placeholder,onChange:R=>c(R.target.value),appearance:i})):T.createElement("div",null,T.createElement(Xa,{htmlFor:"email",appearance:i},I==null?void 0:I.email_input_label),T.createElement(Za,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:I==null?void 0:I.email_input_placeholder,onChange:R=>l(R.target.value),appearance:i})),T.createElement("div",null,T.createElement(Xa,{htmlFor:"token",appearance:i},I==null?void 0:I.token_input_label),T.createElement(Za,{id:"token",name:"token",type:"text",placeholder:I==null?void 0:I.token_input_placeholder,onChange:R=>p(R.target.value),appearance:i})),T.createElement(Id,{color:"primary",type:"submit",loading:v,appearance:i},v?I==null?void 0:I.loading_button_label:I==null?void 0:I.button_label),o&&T.createElement(Wl,{href:"#auth-sign-in",onClick:R=>{R.preventDefault(),t(Ur.SIGN_IN)},appearance:i},(s=n==null?void 0:n.sign_in)==null?void 0:s.link_text),S&&T.createElement(ls,{appearance:i},S),y&&T.createElement(ls,{color:"danger",appearance:i},y)))}const zT=A.createContext({user:null,session:null}),W8=t=>{const{supabaseClient:e}=t,[r,n]=A.useState(null),[i,o]=A.useState((r==null?void 0:r.user)??null);A.useEffect(()=>{(async()=>{var l;const{data:u}=await e.auth.getSession();n(u.session),o(((l=u.session)==null?void 0:l.user)??null)})();const{data:a}=e.auth.onAuthStateChange(async(l,u)=>{n(u),o((u==null?void 0:u.user)??null)});return()=>{a==null||a.subscription.unsubscribe()}},[]);const s={session:r,user:i};return T.createElement(zT.Provider,{value:s,...t})},q8=()=>{const t=A.useContext(zT);if(t===void 0)throw new Error("useUser must be used within a UserContextProvider.");return t};function Pd({supabaseClient:t,socialLayout:e="vertical",providers:r,providerScopes:n,queryParams:i,view:o="sign_in",redirectTo:s,onlyThirdPartyProviders:a=!1,magicLink:l=!1,showLinks:u=!0,appearance:c,theme:h="default",localization:p={variables:{}},otpType:y="email",additionalData:b,children:S}){const E=ww(f8,p.variables??{}),[v,w]=A.useState(o),[N,I]=A.useState(""),[R,k]=A.useState(""),L=v==="sign_in"||v==="sign_up"||v==="magic_link";A.useEffect(()=>{var H,te;BT({theme:ww(((H=c==null?void 0:c.theme)==null?void 0:H.default)??{},((te=c==null?void 0:c.variables)==null?void 0:te.default)??{})})},[c]);const j=({children:H})=>{var te;return T.createElement("div",{className:h!=="default"?a8(ww(c==null?void 0:c.theme[h],((te=c==null?void 0:c.variables)==null?void 0:te[h])??{})):""},L&&T.createElement(B8,{appearance:c,supabaseClient:t,providers:r,providerScopes:n,queryParams:i,socialLayout:e,redirectTo:s,onlyThirdPartyProviders:a,i18n:E,view:v}),!a&&H)};A.useEffect(()=>{const{data:H}=t.auth.onAuthStateChange(te=>{te==="PASSWORD_RECOVERY"?w("update_password"):te==="USER_UPDATED"&&w("sign_in")});return w(o),()=>H.subscription.unsubscribe()},[o]);const Z={supabaseClient:t,setAuthView:w,defaultEmail:N,defaultPassword:R,setDefaultEmail:I,setDefaultPassword:k,redirectTo:s,magicLink:l,showLinks:u,i18n:E,appearance:c};switch(v){case Ur.SIGN_IN:return T.createElement(j,null,T.createElement(xE,{...Z,authView:"sign_in"}));case Ur.SIGN_UP:return T.createElement(j,null,T.createElement(xE,{appearance:c,supabaseClient:t,authView:"sign_up",setAuthView:w,defaultEmail:N,defaultPassword:R,setDefaultEmail:I,setDefaultPassword:k,redirectTo:s,magicLink:l,showLinks:u,i18n:E,additionalData:b,children:S}));case Ur.FORGOTTEN_PASSWORD:return T.createElement(j,null,T.createElement(qT,{appearance:c,supabaseClient:t,setAuthView:w,redirectTo:s,showLinks:u,i18n:E}));case Ur.MAGIC_LINK:return T.createElement(j,null,T.createElement(WT,{appearance:c,supabaseClient:t,setAuthView:w,redirectTo:s,showLinks:u,i18n:E}));case Ur.UPDATE_PASSWORD:return T.createElement(UT,{appearance:c,supabaseClient:t,i18n:E});case Ur.VERIFY_OTP:return T.createElement(F8,{appearance:c,supabaseClient:t,otpType:y,i18n:E});default:return null}}Pd.ForgottenPassword=qT;Pd.UpdatePassword=UT;Pd.MagicLink=WT;Pd.UserContextProvider=W8;Pd.useUser=q8;sa({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jr(){return jr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jr.apply(this,arguments)}var Wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wr||(Wr={}));const SE="popstate";function U8(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=ms(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),bh("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:bu(o))}function n(i,o){wu(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return V8(e,r,n,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z8(){return Math.random().toString(36).substr(2,8)}function EE(t,e){return{usr:t.state,key:t.key,idx:e}}function bh(t,e,r,n){return r===void 0&&(r=null),jr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ms(e):e,{state:r,key:e&&e.key||n||z8()})}function bu(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ms(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function V8(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=Wr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(jr({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Wr.Pop;let E=c(),v=E==null?null:E-u;u=E,l&&l({action:a,location:S.location,delta:v})}function p(E,v){a=Wr.Push;let w=bh(S.location,E,v);r&&r(w,E),u=c()+1;let N=EE(w,u),I=S.createHref(w);try{s.pushState(N,"",I)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(I)}o&&l&&l({action:a,location:S.location,delta:1})}function y(E,v){a=Wr.Replace;let w=bh(S.location,E,v);r&&r(w,E),u=c();let N=EE(w,u),I=S.createHref(w);s.replaceState(N,"",I),o&&l&&l({action:a,location:S.location,delta:0})}function b(E){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof E=="string"?E:bu(E);return w=w.replace(/ $/,"%20"),xt(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let S={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SE,h),l=E,()=>{i.removeEventListener(SE,h),l=null}},createHref(E){return e(i,E)},createURL:b,encodeLocation(E){let v=b(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:y,go(E){return s.go(E)}};return S}var Pr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pr||(Pr={}));const H8=new Set(["lazy","caseSensitive","path","id","index","children"]);function Q8(t){return t.index===!0}function eb(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,o)=>{let s=[...r,o],a=typeof i.id=="string"?i.id:s.join("-");if(xt(i.index!==!0||!i.children,"Cannot specify children on an index route"),xt(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Q8(i)){let l=jr({},i,e(i),{id:a});return n[a]=l,l}else{let l=jr({},i,e(i),{id:a,children:void 0});return n[a]=l,i.children&&(l.children=eb(i.children,e,s,n)),l}})}function bc(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?ms(e):e,i=$d(n.pathname||"/",r);if(i==null)return null;let o=VT(t);J8(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=aL(i);s=iL(o[a],l)}return s}function G8(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function VT(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Vs([n,l.relativePath]),c=r.concat(l);o.children&&o.children.length>0&&(xt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VT(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:rL(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of HT(o.path))i(o,s,l)}),e}function HT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=HT(n.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function J8(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:nL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Y8=/^:[\w-]+$/,K8=3,Z8=2,X8=1,eL=10,tL=-2,NE=t=>t==="*";function rL(t,e){let r=t.split("/"),n=r.length;return r.some(NE)&&(n+=tL),e&&(n+=Z8),r.filter(i=>!NE(i)).reduce((i,o)=>i+(Y8.test(o)?K8:o===""?X8:eL),n)}function nL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function iL(t,e){let{routesMeta:r}=t,n={},i="/",o=[];for(let s=0;s<r.length;++s){let a=r[s],l=s===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=oL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);let h=a.route;o.push({params:n,pathname:Vs([i,c.pathname]),pathnameBase:cL(Vs([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Vs([i,c.pathnameBase]))}return o}function oL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=sL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:p,isOptional:y}=c;if(p==="*"){let S=a[h]||"";s=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=a[h];return y&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function sL(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),wu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function aL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $d(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function lL(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ms(t):t;return{pathname:r?r.startsWith("/")?r:uL(r,e):e,search:dL(n),hash:fL(i)}}function uL(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function bw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QT(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function yx(t,e){let r=QT(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gx(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ms(t):(i=jr({},t),xt(!i.pathname||!i.pathname.includes("?"),bw("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),bw("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),bw("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=r;else{let h=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=lL(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Vs=t=>t.join("/").replace(/\/\/+/g,"/"),cL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class vx{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function GT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JT=["post","put","patch","delete"],hL=new Set(JT),pL=["get",...JT],mL=new Set(pL),yL=new Set([301,302,303,307,308]),gL=new Set([307,308]),_w={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wL=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),KT="remix-router-transitions";function bL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;xt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let U=t.detectErrorBoundary;i=Y=>({hasErrorBoundary:U(Y)})}else i=wL;let o={},s=eb(t.routes,i,void 0,o),a,l=t.basename||"/",u=jr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,p=null,y=null,b=null,S=t.hydrationData!=null,E=bc(s,t.history.location,l),v=null;if(E==null){let U=Vi(404,{pathname:t.history.location.pathname}),{matches:Y,route:ae}=PE(s);E=Y,v={[ae.id]:U}}let w,N=E.some(U=>U.route.lazy),I=E.some(U=>U.route.loader);if(N)w=!1;else if(!I)w=!0;else if(u.v7_partialHydration){let U=t.hydrationData?t.hydrationData.loaderData:null,Y=t.hydrationData?t.hydrationData.errors:null,ae=V=>V.route.loader?V.route.loader.hydrate===!0?!1:U&&U[V.route.id]!==void 0||Y&&Y[V.route.id]!==void 0:!0;if(Y){let V=E.findIndex(We=>Y[We.route.id]!==void 0);w=E.slice(0,V+1).every(ae)}else w=E.every(ae)}else w=t.hydrationData!=null;let R,k={historyAction:t.history.action,location:t.history.location,matches:E,initialized:w,navigation:_w,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},L=Wr.Pop,j=!1,Z,H=!1,te=new Map,re=null,Q=!1,fe=!1,je=[],Fe=[],Pe=new Map,X=0,ge=-1,Ce=new Map,Ae=new Set,ue=new Map,_e=new Map,ve=new Set,Le=new Map,z=new Map,Ve=!1;function oe(){if(c=t.history.listen(U=>{let{action:Y,location:ae,delta:V}=U;if(Ve){Ve=!1;return}wu(z.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let We=Wu({currentLocation:k.location,nextLocation:ae,historyAction:Y});if(We&&V!=null){Ve=!0,t.history.go(V*-1),ro(We,{state:"blocked",location:ae,proceed(){ro(We,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),t.history.go(V)},reset(){let Ze=new Map(k.blockers);Ze.set(We,lf),Ge({blockers:Ze})}});return}return $e(Y,ae)}),r){AL(e,te);let U=()=>IL(e,te);e.addEventListener("pagehide",U),re=()=>e.removeEventListener("pagehide",U)}return k.initialized||$e(Wr.Pop,k.location,{initialHydration:!0}),R}function ct(){c&&c(),re&&re(),h.clear(),Z&&Z.abort(),k.fetchers.forEach((U,Y)=>Mt(Y)),k.blockers.forEach((U,Y)=>Uo(Y))}function ot(U){return h.add(U),()=>h.delete(U)}function Ge(U,Y){Y===void 0&&(Y={}),k=jr({},k,U);let ae=[],V=[];u.v7_fetcherPersist&&k.fetchers.forEach((We,Ze)=>{We.state==="idle"&&(ve.has(Ze)?V.push(Ze):ae.push(Ze))}),[...h].forEach(We=>We(k,{deletedFetchers:V,unstable_viewTransitionOpts:Y.viewTransitionOpts,unstable_flushSync:Y.flushSync===!0})),u.v7_fetcherPersist&&(ae.forEach(We=>k.fetchers.delete(We)),V.forEach(We=>Mt(We)))}function pe(U,Y,ae){var V,We;let{flushSync:Ze}=ae===void 0?{}:ae,et=k.actionData!=null&&k.navigation.formMethod!=null&&Eo(k.navigation.formMethod)&&k.navigation.state==="loading"&&((V=U.state)==null?void 0:V._isRedirect)!==!0,Xe;Y.actionData?Object.keys(Y.actionData).length>0?Xe=Y.actionData:Xe=null:et?Xe=k.actionData:Xe=null;let Je=Y.loaderData?IE(k.loaderData,Y.loaderData,Y.matches||[],Y.errors):k.loaderData,ft=k.blockers;ft.size>0&&(ft=new Map(ft),ft.forEach((Ut,or)=>ft.set(or,lf)));let _r=j===!0||k.navigation.formMethod!=null&&Eo(k.navigation.formMethod)&&((We=U.state)==null?void 0:We._isRedirect)!==!0;a&&(s=a,a=void 0),Q||L===Wr.Pop||(L===Wr.Push?t.history.push(U,U.state):L===Wr.Replace&&t.history.replace(U,U.state));let Ke;if(L===Wr.Pop){let Ut=te.get(k.location.pathname);Ut&&Ut.has(U.pathname)?Ke={currentLocation:k.location,nextLocation:U}:te.has(U.pathname)&&(Ke={currentLocation:U,nextLocation:k.location})}else if(H){let Ut=te.get(k.location.pathname);Ut?Ut.add(U.pathname):(Ut=new Set([U.pathname]),te.set(k.location.pathname,Ut)),Ke={currentLocation:k.location,nextLocation:U}}Ge(jr({},Y,{actionData:Xe,loaderData:Je,historyAction:L,location:U,initialized:!0,navigation:_w,revalidation:"idle",restoreScrollPosition:_l(U,Y.matches||k.matches),preventScrollReset:_r,blockers:ft}),{viewTransitionOpts:Ke,flushSync:Ze===!0}),L=Wr.Pop,j=!1,H=!1,Q=!1,fe=!1,je=[],Fe=[]}async function me(U,Y){if(typeof U=="number"){t.history.go(U);return}let ae=tb(k.location,k.matches,l,u.v7_prependBasename,U,u.v7_relativeSplatPath,Y==null?void 0:Y.fromRouteId,Y==null?void 0:Y.relative),{path:V,submission:We,error:Ze}=kE(u.v7_normalizeFormMethod,!1,ae,Y),et=k.location,Xe=bh(k.location,V,Y&&Y.state);Xe=jr({},Xe,t.history.encodeLocation(Xe));let Je=Y&&Y.replace!=null?Y.replace:void 0,ft=Wr.Push;Je===!0?ft=Wr.Replace:Je===!1||We!=null&&Eo(We.formMethod)&&We.formAction===k.location.pathname+k.location.search&&(ft=Wr.Replace);let _r=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,Ke=(Y&&Y.unstable_flushSync)===!0,Ut=Wu({currentLocation:et,nextLocation:Xe,historyAction:ft});if(Ut){ro(Ut,{state:"blocked",location:Xe,proceed(){ro(Ut,{state:"proceeding",proceed:void 0,reset:void 0,location:Xe}),me(U,Y)},reset(){let or=new Map(k.blockers);or.set(Ut,lf),Ge({blockers:or})}});return}return await $e(ft,Xe,{submission:We,pendingError:Ze,preventScrollReset:_r,replace:Y&&Y.replace,enableViewTransition:Y&&Y.unstable_viewTransition,flushSync:Ke})}function Be(){if(he(),Ge({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){$e(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}$e(L||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}}async function $e(U,Y,ae){Z&&Z.abort(),Z=null,L=U,Q=(ae&&ae.startUninterruptedRevalidation)===!0,ti(k.location,k.matches),j=(ae&&ae.preventScrollReset)===!0,H=(ae&&ae.enableViewTransition)===!0;let V=a||s,We=ae&&ae.overrideNavigation,Ze=bc(V,Y,l),et=(ae&&ae.flushSync)===!0;if(!Ze){let or=Vi(404,{pathname:Y.pathname}),{matches:cn,route:xr}=PE(V);zo(),pe(Y,{matches:cn,loaderData:{},errors:{[xr.id]:or}},{flushSync:et});return}if(k.initialized&&!fe&&NL(k.location,Y)&&!(ae&&ae.submission&&Eo(ae.submission.formMethod))){pe(Y,{matches:Ze},{flushSync:et});return}Z=new AbortController;let Xe=cf(t.history,Y,Z.signal,ae&&ae.submission),Je,ft;if(ae&&ae.pendingError)ft={[Lf(Ze).route.id]:ae.pendingError};else if(ae&&ae.submission&&Eo(ae.submission.formMethod)){let or=await pt(Xe,Y,ae.submission,Ze,{replace:ae.replace,flushSync:et});if(or.shortCircuited)return;Je=or.pendingActionData,ft=or.pendingActionError,We=xw(Y,ae.submission),et=!1,Xe=new Request(Xe.url,{signal:Xe.signal})}let{shortCircuited:_r,loaderData:Ke,errors:Ut}=await it(Xe,Y,Ze,We,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,et,Je,ft);_r||(Z=null,pe(Y,jr({matches:Ze},Je?{actionData:Je}:{},{loaderData:Ke,errors:Ut})))}async function pt(U,Y,ae,V,We){We===void 0&&(We={}),he();let Ze=RL(Y,ae);Ge({navigation:Ze},{flushSync:We.flushSync===!0});let et,Xe=nb(V,Y);if(!Xe.route.action&&!Xe.route.lazy)et={type:Pr.error,error:Vi(405,{method:U.method,pathname:Y.pathname,routeId:Xe.route.id})};else if(et=await uf("action",U,Xe,V,o,i,l,u.v7_relativeSplatPath),U.signal.aborted)return{shortCircuited:!0};if(Ul(et)){let Je;return We&&We.replace!=null?Je=We.replace:Je=et.location===k.location.pathname+k.location.search,await Te(k,et,{submission:ae,replace:Je}),{shortCircuited:!0}}if(_c(et)){let Je=Lf(V,Xe.route.id);return(We&&We.replace)!==!0&&(L=Wr.Push),{pendingActionData:{},pendingActionError:{[Je.route.id]:et.error}}}if(ql(et))throw Vi(400,{type:"defer-action"});return{pendingActionData:{[Xe.route.id]:et.data}}}async function it(U,Y,ae,V,We,Ze,et,Xe,Je,ft,_r){let Ke=V||xw(Y,We),Ut=We||Ze||LE(Ke),or=a||s,[cn,xr]=CE(t.history,k,ae,Ut,Y,u.v7_partialHydration&&Xe===!0,fe,je,Fe,ve,ue,Ae,or,l,ft,_r);if(zo(Ct=>!(ae&&ae.some(It=>It.route.id===Ct))||cn&&cn.some(It=>It.route.id===Ct)),ge=++X,cn.length===0&&xr.length===0){let Ct=Di();return pe(Y,jr({matches:ae,loaderData:{},errors:_r||null},ft?{actionData:ft}:{},Ct?{fetchers:new Map(k.fetchers)}:{}),{flushSync:Je}),{shortCircuited:!0}}if(!Q&&(!u.v7_partialHydration||!Xe)){xr.forEach(It=>{let Sr=k.fetchers.get(It.key),hi=df(void 0,Sr?Sr.data:void 0);k.fetchers.set(It.key,hi)});let Ct=ft||k.actionData;Ge(jr({navigation:Ke},Ct?Object.keys(Ct).length===0?{actionData:null}:{actionData:Ct}:{},xr.length>0?{fetchers:new Map(k.fetchers)}:{}),{flushSync:Je})}xr.forEach(Ct=>{Pe.has(Ct.key)&&Gr(Ct.key),Ct.controller&&Pe.set(Ct.key,Ct.controller)});let Vo=()=>xr.forEach(Ct=>Gr(Ct.key));Z&&Z.signal.addEventListener("abort",Vo);let{results:Mr,loaderResults:no,fetcherResults:Mi}=await xe(k.matches,ae,cn,xr,U);if(U.signal.aborted)return{shortCircuited:!0};Z&&Z.signal.removeEventListener("abort",Vo),xr.forEach(Ct=>Pe.delete(Ct.key));let di=$E(Mr);if(di){if(di.idx>=cn.length){let Ct=xr[di.idx-cn.length].key;Ae.add(Ct)}return await Te(k,di.result,{replace:et}),{shortCircuited:!0}}let{loaderData:la,errors:Bi}=AE(k,ae,cn,no,_r,xr,Mi,Le);Le.forEach((Ct,It)=>{Ct.subscribe(Sr=>{(Sr||Ct.done)&&Le.delete(It)})}),u.v7_partialHydration&&Xe&&k.errors&&Object.entries(k.errors).filter(Ct=>{let[It]=Ct;return!cn.some(Sr=>Sr.route.id===It)}).forEach(Ct=>{let[It,Sr]=Ct;Bi=Object.assign(Bi||{},{[It]:Sr})});let Rn=Di(),fi=Wo(ge),Ho=Rn||fi||xr.length>0;return jr({loaderData:la,errors:Bi},Ho?{fetchers:new Map(k.fetchers)}:{})}function $(U,Y,ae,V){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Pe.has(U)&&Gr(U);let We=(V&&V.unstable_flushSync)===!0,Ze=a||s,et=tb(k.location,k.matches,l,u.v7_prependBasename,ae,u.v7_relativeSplatPath,Y,V==null?void 0:V.relative),Xe=bc(Ze,et,l);if(!Xe){De(U,Y,Vi(404,{pathname:et}),{flushSync:We});return}let{path:Je,submission:ft,error:_r}=kE(u.v7_normalizeFormMethod,!0,et,V);if(_r){De(U,Y,_r,{flushSync:We});return}let Ke=nb(Xe,Je);if(j=(V&&V.preventScrollReset)===!0,ft&&Eo(ft.formMethod)){W(U,Y,Je,Ke,Xe,We,ft);return}ue.set(U,{routeId:Y,path:Je}),G(U,Y,Je,Ke,Xe,We,ft)}async function W(U,Y,ae,V,We,Ze,et){if(he(),ue.delete(U),!V.route.action&&!V.route.lazy){let It=Vi(405,{method:et.formMethod,pathname:ae,routeId:Y});De(U,Y,It,{flushSync:Ze});return}let Xe=k.fetchers.get(U);ne(U,OL(et,Xe),{flushSync:Ze});let Je=new AbortController,ft=cf(t.history,ae,Je.signal,et);Pe.set(U,Je);let _r=X,Ke=await uf("action",ft,V,We,o,i,l,u.v7_relativeSplatPath);if(ft.signal.aborted){Pe.get(U)===Je&&Pe.delete(U);return}if(u.v7_fetcherPersist&&ve.has(U)){if(Ul(Ke)||_c(Ke)){ne(U,pa(void 0));return}}else{if(Ul(Ke))if(Pe.delete(U),ge>_r){ne(U,pa(void 0));return}else return Ae.add(U),ne(U,df(et)),Te(k,Ke,{fetcherSubmission:et});if(_c(Ke)){De(U,Y,Ke.error);return}}if(ql(Ke))throw Vi(400,{type:"defer-action"});let Ut=k.navigation.location||k.location,or=cf(t.history,Ut,Je.signal),cn=a||s,xr=k.navigation.state!=="idle"?bc(cn,k.navigation.location,l):k.matches;xt(xr,"Didn't find any matches after fetcher action");let Vo=++X;Ce.set(U,Vo);let Mr=df(et,Ke.data);k.fetchers.set(U,Mr);let[no,Mi]=CE(t.history,k,xr,et,Ut,!1,fe,je,Fe,ve,ue,Ae,cn,l,{[V.route.id]:Ke.data},void 0);Mi.filter(It=>It.key!==U).forEach(It=>{let Sr=It.key,hi=k.fetchers.get(Sr),io=df(void 0,hi?hi.data:void 0);k.fetchers.set(Sr,io),Pe.has(Sr)&&Gr(Sr),It.controller&&Pe.set(Sr,It.controller)}),Ge({fetchers:new Map(k.fetchers)});let di=()=>Mi.forEach(It=>Gr(It.key));Je.signal.addEventListener("abort",di);let{results:la,loaderResults:Bi,fetcherResults:Rn}=await xe(k.matches,xr,no,Mi,or);if(Je.signal.aborted)return;Je.signal.removeEventListener("abort",di),Ce.delete(U),Pe.delete(U),Mi.forEach(It=>Pe.delete(It.key));let fi=$E(la);if(fi){if(fi.idx>=no.length){let It=Mi[fi.idx-no.length].key;Ae.add(It)}return Te(k,fi.result)}let{loaderData:Ho,errors:Ct}=AE(k,k.matches,no,Bi,void 0,Mi,Rn,Le);if(k.fetchers.has(U)){let It=pa(Ke.data);k.fetchers.set(U,It)}Wo(Vo),k.navigation.state==="loading"&&Vo>ge?(xt(L,"Expected pending action"),Z&&Z.abort(),pe(k.navigation.location,{matches:xr,loaderData:Ho,errors:Ct,fetchers:new Map(k.fetchers)})):(Ge({errors:Ct,loaderData:IE(k.loaderData,Ho,xr,Ct),fetchers:new Map(k.fetchers)}),fe=!1)}async function G(U,Y,ae,V,We,Ze,et){let Xe=k.fetchers.get(U);ne(U,df(et,Xe?Xe.data:void 0),{flushSync:Ze});let Je=new AbortController,ft=cf(t.history,ae,Je.signal);Pe.set(U,Je);let _r=X,Ke=await uf("loader",ft,V,We,o,i,l,u.v7_relativeSplatPath);if(ql(Ke)&&(Ke=await e4(Ke,ft.signal,!0)||Ke),Pe.get(U)===Je&&Pe.delete(U),!ft.signal.aborted){if(ve.has(U)){ne(U,pa(void 0));return}if(Ul(Ke))if(ge>_r){ne(U,pa(void 0));return}else{Ae.add(U),await Te(k,Ke);return}if(_c(Ke)){De(U,Y,Ke.error);return}xt(!ql(Ke),"Unhandled fetcher deferred data"),ne(U,pa(Ke.data))}}async function Te(U,Y,ae){let{submission:V,fetcherSubmission:We,replace:Ze}=ae===void 0?{}:ae;Y.revalidate&&(fe=!0);let et=bh(U.location,Y.location,{_isRedirect:!0});if(xt(et,"Expected a location on the redirect navigation"),r){let Ut=!1;if(Y.reloadDocument)Ut=!0;else if(YT.test(Y.location)){const or=t.history.createURL(Y.location);Ut=or.origin!==e.location.origin||$d(or.pathname,l)==null}if(Ut){Ze?e.location.replace(Y.location):e.location.assign(Y.location);return}}Z=null;let Xe=Ze===!0?Wr.Replace:Wr.Push,{formMethod:Je,formAction:ft,formEncType:_r}=U.navigation;!V&&!We&&Je&&ft&&_r&&(V=LE(U.navigation));let Ke=V||We;if(gL.has(Y.status)&&Ke&&Eo(Ke.formMethod))await $e(Xe,et,{submission:jr({},Ke,{formAction:Y.location}),preventScrollReset:j});else{let Ut=xw(et,V);await $e(Xe,et,{overrideNavigation:Ut,fetcherSubmission:We,preventScrollReset:j})}}async function xe(U,Y,ae,V,We){let Ze=await Promise.all([...ae.map(Je=>uf("loader",We,Je,Y,o,i,l,u.v7_relativeSplatPath)),...V.map(Je=>Je.matches&&Je.match&&Je.controller?uf("loader",cf(t.history,Je.path,Je.controller.signal),Je.match,Je.matches,o,i,l,u.v7_relativeSplatPath):{type:Pr.error,error:Vi(404,{pathname:Je.path})})]),et=Ze.slice(0,ae.length),Xe=Ze.slice(ae.length);return await Promise.all([jE(U,ae,et,et.map(()=>We.signal),!1,k.loaderData),jE(U,V.map(Je=>Je.match),Xe,V.map(Je=>Je.controller?Je.controller.signal:null),!0)]),{results:Ze,loaderResults:et,fetcherResults:Xe}}function he(){fe=!0,je.push(...zo()),ue.forEach((U,Y)=>{Pe.has(Y)&&(Fe.push(Y),Gr(Y))})}function ne(U,Y,ae){ae===void 0&&(ae={}),k.fetchers.set(U,Y),Ge({fetchers:new Map(k.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function De(U,Y,ae,V){V===void 0&&(V={});let We=Lf(k.matches,Y);Mt(U),Ge({errors:{[We.route.id]:ae},fetchers:new Map(k.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Rt(U){return u.v7_fetcherPersist&&(_e.set(U,(_e.get(U)||0)+1),ve.has(U)&&ve.delete(U)),k.fetchers.get(U)||vL}function Mt(U){let Y=k.fetchers.get(U);Pe.has(U)&&!(Y&&Y.state==="loading"&&Ce.has(U))&&Gr(U),ue.delete(U),Ce.delete(U),Ae.delete(U),ve.delete(U),k.fetchers.delete(U)}function er(U){if(u.v7_fetcherPersist){let Y=(_e.get(U)||0)-1;Y<=0?(_e.delete(U),ve.add(U)):_e.set(U,Y)}else Mt(U);Ge({fetchers:new Map(k.fetchers)})}function Gr(U){let Y=Pe.get(U);xt(Y,"Expected fetch controller: "+U),Y.abort(),Pe.delete(U)}function Tn(U){for(let Y of U){let ae=Rt(Y),V=pa(ae.data);k.fetchers.set(Y,V)}}function Di(){let U=[],Y=!1;for(let ae of Ae){let V=k.fetchers.get(ae);xt(V,"Expected fetcher: "+ae),V.state==="loading"&&(Ae.delete(ae),U.push(ae),Y=!0)}return Tn(U),Y}function Wo(U){let Y=[];for(let[ae,V]of Ce)if(V<U){let We=k.fetchers.get(ae);xt(We,"Expected fetcher: "+ae),We.state==="loading"&&(Gr(ae),Ce.delete(ae),Y.push(ae))}return Tn(Y),Y.length>0}function qo(U,Y){let ae=k.blockers.get(U)||lf;return z.get(U)!==Y&&z.set(U,Y),ae}function Uo(U){k.blockers.delete(U),z.delete(U)}function ro(U,Y){let ae=k.blockers.get(U)||lf;xt(ae.state==="unblocked"&&Y.state==="blocked"||ae.state==="blocked"&&Y.state==="blocked"||ae.state==="blocked"&&Y.state==="proceeding"||ae.state==="blocked"&&Y.state==="unblocked"||ae.state==="proceeding"&&Y.state==="unblocked","Invalid blocker state transition: "+ae.state+" -> "+Y.state);let V=new Map(k.blockers);V.set(U,Y),Ge({blockers:V})}function Wu(U){let{currentLocation:Y,nextLocation:ae,historyAction:V}=U;if(z.size===0)return;z.size>1&&wu(!1,"A router only supports one blocker at a time");let We=Array.from(z.entries()),[Ze,et]=We[We.length-1],Xe=k.blockers.get(Ze);if(!(Xe&&Xe.state==="proceeding")&&et({currentLocation:Y,nextLocation:ae,historyAction:V}))return Ze}function zo(U){let Y=[];return Le.forEach((ae,V)=>{(!U||U(V))&&(ae.cancel(),Y.push(V),Le.delete(V))}),Y}function gt(U,Y,ae){if(p=U,b=Y,y=ae||null,!S&&k.navigation===_w){S=!0;let V=_l(k.location,k.matches);V!=null&&Ge({restoreScrollPosition:V})}return()=>{p=null,b=null,y=null}}function bl(U,Y){return y&&y(U,Y.map(V=>G8(V,k.loaderData)))||U.key}function ti(U,Y){if(p&&b){let ae=bl(U,Y);p[ae]=b()}}function _l(U,Y){if(p){let ae=bl(U,Y),V=p[ae];if(typeof V=="number")return V}return null}function gs(U){o={},a=eb(U,i,void 0,o)}return R={get basename(){return l},get future(){return u},get state(){return k},get routes(){return s},get window(){return e},initialize:oe,subscribe:ot,enableScrollRestoration:gt,navigate:me,fetch:$,revalidate:Be,createHref:U=>t.history.createHref(U),encodeLocation:U=>t.history.encodeLocation(U),getFetcher:Rt,deleteFetcher:er,dispose:ct,getBlocker:qo,deleteBlocker:Uo,_internalFetchControllers:Pe,_internalActiveDeferreds:Le,_internalSetRoutes:gs},R}function _L(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tb(t,e,r,n,i,o,s,a){let l,u;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){u=h;break}}else l=e,u=e[e.length-1];let c=gx(i||".",yx(l,o),$d(t.pathname,r)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!wx(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:Vs([r,c.pathname])),bu(c)}function kE(t,e,r,n){if(!n||!_L(n))return{path:r};if(n.formMethod&&!TL(n.formMethod))return{path:r,error:Vi(405,{method:n.formMethod})};let i=()=>({path:r,error:Vi(400,{type:"invalid-body"})}),o=n.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=XT(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Eo(s))return i();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,b)=>{let[S,E]=b;return""+y+S+"="+E+`
`},""):String(n.body);return{path:r,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Eo(s))return i();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}xt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=rb(n.formData),u=n.formData;else if(n.body instanceof FormData)l=rb(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=OE(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=OE(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Eo(c.formMethod))return{path:r,submission:c};let h=ms(r);return e&&h.search&&wx(h.search)&&l.append("index",""),h.search="?"+l,{path:bu(h),submission:c}}function xL(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function CE(t,e,r,n,i,o,s,a,l,u,c,h,p,y,b,S){let E=S?Object.values(S)[0]:b?Object.values(b)[0]:void 0,v=t.createURL(e.location),w=t.createURL(i),N=S?Object.keys(S)[0]:void 0,R=xL(r,N).filter((L,j)=>{let{route:Z}=L;if(Z.lazy)return!0;if(Z.loader==null)return!1;if(o)return Z.loader.hydrate?!0:e.loaderData[Z.id]===void 0&&(!e.errors||e.errors[Z.id]===void 0);if(SL(e.loaderData,e.matches[j],L)||a.some(re=>re===L.route.id))return!0;let H=e.matches[j],te=L;return TE(L,jr({currentUrl:v,currentParams:H.params,nextUrl:w,nextParams:te.params},n,{actionResult:E,defaultShouldRevalidate:s||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||ZT(H,te)}))}),k=[];return c.forEach((L,j)=>{if(o||!r.some(Q=>Q.route.id===L.routeId)||u.has(j))return;let Z=bc(p,L.path,y);if(!Z){k.push({key:j,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let H=e.fetchers.get(j),te=nb(Z,L.path),re=!1;h.has(j)?re=!1:l.includes(j)?re=!0:H&&H.state!=="idle"&&H.data===void 0?re=s:re=TE(te,jr({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:r[r.length-1].params},n,{actionResult:E,defaultShouldRevalidate:s})),re&&k.push({key:j,routeId:L.routeId,path:L.path,matches:Z,match:te,controller:new AbortController})}),[R,k]}function SL(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function ZT(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function TE(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function RE(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];xt(i,"No route found in manifest");let o={};for(let s in n){let l=i[s]!==void 0&&s!=="hasErrorBoundary";wu(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!H8.has(s)&&(o[s]=n[s])}Object.assign(i,o),Object.assign(i,jr({},e(i),{lazy:void 0}))}async function uf(t,e,r,n,i,o,s,a,l){l===void 0&&(l={});let u,c,h,p=S=>{let E,v=new Promise((w,N)=>E=N);return h=()=>E(),e.signal.addEventListener("abort",h),Promise.race([S({request:e,params:r.params,context:l.requestContext}),v])};try{let S=r.route[t];if(r.route.lazy)if(S){let E,v=await Promise.all([p(S).catch(w=>{E=w}),RE(r.route,o,i)]);if(E)throw E;c=v[0]}else if(await RE(r.route,o,i),S=r.route[t],S)c=await p(S);else if(t==="action"){let E=new URL(e.url),v=E.pathname+E.search;throw Vi(405,{method:e.method,pathname:v,routeId:r.route.id})}else return{type:Pr.data,data:void 0};else if(S)c=await p(S);else{let E=new URL(e.url),v=E.pathname+E.search;throw Vi(404,{pathname:v})}xt(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(S){u=Pr.error,c=S}finally{h&&e.signal.removeEventListener("abort",h)}if(CL(c)){let S=c.status;if(yL.has(S)){let v=c.headers.get("Location");if(xt(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!YT.test(v))v=tb(new URL(e.url),n.slice(0,n.indexOf(r)+1),s,!0,v,a);else if(!l.isStaticRequest){let w=new URL(e.url),N=v.startsWith("//")?new URL(w.protocol+v):new URL(v),I=$d(N.pathname,s)!=null;N.origin===w.origin&&I&&(v=N.pathname+N.search+N.hash)}if(l.isStaticRequest)throw c.headers.set("Location",v),c;return{type:Pr.redirect,status:S,location:v,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Pr.error?Pr.error:Pr.data,response:c};let E;try{let v=c.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?c.body==null?E=null:E=await c.json():E=await c.text()}catch(v){return{type:Pr.error,error:v}}return u===Pr.error?{type:u,error:new vx(S,c.statusText,E),headers:c.headers}:{type:Pr.data,data:E,statusCode:c.status,headers:c.headers}}if(u===Pr.error)return{type:u,error:c};if(kL(c)){var y,b;return{type:Pr.deferred,deferredData:c,statusCode:(y=c.init)==null?void 0:y.status,headers:((b=c.init)==null?void 0:b.headers)&&new Headers(c.init.headers)}}return{type:Pr.data,data:c}}function cf(t,e,r,n){let i=t.createURL(XT(e)).toString(),o={signal:r};if(n&&Eo(n.formMethod)){let{formMethod:s,formEncType:a}=n;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(n.json)):a==="text/plain"?o.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?o.body=rb(n.formData):o.body=n.formData}return new Request(i,o)}function rb(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function OE(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function EL(t,e,r,n,i){let o={},s=null,a,l=!1,u={};return r.forEach((c,h)=>{let p=e[h].route.id;if(xt(!Ul(c),"Cannot handle redirect results in processLoaderData"),_c(c)){let y=Lf(t,p),b=c.error;n&&(b=Object.values(n)[0],n=void 0),s=s||{},s[y.route.id]==null&&(s[y.route.id]=b),o[p]=void 0,l||(l=!0,a=GT(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else ql(c)?(i.set(p,c.deferredData),o[p]=c.deferredData.data):o[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[p]=c.headers)}),n&&(s=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function AE(t,e,r,n,i,o,s,a){let{loaderData:l,errors:u}=EL(e,r,n,i,a);for(let c=0;c<o.length;c++){let{key:h,match:p,controller:y}=o[c];xt(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let b=s[c];if(!(y&&y.signal.aborted))if(_c(b)){let S=Lf(t.matches,p==null?void 0:p.route.id);u&&u[S.route.id]||(u=jr({},u,{[S.route.id]:b.error})),t.fetchers.delete(h)}else if(Ul(b))xt(!1,"Unhandled fetcher revalidation redirect");else if(ql(b))xt(!1,"Unhandled fetcher deferred data");else{let S=pa(b.data);t.fetchers.set(h,S)}}return{loaderData:l,errors:u}}function IE(t,e,r,n){let i=jr({},e);for(let o of r){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function Lf(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function PE(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Vi(t,e){let{pathname:r,routeId:n,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(s="Not Found",a='No route matches URL "'+r+'"'):t===405&&(s="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new vx(t||500,s,new Error(a),!0)}function $E(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Ul(r))return{result:r,idx:e}}}function XT(t){let e=typeof t=="string"?ms(t):t;return bu(jr({},e,{hash:""}))}function NL(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ql(t){return t.type===Pr.deferred}function _c(t){return t.type===Pr.error}function Ul(t){return(t&&t.type)===Pr.redirect}function kL(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function CL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function TL(t){return mL.has(t.toLowerCase())}function Eo(t){return hL.has(t.toLowerCase())}async function jE(t,e,r,n,i,o){for(let s=0;s<r.length;s++){let a=r[s],l=e[s];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!ZT(u,l)&&(o&&o[l.route.id])!==void 0;if(ql(a)&&(i||c)){let h=n[s];xt(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await e4(a,h,i).then(p=>{p&&(r[s]=p||r[s])})}}}async function e4(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Pr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Pr.error,error:i}}return{type:Pr.data,data:t.deferredData.data}}}function wx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function nb(t,e){let r=typeof e=="string"?ms(e).search:e.search;if(t[t.length-1].route.index&&wx(r||""))return t[t.length-1];let n=QT(t);return n[n.length-1]}function LE(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:o,json:s}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function xw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function RL(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function df(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function OL(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function pa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function AL(t,e){try{let r=t.sessionStorage.getItem(KT);if(r){let n=JSON.parse(r);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function IL(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(KT,JSON.stringify(r))}catch(n){wu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_h.apply(this,arguments)}const qv=A.createContext(null),t4=A.createContext(null),$u=A.createContext(null),Uv=A.createContext(null),aa=A.createContext({outlet:null,matches:[],isDataRoute:!1}),r4=A.createContext(null);function PL(t,e){let{relative:r}=e===void 0?{}:e;Cp()||xt(!1);let{basename:n,navigator:i}=A.useContext($u),{hash:o,pathname:s,search:a}=i4(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Vs([n,s])),i.createHref({pathname:l,search:a,hash:o})}function Cp(){return A.useContext(Uv)!=null}function Tp(){return Cp()||xt(!1),A.useContext(Uv).location}function n4(t){A.useContext($u).static||A.useLayoutEffect(t)}function bx(){let{isDataRoute:t}=A.useContext(aa);return t?QL():$L()}function $L(){Cp()||xt(!1);let t=A.useContext(qv),{basename:e,future:r,navigator:n}=A.useContext($u),{matches:i}=A.useContext(aa),{pathname:o}=Tp(),s=JSON.stringify(yx(i,r.v7_relativeSplatPath)),a=A.useRef(!1);return n4(()=>{a.current=!0}),A.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=gx(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vs([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,o,t])}const jL=A.createContext(null);function LL(t){let e=A.useContext(aa).outlet;return e&&A.createElement(jL.Provider,{value:t},e)}function Rp(){let{matches:t}=A.useContext(aa),e=t[t.length-1];return e?e.params:{}}function i4(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=A.useContext($u),{matches:i}=A.useContext(aa),{pathname:o}=Tp(),s=JSON.stringify(yx(i,n.v7_relativeSplatPath));return A.useMemo(()=>gx(t,JSON.parse(s),o,r==="path"),[t,s,o,r])}function DL(t,e){return o4(t,e)}function o4(t,e,r,n){Cp()||xt(!1);let{navigator:i}=A.useContext($u),{matches:o}=A.useContext(aa),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Tp(),c;if(e){var h;let E=typeof e=="string"?ms(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||xt(!1),c=E}else c=u;let p=c.pathname||"/",y=p;if(l!=="/"){let E=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=bc(t,{pathname:y}),S=qL(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Vs([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Vs([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,r,n);return e&&S?A.createElement(Uv.Provider,{value:{location:_h({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Wr.Pop}},S):S}function ML(){let t=HL(),e=GT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:i},r):null,null)}const BL=A.createElement(ML,null);class FL extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?A.createElement(aa.Provider,{value:this.props.routeContext},A.createElement(r4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WL(t){let{routeContext:e,match:r,children:n}=t,i=A.useContext(qv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(aa.Provider,{value:e},n)}function qL(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if((o=r)!=null&&o.errors)t=r.matches;else return null}let s=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||xt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:y}=r,b=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,p)=>{let y,b=!1,S=null,E=null;r&&(y=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||BL,l&&(u<0&&p===0?(GL("route-fallback",!1),b=!0,E=null):u===p&&(b=!0,E=h.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,p+1)),w=()=>{let N;return y?N=S:b?N=E:h.route.Component?N=A.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=c,A.createElement(WL,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?A.createElement(FL,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var s4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(s4||{}),Uy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Uy||{});function UL(t){let e=A.useContext(qv);return e||xt(!1),e}function zL(t){let e=A.useContext(t4);return e||xt(!1),e}function VL(t){let e=A.useContext(aa);return e||xt(!1),e}function a4(t){let e=VL(),r=e.matches[e.matches.length-1];return r.route.id||xt(!1),r.route.id}function HL(){var t;let e=A.useContext(r4),r=zL(Uy.UseRouteError),n=a4(Uy.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function QL(){let{router:t}=UL(s4.UseNavigateStable),e=a4(Uy.UseNavigateStable),r=A.useRef(!1);return n4(()=>{r.current=!0}),A.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_h({fromRouteId:e},o)))},[t,e])}const DE={};function GL(t,e,r){!e&&!DE[t]&&(DE[t]=!0)}function JL(t){return LL(t.context)}function Vr(t){xt(!1)}function YL(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Wr.Pop,navigator:o,static:s=!1,future:a}=t;Cp()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:o,static:s,future:_h({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof n=="string"&&(n=ms(n));let{pathname:c="/",search:h="",hash:p="",state:y=null,key:b="default"}=n,S=A.useMemo(()=>{let E=$d(c,l);return E==null?null:{location:{pathname:E,search:h,hash:p,state:y,key:b},navigationType:i}},[l,c,h,p,y,b,i]);return S==null?null:A.createElement($u.Provider,{value:u},A.createElement(Uv.Provider,{children:r,value:S}))}function Op(t){let{children:e,location:r}=t;return DL(zy(e),r)}new Promise(()=>{});function zy(t,e){e===void 0&&(e=[]);let r=[];return A.Children.forEach(t,(n,i)=>{if(!A.isValidElement(n))return;let o=[...e,i];if(n.type===A.Fragment){r.push.apply(r,zy(n.props.children,o));return}n.type!==Vr&&xt(!1),!n.props.index||!n.props.children||xt(!1);let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=zy(n.props.children,o)),r.push(s)}),r}function KL(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:A.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xh(){return xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xh.apply(this,arguments)}function ZL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function XL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function e9(t,e){return t.button===0&&(!e||e==="_self")&&!XL(t)}const t9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],r9="6";try{window.__reactRouterVersion=r9}catch{}function n9(t,e){return bL({basename:e==null?void 0:e.basename,future:xh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:U8({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||i9(),routes:t,mapRouteProperties:KL,window:e==null?void 0:e.window}).initialize()}function i9(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=xh({},e,{errors:o9(e.errors)})),e}function o9(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new vx(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let o=new Error(i.message);o.stack="",r[n]=o}}else r[n]=i;return r}const s9=A.createContext({isTransitioning:!1}),a9=A.createContext(new Map),l9="startTransition",ME=DA[l9],u9="flushSync",BE=QI[u9];function c9(t){ME?ME(t):t()}function ff(t){BE?BE(t):t()}let d9=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function f9(t){let{fallbackElement:e,router:r,future:n}=t,[i,o]=A.useState(r.state),[s,a]=A.useState(),[l,u]=A.useState({isTransitioning:!1}),[c,h]=A.useState(),[p,y]=A.useState(),[b,S]=A.useState(),E=A.useRef(new Map),{v7_startTransition:v}=n||{},w=A.useCallback(L=>{v?c9(L):L()},[v]),N=A.useCallback((L,j)=>{let{deletedFetchers:Z,unstable_flushSync:H,unstable_viewTransitionOpts:te}=j;Z.forEach(Q=>E.current.delete(Q)),L.fetchers.forEach((Q,fe)=>{Q.data!==void 0&&E.current.set(fe,Q.data)});let re=r.window==null||typeof r.window.document.startViewTransition!="function";if(!te||re){H?ff(()=>o(L)):w(()=>o(L));return}if(H){ff(()=>{p&&(c&&c.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:te.currentLocation,nextLocation:te.nextLocation})});let Q=r.window.document.startViewTransition(()=>{ff(()=>o(L))});Q.finished.finally(()=>{ff(()=>{h(void 0),y(void 0),a(void 0),u({isTransitioning:!1})})}),ff(()=>y(Q));return}p?(c&&c.resolve(),p.skipTransition(),S({state:L,currentLocation:te.currentLocation,nextLocation:te.nextLocation})):(a(L),u({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}))},[r.window,p,c,E,w]);A.useLayoutEffect(()=>r.subscribe(N),[r,N]),A.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new d9)},[l]),A.useEffect(()=>{if(c&&s&&r.window){let L=s,j=c.promise,Z=r.window.document.startViewTransition(async()=>{w(()=>o(L)),await j});Z.finished.finally(()=>{h(void 0),y(void 0),a(void 0),u({isTransitioning:!1})}),y(Z)}},[w,s,c,r.window]),A.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,p,i.location,s]),A.useEffect(()=>{!l.isTransitioning&&b&&(a(b.state),u({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),S(void 0))},[l.isTransitioning,b]),A.useEffect(()=>{},[]);let I=A.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:L=>r.navigate(L),push:(L,j,Z)=>r.navigate(L,{state:j,preventScrollReset:Z==null?void 0:Z.preventScrollReset}),replace:(L,j,Z)=>r.navigate(L,{replace:!0,state:j,preventScrollReset:Z==null?void 0:Z.preventScrollReset})}),[r]),R=r.basename||"/",k=A.useMemo(()=>({router:r,navigator:I,static:!1,basename:R}),[r,I,R]);return A.createElement(A.Fragment,null,A.createElement(qv.Provider,{value:k},A.createElement(t4.Provider,{value:i},A.createElement(a9.Provider,{value:E.current},A.createElement(s9.Provider,{value:l},A.createElement(YL,{basename:R,location:i.location,navigationType:i.historyAction,navigator:I,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?A.createElement(h9,{routes:r.routes,future:r.future,state:i}):e))))),null)}function h9(t){let{routes:e,future:r,state:n}=t;return o4(e,void 0,n,r)}const p9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ln=A.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,p=ZL(e,t9),{basename:y}=A.useContext($u),b,S=!1;if(typeof u=="string"&&m9.test(u)&&(b=u,p9))try{let N=new URL(window.location.href),I=u.startsWith("//")?new URL(N.protocol+u):new URL(u),R=$d(I.pathname,y);I.origin===N.origin&&R!=null?u=R+I.search+I.hash:S=!0}catch{}let E=PL(u,{relative:i}),v=y9(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function w(N){n&&n(N),N.defaultPrevented||v(N)}return A.createElement("a",xh({},p,{href:b||E,onClick:S||o?n:w,ref:r,target:l}))});var FE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(FE||(FE={}));var WE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(WE||(WE={}));function y9(t,e){let{target:r,replace:n,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=bx(),u=Tp(),c=i4(t,{relative:s});return A.useCallback(h=>{if(e9(h,r)){h.preventDefault();let p=n!==void 0?n:bu(u)===bu(c);l(t,{replace:p,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,n,i,r,t,o,s,a])}function jc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Error;if(!t)throw typeof e=="string"?new Error(e):e}function g9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Error("AssertionError: EmptyArray");if(t.length<1)throw typeof e=="string"?new Error(e):e}var v9=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};function w9(t,e,r){var n=function(o){return t.apply(void 0,v9([o],Array.from(e),!1))},i=r??t.lazy;return i===void 0?n:Object.assign(n,{lazy:i,lazyArgs:e})}function ei(t,e,r){var n=t.length-e.length;if(n===0)return t.apply(void 0,Array.from(e));if(n===1)return w9(t,e,r);throw new Error("Wrong number of arguments")}function Bo(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var i=t,o=r.map(function(v){return"lazy"in v?b9(v):void 0}),s=0;s<r.length;){var a=o[s];if(a===void 0||!_9(i)){var l=r[s];i=l(i),s+=1;continue}for(var u=[],c=s;c<r.length;c++){var h=o[c];if(h===void 0||(u.push(h),h.isSingle))break}for(var p=[],y=i[Symbol.iterator]();;){var b=y.next();if((e=b.done)!==null&&e!==void 0&&e)break;var S=l4(b.value,p,u);if(S)break}var E=u[u.length-1].isSingle;i=E?p[0]:p,s+=u.length}return i}function l4(t,e,r){var n;if(r.length===0)return e.push(t),!1;for(var i=t,o={done:!1,hasNext:!1},s=!1,a=0;a<r.length;a++){var l=r[a],u=l.isIndexed,c=l.index,h=l.items;if(h.push(i),o=u?l(i,c,h):l(i),l.index+=1,o.hasNext){if((n=o.hasMany)!==null&&n!==void 0&&n){for(var p=0,y=o.next;p<y.length;p++){var b=y[p],S=l4(b,e,r.slice(a+1));if(S)return!0}return!1}i=o.next}if(!o.hasNext)break;o.done&&(s=!0)}return o.hasNext&&e.push(i),!!s}function b9(t){var e=t.lazy,r=t.lazyArgs,n=e.apply(void 0,r??[]);return Object.assign(n,{isIndexed:e.indexed,isSingle:e.single,index:0,items:[]})}function _9(t){return typeof t=="string"||typeof t=="object"&&t!==null&&Symbol.iterator in t}function zv(t,e,r){r===void 0&&(r=!1);for(var n=[],i=0;i<t.length;i++){var o=t[i],s=r?e(o,i,t):e(o);if(s.hasMany===!0?n.push.apply(n,s.next):s.hasNext&&n.push(s.next),s.done)break}return n}function Sh(){return ei(x9,arguments,Sh.lazy)}function x9(t,e,r){var n=Sh.lazy(e,r);return zv(t,n)}(function(t){t.lazy=function(e,r){return function(n){return e.every(function(i){return!r(n,i)})?{done:!1,hasNext:!0,next:n}:{done:!1,hasNext:!1}}}})(Sh||(Sh={}));function Vy(){return ei(Object.entries,arguments)}(function(t){t.strict=t})(Vy||(Vy={}));var u4=function(t){return Object.assign(t,{indexed:!0})};function ea(){return ei(c4(!1),arguments,ea.lazy)}var c4=function(t){return function(e,r){return zv(e,t?ea.lazyIndexed(r):ea.lazy(r),t)}},qE=function(t){return function(e){return function(r,n,i){return(t?e(r,n,i):e(r))?{done:!1,hasNext:!0,next:r}:{done:!1,hasNext:!1}}}};(function(t){function e(){return ei(c4(!0),arguments,t.lazyIndexed)}t.indexed=e,t.lazy=qE(!1),t.lazyIndexed=u4(qE(!0))})(ea||(ea={}));function Eh(){return ei(S9,arguments,Eh.lazy)}function S9(t){return zv(t,Eh.lazy())}(function(t){t.lazy=function(){return function(e){return Array.isArray(e)?{done:!1,hasNext:!0,hasMany:!0,next:e}:{done:!1,hasNext:!0,next:e}}}})(Eh||(Eh={}));function Nh(){return ei(E9,arguments,Nh.lazy)}function E9(t,e){return Eh(t.map(function(r){return e(r)}))}(function(t){t.lazy=function(e){return function(r){var n=e(r);return Array.isArray(n)?{done:!1,hasNext:!0,hasMany:!0,next:n}:{done:!1,hasNext:!0,next:n}}}})(Nh||(Nh={}));function kh(){return ei(d4(!1),arguments)}var d4=function(t){return function(e,r){for(var n={},i=0;i<e.length;i++){var o=e[i],s=t?r(o,i,e):r(o);if(s!==void 0){var a=String(s),l=n[a];l===void 0&&(l=[],n[a]=l),l.push(o)}}return n}};(function(t){function e(){return ei(d4(!0),arguments)}t.indexed=e,t.strict=t})(kh||(kh={}));function f4(){return ei(Hy,arguments)}function Hy(t,e){if(t===e)return!0;if(typeof t=="number"&&typeof e=="number")return t!==t&&e!==e;if(typeof t!="object"||typeof e!="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Hy(t[r],e[r]))return!1;return!0}if(t instanceof Date)return t.getTime()===e.getTime();if(t instanceof RegExp)return t.toString()===e.toString();if(t instanceof Map)return N9(t,e);var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(var i=0,o=n;i<o.length;i++){var s=o[i];if(!Object.prototype.hasOwnProperty.call(e,s)||!Hy(t[s],e[s]))return!1}return!0}function N9(t,e){if(t.size!==e.size)return!1;for(var r=Array.from(t.keys()),n=0,i=r;n<i.length;n++){var o=i[n];if(!e.has(o)||!Hy(t.get(o),e.get(o)))return!1}return!0}function k9(t){return Array.isArray(t)}function C9(t){return!!t&&!Array.isArray(t)&&typeof t=="object"}function T9(t){return typeof t=="string"}function R9(t){return t===void 0?!0:k9(t)||T9(t)?t.length===0:C9(t)?Object.keys(t).length===0:!1}function _u(){return ei(h4(!1),arguments,_u.lazy)}var h4=function(t){return function(e,r){return zv(e,t?_u.lazyIndexed(r):_u.lazy(r),t)}},UE=function(t){return function(e){return function(r,n,i){return{done:!1,hasNext:!0,next:t?e(r,n,i):e(r)}}}};(function(t){function e(){return ei(h4(!0),arguments,t.lazyIndexed)}t.indexed=e,t.lazy=UE(!1),t.lazyIndexed=u4(UE(!0)),t.strict=t})(_u||(_u={}));function O9(){return ei(A9,arguments)}function A9(t,e){for(var r=[],n=t;n<e;n++)r.push(n);return r}var p4=function(t){return function(e,r){for(var n=0,i=0;i<e.length;i++){var o=e[i],s=t?r(o,i,e):r(o);n+=s}return n}};function Tr(){return ei(p4(!1),arguments)}(function(t){function e(){return ei(p4(!0),arguments)}t.indexed=e})(Tr||(Tr={}));function ib(){return ei(I9,arguments)}function I9(t,e){for(var r=t.length>e.length?e.length:t.length,n=[],i=0;i<r;i++)n.push([t[i],e[i]]);return n}(function(t){t.strict=t})(ib||(ib={}));var qt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(qt||(qt={}));var ob;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ob||(ob={}));const Me=qt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ka=t=>{switch(typeof t){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return isNaN(t)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(t)?Me.array:t===null?Me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Me.promise:typeof Map<"u"&&t instanceof Map?Me.map:typeof Set<"u"&&t instanceof Set?Me.set:typeof Date<"u"&&t instanceof Date?Me.date:Me.object;default:return Me.unknown}},Oe=qt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),P9=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class jo extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let a=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,qt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}jo.create=t=>new jo(t);const Ch=(t,e)=>{let r;switch(t.code){case Oe.invalid_type:t.received===Me.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Oe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,qt.jsonStringifyReplacer)}`;break;case Oe.unrecognized_keys:r=`Unrecognized key(s) in object: ${qt.joinValues(t.keys,", ")}`;break;case Oe.invalid_union:r="Invalid input";break;case Oe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qt.joinValues(t.options)}`;break;case Oe.invalid_enum_value:r=`Invalid enum value. Expected ${qt.joinValues(t.options)}, received '${t.received}'`;break;case Oe.invalid_arguments:r="Invalid function arguments";break;case Oe.invalid_return_type:r="Invalid function return type";break;case Oe.invalid_date:r="Invalid date";break;case Oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:qt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Oe.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Oe.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Oe.custom:r="Invalid input";break;case Oe.invalid_intersection_types:r="Intersection results could not be merged";break;case Oe.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Oe.not_finite:r="Number must be finite";break;default:r=e.defaultError,qt.assertNever(t)}return{message:r}};let m4=Ch;function $9(t){m4=t}function Qy(){return m4}const Gy=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],s={...i,path:o};let a="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:e,defaultError:a}).message;return{...i,path:o,message:i.message||a}},j9=[];function qe(t,e){const r=Gy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Qy(),Ch].filter(n=>!!n)});t.common.issues.push(r)}class Mn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return yt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return Mn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return yt;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:e.value,value:n}}}const yt=Object.freeze({status:"aborted"}),y4=t=>({status:"dirty",value:t}),Kn=t=>({status:"valid",value:t}),sb=t=>t.status==="aborted",ab=t=>t.status==="dirty",Th=t=>t.status==="valid",Jy=t=>typeof Promise<"u"&&t instanceof Promise;var nt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(nt||(nt={}));class us{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zE=(t,e)=>{if(Th(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new jo(t.common.issues);return this._error=r,this._error}}};function vt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>s.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class St{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ka(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Mn,ctx:{common:e.parent.common,data:e.data,parsedType:ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Jy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)},o=this._parseSync({data:e,path:i.path,parent:i});return zE(i,o)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)},i=this._parse({data:e,path:n.path,parent:n}),o=await(Jy(i)?i:Promise.resolve(i));return zE(n,o)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:Oe.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Fo({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Hs.create(this,this._def)}nullable(){return Eu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lo.create(this,this._def)}promise(){return wd.create(this,this._def)}or(e){return Ih.create([this,e],this._def)}and(e){return Ph.create(this,e,this._def)}transform(e){return new Fo({...vt(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Mh({...vt(this._def),innerType:this,defaultValue:r,typeName:at.ZodDefault})}brand(){return new v4({typeName:at.ZodBranded,type:this,...vt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Xy({...vt(this._def),innerType:this,catchValue:r,typeName:at.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Ap.create(this,e)}readonly(){return tg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const L9=/^c[^\s-]{8,}$/i,D9=/^[a-z][a-z0-9]*$/,M9=/^[0-9A-HJKMNP-TV-Z]{26}$/,B9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,F9=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,W9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sw;const q9=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,U9=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,z9=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function V9(t,e){return!!((e==="v4"||!e)&&q9.test(t)||(e==="v6"||!e)&&U9.test(t))}class Ao extends St{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Me.string){const o=this._getOrReturnCtx(e);return qe(o,{code:Oe.invalid_type,expected:Me.string,received:o.parsedType}),yt}const n=new Mn;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?qe(i,{code:Oe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&qe(i,{code:Oe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")F9.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"email",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Sw||(Sw=new RegExp(W9,"u")),Sw.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"emoji",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")B9.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"uuid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")L9.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"cuid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")D9.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"cuid2",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")M9.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"ulid",code:Oe.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),qe(i,{validation:"url",code:Oe.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"regex",code:Oe.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?z9(o).test(e.data)||(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="ip"?V9(e.data,o.version)||(i=this._getOrReturnCtx(e,i),qe(i,{validation:"ip",code:Oe.invalid_string,message:o.message}),n.dirty()):qt.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Oe.invalid_string,...nt.errToObj(n)})}_addCheck(e){return new Ao({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...nt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...nt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...nt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...nt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...nt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...nt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...nt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...nt.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...nt.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...nt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...nt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...nt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...nt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...nt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...nt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...nt.errToObj(r)})}nonempty(e){return this.min(1,nt.errToObj(e))}trim(){return new Ao({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ao({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ao({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ao.create=t=>{var e;return new Ao({checks:[],typeName:at.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};function H9(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class al extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Me.number){const o=this._getOrReturnCtx(e);return qe(o,{code:Oe.invalid_type,expected:Me.number,received:o.parsedType}),yt}let n;const i=new Mn;for(const o of this._def.checks)o.kind==="int"?qt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?H9(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.not_finite,message:o.message}),i.dirty()):qt.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,nt.toString(r))}setLimit(e,r,n,i){return new al({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:nt.toString(i)}]})}_addCheck(e){return new al({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:nt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:nt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}al.create=t=>new al({checks:[],typeName:at.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...vt(t)});class ll extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Me.bigint){const o=this._getOrReturnCtx(e);return qe(o,{code:Oe.invalid_type,expected:Me.bigint,received:o.parsedType}),yt}let n;const i=new Mn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),qe(n,{code:Oe.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):qt.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,nt.toString(r))}setLimit(e,r,n,i){return new ll({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:nt.toString(i)}]})}_addCheck(e){return new ll({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ll.create=t=>{var e;return new ll({checks:[],typeName:at.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};class Rh extends St{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Me.boolean){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.boolean,received:n.parsedType}),yt}return Kn(e.data)}}Rh.create=t=>new Rh({typeName:at.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...vt(t)});class xu extends St{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Me.date){const o=this._getOrReturnCtx(e);return qe(o,{code:Oe.invalid_type,expected:Me.date,received:o.parsedType}),yt}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return qe(o,{code:Oe.invalid_date}),yt}const n=new Mn;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),qe(i,{code:Oe.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):qt.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xu({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:nt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:nt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}xu.create=t=>new xu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:at.ZodDate,...vt(t)});class Yy extends St{_parse(e){if(this._getType(e)!==Me.symbol){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.symbol,received:n.parsedType}),yt}return Kn(e.data)}}Yy.create=t=>new Yy({typeName:at.ZodSymbol,...vt(t)});class Oh extends St{_parse(e){if(this._getType(e)!==Me.undefined){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.undefined,received:n.parsedType}),yt}return Kn(e.data)}}Oh.create=t=>new Oh({typeName:at.ZodUndefined,...vt(t)});class Ah extends St{_parse(e){if(this._getType(e)!==Me.null){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.null,received:n.parsedType}),yt}return Kn(e.data)}}Ah.create=t=>new Ah({typeName:at.ZodNull,...vt(t)});class vd extends St{constructor(){super(...arguments),this._any=!0}_parse(e){return Kn(e.data)}}vd.create=t=>new vd({typeName:at.ZodAny,...vt(t)});class du extends St{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Kn(e.data)}}du.create=t=>new du({typeName:at.ZodUnknown,...vt(t)});class ta extends St{_parse(e){const r=this._getOrReturnCtx(e);return qe(r,{code:Oe.invalid_type,expected:Me.never,received:r.parsedType}),yt}}ta.create=t=>new ta({typeName:at.ZodNever,...vt(t)});class Ky extends St{_parse(e){if(this._getType(e)!==Me.undefined){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.void,received:n.parsedType}),yt}return Kn(e.data)}}Ky.create=t=>new Ky({typeName:at.ZodVoid,...vt(t)});class Lo extends St{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Me.array)return qe(r,{code:Oe.invalid_type,expected:Me.array,received:r.parsedType}),yt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(s||a)&&(qe(r,{code:s?Oe.too_big:Oe.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(qe(r,{code:Oe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(qe(r,{code:Oe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>i.type._parseAsync(new us(r,s,r.path,a)))).then(s=>Mn.mergeArray(n,s));const o=[...r.data].map((s,a)=>i.type._parseSync(new us(r,s,r.path,a)));return Mn.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new Lo({...this._def,minLength:{value:e,message:nt.toString(r)}})}max(e,r){return new Lo({...this._def,maxLength:{value:e,message:nt.toString(r)}})}length(e,r){return new Lo({...this._def,exactLength:{value:e,message:nt.toString(r)}})}nonempty(e){return this.min(1,e)}}Lo.create=(t,e)=>new Lo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...vt(e)});function rc(t){if(t instanceof kr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Hs.create(rc(n))}return new kr({...t._def,shape:()=>e})}else return t instanceof Lo?new Lo({...t._def,type:rc(t.element)}):t instanceof Hs?Hs.create(rc(t.unwrap())):t instanceof Eu?Eu.create(rc(t.unwrap())):t instanceof cs?cs.create(t.items.map(e=>rc(e))):t}class kr extends St{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=qt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Me.object){const u=this._getOrReturnCtx(e);return qe(u,{code:Oe.invalid_type,expected:Me.object,received:u.parsedType}),yt}const{status:n,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof ta&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const c=o[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new us(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ta){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(qe(i,{code:Oe.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new us(i,h,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const h=await c.key;u.push({key:h,value:await c.value,alwaysSet:c.alwaysSet})}return u}).then(u=>Mn.mergeObjectSync(n,u)):Mn.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return nt.errToObj,new kr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=nt.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new kr({...this._def,unknownKeys:"strip"})}passthrough(){return new kr({...this._def,unknownKeys:"passthrough"})}extend(e){return new kr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:at.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new kr({...this._def,catchall:e})}pick(e){const r={};return qt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new kr({...this._def,shape:()=>r})}omit(e){const r={};return qt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new kr({...this._def,shape:()=>r})}deepPartial(){return rc(this)}partial(e){const r={};return qt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new kr({...this._def,shape:()=>r})}required(e){const r={};return qt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Hs;)o=o._def.innerType;r[n]=o}}),new kr({...this._def,shape:()=>r})}keyof(){return g4(qt.objectKeys(this.shape))}}kr.create=(t,e)=>new kr({shape:()=>t,unknownKeys:"strip",catchall:ta.create(),typeName:at.ZodObject,...vt(e)});kr.strictCreate=(t,e)=>new kr({shape:()=>t,unknownKeys:"strict",catchall:ta.create(),typeName:at.ZodObject,...vt(e)});kr.lazycreate=(t,e)=>new kr({shape:t,unknownKeys:"strip",catchall:ta.create(),typeName:at.ZodObject,...vt(e)});class Ih extends St{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new jo(a.ctx.common.issues));return qe(r,{code:Oe.invalid_union,unionErrors:s}),yt}if(r.common.async)return Promise.all(n.map(async o=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!o&&(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new jo(l));return qe(r,{code:Oe.invalid_union,unionErrors:a}),yt}}get options(){return this._def.options}}Ih.create=(t,e)=>new Ih({options:t,typeName:at.ZodUnion,...vt(e)});const Xm=t=>t instanceof jh?Xm(t.schema):t instanceof Fo?Xm(t.innerType()):t instanceof Lh?[t.value]:t instanceof ul?t.options:t instanceof Dh?Object.keys(t.enum):t instanceof Mh?Xm(t._def.innerType):t instanceof Oh?[void 0]:t instanceof Ah?[null]:null;class Vv extends St{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.object)return qe(r,{code:Oe.invalid_type,expected:Me.object,received:r.parsedType}),yt;const n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(qe(r,{code:Oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const o of r){const s=Xm(o.shape[e]);if(!s)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new Vv({typeName:at.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...vt(n)})}}function lb(t,e){const r=ka(t),n=ka(e);if(t===e)return{valid:!0,data:t};if(r===Me.object&&n===Me.object){const i=qt.objectKeys(e),o=qt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const l=lb(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(r===Me.array&&n===Me.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],l=lb(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Me.date&&n===Me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ph extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(o,s)=>{if(sb(o)||sb(s))return yt;const a=lb(o.value,s.value);return a.valid?((ab(o)||ab(s))&&r.dirty(),{status:r.value,value:a.data}):(qe(n,{code:Oe.invalid_intersection_types}),yt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ph.create=(t,e,r)=>new Ph({left:t,right:e,typeName:at.ZodIntersection,...vt(r)});class cs extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.array)return qe(n,{code:Oe.invalid_type,expected:Me.array,received:n.parsedType}),yt;if(n.data.length<this._def.items.length)return qe(n,{code:Oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yt;!this._def.rest&&n.data.length>this._def.items.length&&(qe(n,{code:Oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new us(n,s,n.path,a)):null}).filter(s=>!!s);return n.common.async?Promise.all(o).then(s=>Mn.mergeArray(r,s)):Mn.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new cs({...this._def,rest:e})}}cs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cs({items:t,typeName:at.ZodTuple,rest:null,...vt(e)})};class $h extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.object)return qe(n,{code:Oe.invalid_type,expected:Me.object,received:n.parsedType}),yt;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in n.data)i.push({key:o._parse(new us(n,a,n.path,a)),value:s._parse(new us(n,n.data[a],n.path,a))});return n.common.async?Mn.mergeObjectAsync(r,i):Mn.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof St?new $h({keyType:e,valueType:r,typeName:at.ZodRecord,...vt(n)}):new $h({keyType:Ao.create(),valueType:e,typeName:at.ZodRecord,...vt(r)})}}class Zy extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.map)return qe(n,{code:Oe.invalid_type,expected:Me.map,received:n.parsedType}),yt;const i=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([a,l],u)=>({key:i._parse(new us(n,a,n.path,[u,"key"])),value:o._parse(new us(n,l,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return yt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of s){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return yt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}}}}Zy.create=(t,e,r)=>new Zy({valueType:e,keyType:t,typeName:at.ZodMap,...vt(r)});class Su extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.set)return qe(n,{code:Oe.invalid_type,expected:Me.set,received:n.parsedType}),yt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(qe(n,{code:Oe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(qe(n,{code:Oe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const o=this._def.valueType;function s(l){const u=new Set;for(const c of l){if(c.status==="aborted")return yt;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((l,u)=>o._parse(new us(n,l,n.path,u)));return n.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,r){return new Su({...this._def,minSize:{value:e,message:nt.toString(r)}})}max(e,r){return new Su({...this._def,maxSize:{value:e,message:nt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Su.create=(t,e)=>new Su({valueType:t,minSize:null,maxSize:null,typeName:at.ZodSet,...vt(e)});class Lc extends St{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.function)return qe(r,{code:Oe.invalid_type,expected:Me.function,received:r.parsedType}),yt;function n(a,l){return Gy({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Qy(),Ch].filter(u=>!!u),issueData:{code:Oe.invalid_arguments,argumentsError:l}})}function i(a,l){return Gy({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Qy(),Ch].filter(u=>!!u),issueData:{code:Oe.invalid_return_type,returnTypeError:l}})}const o={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof wd){const a=this;return Kn(async function(...l){const u=new jo([]),c=await a._def.args.parseAsync(l,o).catch(y=>{throw u.addIssue(n(l,y)),u}),h=await Reflect.apply(s,this,c);return await a._def.returns._def.type.parseAsync(h,o).catch(y=>{throw u.addIssue(i(h,y)),u})})}else{const a=this;return Kn(function(...l){const u=a._def.args.safeParse(l,o);if(!u.success)throw new jo([n(l,u.error)]);const c=Reflect.apply(s,this,u.data),h=a._def.returns.safeParse(c,o);if(!h.success)throw new jo([i(c,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Lc({...this._def,args:cs.create(e).rest(du.create())})}returns(e){return new Lc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Lc({args:e||cs.create([]).rest(du.create()),returns:r||du.create(),typeName:at.ZodFunction,...vt(n)})}}class jh extends St{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}jh.create=(t,e)=>new jh({getter:t,typeName:at.ZodLazy,...vt(e)});class Lh extends St{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return qe(r,{received:r.data,code:Oe.invalid_literal,expected:this._def.value}),yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Lh.create=(t,e)=>new Lh({value:t,typeName:at.ZodLiteral,...vt(e)});function g4(t,e){return new ul({values:t,typeName:at.ZodEnum,...vt(e)})}class ul extends St{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return qe(r,{expected:qt.joinValues(n),received:r.parsedType,code:Oe.invalid_type}),yt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return qe(r,{received:r.data,code:Oe.invalid_enum_value,options:n}),yt}return Kn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return ul.create(e)}exclude(e){return ul.create(this.options.filter(r=>!e.includes(r)))}}ul.create=g4;class Dh extends St{_parse(e){const r=qt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Me.string&&n.parsedType!==Me.number){const i=qt.objectValues(r);return qe(n,{expected:qt.joinValues(i),received:n.parsedType,code:Oe.invalid_type}),yt}if(r.indexOf(e.data)===-1){const i=qt.objectValues(r);return qe(n,{received:n.data,code:Oe.invalid_enum_value,options:i}),yt}return Kn(e.data)}get enum(){return this._def.values}}Dh.create=(t,e)=>new Dh({values:t,typeName:at.ZodNativeEnum,...vt(e)});class wd extends St{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.promise&&r.common.async===!1)return qe(r,{code:Oe.invalid_type,expected:Me.promise,received:r.parsedType}),yt;const n=r.parsedType===Me.promise?r.data:Promise.resolve(r.data);return Kn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}wd.create=(t,e)=>new wd({type:t,typeName:at.ZodPromise,...vt(e)});class Fo extends St{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{qe(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(n.data,o);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(s).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:s,path:n.path,parent:n})}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?yt:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?yt:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Th(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Th(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:r.value,value:a})):s);qt.assertNever(i)}}Fo.create=(t,e,r)=>new Fo({schema:t,typeName:at.ZodEffects,effect:e,...vt(r)});Fo.createWithPreprocess=(t,e,r)=>new Fo({schema:e,effect:{type:"preprocess",transform:t},typeName:at.ZodEffects,...vt(r)});class Hs extends St{_parse(e){return this._getType(e)===Me.undefined?Kn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hs.create=(t,e)=>new Hs({innerType:t,typeName:at.ZodOptional,...vt(e)});class Eu extends St{_parse(e){return this._getType(e)===Me.null?Kn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Eu.create=(t,e)=>new Eu({innerType:t,typeName:at.ZodNullable,...vt(e)});class Mh extends St{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Me.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Mh.create=(t,e)=>new Mh({innerType:t,typeName:at.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vt(e)});class Xy extends St{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Jy(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new jo(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new jo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Xy.create=(t,e)=>new Xy({innerType:t,typeName:at.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vt(e)});class eg extends St{_parse(e){if(this._getType(e)!==Me.nan){const n=this._getOrReturnCtx(e);return qe(n,{code:Oe.invalid_type,expected:Me.nan,received:n.parsedType}),yt}return{status:"valid",value:e.data}}}eg.create=t=>new eg({typeName:at.ZodNaN,...vt(t)});const Q9=Symbol("zod_brand");class v4 extends St{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ap extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?yt:o.status==="dirty"?(r.dirty(),y4(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?yt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Ap({in:e,out:r,typeName:at.ZodPipeline})}}class tg extends St{_parse(e){const r=this._def.innerType._parse(e);return Th(r)&&(r.value=Object.freeze(r.value)),r}}tg.create=(t,e)=>new tg({innerType:t,typeName:at.ZodReadonly,...vt(e)});const w4=(t,e={},r)=>t?vd.create().superRefine((n,i)=>{var o,s;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(s=(o=a.fatal)!==null&&o!==void 0?o:r)!==null&&s!==void 0?s:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):vd.create(),G9={object:kr.lazycreate};var at;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(at||(at={}));const J9=(t,e={message:`Input not instance of ${t.name}`})=>w4(r=>r instanceof t,e),b4=Ao.create,_4=al.create,Y9=eg.create,K9=ll.create,x4=Rh.create,Z9=xu.create,X9=Yy.create,eD=Oh.create,tD=Ah.create,rD=vd.create,nD=du.create,iD=ta.create,oD=Ky.create,sD=Lo.create,aD=kr.create,lD=kr.strictCreate,uD=Ih.create,cD=Vv.create,dD=Ph.create,fD=cs.create,hD=$h.create,pD=Zy.create,mD=Su.create,yD=Lc.create,gD=jh.create,vD=Lh.create,wD=ul.create,bD=Dh.create,_D=wd.create,VE=Fo.create,xD=Hs.create,SD=Eu.create,ED=Fo.createWithPreprocess,ND=Ap.create,kD=()=>b4().optional(),CD=()=>_4().optional(),TD=()=>x4().optional(),RD={string:t=>Ao.create({...t,coerce:!0}),number:t=>al.create({...t,coerce:!0}),boolean:t=>Rh.create({...t,coerce:!0}),bigint:t=>ll.create({...t,coerce:!0}),date:t=>xu.create({...t,coerce:!0})},OD=yt;var ir=Object.freeze({__proto__:null,defaultErrorMap:Ch,setErrorMap:$9,getErrorMap:Qy,makeIssue:Gy,EMPTY_PATH:j9,addIssueToContext:qe,ParseStatus:Mn,INVALID:yt,DIRTY:y4,OK:Kn,isAborted:sb,isDirty:ab,isValid:Th,isAsync:Jy,get util(){return qt},get objectUtil(){return ob},ZodParsedType:Me,getParsedType:ka,ZodType:St,ZodString:Ao,ZodNumber:al,ZodBigInt:ll,ZodBoolean:Rh,ZodDate:xu,ZodSymbol:Yy,ZodUndefined:Oh,ZodNull:Ah,ZodAny:vd,ZodUnknown:du,ZodNever:ta,ZodVoid:Ky,ZodArray:Lo,ZodObject:kr,ZodUnion:Ih,ZodDiscriminatedUnion:Vv,ZodIntersection:Ph,ZodTuple:cs,ZodRecord:$h,ZodMap:Zy,ZodSet:Su,ZodFunction:Lc,ZodLazy:jh,ZodLiteral:Lh,ZodEnum:ul,ZodNativeEnum:Dh,ZodPromise:wd,ZodEffects:Fo,ZodTransformer:Fo,ZodOptional:Hs,ZodNullable:Eu,ZodDefault:Mh,ZodCatch:Xy,ZodNaN:eg,BRAND:Q9,ZodBranded:v4,ZodPipeline:Ap,ZodReadonly:tg,custom:w4,Schema:St,ZodSchema:St,late:G9,get ZodFirstPartyTypeKind(){return at},coerce:RD,any:rD,array:sD,bigint:K9,boolean:x4,date:Z9,discriminatedUnion:cD,effect:VE,enum:wD,function:yD,instanceof:J9,intersection:dD,lazy:gD,literal:vD,map:pD,nan:Y9,nativeEnum:bD,never:iD,null:tD,nullable:SD,number:_4,object:aD,oboolean:TD,onumber:CD,optional:xD,ostring:kD,pipeline:ND,preprocess:ED,promise:_D,record:hD,set:mD,strictObject:lD,string:b4,symbol:X9,transformer:VE,tuple:fD,undefined:eD,union:uD,unknown:nD,void:oD,NEVER:OD,ZodIssueCode:Oe,quotelessJson:P9,ZodError:jo});const AD=/^(\d{4})-(\d{2})-(\d{2})$/,ID=ir.custom(t=>{if(typeof t!="string")throw new Error("must be a string",{cause:{value:t,type:typeof t}});if(!AD.exec(t))throw new Error("invalid date format",{cause:{value:t,type:typeof t}});return t}),Ip=t=>{const e=t.split("-").map(o=>Number.parseInt(o)),r=e[0],n=e[1],i=e[2];return jc(typeof r=="number"),jc(typeof n=="number"),jc(typeof i=="number"),{year:r,month:n,day:i}},_x=t=>{const e=t.getFullYear(),r=t.getMonth()+1,n=t.getDate();return jd({year:e,month:r,day:n})},jd=t=>{const{year:e,month:r,day:n}=t,i=r.toString().padStart(2,"0"),o=n.toString().padStart(2,"0");return`${e}-${i}-${o}`},PD=(t,e)=>{const{month:r,day:n}=Ip(t);return jd({year:e,month:r,day:n})},S4=(t,e)=>{const{year:r,day:n}=Ip(t);return jd({year:r,month:e,day:n})},$D=(t,e)=>{const{year:r,month:n}=Ip(t);return jd({year:r,month:n,day:e})},jD=t=>Bo(t,e=>wr.setDay(e,1),e=>wr.addMonth(e,1),e=>wr.addDay(e,-1)),E4=(t,e)=>{jc(e>=0);const r=Ip(t),n=Math.floor(e/12),i=e%12;return jd({year:r.year+n,month:r.month+i,day:r.day})},LD=(t,e)=>{const r=new Date(t);return r.setDate(r.getDate()+e),_x(r)},DD=t=>{const e=_x(t),r=S4(e,1),n=E4(r,1);return{startDate:r,endDate:n}},wr={schema:ID,fromDate:_x,split:Ip,combine:jd,setYear:PD,setMonth:S4,setDay:$D,setDayAsLastDayOfMonth:jD,addMonth:E4,addDay:LD,convertDateToRange:DD},MD=()=>{const t=new Date,r=`/account/snapshot/${wr.fromDate(t)}`;return g.jsxs(Ri,{children:[g.jsx("h1",{children:"account"}),g.jsx(pn,{component:Ln,to:r,children:"account snapshot"})]})};var Pp=t=>t.type==="checkbox",xc=t=>t instanceof Date,Hn=t=>t==null;const N4=t=>typeof t=="object";var ln=t=>!Hn(t)&&!Array.isArray(t)&&N4(t)&&!xc(t),BD=t=>ln(t)&&t.target?Pp(t.target)?t.target.checked:t.target.value:t,FD=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,WD=(t,e)=>t.has(FD(e)),qD=t=>{const e=t.constructor&&t.constructor.prototype;return ln(e)&&e.hasOwnProperty("isPrototypeOf")},xx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function qi(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(xx&&(t instanceof Blob||t instanceof FileList))&&(r||ln(t)))if(e=r?[]:{},!r&&!qD(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=qi(t[n]));else return t;return e}var $p=t=>Array.isArray(t)?t.filter(Boolean):[],qr=t=>t===void 0,Qe=(t,e,r)=>{if(!e||!ln(t))return r;const n=$p(e.split(/[,[\].]+?/)).reduce((i,o)=>Hn(i)?i:i[o],t);return qr(n)||n===t?qr(t[e])?r:t[e]:n},Cs=t=>typeof t=="boolean";const HE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Co={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},UD=T.createContext(null),zD=()=>T.useContext(UD);var VD=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==Co.all&&(e._proxyFormState[s]=!n||Co.all),r&&(r[s]=!0),t[s]}});return i},_i=t=>ln(t)&&!Object.keys(t).length,HD=(t,e,r,n)=>{r(t);const{name:i,...o}=t;return _i(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!n||Co.all))},Ew=t=>Array.isArray(t)?t:[t];function QD(t){const e=T.useRef(t);e.current=t,T.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var rs=t=>typeof t=="string",GD=(t,e,r,n,i)=>rs(t)?(n&&e.watch.add(t),Qe(r,t,i)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),Qe(r,o))):(n&&(e.watchAll=!0),r),Sx=t=>/^\w*$/.test(t),k4=t=>$p(t.replace(/["|']|\]/g,"").split(/\.|\[/)),hr=(t,e,r)=>{let n=-1;const i=Sx(e)?[e]:k4(e),o=i.length,s=o-1;for(;++n<o;){const a=i[n];let l=r;if(n!==s){const u=t[a];l=ln(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}t[a]=l,t=t[a]}return t},JD=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},QE=t=>({isOnSubmit:!t||t===Co.onSubmit,isOnBlur:t===Co.onBlur,isOnChange:t===Co.onChange,isOnAll:t===Co.all,isOnTouch:t===Co.onTouched}),GE=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Df=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const o=Qe(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)break;if(s.ref&&e(s.ref,s.name)&&!n)break;Df(a,e)}else ln(a)&&Df(a,e)}}};var YD=(t,e,r)=>{const n=$p(Qe(t,r));return hr(n,"root",e[r]),hr(t,r,n),t},Ex=t=>t.type==="file",Fa=t=>typeof t=="function",rg=t=>{if(!xx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ey=t=>rs(t),Nx=t=>t.type==="radio",ng=t=>t instanceof RegExp;const JE={value:!1,isValid:!1},YE={value:!0,isValid:!0};var C4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qr(t[0].attributes.value)?qr(t[0].value)||t[0].value===""?YE:{value:t[0].value,isValid:!0}:YE:JE}return JE};const KE={isValid:!1,value:null};var T4=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,KE):KE;function ZE(t,e,r="validate"){if(ey(t)||Array.isArray(t)&&t.every(ey)||Cs(t)&&!t)return{type:r,message:ey(t)?t:"",ref:e}}var Yu=t=>ln(t)&&!ng(t)?t:{value:t,message:""},XE=async(t,e,r,n,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:p,validate:y,name:b,valueAsNumber:S,mount:E,disabled:v}=t._f,w=Qe(e,b);if(!E||v)return{};const N=s?s[0]:o,I=re=>{n&&N.reportValidity&&(N.setCustomValidity(Cs(re)?"":re||""),N.reportValidity())},R={},k=Nx(o),L=Pp(o),j=k||L,Z=(S||Ex(o))&&qr(o.value)&&qr(w)||rg(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,H=JD.bind(null,b,r,R),te=(re,Q,fe,je=bs.maxLength,Fe=bs.minLength)=>{const Pe=re?Q:fe;R[b]={type:re?je:Fe,message:Pe,ref:o,...H(re?je:Fe,Pe)}};if(i?!Array.isArray(w)||!w.length:a&&(!j&&(Z||Hn(w))||Cs(w)&&!w||L&&!C4(s).isValid||k&&!T4(s).isValid)){const{value:re,message:Q}=ey(a)?{value:!!a,message:a}:Yu(a);if(re&&(R[b]={type:bs.required,message:Q,ref:N,...H(bs.required,Q)},!r))return I(Q),R}if(!Z&&(!Hn(c)||!Hn(h))){let re,Q;const fe=Yu(h),je=Yu(c);if(!Hn(w)&&!isNaN(w)){const Fe=o.valueAsNumber||w&&+w;Hn(fe.value)||(re=Fe>fe.value),Hn(je.value)||(Q=Fe<je.value)}else{const Fe=o.valueAsDate||new Date(w),Pe=Ce=>new Date(new Date().toDateString()+" "+Ce),X=o.type=="time",ge=o.type=="week";rs(fe.value)&&w&&(re=X?Pe(w)>Pe(fe.value):ge?w>fe.value:Fe>new Date(fe.value)),rs(je.value)&&w&&(Q=X?Pe(w)<Pe(je.value):ge?w<je.value:Fe<new Date(je.value))}if((re||Q)&&(te(!!re,fe.message,je.message,bs.max,bs.min),!r))return I(R[b].message),R}if((l||u)&&!Z&&(rs(w)||i&&Array.isArray(w))){const re=Yu(l),Q=Yu(u),fe=!Hn(re.value)&&w.length>+re.value,je=!Hn(Q.value)&&w.length<+Q.value;if((fe||je)&&(te(fe,re.message,Q.message),!r))return I(R[b].message),R}if(p&&!Z&&rs(w)){const{value:re,message:Q}=Yu(p);if(ng(re)&&!w.match(re)&&(R[b]={type:bs.pattern,message:Q,ref:o,...H(bs.pattern,Q)},!r))return I(Q),R}if(y){if(Fa(y)){const re=await y(w,e),Q=ZE(re,N);if(Q&&(R[b]={...Q,...H(bs.validate,Q.message)},!r))return I(Q.message),R}else if(ln(y)){let re={};for(const Q in y){if(!_i(re)&&!r)break;const fe=ZE(await y[Q](w,e),N,Q);fe&&(re={...fe,...H(Q,fe.message)},I(fe.message),r&&(R[b]=re))}if(!_i(re)&&(R[b]={ref:N,...re},!r))return R}}return I(!0),R};function KD(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=qr(t)?n++:t[e[n++]];return t}function ZD(t){for(const e in t)if(t.hasOwnProperty(e)&&!qr(t[e]))return!1;return!0}function en(t,e){const r=Array.isArray(e)?e:Sx(e)?[e]:k4(e),n=r.length===1?t:KD(t,r),i=r.length-1,o=r[i];return n&&delete n[o],i!==0&&(ln(n)&&_i(n)||Array.isArray(n)&&ZD(n))&&en(t,r.slice(0,-1)),t}var Nw=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},ig=t=>Hn(t)||!N4(t);function zl(t,e){if(ig(t)||ig(e))return t===e;if(xc(t)&&xc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(xc(o)&&xc(s)||ln(o)&&ln(s)||Array.isArray(o)&&Array.isArray(s)?!zl(o,s):o!==s)return!1}}return!0}var R4=t=>t.type==="select-multiple",XD=t=>Nx(t)||Pp(t),kw=t=>rg(t)&&t.isConnected,O4=t=>{for(const e in t)if(Fa(t[e]))return!0;return!1};function og(t,e={}){const r=Array.isArray(t);if(ln(t)||r)for(const n in t)Array.isArray(t[n])||ln(t[n])&&!O4(t[n])?(e[n]=Array.isArray(t[n])?[]:{},og(t[n],e[n])):Hn(t[n])||(e[n]=!0);return e}function A4(t,e,r){const n=Array.isArray(t);if(ln(t)||n)for(const i in t)Array.isArray(t[i])||ln(t[i])&&!O4(t[i])?qr(e)||ig(r[i])?r[i]=Array.isArray(t[i])?og(t[i],[]):{...og(t[i])}:A4(t[i],Hn(e)?{}:e[i],r[i]):r[i]=!zl(t[i],e[i]);return r}var Sm=(t,e)=>A4(t,e,og(e)),I4=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>qr(t)?t:e?t===""?NaN:t&&+t:r&&rs(t)?new Date(t):n?n(t):t;function Cw(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Ex(e)?e.files:Nx(e)?T4(t.refs).value:R4(e)?[...e.selectedOptions].map(({value:r})=>r):Pp(e)?C4(t.refs).value:I4(qr(e.value)?t.ref.value:e.value,t)}var e7=(t,e,r,n)=>{const i={};for(const o of t){const s=Qe(e,o);s&&hr(i,o,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},hf=t=>qr(t)?t:ng(t)?t.source:ln(t)?ng(t.value)?t.value.source:t.value:t,t7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function eN(t,e,r){const n=Qe(t,r);if(n||Sx(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const o=i.join("."),s=Qe(e,o),a=Qe(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var r7=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,n7=(t,e)=>!$p(Qe(t,e)).length&&en(t,e);const i7={mode:Co.onSubmit,reValidateMode:Co.onChange,shouldFocusError:!0};function o7(t={}){let e={...i7,...t},r={submitCount:0,isDirty:!1,isLoading:Fa(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=ln(e.defaultValues)||ln(e.values)?qi(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:qi(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Nw(),array:Nw(),state:Nw()},p=QE(e.mode),y=QE(e.reValidateMode),b=e.criteriaMode===Co.all,S=$=>W=>{clearTimeout(u),u=setTimeout($,W)},E=async $=>{if(c.isValid||$){const W=e.resolver?_i((await j()).errors):await H(n,!0);W!==r.isValid&&h.state.next({isValid:W})}},v=($,W)=>{(c.isValidating||c.validatingFields)&&(($||Array.from(a.mount)).forEach(G=>{G&&(W?hr(r.validatingFields,G,W):en(r.validatingFields,G))}),h.state.next({validatingFields:r.validatingFields,isValidating:!_i(r.validatingFields)}))},w=($,W=[],G,Te,xe=!0,he=!0)=>{if(Te&&G){if(s.action=!0,he&&Array.isArray(Qe(n,$))){const ne=G(Qe(n,$),Te.argA,Te.argB);xe&&hr(n,$,ne)}if(he&&Array.isArray(Qe(r.errors,$))){const ne=G(Qe(r.errors,$),Te.argA,Te.argB);xe&&hr(r.errors,$,ne),n7(r.errors,$)}if(c.touchedFields&&he&&Array.isArray(Qe(r.touchedFields,$))){const ne=G(Qe(r.touchedFields,$),Te.argA,Te.argB);xe&&hr(r.touchedFields,$,ne)}c.dirtyFields&&(r.dirtyFields=Sm(i,o)),h.state.next({name:$,isDirty:re($,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else hr(o,$,W)},N=($,W)=>{hr(r.errors,$,W),h.state.next({errors:r.errors})},I=$=>{r.errors=$,h.state.next({errors:r.errors,isValid:!1})},R=($,W,G,Te)=>{const xe=Qe(n,$);if(xe){const he=Qe(o,$,qr(G)?Qe(i,$):G);qr(he)||Te&&Te.defaultChecked||W?hr(o,$,W?he:Cw(xe._f)):je($,he),s.mount&&E()}},k=($,W,G,Te,xe)=>{let he=!1,ne=!1;const De={name:$},Rt=!!(Qe(n,$)&&Qe(n,$)._f.disabled);if(!G||Te){c.isDirty&&(ne=r.isDirty,r.isDirty=De.isDirty=re(),he=ne!==De.isDirty);const Mt=Rt||zl(Qe(i,$),W);ne=!!(!Rt&&Qe(r.dirtyFields,$)),Mt||Rt?en(r.dirtyFields,$):hr(r.dirtyFields,$,!0),De.dirtyFields=r.dirtyFields,he=he||c.dirtyFields&&ne!==!Mt}if(G){const Mt=Qe(r.touchedFields,$);Mt||(hr(r.touchedFields,$,G),De.touchedFields=r.touchedFields,he=he||c.touchedFields&&Mt!==G)}return he&&xe&&h.state.next(De),he?De:{}},L=($,W,G,Te)=>{const xe=Qe(r.errors,$),he=c.isValid&&Cs(W)&&r.isValid!==W;if(t.delayError&&G?(l=S(()=>N($,G)),l(t.delayError)):(clearTimeout(u),l=null,G?hr(r.errors,$,G):en(r.errors,$)),(G?!zl(xe,G):xe)||!_i(Te)||he){const ne={...Te,...he&&Cs(W)?{isValid:W}:{},errors:r.errors,name:$};r={...r,...ne},h.state.next(ne)}},j=async $=>{v($,!0);const W=await e.resolver(o,e.context,e7($||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v($),W},Z=async $=>{const{errors:W}=await j($);if($)for(const G of $){const Te=Qe(W,G);Te?hr(r.errors,G,Te):en(r.errors,G)}else r.errors=W;return W},H=async($,W,G={valid:!0})=>{for(const Te in $){const xe=$[Te];if(xe){const{_f:he,...ne}=xe;if(he){const De=a.array.has(he.name);v([Te],!0);const Rt=await XE(xe,o,b,e.shouldUseNativeValidation&&!W,De);if(v([Te]),Rt[he.name]&&(G.valid=!1,W))break;!W&&(Qe(Rt,he.name)?De?YD(r.errors,Rt,he.name):hr(r.errors,he.name,Rt[he.name]):en(r.errors,he.name))}ne&&await H(ne,W,G)}}return G.valid},te=()=>{for(const $ of a.unMount){const W=Qe(n,$);W&&(W._f.refs?W._f.refs.every(G=>!kw(G)):!kw(W._f.ref))&&z($)}a.unMount=new Set},re=($,W)=>($&&W&&hr(o,$,W),!zl(Ae(),i)),Q=($,W,G)=>GD($,a,{...s.mount?o:qr(W)?i:rs($)?{[$]:W}:W},G,W),fe=$=>$p(Qe(s.mount?o:i,$,t.shouldUnregister?Qe(i,$,[]):[])),je=($,W,G={})=>{const Te=Qe(n,$);let xe=W;if(Te){const he=Te._f;he&&(!he.disabled&&hr(o,$,I4(W,he)),xe=rg(he.ref)&&Hn(W)?"":W,R4(he.ref)?[...he.ref.options].forEach(ne=>ne.selected=xe.includes(ne.value)):he.refs?Pp(he.ref)?he.refs.length>1?he.refs.forEach(ne=>(!ne.defaultChecked||!ne.disabled)&&(ne.checked=Array.isArray(xe)?!!xe.find(De=>De===ne.value):xe===ne.value)):he.refs[0]&&(he.refs[0].checked=!!xe):he.refs.forEach(ne=>ne.checked=ne.value===xe):Ex(he.ref)?he.ref.value="":(he.ref.value=xe,he.ref.type||h.values.next({name:$,values:{...o}})))}(G.shouldDirty||G.shouldTouch)&&k($,xe,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&Ce($)},Fe=($,W,G)=>{for(const Te in W){const xe=W[Te],he=`${$}.${Te}`,ne=Qe(n,he);(a.array.has($)||!ig(xe)||ne&&!ne._f)&&!xc(xe)?Fe(he,xe,G):je(he,xe,G)}},Pe=($,W,G={})=>{const Te=Qe(n,$),xe=a.array.has($),he=qi(W);hr(o,$,he),xe?(h.array.next({name:$,values:{...o}}),(c.isDirty||c.dirtyFields)&&G.shouldDirty&&h.state.next({name:$,dirtyFields:Sm(i,o),isDirty:re($,he)})):Te&&!Te._f&&!Hn(he)?Fe($,he,G):je($,he,G),GE($,a)&&h.state.next({...r}),h.values.next({name:s.mount?$:void 0,values:{...o}})},X=async $=>{s.mount=!0;const W=$.target;let G=W.name,Te=!0;const xe=Qe(n,G),he=()=>W.type?Cw(xe._f):BD($),ne=De=>{Te=Number.isNaN(De)||De===Qe(o,G,De)};if(xe){let De,Rt;const Mt=he(),er=$.type===HE.BLUR||$.type===HE.FOCUS_OUT,Gr=!t7(xe._f)&&!e.resolver&&!Qe(r.errors,G)&&!xe._f.deps||r7(er,Qe(r.touchedFields,G),r.isSubmitted,y,p),Tn=GE(G,a,er);hr(o,G,Mt),er?(xe._f.onBlur&&xe._f.onBlur($),l&&l(0)):xe._f.onChange&&xe._f.onChange($);const Di=k(G,Mt,er,!1),Wo=!_i(Di)||Tn;if(!er&&h.values.next({name:G,type:$.type,values:{...o}}),Gr)return c.isValid&&E(),Wo&&h.state.next({name:G,...Tn?{}:Di});if(!er&&Tn&&h.state.next({...r}),e.resolver){const{errors:qo}=await j([G]);if(ne(Mt),Te){const Uo=eN(r.errors,n,G),ro=eN(qo,n,Uo.name||G);De=ro.error,G=ro.name,Rt=_i(qo)}}else v([G],!0),De=(await XE(xe,o,b,e.shouldUseNativeValidation))[G],v([G]),ne(Mt),Te&&(De?Rt=!1:c.isValid&&(Rt=await H(n,!0)));Te&&(xe._f.deps&&Ce(xe._f.deps),L(G,Rt,De,Di))}},ge=($,W)=>{if(Qe(r.errors,W)&&$.focus)return $.focus(),1},Ce=async($,W={})=>{let G,Te;const xe=Ew($);if(e.resolver){const he=await Z(qr($)?$:xe);G=_i(he),Te=$?!xe.some(ne=>Qe(he,ne)):G}else $?(Te=(await Promise.all(xe.map(async he=>{const ne=Qe(n,he);return await H(ne&&ne._f?{[he]:ne}:ne)}))).every(Boolean),!(!Te&&!r.isValid)&&E()):Te=G=await H(n);return h.state.next({...!rs($)||c.isValid&&G!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:G}:{},errors:r.errors}),W.shouldFocus&&!Te&&Df(n,ge,$?xe:a.mount),Te},Ae=$=>{const W={...i,...s.mount?o:{}};return qr($)?W:rs($)?Qe(W,$):$.map(G=>Qe(W,G))},ue=($,W)=>({invalid:!!Qe((W||r).errors,$),isDirty:!!Qe((W||r).dirtyFields,$),isTouched:!!Qe((W||r).touchedFields,$),isValidating:!!Qe((W||r).validatingFields,$),error:Qe((W||r).errors,$)}),_e=$=>{$&&Ew($).forEach(W=>en(r.errors,W)),h.state.next({errors:$?r.errors:{}})},ve=($,W,G)=>{const Te=(Qe(n,$,{_f:{}})._f||{}).ref;hr(r.errors,$,{...W,ref:Te}),h.state.next({name:$,errors:r.errors,isValid:!1}),G&&G.shouldFocus&&Te&&Te.focus&&Te.focus()},Le=($,W)=>Fa($)?h.values.subscribe({next:G=>$(Q(void 0,W),G)}):Q($,W,!0),z=($,W={})=>{for(const G of $?Ew($):a.mount)a.mount.delete(G),a.array.delete(G),W.keepValue||(en(n,G),en(o,G)),!W.keepError&&en(r.errors,G),!W.keepDirty&&en(r.dirtyFields,G),!W.keepTouched&&en(r.touchedFields,G),!W.keepIsValidating&&en(r.validatingFields,G),!e.shouldUnregister&&!W.keepDefaultValue&&en(i,G);h.values.next({values:{...o}}),h.state.next({...r,...W.keepDirty?{isDirty:re()}:{}}),!W.keepIsValid&&E()},Ve=({disabled:$,name:W,field:G,fields:Te,value:xe})=>{if(Cs($)){const he=$?void 0:qr(xe)?Cw(G?G._f:Qe(Te,W)._f):xe;hr(o,W,he),k(W,he,!1,!1,!0)}},oe=($,W={})=>{let G=Qe(n,$);const Te=Cs(W.disabled);return hr(n,$,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:$}},name:$,mount:!0,...W}}),a.mount.add($),G?Ve({field:G,disabled:W.disabled,name:$,value:W.value}):R($,!0,W.value),{...Te?{disabled:W.disabled}:{},...e.progressive?{required:!!W.required,min:hf(W.min),max:hf(W.max),minLength:hf(W.minLength),maxLength:hf(W.maxLength),pattern:hf(W.pattern)}:{},name:$,onChange:X,onBlur:X,ref:xe=>{if(xe){oe($,W),G=Qe(n,$);const he=qr(xe.value)&&xe.querySelectorAll&&xe.querySelectorAll("input,select,textarea")[0]||xe,ne=XD(he),De=G._f.refs||[];if(ne?De.find(Rt=>Rt===he):he===G._f.ref)return;hr(n,$,{_f:{...G._f,...ne?{refs:[...De.filter(kw),he,...Array.isArray(Qe(i,$))?[{}]:[]],ref:{type:he.type,name:$}}:{ref:he}}}),R($,!1,void 0,he)}else G=Qe(n,$,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(WD(a.array,$)&&s.action)&&a.unMount.add($)}}},ct=()=>e.shouldFocusError&&Df(n,ge,a.mount),ot=$=>{Cs($)&&(h.state.next({disabled:$}),Df(n,(W,G)=>{let Te=$;const xe=Qe(n,G);xe&&Cs(xe._f.disabled)&&(Te||(Te=xe._f.disabled)),W.disabled=Te},0,!1))},Ge=($,W)=>async G=>{let Te;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let xe=qi(o);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:he,values:ne}=await j();r.errors=he,xe=ne}else await H(n);if(en(r.errors,"root"),_i(r.errors)){h.state.next({errors:{}});try{await $(xe,G)}catch(he){Te=he}}else W&&await W({...r.errors},G),ct(),setTimeout(ct);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_i(r.errors)&&!Te,submitCount:r.submitCount+1,errors:r.errors}),Te)throw Te},pe=($,W={})=>{Qe(n,$)&&(qr(W.defaultValue)?Pe($,qi(Qe(i,$))):(Pe($,W.defaultValue),hr(i,$,qi(W.defaultValue))),W.keepTouched||en(r.touchedFields,$),W.keepDirty||(en(r.dirtyFields,$),r.isDirty=W.defaultValue?re($,qi(Qe(i,$))):re()),W.keepError||(en(r.errors,$),c.isValid&&E()),h.state.next({...r}))},me=($,W={})=>{const G=$?qi($):i,Te=qi(G),xe=_i($),he=xe?i:Te;if(W.keepDefaultValues||(i=G),!W.keepValues){if(W.keepDirtyValues)for(const ne of a.mount)Qe(r.dirtyFields,ne)?hr(he,ne,Qe(o,ne)):Pe(ne,Qe(he,ne));else{if(xx&&qr($))for(const ne of a.mount){const De=Qe(n,ne);if(De&&De._f){const Rt=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(rg(Rt)){const Mt=Rt.closest("form");if(Mt){Mt.reset();break}}}}n={}}o=t.shouldUnregister?W.keepDefaultValues?qi(i):{}:qi(he),h.array.next({values:{...he}}),h.values.next({values:{...he}})}a={mount:W.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!c.isValid||!!W.keepIsValid||!!W.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:xe?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!zl($,i)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:xe?[]:W.keepDirtyValues?W.keepDefaultValues&&o?Sm(i,o):r.dirtyFields:W.keepDefaultValues&&$?Sm(i,$):{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Be=($,W)=>me(Fa($)?$(o):$,W);return{control:{register:oe,unregister:z,getFieldState:ue,handleSubmit:Ge,setError:ve,_executeSchema:j,_getWatch:Q,_getDirty:re,_updateValid:E,_removeUnmounted:te,_updateFieldArray:w,_updateDisabledField:Ve,_getFieldArray:fe,_reset:me,_resetDefaultValues:()=>Fa(e.defaultValues)&&e.defaultValues().then($=>{Be($,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:$=>{r={...r,...$}},_disableForm:ot,_subjects:h,_proxyFormState:c,_setErrors:I,get _fields(){return n},get _formValues(){return o},get _state(){return s},set _state($){s=$},get _defaultValues(){return i},get _names(){return a},set _names($){a=$},get _formState(){return r},set _formState($){r=$},get _options(){return e},set _options($){e={...e,...$}}},trigger:Ce,register:oe,handleSubmit:Ge,watch:Le,setValue:Pe,getValues:Ae,reset:Be,resetField:pe,clearErrors:_e,unregister:z,setError:ve,setFocus:($,W={})=>{const G=Qe(n,$),Te=G&&G._f;if(Te){const xe=Te.refs?Te.refs[0]:Te.ref;xe.focus&&(xe.focus(),W.shouldSelect&&xe.select())}},getFieldState:ue}}function Hv(t={}){const e=T.useRef(),r=T.useRef(),[n,i]=T.useState({isDirty:!1,isValidating:!1,isLoading:Fa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Fa(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...o7(t),formState:n});const o=e.current.control;return o._options=t,QD({subject:o._subjects.state,next:s=>{HD(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),T.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),T.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==n.isDirty&&o._subjects.state.next({isDirty:s})}},[o,n.isDirty]),T.useEffect(()=>{t.values&&!zl(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),T.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),T.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),T.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=VD(n,o),e.current}var P4={exports:{}},$4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=A;function s7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a7=typeof Object.is=="function"?Object.is:s7,l7=bd.useState,u7=bd.useEffect,c7=bd.useLayoutEffect,d7=bd.useDebugValue;function f7(t,e){var r=e(),n=l7({inst:{value:r,getSnapshot:e}}),i=n[0].inst,o=n[1];return c7(function(){i.value=r,i.getSnapshot=e,Tw(i)&&o({inst:i})},[t,r,e]),u7(function(){return Tw(i)&&o({inst:i}),t(function(){Tw(i)&&o({inst:i})})},[t]),d7(r),r}function Tw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!a7(t,r)}catch{return!0}}function h7(t,e){return e()}var p7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h7:f7;$4.useSyncExternalStore=bd.useSyncExternalStore!==void 0?bd.useSyncExternalStore:p7;P4.exports=$4;var m7=P4.exports;const Wa=()=>{},Qn=Wa(),ty=Object,Wt=t=>t===Qn,To=t=>typeof t=="function",ra=(t,e)=>({...t,...e}),y7=t=>To(t.then),Em=new WeakMap;let g7=0;const Bh=t=>{const e=typeof t,r=t&&t.constructor,n=r==Date;let i,o;if(ty(t)===t&&!n&&r!=RegExp){if(i=Em.get(t),i)return i;if(i=++g7+"~",Em.set(t,i),r==Array){for(i="@",o=0;o<t.length;o++)i+=Bh(t[o])+",";Em.set(t,i)}if(r==ty){i="#";const s=ty.keys(t).sort();for(;!Wt(o=s.pop());)Wt(t[o])||(i+=o+":"+Bh(t[o])+",");Em.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},Ds=new WeakMap,Rw={},Nm={},kx="undefined",Qv=typeof window!=kx,ub=typeof document!=kx,v7=()=>Qv&&typeof window.requestAnimationFrame!=kx,j4=(t,e)=>{const r=Ds.get(t);return[()=>!Wt(e)&&t.get(e)||Rw,n=>{if(!Wt(e)){const i=t.get(e);e in Nm||(Nm[e]=i),r[5](e,ra(i,n),i||Rw)}},r[6],()=>!Wt(e)&&e in Nm?Nm[e]:!Wt(e)&&t.get(e)||Rw]};let cb=!0;const w7=()=>cb,[db,fb]=Qv&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Wa,Wa],b7=()=>{const t=ub&&document.visibilityState;return Wt(t)||t!=="hidden"},_7=t=>(ub&&document.addEventListener("visibilitychange",t),db("focus",t),()=>{ub&&document.removeEventListener("visibilitychange",t),fb("focus",t)}),x7=t=>{const e=()=>{cb=!0,t()},r=()=>{cb=!1};return db("online",e),db("offline",r),()=>{fb("online",e),fb("offline",r)}},S7={isOnline:w7,isVisible:b7},E7={initFocus:_7,initReconnect:x7},tN=!T.useId,Fh=!Qv||"Deno"in window,N7=t=>v7()?window.requestAnimationFrame(t):setTimeout(t,1),ry=Fh?A.useEffect:A.useLayoutEffect,Ow=typeof navigator<"u"&&navigator.connection,rN=!Fh&&Ow&&(["slow-2g","2g"].includes(Ow.effectiveType)||Ow.saveData),Cx=t=>{if(To(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Bh(t):"",[t,e]};let k7=0;const hb=()=>++k7,L4=0,D4=1,M4=2,C7=3;var pf={__proto__:null,ERROR_REVALIDATE_EVENT:C7,FOCUS_EVENT:L4,MUTATE_EVENT:M4,RECONNECT_EVENT:D4};async function B4(...t){const[e,r,n,i]=t,o=ra({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let s=o.populateCache;const a=o.rollbackOnError;let l=o.optimisticData;const u=p=>typeof a=="function"?a(p):a!==!1,c=o.throwOnError;if(To(r)){const p=r,y=[],b=e.keys();for(const S of b)!/^\$(inf|sub)\$/.test(S)&&p(e.get(S)._k)&&y.push(S);return Promise.all(y.map(h))}return h(r);async function h(p){const[y]=Cx(p);if(!y)return;const[b,S]=j4(e,y),[E,v,w,N]=Ds.get(e),I=()=>{const Q=E[y];return(To(o.revalidate)?o.revalidate(b().data,p):o.revalidate!==!1)&&(delete w[y],delete N[y],Q&&Q[0])?Q[0](M4).then(()=>b().data):b().data};if(t.length<3)return I();let R=n,k;const L=hb();v[y]=[L,0];const j=!Wt(l),Z=b(),H=Z.data,te=Z._c,re=Wt(te)?H:te;if(j&&(l=To(l)?l(re,H):l,S({data:l,_c:re})),To(R))try{R=R(re)}catch(Q){k=Q}if(R&&y7(R))if(R=await R.catch(Q=>{k=Q}),L!==v[y][0]){if(k)throw k;return R}else k&&j&&u(k)&&(s=!0,S({data:re,_c:Qn}));if(s&&!k)if(To(s)){const Q=s(R,re);S({data:Q,error:Qn,_c:Qn})}else S({data:R,error:Qn,_c:Qn});if(v[y][1]=hb(),Promise.resolve(I()).then(()=>{S({_c:Qn})}),k){if(c)throw k;return}return R}}const nN=(t,e)=>{for(const r in t)t[r][0]&&t[r][0](e)},F4=(t,e)=>{if(!Ds.has(t)){const r=ra(E7,e),n={},i=B4.bind(Qn,t);let o=Wa;const s={},a=(c,h)=>{const p=s[c]||[];return s[c]=p,p.push(h),()=>p.splice(p.indexOf(h),1)},l=(c,h,p)=>{t.set(c,h);const y=s[c];if(y)for(const b of y)b(h,p)},u=()=>{if(!Ds.has(t)&&(Ds.set(t,[n,{},{},{},i,l,a]),!Fh)){const c=r.initFocus(setTimeout.bind(Qn,nN.bind(Qn,n,L4))),h=r.initReconnect(setTimeout.bind(Qn,nN.bind(Qn,n,D4)));o=()=>{c&&c(),h&&h(),Ds.delete(t)}}};return u(),[t,i,u,o]}return[t,Ds.get(t)[4]]},T7=(t,e,r,n,i)=>{const o=r.errorRetryCount,s=i.retryCount,a=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;!Wt(o)&&s>o||setTimeout(n,a,i)},R7=(t,e)=>Bh(t)==Bh(e),[Tx,O7]=F4(new Map),W4=ra({onLoadingSlow:Wa,onSuccess:Wa,onError:Wa,onErrorRetry:T7,onDiscarded:Wa,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:rN?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:rN?5e3:3e3,compare:R7,isPaused:()=>!1,cache:Tx,mutate:O7,fallback:{}},S7),q4=(t,e)=>{const r=ra(t,e);if(e){const{use:n,fallback:i}=t,{use:o,fallback:s}=e;n&&o&&(r.use=n.concat(o)),i&&s&&(r.fallback=ra(i,s))}return r},pb=A.createContext({}),A7=t=>{const{value:e}=t,r=A.useContext(pb),n=To(e),i=A.useMemo(()=>n?e(r):e,[n,r,e]),o=A.useMemo(()=>n?i:q4(r,i),[n,r,i]),s=i&&i.provider,a=A.useRef(Qn);s&&!a.current&&(a.current=F4(s(o.cache||Tx),i));const l=a.current;return l&&(o.cache=l[0],o.mutate=l[1]),ry(()=>{if(l)return l[2]&&l[2](),l[3]},[]),A.createElement(pb.Provider,ra(t,{value:o}))},I7="$inf$",U4=Qv&&window.__SWR_DEVTOOLS_USE__,P7=U4?window.__SWR_DEVTOOLS_USE__:[],$7=()=>{U4&&(window.__SWR_DEVTOOLS_REACT__=T)},j7=t=>To(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],L7=()=>ra(W4,A.useContext(pb)),D7=t=>(e,r,n)=>t(e,r&&((...o)=>{const[s]=Cx(e),[,,,a]=Ds.get(Tx);if(s.startsWith(I7))return r(...o);const l=a[s];return Wt(l)?r(...o):(delete a[s],l)}),n),M7=P7.concat(D7),B7=t=>function(...r){const n=L7(),[i,o,s]=j7(r),a=q4(n,s);let l=t;const{use:u}=a,c=(u||[]).concat(M7);for(let h=c.length;h--;)l=c[h](l);return l(i,o||a.fetcher||null,a)},F7=(t,e,r)=>{const n=e[t]||(e[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i>=0&&(n[i]=n[n.length-1],n.pop())}};$7();const iN=T.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),Aw={dedupe:!0},W7=(t,e,r)=>{const{cache:n,compare:i,suspense:o,fallbackData:s,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:c,refreshWhenOffline:h,keepPreviousData:p}=r,[y,b,S,E]=Ds.get(n),[v,w]=Cx(t),N=A.useRef(!1),I=A.useRef(!1),R=A.useRef(v),k=A.useRef(e),L=A.useRef(r),j=()=>L.current,Z=()=>j().isVisible()&&j().isOnline(),[H,te,re,Q]=j4(n,v),fe=A.useRef({}).current,je=Wt(s)?r.fallback[v]:s,Fe=(pe,me)=>{for(const Be in fe){const $e=Be;if($e==="data"){if(!i(pe[$e],me[$e])&&(!Wt(pe[$e])||!i(Le,me[$e])))return!1}else if(me[$e]!==pe[$e])return!1}return!0},Pe=A.useMemo(()=>{const pe=!v||!e?!1:Wt(a)?j().isPaused()||o?!1:Wt(l)?!0:l:a,me=W=>{const G=ra(W);return delete G._k,pe?{isValidating:!0,isLoading:!0,...G}:G},Be=H(),$e=Q(),pt=me(Be),it=Be===$e?pt:me($e);let $=pt;return[()=>{const W=me(H());return Fe(W,$)?($.data=W.data,$.isLoading=W.isLoading,$.isValidating=W.isValidating,$.error=W.error,$):($=W,W)},()=>it]},[n,v]),X=m7.useSyncExternalStore(A.useCallback(pe=>re(v,(me,Be)=>{Fe(Be,me)||pe()}),[n,v]),Pe[0],Pe[1]),ge=!N.current,Ce=y[v]&&y[v].length>0,Ae=X.data,ue=Wt(Ae)?je:Ae,_e=X.error,ve=A.useRef(ue),Le=p?Wt(Ae)?ve.current:Ae:ue,z=Ce&&!Wt(_e)?!1:ge&&!Wt(a)?a:j().isPaused()?!1:o?Wt(ue)?!1:l:Wt(ue)||l,Ve=!!(v&&e&&ge&&z),oe=Wt(X.isValidating)?Ve:X.isValidating,ct=Wt(X.isLoading)?Ve:X.isLoading,ot=A.useCallback(async pe=>{const me=k.current;if(!v||!me||I.current||j().isPaused())return!1;let Be,$e,pt=!0;const it=pe||{},$=!S[v]||!it.dedupe,W=()=>tN?!I.current&&v===R.current&&N.current:v===R.current,G={isValidating:!1,isLoading:!1},Te=()=>{te(G)},xe=()=>{const ne=S[v];ne&&ne[1]===$e&&delete S[v]},he={isValidating:!0};Wt(H().data)&&(he.isLoading=!0);try{if($&&(te(he),r.loadingTimeout&&Wt(H().data)&&setTimeout(()=>{pt&&W()&&j().onLoadingSlow(v,r)},r.loadingTimeout),S[v]=[me(w),hb()]),[Be,$e]=S[v],Be=await Be,$&&setTimeout(xe,r.dedupingInterval),!S[v]||S[v][1]!==$e)return $&&W()&&j().onDiscarded(v),!1;G.error=Qn;const ne=b[v];if(!Wt(ne)&&($e<=ne[0]||$e<=ne[1]||ne[1]===0))return Te(),$&&W()&&j().onDiscarded(v),!1;const De=H().data;G.data=i(De,Be)?De:Be,$&&W()&&j().onSuccess(Be,v,r)}catch(ne){xe();const De=j(),{shouldRetryOnError:Rt}=De;De.isPaused()||(G.error=ne,$&&W()&&(De.onError(ne,v,De),(Rt===!0||To(Rt)&&Rt(ne))&&(!j().revalidateOnFocus||!j().revalidateOnReconnect||Z())&&De.onErrorRetry(ne,v,De,Mt=>{const er=y[v];er&&er[0]&&er[0](pf.ERROR_REVALIDATE_EVENT,Mt)},{retryCount:(it.retryCount||0)+1,dedupe:!0})))}return pt=!1,Te(),!0},[v,n]),Ge=A.useCallback((...pe)=>B4(n,R.current,...pe),[]);if(ry(()=>{k.current=e,L.current=r,Wt(Ae)||(ve.current=Ae)}),ry(()=>{if(!v)return;const pe=ot.bind(Qn,Aw);let me=0;const $e=F7(v,y,(pt,it={})=>{if(pt==pf.FOCUS_EVENT){const $=Date.now();j().revalidateOnFocus&&$>me&&Z()&&(me=$+j().focusThrottleInterval,pe())}else if(pt==pf.RECONNECT_EVENT)j().revalidateOnReconnect&&Z()&&pe();else{if(pt==pf.MUTATE_EVENT)return ot();if(pt==pf.ERROR_REVALIDATE_EVENT)return ot(it)}});return I.current=!1,R.current=v,N.current=!0,te({_k:w}),z&&(Wt(ue)||Fh?pe():N7(pe)),()=>{I.current=!0,$e()}},[v]),ry(()=>{let pe;function me(){const $e=To(u)?u(H().data):u;$e&&pe!==-1&&(pe=setTimeout(Be,$e))}function Be(){!H().error&&(c||j().isVisible())&&(h||j().isOnline())?ot(Aw).then(me):me()}return me(),()=>{pe&&(clearTimeout(pe),pe=-1)}},[u,c,h,v]),A.useDebugValue(Le),o&&Wt(ue)&&v){if(!tN&&Fh)throw new Error("Fallback data is required when using suspense in SSR.");k.current=e,L.current=r,I.current=!1;const pe=E[v];if(!Wt(pe)){const me=Ge(pe);iN(me)}if(Wt(_e)){const me=ot(Aw);Wt(Le)||(me.status="fulfilled",me.value=!0),iN(me)}else throw _e}return{mutate:Ge,get data(){return fe.data=!0,Le},get error(){return fe.error=!0,_e},get isValidating(){return fe.isValidating=!0,oe},get isLoading(){return fe.isLoading=!0,ct}}},oN=ty.defineProperty(A7,"defaultValue",{value:W4}),Ld=B7(W7),q7=t=>Math.floor(t/1e3),U7=t=>({code:t.code,name:t.name,description:t.description}),z7=(t,e)=>{const r=new Map(e.map(n=>[n.code,n]));return t.map(n=>{const i=ju.toGroup(n.code);let o=r.get(i);return o||(o={code:i,description:"unknown",major:"asset",minor:"unknown",name:"unknown"}),{account:n,group:o}})},ju={toGroup:q7,fromRow:U7,zip:z7};var V7={Stringify:1,BeforeStream:2,Stream:3},H7=(t,e)=>{const r=new String(t);return r.isEscaped=!0,r.callbacks=e,r},z4=async(t,e,r,n,i)=>{const o=t.callbacks;if(!(o!=null&&o.length))return Promise.resolve(t);i?i[0]+=t:i=[t];const s=Promise.all(o.map(a=>a({phase:e,buffer:i,context:n}))).then(a=>Promise.all(a.filter(Boolean).map(l=>z4(l,e,!1,n,i))).then(()=>i[0]));return r?H7(await s,o):s},Q7="text/plain; charset=UTF-8",Iw=(t,e={})=>(Object.entries(e).forEach(([r,n])=>t.set(r,n)),t),Gl,Ts,Ir,Br,ho,Rs,Pk,ny=(Pk=class{constructor(t,e){Ie(this,"req");Ie(this,"env",{});Ie(this,"_var",{});Ie(this,"finalized",!1);Ie(this,"error");ie(this,Gl,200);ie(this,Ts,void 0);ie(this,Ir,void 0);ie(this,Br,void 0);ie(this,ho,void 0);ie(this,Rs,!0);Ie(this,"layout");Ie(this,"renderer",t=>this.html(t));Ie(this,"notFoundHandler",()=>new Response);Ie(this,"render",(...t)=>this.renderer(...t));Ie(this,"setLayout",t=>this.layout=t);Ie(this,"getLayout",()=>this.layout);Ie(this,"setRenderer",t=>{this.renderer=t});Ie(this,"header",(t,e,r)=>{if(e===void 0){d(this,Ir)?d(this,Ir).delete(t):d(this,Br)&&delete d(this,Br)[t.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(t);return}r!=null&&r.append?(d(this,Ir)||(se(this,Rs,!1),se(this,Ir,new Headers(d(this,Br))),se(this,Br,{})),d(this,Ir).append(t,e)):d(this,Ir)?d(this,Ir).set(t,e):(d(this,Br)??se(this,Br,{}),d(this,Br)[t.toLowerCase()]=e),this.finalized&&(r!=null&&r.append?this.res.headers.append(t,e):this.res.headers.set(t,e))});Ie(this,"status",t=>{se(this,Rs,!1),se(this,Gl,t)});Ie(this,"set",(t,e)=>{this._var??(this._var={}),this._var[t]=e});Ie(this,"get",t=>this._var?this._var[t]:void 0);Ie(this,"newResponse",(t,e,r)=>{if(d(this,Rs)&&!r&&!e&&d(this,Gl)===200)return new Response(t,{headers:d(this,Br)});if(e&&typeof e!="number"){const i=new Headers(e.headers);d(this,Ir)&&d(this,Ir).forEach((s,a)=>{i.set(a,s)});const o=Iw(i,d(this,Br));return new Response(t,{headers:o,status:e.status??d(this,Gl)})}const n=typeof e=="number"?e:d(this,Gl);d(this,Br)??se(this,Br,{}),d(this,Ir)??se(this,Ir,new Headers),Iw(d(this,Ir),d(this,Br)),d(this,ho)&&(d(this,ho).headers.forEach((i,o)=>{var s;(s=d(this,Ir))==null||s.set(o,i)}),Iw(d(this,Ir),d(this,Br))),r??(r={});for(const[i,o]of Object.entries(r))if(typeof o=="string")d(this,Ir).set(i,o);else{d(this,Ir).delete(i);for(const s of o)d(this,Ir).append(i,s)}return new Response(t,{status:n,headers:d(this,Ir)})});Ie(this,"body",(t,e,r)=>typeof e=="number"?this.newResponse(t,e,r):this.newResponse(t,e));Ie(this,"text",(t,e,r)=>{if(!d(this,Br)){if(d(this,Rs)&&!r&&!e)return new Response(t);se(this,Br,{})}return d(this,Br)["content-type"]=Q7,typeof e=="number"?this.newResponse(t,e,r):this.newResponse(t,e)});Ie(this,"json",(t,e,r)=>{const n=JSON.stringify(t);return d(this,Br)??se(this,Br,{}),d(this,Br)["content-type"]="application/json; charset=UTF-8",typeof e=="number"?this.newResponse(n,e,r):this.newResponse(n,e)});Ie(this,"html",(t,e,r)=>(d(this,Br)??se(this,Br,{}),d(this,Br)["content-type"]="text/html; charset=UTF-8",typeof t=="object"&&(t instanceof Promise||(t=t.toString()),t instanceof Promise)?t.then(n=>z4(n,V7.Stringify,!1,{})).then(n=>typeof e=="number"?this.newResponse(n,e,r):this.newResponse(n,e)):typeof e=="number"?this.newResponse(t,e,r):this.newResponse(t,e)));Ie(this,"redirect",(t,e=302)=>(d(this,Ir)??se(this,Ir,new Headers),d(this,Ir).set("Location",t),this.newResponse(null,e)));Ie(this,"notFound",()=>this.notFoundHandler(this));this.req=t,e&&(se(this,Ts,e.executionCtx),this.env=e.env,e.notFoundHandler&&(this.notFoundHandler=e.notFoundHandler))}get event(){if(d(this,Ts)&&"respondWith"in d(this,Ts))return d(this,Ts);throw Error("This context has no FetchEvent")}get executionCtx(){if(d(this,Ts))return d(this,Ts);throw Error("This context has no ExecutionContext")}get res(){return se(this,Rs,!1),d(this,ho)||se(this,ho,new Response("404 Not Found",{status:404}))}set res(t){if(se(this,Rs,!1),d(this,ho)&&t){d(this,ho).headers.delete("content-type");for(const[e,r]of d(this,ho).headers.entries())if(e==="set-cookie"){const n=d(this,ho).headers.getSetCookie();t.headers.delete("set-cookie");for(const i of n)t.headers.append("set-cookie",i)}else t.headers.set(e,r)}se(this,ho,t),this.finalized=!0}get var(){return{...this._var}}},Gl=new WeakMap,Ts=new WeakMap,Ir=new WeakMap,Br=new WeakMap,ho=new WeakMap,Rs=new WeakMap,Pk),sN=(t,e,r)=>(n,i)=>{let o=-1;return s(0);async function s(a){if(a<=o)throw new Error("next() called multiple times");o=a;let l,u=!1,c;if(t[a]?(c=t[a][0][0],n instanceof ny&&(n.req.routeIndex=a)):c=a===t.length&&i||void 0,!c)n instanceof ny&&n.finalized===!1&&r&&(l=await r(n));else try{l=await c(n,()=>s(a+1))}catch(h){if(h instanceof Error&&n instanceof ny&&e)n.error=h,l=await e(h,n),u=!0;else throw h}return l&&(n.finalized===!1||u)&&(n.res=l),n}},G7=class extends Error{constructor(e=500,r){super(r==null?void 0:r.message,{cause:r==null?void 0:r.cause});Ie(this,"res");Ie(this,"status");this.res=r==null?void 0:r.res,this.status=e}getResponse(){return this.res?this.res:new Response(this.message,{status:this.status})}},J7=async(t,e={all:!1})=>{const n=(t instanceof J4?t.raw.headers:t.headers).get("Content-Type");return Y7(n)?K7(t,e):{}};function Y7(t){return t===null?!1:t.startsWith("multipart/form-data")||t.startsWith("application/x-www-form-urlencoded")}async function K7(t,e){const r=await t.formData();return r?Z7(r,e):{}}function Z7(t,e){const r={};return t.forEach((n,i)=>{e.all||i.endsWith("[]")?X7(r,i,n):r[i]=n}),r}var X7=(t,e,r)=>{t[e]&&eM(t[e])?tM(t[e],r):t[e]?rM(t,e,r):t[e]=r};function eM(t){return Array.isArray(t)}var tM=(t,e)=>{t.push(e)},rM=(t,e,r)=>{t[e]=[t[e],r]},V4=t=>{const e=t.split("/");return e[0]===""&&e.shift(),e},nM=t=>{const{groups:e,path:r}=iM(t),n=V4(r);return oM(n,e)},iM=t=>{const e=[];return t=t.replace(/\{[^}]+\}/g,(r,n)=>{const i=`@${n}`;return e.push([i,r]),i}),{groups:e,path:t}},oM=(t,e)=>{for(let r=e.length-1;r>=0;r--){const[n]=e[r];for(let i=t.length-1;i>=0;i--)if(t[i].includes(n)){t[i]=t[i].replace(n,e[r][1]);break}}return t},km={},aN=t=>{if(t==="*")return"*";const e=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);return e?(km[t]||(e[2]?km[t]=[t,e[1],new RegExp("^"+e[2]+"$")]:km[t]=[t,e[1],!0]),km[t]):null},H4=t=>{const e=t.url,r=e.indexOf("?",8);return e.slice(e.indexOf("/",8),r===-1?void 0:r)},sM=t=>{const e=t.indexOf("?",8);return e===-1?"":"?"+t.slice(e+1)},aM=t=>{const e=H4(t);return e.length>1&&e[e.length-1]==="/"?e.slice(0,-1):e},mf=(...t)=>{let e="",r=!1;for(let n of t)e[e.length-1]==="/"&&(e=e.slice(0,-1),r=!0),n[0]!=="/"&&(n=`/${n}`),n==="/"&&r?e=`${e}/`:n!=="/"&&(e=`${e}${n}`),n==="/"&&e===""&&(e="/");return e},Q4=t=>{if(!t.match(/\:.+\?$/))return null;const e=t.split("/"),r=[];let n="";return e.forEach(i=>{if(i!==""&&!/\:/.test(i))n+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){r.length===0&&n===""?r.push("/"):r.push(n);const o=i.replace("?","");n+="/"+o,r.push(n)}else n+="/"+i}),r.filter((i,o,s)=>s.indexOf(i)===o)},Pw=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),/%/.test(t)?mb(t):t):t,G4=(t,e,r)=>{let n;if(!r&&e&&!/[%+]/.test(e)){let s=t.indexOf(`?${e}`,8);for(s===-1&&(s=t.indexOf(`&${e}`,8));s!==-1;){const a=t.charCodeAt(s+e.length+1);if(a===61){const l=s+e.length+2,u=t.indexOf("&",l);return Pw(t.slice(l,u===-1?void 0:u))}else if(a==38||isNaN(a))return"";s=t.indexOf(`&${e}`,s+1)}if(n=/[%+]/.test(t),!n)return}const i={};n??(n=/[%+]/.test(t));let o=t.indexOf("?",8);for(;o!==-1;){const s=t.indexOf("&",o+1);let a=t.indexOf("=",o);a>s&&s!==-1&&(a=-1);let l=t.slice(o+1,a===-1?s===-1?void 0:s:a);if(n&&(l=Pw(l)),o=s,l==="")continue;let u;a===-1?u="":(u=t.slice(a+1,s===-1?void 0:s),n&&(u=Pw(u))),r?(i[l]&&Array.isArray(i[l])||(i[l]=[]),i[l].push(u)):i[l]??(i[l]=u)}return e?i[e]:i},lM=G4,uM=(t,e)=>G4(t,e,!0),mb=decodeURIComponent,Wc,po,$k,J4=($k=class{constructor(t,e="/",r=[[]]){Ie(this,"raw");ie(this,Wc,void 0);ie(this,po,void 0);Ie(this,"routeIndex",0);Ie(this,"path");Ie(this,"bodyCache",{});Ie(this,"cachedBody",t=>{const{bodyCache:e,raw:r}=this,n=e[t];if(n)return n;if(!e[t]){for(const i of Object.keys(e))if(i!=="parsedBody")return(async()=>{let o=await e[i];return i==="json"&&(o=JSON.stringify(o)),await new Response(o)[t]()})()}return e[t]=r[t]()});this.raw=t,this.path=e,se(this,po,r),se(this,Wc,{})}param(t){return t?this.getDecodedParam(t):this.getAllDecodedParams()}getDecodedParam(t){const e=d(this,po)[0][this.routeIndex][1][t],r=this.getParamValue(e);return r?/\%/.test(r)?mb(r):r:void 0}getAllDecodedParams(){const t={},e=Object.keys(d(this,po)[0][this.routeIndex][1]);for(const r of e){const n=this.getParamValue(d(this,po)[0][this.routeIndex][1][r]);n&&typeof n=="string"&&(t[r]=/\%/.test(n)?mb(n):n)}return t}getParamValue(t){return d(this,po)[1]?d(this,po)[1][t]:t}query(t){return lM(this.url,t)}queries(t){return uM(this.url,t)}header(t){if(t)return this.raw.headers.get(t.toLowerCase())??void 0;const e={};return this.raw.headers.forEach((r,n)=>{e[n]=r}),e}async parseBody(t){if(this.bodyCache.parsedBody)return this.bodyCache.parsedBody;const e=await J7(this,t);return this.bodyCache.parsedBody=e,e}json(){return this.cachedBody("json")}text(){return this.cachedBody("text")}arrayBuffer(){return this.cachedBody("arrayBuffer")}blob(){return this.cachedBody("blob")}formData(){return this.cachedBody("formData")}addValidatedData(t,e){d(this,Wc)[t]=e}valid(t){return d(this,Wc)[t]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return d(this,po)[0].map(([[,t]])=>t)}get routePath(){return d(this,po)[0].map(([[,t]])=>t)[this.routeIndex].path}},Wc=new WeakMap,po=new WeakMap,$k),rn="ALL",cM="all",dM=["get","post","put","delete","options","patch"],Y4="Can not add a route since the matcher is already built.",K4=class extends Error{},fM=Symbol("composedHandler");function hM(){return class{}}var pM=t=>t.text("404 Not Found",404),lN=(t,e)=>t instanceof G7?t.getResponse():(console.error(t),e.text("Internal Server Error",500)),mo,jk,Z4=(jk=class extends hM(){constructor(r={}){super();Ie(this,"router");Ie(this,"getPath");Ie(this,"_basePath","/");ie(this,mo,"/");Ie(this,"routes",[]);Ie(this,"notFoundHandler",pM);Ie(this,"errorHandler",lN);Ie(this,"onError",r=>(this.errorHandler=r,this));Ie(this,"notFound",r=>(this.notFoundHandler=r,this));Ie(this,"fetch",(r,n,i)=>this.dispatch(r,i,n,r.method));Ie(this,"request",(r,n,i,o)=>{if(r instanceof Request)return n!==void 0&&(r=new Request(r,n)),this.fetch(r,i,o);r=r.toString();const s=/^https?:\/\//.test(r)?r:`http://localhost${mf("/",r)}`,a=new Request(s,n);return this.fetch(a,i,o)});Ie(this,"fire",()=>{addEventListener("fetch",r=>{r.respondWith(this.dispatch(r.request,r,void 0,r.request.method))})});[...dM,cM].forEach(o=>{this[o]=(s,...a)=>(typeof s=="string"?se(this,mo,s):this.addRoute(o,d(this,mo),s),a.forEach(l=>{typeof l!="string"&&this.addRoute(o,d(this,mo),l)}),this)}),this.on=(o,s,...a)=>{if(!o)return this;for(const l of[s].flat()){se(this,mo,l);for(const u of[o].flat())a.map(c=>{this.addRoute(u.toUpperCase(),d(this,mo),c)})}return this},this.use=(o,...s)=>(typeof o=="string"?se(this,mo,o):(se(this,mo,"*"),s.unshift(o)),s.forEach(a=>{this.addRoute(rn,d(this,mo),a)}),this);const i=r.strict??!0;delete r.strict,Object.assign(this,r),this.getPath=i?r.getPath??H4:aM}clone(){const r=new Z4({router:this.router,getPath:this.getPath});return r.routes=this.routes,r}route(r,n){const i=this.basePath(r);return n?(n.routes.map(o=>{let s;n.errorHandler===lN?s=o.handler:(s=async(a,l)=>(await sN([],n.errorHandler)(a,()=>o.handler(a,l))).res,s[fM]=o.handler),i.addRoute(o.method,o.path,s)}),this):i}basePath(r){const n=this.clone();return n._basePath=mf(this._basePath,r),n}mount(r,n,i){const o=mf(this._basePath,r),s=o==="/"?0:o.length,a=async(l,u)=>{let c;try{c=l.executionCtx}catch{}const h=i?i(l):[l.env,c],p=Array.isArray(h)?h:[h],y=sM(l.req.url),b=await n(new Request(new URL((l.req.path.slice(s)||"/")+y,l.req.url),l.req.raw),...p);if(b)return b;await u()};return this.addRoute(rn,mf(r,"*"),a),this}addRoute(r,n,i){r=r.toUpperCase(),n=mf(this._basePath,n);const o={path:n,method:r,handler:i};this.router.add(r,n,[i,o]),this.routes.push(o)}matchRoute(r,n){return this.router.match(r,n)}handleError(r,n){if(r instanceof Error)return this.errorHandler(r,n);throw r}dispatch(r,n,i,o){if(o==="HEAD")return(async()=>new Response(null,await this.dispatch(r,n,i,"GET")))();const s=this.getPath(r,{env:i}),a=this.matchRoute(o,s),l=new ny(new J4(r,s,a),{env:i,executionCtx:n,notFoundHandler:this.notFoundHandler});if(a[0].length===1){let c;try{c=a[0][0][0][0](l,async()=>{l.res=await this.notFoundHandler(l)})}catch(h){return this.handleError(h,l)}return c instanceof Promise?c.then(h=>h||(l.finalized?l.res:this.notFoundHandler(l))).catch(h=>this.handleError(h,l)):c}const u=sN(a[0],this.errorHandler,this.notFoundHandler);return(async()=>{try{const c=await u(l);if(!c.finalized)throw new Error("Context is not finalized. You may forget returning Response object or `await next()`");return c.res}catch(c){return this.handleError(c,l)}})()}},mo=new WeakMap,jk),sg="[^/]+",Mf=".*",Bf="(?:|/.*)",Nf=Symbol(),mM=new Set(".\\+*[^]$()");function yM(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===Mf||t===Bf?1:e===Mf||e===Bf?-1:t===sg?1:e===sg?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var yb=class{constructor(){Ie(this,"index");Ie(this,"varIndex");Ie(this,"children",Object.create(null))}insert(e,r,n,i,o){if(e.length===0){if(this.index!==void 0)throw Nf;if(o)return;this.index=r;return}const[s,...a]=e,l=s==="*"?a.length===0?["","",Mf]:["","",sg]:s==="/*"?["","",Bf]:s.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let u;if(l){const c=l[1];let h=l[2]||sg;if(c&&l[2]&&(h=h.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(h)))throw Nf;if(u=this.children[h],!u){if(Object.keys(this.children).some(p=>p!==Mf&&p!==Bf))throw Nf;if(o)return;u=this.children[h]=new yb,c!==""&&(u.varIndex=i.varIndex++)}!o&&c!==""&&n.push([c,u.varIndex])}else if(u=this.children[s],!u){if(Object.keys(this.children).some(c=>c.length>1&&c!==Mf&&c!==Bf))throw Nf;if(o)return;u=this.children[s]=new yb}u.insert(a,r,n,i,o)}buildRegExpStr(){const r=Object.keys(this.children).sort(yM).map(n=>{const i=this.children[n];return(typeof i.varIndex=="number"?`(${n})@${i.varIndex}`:mM.has(n)?`\\${n}`:n)+i.buildRegExpStr()});return typeof this.index=="number"&&r.unshift(`#${this.index}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}},gM=class{constructor(){Ie(this,"context",{varIndex:0});Ie(this,"root",new yb)}insert(t,e,r){const n=[],i=[];for(let s=0;;){let a=!1;if(t=t.replace(/\{[^}]+\}/g,l=>{const u=`@\\${s}`;return i[s]=[u,l],s++,a=!0,u}),!a)break}const o=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let s=i.length-1;s>=0;s--){const[a]=i[s];for(let l=o.length-1;l>=0;l--)if(o[l].indexOf(a)!==-1){o[l]=o[l].replace(a,i[s][1]);break}}return this.root.insert(o,e,n,this.context,r),n}buildRegExp(){let t=this.root.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0;const r=[],n=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,o,s)=>typeof o<"u"?(r[++e]=Number(o),"$()"):(typeof s<"u"&&(n[Number(s)]=++e),"")),[new RegExp(`^${t}`),r,n]}},X4=[],vM=[/^$/,[],Object.create(null)],iy=Object.create(null);function eR(t){return iy[t]??(iy[t]=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,r)=>r?`\\${r}`:"(?:|/.*)")}$`))}function wM(){iy=Object.create(null)}function bM(t){var u;const e=new gM,r=[];if(t.length===0)return vM;const n=t.map(c=>[!/\*|\/:/.test(c[0]),...c]).sort(([c,h],[p,y])=>c?1:p?-1:h.length-y.length),i=Object.create(null);for(let c=0,h=-1,p=n.length;c<p;c++){const[y,b,S]=n[c];y?i[b]=[S.map(([v])=>[v,Object.create(null)]),X4]:h++;let E;try{E=e.insert(b,h,y)}catch(v){throw v===Nf?new K4(b):v}y||(r[h]=S.map(([v,w])=>{const N=Object.create(null);for(w-=1;w>=0;w--){const[I,R]=E[w];N[I]=R}return[v,N]}))}const[o,s,a]=e.buildRegExp();for(let c=0,h=r.length;c<h;c++)for(let p=0,y=r[c].length;p<y;p++){const b=(u=r[c][p])==null?void 0:u[1];if(!b)continue;const S=Object.keys(b);for(let E=0,v=S.length;E<v;E++)b[S[E]]=a[b[S[E]]]}const l=[];for(const c in s)l[c]=r[s[c]];return[o,l,i]}function Ku(t,e){if(t){for(const r of Object.keys(t).sort((n,i)=>i.length-n.length))if(eR(r).test(e))return[...t[r]]}}var _M=class{constructor(){Ie(this,"name","RegExpRouter");Ie(this,"middleware");Ie(this,"routes");this.middleware={[rn]:Object.create(null)},this.routes={[rn]:Object.create(null)}}add(t,e,r){var a;const{middleware:n,routes:i}=this;if(!n||!i)throw new Error(Y4);n[t]||[n,i].forEach(l=>{l[t]=Object.create(null),Object.keys(l[rn]).forEach(u=>{l[t][u]=[...l[rn][u]]})}),e==="/*"&&(e="*");const o=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){const l=eR(e);t===rn?Object.keys(n).forEach(u=>{var c;(c=n[u])[e]||(c[e]=Ku(n[u],e)||Ku(n[rn],e)||[])}):(a=n[t])[e]||(a[e]=Ku(n[t],e)||Ku(n[rn],e)||[]),Object.keys(n).forEach(u=>{(t===rn||t===u)&&Object.keys(n[u]).forEach(c=>{l.test(c)&&n[u][c].push([r,o])})}),Object.keys(i).forEach(u=>{(t===rn||t===u)&&Object.keys(i[u]).forEach(c=>l.test(c)&&i[u][c].push([r,o]))});return}const s=Q4(e)||[e];for(let l=0,u=s.length;l<u;l++){const c=s[l];Object.keys(i).forEach(h=>{var p;(t===rn||t===h)&&((p=i[h])[c]||(p[c]=[...Ku(n[h],c)||Ku(n[rn],c)||[]]),i[h][c].push([r,o-u+l+1]))})}}match(t,e){wM();const r=this.buildAllMatchers();return this.match=(n,i)=>{const o=r[n]||r[rn],s=o[2][i];if(s)return s;const a=i.match(o[0]);if(!a)return[[],X4];const l=a.indexOf("",1);return[o[1][l],a]},this.match(t,e)}buildAllMatchers(){const t=Object.create(null);return[...Object.keys(this.routes),...Object.keys(this.middleware)].forEach(e=>{t[e]||(t[e]=this.buildMatcher(e))}),this.middleware=this.routes=void 0,t}buildMatcher(t){const e=[];let r=t===rn;return[this.middleware,this.routes].forEach(n=>{const i=n[t]?Object.keys(n[t]).map(o=>[o,n[t][o]]):[];i.length!==0?(r||(r=!0),e.push(...i)):t!==rn&&e.push(...Object.keys(n[rn]).map(o=>[o,n[rn][o]]))}),r?bM(e):null}},xM=class{constructor(t){Ie(this,"name","SmartRouter");Ie(this,"routers",[]);Ie(this,"routes",[]);Object.assign(this,t)}add(t,e,r){if(!this.routes)throw new Error(Y4);this.routes.push([t,e,r])}match(t,e){if(!this.routes)throw new Error("Fatal error");const{routers:r,routes:n}=this,i=r.length;let o=0,s;for(;o<i;o++){const a=r[o];try{n.forEach(l=>{a.add(...l)}),s=a.match(t,e)}catch(l){if(l instanceof K4)continue;throw l}this.match=a.match.bind(a),this.routers=[a],this.routes=void 0;break}if(o===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,s}get activeRouter(){if(this.routes||this.routers.length!==1)throw new Error("No active router has been determined yet.");return this.routers[0]}},tR=class{constructor(t,e,r){Ie(this,"methods");Ie(this,"children");Ie(this,"patterns");Ie(this,"order",0);Ie(this,"name");Ie(this,"params",Object.create(null));if(this.children=r||Object.create(null),this.methods=[],this.name="",t&&e){const n=Object.create(null);n[t]={handler:e,possibleKeys:[],score:0,name:this.name},this.methods=[n]}this.patterns=[]}insert(t,e,r){this.name=`${t} ${e}`,this.order=++this.order;let n=this;const i=nM(e),o=[];for(let l=0,u=i.length;l<u;l++){const c=i[l];if(Object.keys(n.children).includes(c)){n=n.children[c];const p=aN(c);p&&o.push(p[1]);continue}n.children[c]=new tR;const h=aN(c);h&&(n.patterns.push(h),o.push(h[1])),n=n.children[c]}n.methods.length||(n.methods=[]);const s=Object.create(null),a={handler:r,possibleKeys:o.filter((l,u,c)=>c.indexOf(l)===u),name:this.name,score:this.order};return s[t]=a,n.methods.push(s),n}gHSets(t,e,r,n){const i=[];for(let o=0,s=t.methods.length;o<s;o++){const a=t.methods[o],l=a[e]||a[rn],u=Object.create(null);l!==void 0&&(l.params=Object.create(null),l.possibleKeys.forEach(c=>{const h=u[l.name];l.params[c]=n[c]&&!h?n[c]:r[c]??n[c],u[l.name]=!0}),i.push(l))}return i}search(t,e){const r=[];this.params=Object.create(null);let i=[this];const o=V4(e);for(let a=0,l=o.length;a<l;a++){const u=o[a],c=a===l-1,h=[];for(let p=0,y=i.length;p<y;p++){const b=i[p],S=b.children[u];S&&(S.params=b.params,c===!0?(S.children["*"]&&r.push(...this.gHSets(S.children["*"],t,b.params,Object.create(null))),r.push(...this.gHSets(S,t,b.params,Object.create(null)))):h.push(S));for(let E=0,v=b.patterns.length;E<v;E++){const w=b.patterns[E],N={...b.params};if(w==="*"){const Z=b.children["*"];Z&&(r.push(...this.gHSets(Z,t,b.params,Object.create(null))),h.push(Z));continue}if(u==="")continue;const[I,R,k]=w,L=b.children[I],j=o.slice(a).join("/");if(k instanceof RegExp&&k.test(j)){N[R]=j,r.push(...this.gHSets(L,t,b.params,N));continue}(k===!0||k instanceof RegExp&&k.test(u))&&typeof I=="string"&&(N[R]=u,c===!0?(r.push(...this.gHSets(L,t,N,b.params)),L.children["*"]&&r.push(...this.gHSets(L.children["*"],t,N,b.params))):(L.params=N,h.push(L)))}}i=h}return[r.sort((a,l)=>a.score-l.score).map(({handler:a,params:l})=>[a,l])]}},SM=class{constructor(){Ie(this,"name","TrieRouter");Ie(this,"node");this.node=new tR}add(t,e,r){const n=Q4(e);if(n){for(const i of n)this.node.insert(t,i,r);return}this.node.insert(t,e,r)}match(t,e){return this.node.search(t,e)}},rR=class extends Z4{constructor(t={}){super(t),this.router=t.router??new xM({routers:[new _M,new SM]})}};const Gv=()=>new rR;class ys{constructor(e,r){this._body=e,this.deps=r}get body(){return this._body}get db(){return this.deps.db}}const EM="account",NM="account",kM=EM,CM=["code"],TM=async t=>{await t.schema.createTable(NM).addColumn("code","integer").addColumn("name","text").addColumn("description","text").addPrimaryKeyConstraint("primary",[...CM]).execute()},RM="accountGroup",OM="account_group",AM=RM,IM=["code"],PM=async t=>{await t.schema.createTable(OM).addColumn("code","integer").addColumn("major","text").addColumn("minor","text").addColumn("name","text").addColumn("description","text").addPrimaryKeyConstraint("primary",[...IM]).execute()},$M="accountStatement",jM="account_statement",nR=$M,LM=["code","date"],DM=async t=>{await t.schema.createTable(jM).addColumn("code","integer").addColumn("date","text").addColumn("closing_balance","integer").addColumn("total_credit","integer").addColumn("total_debit","integer").addPrimaryKeyConstraint("primary_key",[...LM]).execute()},MM="accountTransaction",$w="account_transaction",Dd=MM,BM=["txid"],FM=async t=>{await t.schema.createTable($w).addColumn("txid","text").addColumn("date","text").addColumn("brief","text").addPrimaryKeyConstraint("primary_key",[...BM]).execute(),await t.schema.createIndex(`${$w}_date`).on($w).columns(["date"]).execute()},WM="ledger_statement",qM=["code","date"],UM=async t=>{await t.schema.createTable(WM).addColumn("code","integer").addColumn("date","text").addColumn("closing_balance","integer").addPrimaryKeyConstraint("primary_key",[...qM]).execute()},zM="ledgerTransaction",yf="ledger_transaction",Nu=zM,Jv=1,Yv=2,VM=["txid","code"],HM=async t=>{await t.schema.createTable(yf).addColumn("txid","text").addColumn("code","integer",e=>e.notNull()).addColumn("date","text",e=>e.notNull()).addColumn("tag","integer",e=>e.notNull()).addColumn("amount","integer",e=>e.notNull()).addPrimaryKeyConstraint("primary_key",[...VM]).execute(),await t.schema.createIndex(`${yf}_code_date`).on(yf).columns(["code","date"]).execute(),await t.schema.createIndex(`${yf}_date_code`).on(yf).columns(["date","code"]).execute()},Rx=async t=>(await t.selectFrom(kM).selectAll().execute()).map(ju.fromRow),QM=t=>({major:t.major,minor:t.minor,code:t.code,name:t.name,description:t.description}),GM={fromRow:QM},iR=async t=>(await t.selectFrom(AM).selectAll().execute()).map(GM.fromRow),oR=async(t,e,r)=>await t.selectFrom(nR).selectAll().where("code","=",e).where("date","=",r).executeTakeFirst(),JM=async(t,e)=>await t.selectFrom(nR).selectAll().where("date","=",e).execute(),sR=ir.object({_tag:ir.literal("debit"),code:ir.number(),debit:ir.number()}),aR=ir.object({_tag:ir.literal("credit"),code:ir.number(),credit:ir.number()}),YM=ir.union([sR,aR]),lR=t=>{if(t.debit<=0)throw new Error("debit is not positive");return t},uR=t=>{if(t.credit<=0)throw new Error("credit is not positive");return t},KM=t=>{switch(t._tag){case"debit":return lR(t);case"credit":return uR(t)}},ZM=(t,e)=>t._tag===e._tag?t.code-e.code:t._tag==="debit"&&e._tag==="credit"?-1:t._tag==="credit"&&e._tag==="debit"?1:0,XM=t=>{const e=[];for(const r of t)r._tag==="debit"&&e.push(r);return e},eB=t=>{const e=[];for(const r of t)r._tag==="credit"&&e.push(r);return e},tB=t=>{switch(t.tag){case Jv:return{_tag:"debit",code:t.code,debit:t.amount};case Yv:return{_tag:"credit",code:t.code,credit:t.amount}}},Jn={schema:YM,debit_schema:sR,credit_schema:aR,validate:KM,validate_debit:lR,validate_credit:uR,compare:ZM,filter_debit:XM,filter_credit:eB,fromRow:tB},cR=async(t,e,r)=>{const n=ju.toGroup(e),a=n*1e3===e?await(async()=>await t.selectFrom(Nu).selectAll().where("code",">=",n*1e3).where("code","<",(n+1)*1e3).execute())():await(async()=>await t.selectFrom(Nu).selectAll().where("code","=",e).execute())();if(a.length<=0)return[];const l=new Map;for(const h of a){const p=Bo(h,Jn.fromRow),y=l.get(h.txid)??[];l.set(h.txid,[...y,p])}return(await t.selectFrom(Dd).selectAll().where("txid","in",a.map(h=>h.txid)).where("date",">=",r.start).where("date","<=",r.end).orderBy("date","asc").execute()).flatMap(h=>{const p=l.get(h.txid);if(!p)throw new Error("entryLine not found");return p.map(y=>({id:h.txid,brief:h.brief,date:h.date,debit:y._tag==="debit"?y.debit:0,credit:y._tag==="credit"?y.credit:0}))})},rB=async(t,e,r)=>{const n=r.split("-"),i=`${n[0]}-${n[1]}-01`,a=new Date(r).getTime()+24*60*60*1e3,l=new Date(a).toISOString().split("T")[0],u=await oR(t,e,i),c=await cR(t,e,{start:i,end:l});return{statement:u,ledgers:c,balance:nB({statement:u,ledgers:c})}},nB=t=>{const{statement:e,ledgers:r}=t,n=Tr(r,u=>u.debit),i=Tr(r,u=>u.credit),o=(e==null?void 0:e.totalDebit)??0,s=(e==null?void 0:e.totalCredit)??0,a=n+o,l=i+s;return{debit:a,credit:l,balance:a-l}},iB=async(t,e,r)=>{const n=await oB(t,e,r);return n.accounts.map(i=>{const o=i.code,s=n.ledgers.filter(l=>l.code===o);return sB(i,s)})},oB=async(t,e,r)=>{const n=await Rx(t),i=await t.selectFrom(Nu).selectAll().where("date",">=",e).where("date","<=",r).execute();return{accounts:n,ledgers:i}},sB=(t,e)=>{const r=t.code,n=Bo(e,ea(a=>a.tag===Jv),Tr(a=>a.amount)),i=Bo(e,ea(a=>a.tag===Yv),Tr(a=>a.amount)),o=n>i?n-i:0,s=i>n?i-n:0;return{code:r,debit_sum:n,debit_balance:o,credit_sum:i,credit_balance:s}},aB=async(t,e)=>{const r=wr.setDay(e,1),n=wr.addDay(e,1),i=await uB(t,r,n),o=new Map;for(const s of i.accountGroups)o.set(s.code,s);return i.accounts.map(s=>{const a=ju.toGroup(s.code),l=o.get(a);jc(l);const u=i.statements.find(p=>p.code===s.code),c=i.ledgers.filter(p=>p.code===s.code),h=lB(s,l,u,c);return{code:s.code,balance:h}})},lB=(t,e,r,n)=>{const i=Bo(n,ea(s=>s.tag===Jv),Tr(s=>s.amount)),o=Bo(n,ea(s=>s.tag===Yv),Tr(s=>s.amount));switch(e.major){case"asset":return((r==null?void 0:r.closingBalance)??0)+i-o;case"equity":return((r==null?void 0:r.closingBalance)??0)+i-o;case"liability":return((r==null?void 0:r.closingBalance)??0)+i-o;case"revenue":return o;case"expense":return i}},uB=async(t,e,r)=>{const n=await JM(t,e),i=await Rx(t),o=await iR(t),s=await t.selectFrom(Nu).selectAll().where("date",">=",e).where("date","<=",r).execute();return{accounts:i,accountGroups:o,statements:n,ledgers:s}},cB=ir.object({}),dB=async t=>{const e=t.db,[r,n]=await Promise.all([iR(e),Rx(e)]);return{accountGroups:r,accounts:n}},dR=ir.object({date:wr.schema}),fB=async t=>{const e=t.db,{date:r}=t.body;return await aB(e,r)},hB=t=>typeof t>"u"||t===null;function pB(t,e){return typeof t=="object"&&t!==null&&e in t}function mB(t){if(pB(t,"toString")&&typeof t.toString=="function"){const e=t.toString();return typeof e=="string"?e:JSON.stringify(t)}else return JSON.stringify(t)}const uN=Object.create(null),Cm={Ok:"Ok",Err:"Err"};class Sc{constructor(e){this.repr=e}static ok(e){return arguments.length===0?new Sc(["Ok",uN]):new Sc(["Ok",e])}static err(e){return hB(e)?new Sc(["Err",uN]):new Sc(["Err",e])}get variant(){return this.repr[0]}get value(){if(this.repr[0]===Cm.Err)throw new Error("Cannot get the value of Err");return this.repr[1]}get error(){if(this.repr[0]===Cm.Ok)throw new Error("Cannot get the error of Ok");return this.repr[1]}get isOk(){return this.repr[0]===Cm.Ok}get isErr(){return this.repr[0]===Cm.Err}map(e){return this.repr[0]==="Ok"?gb.ok(e(this.repr[1])):this}mapOr(e,r){return this.repr[0]==="Ok"?r(this.repr[1]):e}mapOrElse(e,r){return this.repr[0]==="Ok"?r(this.repr[1]):e(this.repr[1])}match(e){return this.repr[0]==="Ok"?e.Ok(this.repr[1]):e.Err(this.repr[1])}mapErr(e){return this.repr[0]==="Ok"?this:gb.err(e(this.repr[1]))}or(e){return this.repr[0]==="Ok"?this:e}orElse(e){return this.repr[0]==="Ok"?this:e(this.repr[1])}and(e){return this.repr[0]==="Ok"?e:this}andThen(e){return this.repr[0]==="Ok"?e(this.repr[1]):this}unwrapOr(e){return this.repr[0]==="Ok"?this.repr[1]:e}unwrapOrElse(e){return this.repr[0]==="Ok"?this.repr[1]:e(this.repr[1])}toString(){return`${this.repr[0]}(${mB(this.repr[1])})`}toJSON(){const e=this.repr[0];return e==="Ok"?{variant:e,value:this.repr[1]}:{variant:e,error:this.repr[1]}}equals(e){return this.repr[0]===e.repr[0]&&this.repr[1]===e.repr[1]}ap(e){return e.andThen(r=>this.map(n=>n(r)))}cast(){return this}}const gb=Sc,cN=gb,yB=ir.object({id:ir.string(),date:wr.schema,brief:ir.string(),lines_debit:ir.array(Jn.debit_schema).min(1),lines_credit:ir.array(Jn.credit_schema).min(1)}),fR=t=>{const e=t.lines_debit.map(Jn.validate_debit),r=t.lines_credit.map(Jn.validate_credit);if(e.length===0)throw new Error("lines_debit is empty");if(r.length===0)throw new Error("lines_credit is empty");const n=Tr(e,o=>o.debit),i=Tr(r,o=>o.credit);if(n!==i)throw new Error(`debit(${n}) !== credit(${i})`);return{...t,lines_debit:e,lines_credit:r}},gB=t=>{try{return cN.ok(fR(t))}catch(e){return cN.err(e)}},vB=t=>{const e=t.date.split("-"),r=Number.parseInt(e[1]??"0"),n=Number.parseInt(e[2]??"0"),i=[r,n,t.id,t.brief],o=Array(i.length).fill(""),s=t.lines_debit.map((u,c)=>{const h=[u.code,u.debit,""];return c===0?[...i,...h]:[...o,...h]}),a=t.lines_credit.map(u=>{const c=[u.code,"",u.credit];return[...o,...c]});return[...s,...a]},Wh={schema:yB,validate:fR,safeValidate:gB,toMat:vB},hR=async(t,e)=>await t.insertInto(Nu).values(e).executeTakeFirstOrThrow(),pR=async(t,e)=>{const r=await t.selectFrom(Dd).innerJoin("ledgerTransaction",l=>l.onRef("ledgerTransaction.txid","=","accountTransaction.txid")).selectAll().where("accountTransaction.txid","=",e).execute();if(r.length<=0)return;const[n,i]=r;if(!n)return;const o=r.map(Jn.fromRow).map(Jn.validate).sort(Jn.compare),s=Jn.filter_debit(o),a=Jn.filter_credit(o);return{id:n.txid,brief:n.brief,date:n.date,lines_debit:s,lines_credit:a}},wB=async(t,e)=>{const r=await t.selectFrom(Dd).innerJoin("ledgerTransaction",s=>s.onRef("ledgerTransaction.txid","=","accountTransaction.txid")).selectAll().where("accountTransaction.date",">=",e.start).where("accountTransaction.date","<=",e.end).orderBy("date asc").execute();if(r.length===0)return[];const n=kh(r,s=>s.txid);return Object.entries(n).map(([s,a])=>{const l=a[0];if(!l)throw new Error("not found");const u=a.map(Jn.fromRow).map(Jn.validate).sort(Jn.compare),c=Jn.filter_debit(u),h=Jn.filter_credit(u);return{id:s,brief:l.brief,date:l.date,lines_debit:c,lines_credit:h}})},bB=async(t,e)=>await t.insertInto(Dd).values(e).executeTakeFirstOrThrow(),mR=t=>{const e={txid:t.id,date:t.date},r={...e,brief:t.brief},n=t.lines_debit.map(o=>({...e,code:o.code,tag:Jv,amount:o.debit})),i=t.lines_credit.map(o=>({...e,code:o.code,tag:Yv,amount:o.credit}));return{accounts:[r],ledgers:[...n,...i]}},_B=async(t,e)=>await pR(t,e),xB=async(t,e)=>{const{accounts:r,ledgers:n}=mR(e),i=await bB(t,r),o=await hR(t,n);return{account:i,ledger:o}},SB=async(t,e)=>{const r=await _B(t,e.id);if(!r)throw new Error("not found");if(f4(r,e))return 0;const n={brief:e.brief,date:e.date};await t.updateTable(Dd).set(n).where("txid","=",e.id).executeTakeFirstOrThrow(),await t.deleteFrom(Nu).where("txid","=",e.id).executeTakeFirstOrThrow();const{ledgers:i}=mR(e);return await hR(t,i),2},EB=async(t,e)=>{const r=await t.deleteFrom(Dd).where("txid","=",e).executeTakeFirstOrThrow(),n=await t.deleteFrom(Nu).where("txid","=",e).executeTakeFirstOrThrow();return{account:r,ledger:n}},yR=ir.object({startDate:wr.schema,endDate:wr.schema}),NB=async t=>{const{startDate:e,endDate:r}=t.body;return await wB(t.db,{start:e,end:r})},gR=ir.object({id:ir.string()}),kB=async t=>{const{id:e}=t.body;return await pR(t.db,e)},vR=Wh.schema,CB=async t=>{const e=t.db,r=t.body;return await e.transaction().execute(async n=>await xB(n,r)),r},TB=async t=>{const e=t.db,r=t.body;return await e.transaction().execute(async n=>await SB(n,r)),r},RB=ir.object({id:ir.string()}),OB=async t=>{const e=t.db,{id:r}=t.body;return await e.transaction().execute(async n=>await EB(n,r)),r},wR=ir.object({code:ir.coerce.number(),startDate:wr.schema,endDate:wr.schema}),AB=async t=>{const e=t.body,r=e.code<1e3?e.code*1e3:e.code,{startDate:n,endDate:i}=e,o=await cR(t.db,r,{start:n,end:i}),a=await oR(t.db,r,n)??{code:r,date:n,closingBalance:0,totalDebit:0,totalCredit:0},l=[{id:"",brief:`${a.date} `,date:a.date,debit:a.totalDebit,credit:a.totalCredit,balance:a.closingBalance}];for(const u of o){const c=l[l.length-1];jc(c);const h={id:u.id,brief:u.brief,date:u.date,debit:u.debit,credit:u.credit,balance:c.balance+u.debit-u.credit};l.push(h)}return{code:r,lines:l,statement:a,ledgers:o}},IB=ir.object({date:wr.schema,code:ir.coerce.number()}),PB=async t=>{const e=t.db,{date:r,code:n}=t.body;return await rB(e,n,r)},bR=ir.object({date:wr.schema}),$B=async t=>{const e=t.db,{date:r}=t.body,n=wr.setDay(r,1),i=wr.setDayAsLastDayOfMonth(n),o=await iB(e,n,i);return{date_first:n,date_end:i,accounts:o}},Md=Gv();Md.get("/list",async t=>{const{db:e}=t.env,r=yR.parse(t.req.query()),n=new ys(r,{db:e}),i=await NB(n);return t.json(i)});Md.get("/transaction/:id",async t=>{const{db:e}=t.env,r=gR.parse({id:t.req.param("id")}),n=new ys(r,{db:e}),i=await kB(n);return t.json(i)});Md.post("/transaction",async t=>{const{db:e}=t.env,r=vR.parse(await t.req.json()),n=new ys(r,{db:e}),i=await CB(n);return t.json(i)});Md.post("/transaction/:id",async t=>{const{db:e}=t.env,r=vR.parse(await t.req.json()),n=new ys(r,{db:e}),i=await TB(n);return t.json(i)});Md.delete("/transaction/:id",async t=>{const{db:e}=t.env,r=RB.parse({id:t.req.param("id")}),n=new ys(r,{db:e}),i=await OB(n);return t.json(i)});const Kv="/api/journal",_R=Gv();_R.get("/list",async t=>{const{db:e}=t.env,r=wR.parse(t.req.query()),n=new ys(r,{db:e}),i=await AB(n);return t.json(i)});const xR="/api/ledger",Ox=Gv();Ox.get("/list",async t=>{const{db:e}=t.env,r=cB.parse(t.req.query()),n=new ys(r,{db:e}),i=await dB(n);return t.json(i)});Ox.get("/snapshot",async t=>{const{db:e}=t.env,r=dR.parse(t.req.query()),n=new ys(r,{db:e}),i=await fB(n);return t.json(i)});const Ax="/api/account",Ix=Gv();Ix.get("/trial-balance/:date",async t=>{const{db:e}=t.env,r=bR.parse({date:t.req.param("date")}),n=new ys(r,{db:e}),i=await $B(n);return t.json(i)});Ix.get("/:code/:date",async t=>{const{db:e}=t.env,r=IB.parse({code:t.req.param("code"),date:t.req.param("date")}),n=new ys(r,{db:e}),i=await PB(n);return t.json(i)});const SR="/api/balance",jB={accountGroups:[],accounts:[]},jp=A.createContext(jB),vb={asset:"",liability:"",equity:"",revenue:"",expense:""},LB=t=>vb[t],DB=t=>{const e=Object.keys(vb).find(r=>vb[r]===t);if(!e)throw new Error(`Unknown account category name: ${t}`);return e},Px={toKorean:LB,fromKorean:DB},sn=t=>{const{amount:e,fw:r}=t,n=new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}),i=t.ta??"right",o=n.format(e);return r?g.jsx(gd,{ta:i,fw:r,children:o}):g.jsx(gd,{ta:i,children:o})},dN=t=>{const{date:e,items:r}=t;return g.jsxs(K,{children:[g.jsx(K.Thead,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:""}),g.jsx(K.Th,{children:""}),g.jsx(K.Th,{children:""}),g.jsx(K.Th,{children:""}),g.jsxs(K.Th,{children:[": ",e]})]})}),g.jsx(K.Tbody,{children:r.map(n=>g.jsx(MB,{row:n,date:e},n.account.code))})]})},MB=t=>{const{row:e,date:r}=t,{account:n,group:i}=e,o=Px.toKorean(i.major),s=i.minor,a=wr.setDay(r,1),l=`/ledger/account/${n.code}/${a}/${r}`;return g.jsxs(K.Tr,{children:[g.jsx(K.Td,{children:o}),g.jsx(K.Td,{children:s}),g.jsx(K.Td,{children:n.code}),g.jsx(K.Td,{children:g.jsx(pn,{component:Ln,to:l,children:n.name})}),g.jsx(K.Td,{children:g.jsx(sn,{amount:e.balance})})]},n.code)},BB=()=>{const t=Rp(),e=dR.parse(t),r=new URLSearchParams;r.append("date",`${e.date}`);const n=`${Ax}/snapshot?${r}`,{data:i,error:o,isLoading:s}=Ld(n),a=i;return o?g.jsx("div",{children:"failed to load"}):s?g.jsx("div",{children:"loading..."}):g.jsx(FB,{req:e,resp:a})},FB=t=>{const e=A.useContext(jp),r=bx(),{req:n,resp:i}=t,o={date:n.date},[s,a]=A.useState("group"),{register:l,handleSubmit:u}=Hv({defaultValues:o}),c=b=>{const S=`/account/snapshot/${b.date}`;r(S)},h=new Map;for(const b of i)h.set(b.code,b.balance);const p=ju.zip(e.accounts,e.accountGroups).map(b=>{const S=h.get(b.account.code);return{...b,balance:S??0}}),y=Bo(p,kh(b=>b.group.code),Vy(),_u(b=>{const[S,E]=b;g9(E);const v=E[0],w=Tr(E,N=>N.balance);return{...v,balance:w}}));return g.jsxs(Ri,{children:[g.jsx("h1",{children:"account"}),g.jsxs("form",{onSubmit:u(c),children:[g.jsx(Jt.Wrapper,{label:"date",children:g.jsx(Jt,{type:"date",...l("date")})}),g.jsx(Jt.Wrapper,{children:g.jsx(Lr,{type:"submit",children:""})})]}),g.jsx(Wv,{data:["group","account"],value:s,onChange:a}),s==="account"?g.jsx(dN,{date:n.date,items:p}):null,s==="group"?g.jsx(dN,{date:n.date,items:y}):null]})},WB=()=>g.jsxs(Op,{children:[g.jsx(Vr,{index:!0,element:g.jsx(MD,{})}),g.jsx(Vr,{path:"/snapshot/:date",element:g.jsx(BB,{})})]}),Zv=t=>{const{accounts:e,accountGroups:r}=A.useContext(jp),n=t.code<1e3?t.code*1e3:t.code,i=e.find(b=>b.code===n),o=ju.toGroup(n),s=r.find(b=>b.code===o),a=new Date,l=wr.convertDateToRange(a),u=t.startDate??l.startDate,c=t.endDate??l.endDate,h=`/ledger/account/${n}/${u}/${c}`,p=s?Px.toKorean(s.major):"unknown",y=(s==null?void 0:s.minor)??"unknown";return g.jsxs(pn,{component:Ln,to:h,children:["[",n,"] ",p," ",">"," ",y," ",">"," ",i==null?void 0:i.name]})},fN=t=>{const{accounts:e,startDate:r,endDate:n}=t,i=Tr(e,l=>l.debit_sum),o=Tr(e,l=>l.credit_sum),s=Tr(e,l=>l.debit_balance),a=Tr(e,l=>l.credit_balance);return g.jsxs(K,{children:[g.jsx(K.Thead,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:" "}),g.jsx(K.Th,{children:" "}),g.jsx(K.Th,{children:""}),g.jsx(K.Th,{children:" "}),g.jsx(K.Th,{children:" "})]})}),g.jsx(K.Tbody,{children:e.map(l=>g.jsxs(K.Tr,{children:[g.jsx(K.Td,{children:l.debit_balance?g.jsx(sn,{amount:l.debit_balance}):null}),g.jsx(K.Td,{children:l.debit_sum?g.jsx(sn,{amount:l.debit_sum}):null}),g.jsx(K.Td,{children:g.jsx(Zv,{code:l.code,startDate:r,endDate:n})}),g.jsx(K.Td,{children:l.credit_sum?g.jsx(sn,{amount:l.credit_sum}):null}),g.jsx(K.Td,{children:l.credit_balance?g.jsx(sn,{amount:l.credit_balance}):null})]},l.code))}),g.jsx(K.Tfoot,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:g.jsx(sn,{amount:s,fw:500})}),g.jsx(K.Th,{children:g.jsx(sn,{amount:i,fw:500})}),g.jsx(K.Th,{children:""}),g.jsx(K.Th,{children:g.jsx(sn,{amount:o,fw:500})}),g.jsx(K.Th,{children:g.jsx(sn,{amount:a,fw:500})})]})})]})},qB=t=>t,UB=t=>Bo(t,kh(e=>Math.floor(e.code/1e3)),Vy(),_u(e=>{const[r,n]=e;return{code:Number.parseInt(r)*1e3,debit_balance:Tr(n,o=>o.debit_balance),credit_balance:Tr(n,o=>o.credit_balance),debit_sum:Tr(n,o=>o.debit_sum),credit_sum:Tr(n,o=>o.credit_sum)}})),zB=t=>{const{resp:e}=t,{accounts:r,date_first:n,date_end:i}=e,[o,s]=A.useState("group"),a={startDate:n,endDate:i};return g.jsxs(g.Fragment,{children:[g.jsx("h1",{children:""}),g.jsxs("p",{children:[n," ~ ",i]}),g.jsx(Wv,{data:["group","plain"],value:o,onChange:s}),o==="plain"?g.jsx(fN,{...a,accounts:qB(r)}):null,o==="group"?g.jsx(fN,{...a,accounts:UB(r)}):null]})},VB=()=>{const t=Rp(),e=bR.parse(t),r=`${SR}/trial-balance/${e.date}`,{data:n,error:i,isLoading:o}=Ld(r),s=n;return i?g.jsx("div",{children:"failed to load"}):o?g.jsx("div",{children:"loading..."}):g.jsx(HB,{req:e,resp:s})},HB=t=>{const{req:e,resp:r}=t,n=bx(),i={date:r.date_first},{register:o,handleSubmit:s}=Hv({defaultValues:i}),a=l=>{const u=`/balance/trial-balance/${l.date}`;n(u)};return g.jsxs(Ri,{size:"md",children:[g.jsxs("form",{onSubmit:s(a),children:[g.jsx(Jt.Wrapper,{label:"",children:g.jsx(Jt,{type:"date",...o("date")})}),g.jsx(Jt.Wrapper,{children:g.jsx(Lr,{type:"submit",children:""})})]}),g.jsx(zB,{resp:r})]})},QB=()=>g.jsxs(Op,{children:[g.jsx(Vr,{index:!0,element:g.jsx(GB,{})}),g.jsx(Vr,{path:"/trial-balance/:date",element:g.jsx(VB,{})})]}),GB=()=>{const t=new Date,r=`/balance/trial-balance/${wr.fromDate(t)}`;return g.jsxs(Ri,{children:[g.jsx("h1",{children:"balance"}),g.jsx(pn,{component:Ln,to:r,children:""})]})},JB={_tag:"api",endpoint:"://127.0.0.1:3000",session:{}},ku=A.createContext(JB);function el(t){return typeof t>"u"||t===void 0}function Oi(t){return typeof t=="string"}function Xv(t){return typeof t=="number"}function ag(t){return typeof t=="boolean"}function $x(t){return t===null}function ER(t){return t instanceof Date}function jx(t){return typeof t=="bigint"}function YB(t){return typeof Buffer<"u"&&Buffer.isBuffer(t)}function $i(t){return typeof t=="function"}function Ro(t){return typeof t=="object"&&t!==null}function KB(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}function ZB(t){return Ro(t)&&!Array.isArray(t)&&!ER(t)&&!YB(t)&&!KB(t)}function x(t){return Object.freeze(t)}function Tm(t){return na(t)?t:[t]}function na(t){return Array.isArray(t)}function tl(t){return t}const rr=x({is(t){return t.kind==="AlterTableNode"},create(t){return x({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return x({...t,...e})},cloneWithColumnAlteration(t,e){return x({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),br=x({is(t){return t.kind==="IdentifierNode"},create(t){return x({kind:"IdentifierNode",name:t})}}),Ss=x({is(t){return t.kind==="CreateIndexNode"},create(t){return x({kind:"CreateIndexNode",name:br.create(t)})},cloneWith(t,e){return x({...t,...e})},cloneWithColumns(t,e){return x({...t,columns:[...t.columns||[],...e]})}}),NR=x({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return x({kind:"CreateSchemaNode",schema:br.create(t),...e})},cloneWith(t,e){return x({...t,...e})}}),XB=["preserve rows","delete rows","drop"],mi=x({is(t){return t.kind==="CreateTableNode"},create(t){return x({kind:"CreateTableNode",table:t,columns:x([])})},cloneWithColumn(t,e){return x({...t,columns:x([...t.columns,e])})},cloneWithConstraint(t,e){return x({...t,constraints:t.constraints?x([...t.constraints,e]):x([e])})},cloneWithFrontModifier(t,e){return x({...t,frontModifiers:t.frontModifiers?x([...t.frontModifiers,e]):x([e])})},cloneWithEndModifier(t,e){return x({...t,endModifiers:t.endModifiers?x([...t.endModifiers,e]):x([e])})},cloneWith(t,e){return x({...t,...e})}}),cl=x({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return x({kind:"SchemableIdentifierNode",identifier:br.create(t)})},createWithSchema(t,e){return x({kind:"SchemableIdentifierNode",schema:br.create(t),identifier:br.create(e)})}}),Ff=x({is(t){return t.kind==="DropIndexNode"},create(t,e){return x({kind:"DropIndexNode",name:cl.create(t),...e})},cloneWith(t,e){return x({...t,...e})}}),wb=x({is(t){return t.kind==="DropSchemaNode"},create(t,e){return x({kind:"DropSchemaNode",schema:br.create(t),...e})},cloneWith(t,e){return x({...t,...e})}}),bb=x({is(t){return t.kind==="DropTableNode"},create(t,e){return x({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return x({...t,...e})}}),wl=x({is(t){return t.kind==="AliasNode"},create(t,e){return x({kind:"AliasNode",node:t,alias:e})}}),rl=x({is(t){return t.kind==="TableNode"},create(t){return x({kind:"TableNode",table:cl.create(t)})},createWithSchema(t,e){return x({kind:"TableNode",table:cl.createWithSchema(t,e)})}});function ui(t){return Ro(t)&&$i(t.toOperationNode)}function eF(t){return Ro(t)&&"expressionType"in t&&ui(t)}function tF(t){return Ro(t)&&"expression"in t&&Oi(t.alias)&&ui(t)}const _s=x({is(t){return t.kind==="SelectModifierNode"},create(t,e){return x({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return x({kind:"SelectModifierNode",rawModifier:t})}}),dl=x({is(t){return t.kind==="AndNode"},create(t,e){return x({kind:"AndNode",left:t,right:e})}}),Bd=x({is(t){return t.kind==="OrNode"},create(t,e){return x({kind:"OrNode",left:t,right:e})}}),jw=x({is(t){return t.kind==="OnNode"},create(t){return x({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return x({...t,on:e==="And"?dl.create(t.on,r):Bd.create(t.on,r)})}}),Wf=x({is(t){return t.kind==="JoinNode"},create(t,e){return x({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return x({kind:"JoinNode",joinType:t,table:e,on:jw.create(r)})},cloneWithOn(t,e){return x({...t,on:t.on?jw.cloneWithOperation(t.on,"And",e):jw.create(e)})}}),_d=x({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return x({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),rF=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","&&","?","?&","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],nF=["+","-","*","/","%","^","&","|","#","<<",">>"],kR=["->","->>"],iF=[...rF,...nF,"&&","||"],oF=["exists","not exists"],sF=["not","-",...oF],aF=[...iF,...kR,...sF,"between","between symmetric"],fl=x({is(t){return t.kind==="OperatorNode"},create(t){return x({kind:"OperatorNode",operator:t})}});function hN(t){return Oi(t)&&kR.includes(t)}const Qr=x({is(t){return t.kind==="ColumnNode"},create(t){return x({kind:"ColumnNode",column:br.create(t)})}}),Lx=x({is(t){return t.kind==="SelectAllNode"},create(){return x({kind:"SelectAllNode"})}}),e0=x({is(t){return t.kind==="ReferenceNode"},create(t,e){return x({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return x({kind:"ReferenceNode",table:t,column:Lx.create()})}});var qc;class lF{constructor(e){ie(this,qc,void 0);se(this,qc,e)}get dynamicReference(){return d(this,qc)}get refType(){}toOperationNode(){return AR(d(this,qc))}}qc=new WeakMap;function CR(t){return Ro(t)&&ui(t)&&Oi(t.dynamicReference)}const _b=x({is(t){return t.kind==="OrderByItemNode"},create(t,e){return x({kind:"OrderByItemNode",orderBy:t,direction:e})}}),xn=x({is(t){return t.kind==="RawNode"},create(t,e){return x({kind:"RawNode",sqlFragments:x(t),parameters:x(e)})},createWithSql(t){return xn.create([t],[])},createWithChild(t){return xn.create(["",""],[t])},createWithChildren(t){return xn.create(new Array(t.length+1).fill(""),t)}});function TR(t){return t==="asc"||t==="desc"}function t0(t){if(t.length===2)return[Lw(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>Lw(r)):[Lw(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function Lw(t,e){const r=uF(t);if(_b.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return _b.create(r,RR(e))}function uF(t){if(Wp(t))return Lu(t);if(CR(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!TR(r))throw new Error(`Invalid order by direction: ${r}`);return _b.create(ia(e),RR(r))}return ia(t)}function RR(t){if(t)return t==="asc"||t==="desc"?xn.createWithSql(t):t.toOperationNode()}const lg=x({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return x({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return x({...t,traversal:e})}}),OR=x({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return x({kind:"JSONOperatorChainNode",operator:t,values:x([])})},cloneWithValue(t,e){return x({...t,values:x([...t.values,e])})}}),qf=x({is(t){return t.kind==="JSONPathNode"},create(t){return x({kind:"JSONPathNode",inOperator:t,pathLegs:x([])})},cloneWithLeg(t,e){return x({...t,pathLegs:x([...t.pathLegs,e])})}});function AR(t){return Oi(t)?ia(t):t.toOperationNode()}function qh(t){return na(t)?t.map(e=>Ni(e)):[Ni(t)]}function Ni(t){return Wp(t)?Lu(t):AR(t)}function cF(t,e){const r=ia(t);if(hN(e))return lg.create(r,OR.create(fl.create(e)));const n=e.slice(0,-1);if(hN(n))return lg.create(r,qf.create(fl.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function ia(t){const e=".";if(!t.includes(e))return e0.create(Qr.create(t));const r=t.split(e).map(Dx);if(r.length===3)return fF(r);if(r.length===2)return hF(r);throw new Error(`invalid column reference ${t}`)}function dF(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(Dx);return wl.create(ia(r),br.create(n))}else return ia(t)}function IR(t){return Qr.create(t)}function ug(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(Dx);if(!TR(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return t0([r,n])[0]}else return IR(t)}function fF(t){const[e,r,n]=t;return e0.create(Qr.create(n),rl.createWithSchema(e,r))}function hF(t){const[e,r]=t;return e0.create(Qr.create(r),rl.create(e))}function Dx(t){return t.trim()}const PR=x({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return x({kind:"PrimitiveValueListNode",values:x([...t])})}}),Mx=x({is(t){return t.kind==="ValueListNode"},create(t){return x({kind:"ValueListNode",values:x(t)})}}),ds=x({is(t){return t.kind==="ValueNode"},create(t){return x({kind:"ValueNode",value:t})},createImmediate(t){return x({kind:"ValueNode",value:t,immediate:!0})}});function pF(t){return na(t)?mF(t):Zr(t)}function Zr(t){return Wp(t)?Lu(t):ds.create(t)}function Bx(t){return Xv(t)||ag(t)||$x(t)}function Fx(t){if(!Bx(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return ds.createImmediate(t)}function mF(t){return t.some(Wp)?Mx.create(t.map(e=>Zr(e))):PR.create(t)}const xd=x({is(t){return t.kind==="ParensNode"},create(t){return x({kind:"ParensNode",node:t})}});function Nn(t){if(t.length===3)return Wx(t[0],t[1],t[2]);if(t.length===1)return Zr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function Wx(t,e,r){return yF(e)&&$R(r)?_d.create(Ni(t),xb(e),ds.createImmediate(r)):_d.create(Ni(t),xb(e),pF(r))}function fs(t,e,r){return _d.create(Ni(t),xb(e),Ni(r))}function pN(t,e){return cg(Object.entries(t).filter(([,r])=>!el(r)).map(([r,n])=>Wx(r,$R(n)?"is":"=",n)),e)}function cg(t,e,r=!0){const n=e==="and"?dl.create:Bd.create;if(t.length===0)return _d.create(ds.createImmediate(1),fl.create("="),ds.createImmediate(e==="and"?1:0));let i=mN(t[0]);for(let o=1;o<t.length;++o)i=n(i,mN(t[o]));return t.length>1&&r?xd.create(i):i}function yF(t){return t==="is"||t==="is not"}function $R(t){return $x(t)||ag(t)}function xb(t){if(Oi(t)&&aF.includes(t))return fl.create(t);if(ui(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function mN(t){return ui(t)?t.toOperationNode():t}const Sd=x({is(t){return t.kind==="OrderByNode"},create(t){return x({kind:"OrderByNode",items:x([...t])})},cloneWithItems(t,e){return x({...t,items:x([...t.items,...e])})}}),yN=x({is(t){return t.kind==="PartitionByNode"},create(t){return x({kind:"PartitionByNode",items:x(t)})},cloneWithItems(t,e){return x({...t,items:x([...t.items,...e])})}}),Sb=x({is(t){return t.kind==="OverNode"},create(){return x({kind:"OverNode"})},cloneWithOrderByItems(t,e){return x({...t,orderBy:t.orderBy?Sd.cloneWithItems(t.orderBy,e):Sd.create(e)})},cloneWithPartitionByItems(t,e){return x({...t,partitionBy:t.partitionBy?yN.cloneWithItems(t.partitionBy,e):yN.create(e)})}}),dg=x({is(t){return t.kind==="FromNode"},create(t){return x({kind:"FromNode",froms:x(t)})},cloneWithFroms(t,e){return x({...t,froms:x([...t.froms,...e])})}}),gN=x({is(t){return t.kind==="GroupByNode"},create(t){return x({kind:"GroupByNode",items:x(t)})},cloneWithItems(t,e){return x({...t,items:x([...t.items,...e])})}}),vN=x({is(t){return t.kind==="HavingNode"},create(t){return x({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return x({...t,having:e==="And"?dl.create(t.having,r):Bd.create(t.having,r)})}}),Ot=x({is(t){return t.kind==="SelectQueryNode"},create(t){return x({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return x({kind:"SelectQueryNode",from:dg.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return x({...t,selections:t.selections?x([...t.selections,...e]):x(e)})},cloneWithDistinctOn(t,e){return x({...t,distinctOn:t.distinctOn?x([...t.distinctOn,...e]):x(e)})},cloneWithFrontModifier(t,e){return x({...t,frontModifiers:t.frontModifiers?x([...t.frontModifiers,e]):x([e])})},cloneWithEndModifier(t,e){return x({...t,endModifiers:t.endModifiers?x([...t.endModifiers,e]):x([e])})},cloneWithOrderByItems(t,e){return x({...t,orderBy:t.orderBy?Sd.cloneWithItems(t.orderBy,e):Sd.create(e)})},cloneWithGroupByItems(t,e){return x({...t,groupBy:t.groupBy?gN.cloneWithItems(t.groupBy,e):gN.create(e)})},cloneWithLimit(t,e){return x({...t,limit:e})},cloneWithOffset(t,e){return x({...t,offset:e})},cloneWithFetch(t,e){return x({...t,fetch:e})},cloneWithHaving(t,e){return x({...t,having:t.having?vN.cloneWithOperation(t.having,"And",e):vN.create(e)})},cloneWithSetOperations(t,e){return x({...t,setOperations:t.setOperations?x([...t.setOperations,...e]):x([...e])})},cloneWithoutSelections(t){return x({...t,selections:[]})},cloneWithoutLimit(t){return x({...t,limit:void 0})},cloneWithoutOffset(t){return x({...t,offset:void 0})},cloneWithoutOrderBy(t){return x({...t,orderBy:void 0})}});function Et(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}var yo;const Jf=class Jf{constructor(e){ie(this,yo,void 0);se(this,yo,x(e))}on(...e){return new Jf({...d(this,yo),joinNode:Wf.cloneWithOn(d(this,yo).joinNode,Nn(e))})}onRef(e,r,n){return new Jf({...d(this,yo),joinNode:Wf.cloneWithOn(d(this,yo).joinNode,fs(e,r,n))})}onTrue(){return new Jf({...d(this,yo),joinNode:Wf.cloneWithOn(d(this,yo).joinNode,xn.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return d(this,yo).joinNode}};yo=new WeakMap;let fg=Jf;Et(fg,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const gF=x({is(t){return t.kind==="PartitionByItemNode"},create(t){return x({kind:"PartitionByItemNode",partitionBy:t})}});function vF(t){return qh(t).map(gF.create)}var Jl;const zg=class zg{constructor(e){ie(this,Jl,void 0);se(this,Jl,x(e))}orderBy(e,r){return new zg({overNode:Sb.cloneWithOrderByItems(d(this,Jl).overNode,t0([e,r]))})}partitionBy(e){return new zg({overNode:Sb.cloneWithPartitionByItems(d(this,Jl).overNode,vF(e))})}$call(e){return e(this)}toOperationNode(){return d(this,Jl).overNode}};Jl=new WeakMap;let hg=zg;Et(hg,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Uf=x({is(t){return t.kind==="SelectionNode"},create(t){return x({kind:"SelectionNode",selection:t})},createSelectAll(){return x({kind:"SelectionNode",selection:Lx.create()})},createSelectAllFromTable(t){return x({kind:"SelectionNode",selection:e0.createSelectAll(t)})}});function Fd(t){return $i(t)?Fd(t(qd())):na(t)?t.map(e=>wN(e)):[wN(t)]}function wN(t){return Oi(t)?Uf.create(dF(t)):CR(t)?Uf.create(t.toOperationNode()):Uf.create(YR(t))}function Lp(t){return t?Array.isArray(t)?t.map(bN):[bN(t)]:[Uf.createSelectAll()]}function bN(t){if(Oi(t))return Uf.createSelectAllFromTable(Hr(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const wF=x({is(t){return t.kind==="ValuesNode"},create(t){return x({kind:"ValuesNode",values:x(t)})}}),bF=x({is(t){return t.kind==="DefaultInsertValueNode"},create(){return x({kind:"DefaultInsertValueNode"})}});function jR(t){const e=$i(t)?t(qd()):t,r=na(e)?e:x([e]);return _F(r)}function _F(t){const e=xF(t);return[x([...e.keys()].map(Qr.create)),wF.create(t.map(r=>SF(r,e)))]}function xF(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const i of n)!e.has(i)&&r[i]!==void 0&&e.set(i,e.size)}return e}function SF(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let i=!1;for(const s of r){const a=e.get(s);if(el(a))continue;const l=t[s];(el(l)||Wp(l))&&(i=!0),n[a]=l}if(r.length<e.size||i){const s=bF.create();return Mx.create(n.map(a=>el(a)?s:Zr(a)))}return PR.create(n)}const Ei=x({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return x({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return x({kind:"InsertQueryNode"})},cloneWith(t,e){return x({...t,...e})}}),Dc=x({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return x({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return x({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return x({...t,from:t.from?dg.cloneWithFroms(t.from,e):dg.create(e)})},cloneWithUpdates(t,e){return x({...t,updates:t.updates?x([...t.updates,...e]):e})},cloneWithLimit(t,e){return x({...t,limit:e})}}),_N=x({is(t){return t.kind==="UsingNode"},create(t){return x({kind:"UsingNode",tables:x(t)})},cloneWithTables(t,e){return x({...t,tables:x([...t.tables,...e])})}}),Il=x({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return x({kind:"DeleteQueryNode",from:dg.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return x({...t,orderBy:t.orderBy?Sd.cloneWithItems(t.orderBy,e):Sd.create(e)})},cloneWithoutOrderBy(t){return x({...t,orderBy:void 0})},cloneWithLimit(t,e){return x({...t,limit:e})},cloneWithoutLimit(t){return x({...t,limit:void 0})},cloneWithUsing(t,e){return x({...t,using:t.using!==void 0?_N.cloneWithTables(t.using,e):_N.create(e)})}}),ri=x({is(t){return t.kind==="WhereNode"},create(t){return x({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return x({...t,where:e==="And"?dl.create(t.where,r):Bd.create(t.where,r)})}}),xN=x({is(t){return t.kind==="ReturningNode"},create(t){return x({kind:"ReturningNode",selections:x(t)})},cloneWithSelections(t,e){return x({...t,selections:t.selections?x([...t.selections,...e]):x(e)})}}),EF=x({is(t){return t.kind==="ExplainNode"},create(t,e){return x({kind:"ExplainNode",format:t,options:e})}}),Dp=x({is(t){return t.kind==="WhenNode"},create(t){return x({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return x({...t,result:e})}}),oi=x({is(t){return t.kind==="MergeQueryNode"},create(t,e){return x({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return x({...t,using:e})},cloneWithWhen(t,e){return x({...t,whens:t.whens?x([...t.whens,e]):x([e])})},cloneWithThen(t,e){return x({...t,whens:t.whens?x([...t.whens.slice(0,-1),Dp.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),dt=x({is(t){return Ot.is(t)||Ei.is(t)||Dc.is(t)||Il.is(t)||oi.is(t)},cloneWithWhere(t,e){return x({...t,where:t.where?ri.cloneWithOperation(t.where,"And",e):ri.create(e)})},cloneWithJoin(t,e){return x({...t,joins:t.joins?x([...t.joins,e]):x([e])})},cloneWithReturning(t,e){return x({...t,returning:t.returning?xN.cloneWithSelections(t.returning,e):xN.create(e)})},cloneWithoutReturning(t){return x({...t,returning:void 0})},cloneWithoutWhere(t){return x({...t,where:void 0})},cloneWithExplain(t,e,r){return x({...t,explain:EF.create(e,r==null?void 0:r.toOperationNode())})},cloneWithTop(t,e){return x({...t,top:e})}}),LR=x({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return x({kind:"ColumnUpdateNode",column:t,value:e})}});function NF(...t){return t.length===2?[LR.create(Ni(t[0]),Zr(t[1]))]:qx(t[0])}function qx(t){const e=$i(t)?t(qd()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>LR.create(Qr.create(r),Zr(n)))}const kF=x({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return x({kind:"OnDuplicateKeyNode",updates:t})}});class CF{constructor(e,r){Ie(this,"insertId");Ie(this,"numInsertedOrUpdatedRows");this.insertId=e,this.numInsertedOrUpdatedRows=r}}class Mp extends Error{constructor(r){super("no result");Ie(this,"node");this.node=r}}function Bp(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const xi=x({is(t){return t.kind==="OnConflictNode"},create(){return x({kind:"OnConflictNode"})},cloneWith(t,e){return x({...t,...e})},cloneWithIndexWhere(t,e){return x({...t,indexWhere:t.indexWhere?ri.cloneWithOperation(t.indexWhere,"And",e):ri.create(e)})},cloneWithIndexOrWhere(t,e){return x({...t,indexWhere:t.indexWhere?ri.cloneWithOperation(t.indexWhere,"Or",e):ri.create(e)})},cloneWithUpdateWhere(t,e){return x({...t,updateWhere:t.updateWhere?ri.cloneWithOperation(t.updateWhere,"And",e):ri.create(e)})},cloneWithUpdateOrWhere(t,e){return x({...t,updateWhere:t.updateWhere?ri.cloneWithOperation(t.updateWhere,"Or",e):ri.create(e)})},cloneWithoutIndexWhere(t){return x({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return x({...t,updateWhere:void 0})}});var lr;const Ns=class Ns{constructor(e){ie(this,lr,void 0);se(this,lr,x(e))}column(e){const r=Qr.create(e);return new Ns({...d(this,lr),onConflictNode:xi.cloneWith(d(this,lr).onConflictNode,{columns:d(this,lr).onConflictNode.columns?x([...d(this,lr).onConflictNode.columns,r]):x([r])})})}columns(e){const r=e.map(Qr.create);return new Ns({...d(this,lr),onConflictNode:xi.cloneWith(d(this,lr).onConflictNode,{columns:d(this,lr).onConflictNode.columns?x([...d(this,lr).onConflictNode.columns,...r]):x(r)})})}constraint(e){return new Ns({...d(this,lr),onConflictNode:xi.cloneWith(d(this,lr).onConflictNode,{constraint:br.create(e)})})}expression(e){return new Ns({...d(this,lr),onConflictNode:xi.cloneWith(d(this,lr).onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new Ns({...d(this,lr),onConflictNode:xi.cloneWithIndexWhere(d(this,lr).onConflictNode,Nn(e))})}whereRef(e,r,n){return new Ns({...d(this,lr),onConflictNode:xi.cloneWithIndexWhere(d(this,lr).onConflictNode,fs(e,r,n))})}clearWhere(){return new Ns({...d(this,lr),onConflictNode:xi.cloneWithoutIndexWhere(d(this,lr).onConflictNode)})}doNothing(){return new DR({...d(this,lr),onConflictNode:xi.cloneWith(d(this,lr).onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new mg({...d(this,lr),onConflictNode:xi.cloneWith(d(this,lr).onConflictNode,{updates:qx(e)})})}$call(e){return e(this)}};lr=new WeakMap;let pg=Ns;Et(pg,"don't await OnConflictBuilder instances.");var Xh;class DR{constructor(e){ie(this,Xh,void 0);se(this,Xh,x(e))}toOperationNode(){return d(this,Xh).onConflictNode}}Xh=new WeakMap;Et(DR,"don't await OnConflictDoNothingBuilder instances.");var go;const Yf=class Yf{constructor(e){ie(this,go,void 0);se(this,go,x(e))}where(...e){return new Yf({...d(this,go),onConflictNode:xi.cloneWithUpdateWhere(d(this,go).onConflictNode,Nn(e))})}whereRef(e,r,n){return new Yf({...d(this,go),onConflictNode:xi.cloneWithUpdateWhere(d(this,go).onConflictNode,fs(e,r,n))})}clearWhere(){return new Yf({...d(this,go),onConflictNode:xi.cloneWithoutUpdateWhere(d(this,go).onConflictNode)})}$call(e){return e(this)}toOperationNode(){return d(this,go).onConflictNode}};go=new WeakMap;let mg=Yf;Et(mg,"don't await OnConflictUpdateBuilder instances.");const TF=x({is(t){return t.kind==="TopNode"},create(t,e){return x({kind:"TopNode",expression:t,modifiers:e})}});function Wd(t,e){if(!Xv(t)&&!jx(t))throw new Error(`Invalid top expression: ${t}`);if(!el(e)&&!RF(e))throw new Error(`Invalid top modifiers: ${e}`);return TF.create(t,e)}function RF(t){return t==="percent"||t==="with ties"||t==="percent with ties"}var mt;const tn=class tn{constructor(e){ie(this,mt,void 0);se(this,mt,x(e))}values(e){const[r,n]=jR(e);return new tn({...d(this,mt),queryNode:Ei.cloneWith(d(this,mt).queryNode,{columns:r,values:n})})}columns(e){return new tn({...d(this,mt),queryNode:Ei.cloneWith(d(this,mt).queryNode,{columns:x(e.map(Qr.create))})})}expression(e){return new tn({...d(this,mt),queryNode:Ei.cloneWith(d(this,mt).queryNode,{values:Lu(e)})})}defaultValues(){return new tn({...d(this,mt),queryNode:Ei.cloneWith(d(this,mt).queryNode,{defaultValues:!0})})}ignore(){return new tn({...d(this,mt),queryNode:Ei.cloneWith(d(this,mt).queryNode,{ignore:!0})})}top(e,r){return new tn({...d(this,mt),queryNode:dt.cloneWithTop(d(this,mt).queryNode,Wd(e,r))})}onConflict(e){return new tn({...d(this,mt),queryNode:Ei.cloneWith(d(this,mt).queryNode,{onConflict:e(new pg({onConflictNode:xi.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new tn({...d(this,mt),queryNode:Ei.cloneWith(d(this,mt).queryNode,{onDuplicateKey:kF.create(qx(e))})})}returning(e){return new tn({...d(this,mt),queryNode:dt.cloneWithReturning(d(this,mt).queryNode,Fd(e))})}returningAll(){return new tn({...d(this,mt),queryNode:dt.cloneWithReturning(d(this,mt).queryNode,Lp())})}clearReturning(){return new tn({...d(this,mt),queryNode:dt.cloneWithoutReturning(d(this,mt).queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new tn({...d(this,mt)})}$castTo(){return new tn(d(this,mt))}$narrowType(){return new tn(d(this,mt))}$assertType(){return new tn(d(this,mt))}withPlugin(e){return new tn({...d(this,mt),executor:d(this,mt).executor.withPlugin(e)})}toOperationNode(){return d(this,mt).executor.transformQuery(d(this,mt).queryNode,d(this,mt).queryId)}compile(){return d(this,mt).executor.compileQuery(this.toOperationNode(),d(this,mt).queryId)}async execute(){const e=this.compile(),r=e.query,n=await d(this,mt).executor.executeQuery(e,d(this,mt).queryId);return d(this,mt).executor.adapter.supportsReturning&&r.returning?n.rows:[new CF(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Mp){const r=await this.executeTakeFirst();if(r===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){const r=this.compile(),n=d(this,mt).executor.stream(r,e,d(this,mt).queryId);for await(const i of n)yield*i.rows}async explain(e,r){return await new tn({...d(this,mt),queryNode:dt.cloneWithExplain(d(this,mt).queryNode,e,r)}).execute()}};mt=new WeakMap;let Uh=tn;Et(Uh,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class OF{constructor(e){Ie(this,"numDeletedRows");this.numDeletedRows=e}}const Ux=x({is(t){return t.kind==="LimitNode"},create(t){return x({kind:"LimitNode",limit:t})}});var rt;const gr=class gr{constructor(e){ie(this,rt,void 0);se(this,rt,x(e))}where(...e){return new gr({...d(this,rt),queryNode:dt.cloneWithWhere(d(this,rt).queryNode,Nn(e))})}whereRef(e,r,n){return new gr({...d(this,rt),queryNode:dt.cloneWithWhere(d(this,rt).queryNode,fs(e,r,n))})}clearWhere(){return new gr({...d(this,rt),queryNode:dt.cloneWithoutWhere(d(this,rt).queryNode)})}top(e,r){return new gr({...d(this,rt),queryNode:dt.cloneWithTop(d(this,rt).queryNode,Wd(e,r))})}using(e){return new gr({...d(this,rt),queryNode:Il.cloneWithUsing(d(this,rt).queryNode,Vh(e))})}innerJoin(...e){return new gr({...d(this,rt),queryNode:dt.cloneWithJoin(d(this,rt).queryNode,Gn("InnerJoin",e))})}leftJoin(...e){return new gr({...d(this,rt),queryNode:dt.cloneWithJoin(d(this,rt).queryNode,Gn("LeftJoin",e))})}rightJoin(...e){return new gr({...d(this,rt),queryNode:dt.cloneWithJoin(d(this,rt).queryNode,Gn("RightJoin",e))})}fullJoin(...e){return new gr({...d(this,rt),queryNode:dt.cloneWithJoin(d(this,rt).queryNode,Gn("FullJoin",e))})}returning(e){return new gr({...d(this,rt),queryNode:dt.cloneWithReturning(d(this,rt).queryNode,Fd(e))})}returningAll(e){return new gr({...d(this,rt),queryNode:dt.cloneWithReturning(d(this,rt).queryNode,Lp(e))})}clearReturning(){return new gr({...d(this,rt),queryNode:dt.cloneWithoutReturning(d(this,rt).queryNode)})}clearLimit(){return new gr({...d(this,rt),queryNode:Il.cloneWithoutLimit(d(this,rt).queryNode)})}clearOrderBy(){return new gr({...d(this,rt),queryNode:Il.cloneWithoutOrderBy(d(this,rt).queryNode)})}orderBy(e,r){return new gr({...d(this,rt),queryNode:Il.cloneWithOrderByItems(d(this,rt).queryNode,t0([e,r]))})}limit(e){return new gr({...d(this,rt),queryNode:Il.cloneWithLimit(d(this,rt).queryNode,Ux.create(Zr(e)))})}$call(e){return e(this)}$if(e,r){return e?r(this):new gr({...d(this,rt)})}$castTo(){return new gr(d(this,rt))}$narrowType(){return new gr(d(this,rt))}$assertType(){return new gr(d(this,rt))}withPlugin(e){return new gr({...d(this,rt),executor:d(this,rt).executor.withPlugin(e)})}toOperationNode(){return d(this,rt).executor.transformQuery(d(this,rt).queryNode,d(this,rt).queryId)}compile(){return d(this,rt).executor.compileQuery(this.toOperationNode(),d(this,rt).queryId)}async execute(){const e=this.compile(),r=e.query,n=await d(this,rt).executor.executeQuery(e,d(this,rt).queryId);return d(this,rt).executor.adapter.supportsReturning&&r.returning?n.rows:[new OF(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Mp){const r=await this.executeTakeFirst();if(r===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){const r=this.compile(),n=d(this,rt).executor.stream(r,e,d(this,rt).queryId);for await(const i of n)yield*i.rows}async explain(e,r){return await new gr({...d(this,rt),queryNode:dt.cloneWithExplain(d(this,rt).queryNode,e,r)}).execute()}};rt=new WeakMap;let yg=gr;Et(yg,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class AF{constructor(e,r){Ie(this,"numUpdatedRows");Ie(this,"numChangedRows");this.numUpdatedRows=e,this.numChangedRows=r}}var st;const Ar=class Ar{constructor(e){ie(this,st,void 0);se(this,st,x(e))}where(...e){return new Ar({...d(this,st),queryNode:dt.cloneWithWhere(d(this,st).queryNode,Nn(e))})}whereRef(e,r,n){return new Ar({...d(this,st),queryNode:dt.cloneWithWhere(d(this,st).queryNode,fs(e,r,n))})}clearWhere(){return new Ar({...d(this,st),queryNode:dt.cloneWithoutWhere(d(this,st).queryNode)})}top(e,r){return new Ar({...d(this,st),queryNode:dt.cloneWithTop(d(this,st).queryNode,Wd(e,r))})}from(e){return new Ar({...d(this,st),queryNode:Dc.cloneWithFromItems(d(this,st).queryNode,Vh(e))})}innerJoin(...e){return new Ar({...d(this,st),queryNode:dt.cloneWithJoin(d(this,st).queryNode,Gn("InnerJoin",e))})}leftJoin(...e){return new Ar({...d(this,st),queryNode:dt.cloneWithJoin(d(this,st).queryNode,Gn("LeftJoin",e))})}rightJoin(...e){return new Ar({...d(this,st),queryNode:dt.cloneWithJoin(d(this,st).queryNode,Gn("RightJoin",e))})}fullJoin(...e){return new Ar({...d(this,st),queryNode:dt.cloneWithJoin(d(this,st).queryNode,Gn("FullJoin",e))})}limit(e){return new Ar({...d(this,st),queryNode:Dc.cloneWithLimit(d(this,st).queryNode,Ux.create(Zr(e)))})}set(...e){return new Ar({...d(this,st),queryNode:Dc.cloneWithUpdates(d(this,st).queryNode,NF(...e))})}returning(e){return new Ar({...d(this,st),queryNode:dt.cloneWithReturning(d(this,st).queryNode,Fd(e))})}returningAll(){return new Ar({...d(this,st),queryNode:dt.cloneWithReturning(d(this,st).queryNode,Lp())})}clearReturning(){return new Ar({...d(this,st),queryNode:dt.cloneWithoutReturning(d(this,st).queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Ar({...d(this,st)})}$castTo(){return new Ar(d(this,st))}$narrowType(){return new Ar(d(this,st))}$assertType(){return new Ar(d(this,st))}withPlugin(e){return new Ar({...d(this,st),executor:d(this,st).executor.withPlugin(e)})}toOperationNode(){return d(this,st).executor.transformQuery(d(this,st).queryNode,d(this,st).queryId)}compile(){return d(this,st).executor.compileQuery(this.toOperationNode(),d(this,st).queryId)}async execute(){const e=this.compile(),r=e.query,n=await d(this,st).executor.executeQuery(e,d(this,st).queryId);return d(this,st).executor.adapter.supportsReturning&&r.returning?n.rows:[new AF(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Mp){const r=await this.executeTakeFirst();if(r===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){const r=this.compile(),n=d(this,st).executor.stream(r,e,d(this,st).queryId);for await(const i of n)yield*i.rows}async explain(e,r){return await new Ar({...d(this,st),queryNode:dt.cloneWithExplain(d(this,st).queryNode,e,r)}).execute()}};st=new WeakMap;let zh=Ar;Et(zh,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const SN=x({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return x({kind:"CommonTableExpressionNameNode",table:rl.create(t),columns:e?x(e.map(Qr.create)):void 0})}}),gg=x({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return x({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return x({...t,...e})}});var Os;const Vg=class Vg{constructor(e){ie(this,Os,void 0);se(this,Os,x(e))}materialized(){return new Vg({...d(this,Os),node:gg.cloneWith(d(this,Os).node,{materialized:!0})})}notMaterialized(){return new Vg({...d(this,Os),node:gg.cloneWith(d(this,Os).node,{materialized:!1})})}toOperationNode(){return d(this,Os).node}};Os=new WeakMap;let vg=Vg;Et(vg,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function EN(t,e){const r=e(UF()).toOperationNode();return $i(t)?t(IF(r)).toOperationNode():gg.create(MR(t),r)}function IF(t){return e=>new vg({node:gg.create(MR(e),t)})}function MR(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(i=>i.trim());return SN.create(r,n)}else return SN.create(t)}const Rm=x({is(t){return t.kind==="WithNode"},create(t,e){return x({kind:"WithNode",expressions:x([t]),...e})},cloneWithExpression(t,e){return x({...t,expressions:x([...t.expressions,e])})}}),NN=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function PF(t){let e="";for(let r=0;r<t;++r)e+=$F();return e}function $F(){return NN[~~(Math.random()*NN.length)]}function nr(){return new jF}var Uc;class jF{constructor(){ie(this,Uc,void 0)}get queryId(){return d(this,Uc)===void 0&&se(this,Uc,PF(8)),d(this,Uc)}}Uc=new WeakMap;var Hg;class zx{constructor(){Ie(this,"nodeStack",[]);ie(this,Hg,x({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this)}))}transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),x(r)}transformNodeImpl(e){return d(this,Hg)[e.kind](e)}transformNodeList(e){return e&&x(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:x([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}Hg=new WeakMap;const LF=x({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});var zc,Yl,Kl,Qg,BR,Gg,FR,Jg,WR,Ra,nc,ep,Eb,Yg,qR;class DF extends zx{constructor(r){super();ie(this,Qg);ie(this,Gg);ie(this,Jg);ie(this,Ra);ie(this,ep);ie(this,Yg);ie(this,zc,void 0);ie(this,Yl,new Set);ie(this,Kl,new Set);se(this,zc,r)}transformNodeImpl(r){if(!_t(this,Qg,BR).call(this,r))return super.transformNodeImpl(r);const n=_t(this,Jg,WR).call(this,r);for(const s of n)d(this,Kl).add(s);const i=_t(this,Gg,FR).call(this,r);for(const s of i)d(this,Yl).add(s);const o=super.transformNodeImpl(r);for(const s of i)d(this,Yl).delete(s);for(const s of n)d(this,Kl).delete(s);return o}transformSchemableIdentifier(r){const n=super.transformSchemableIdentifier(r);return n.schema||!d(this,Yl).has(r.identifier.name)?n:{...n,schema:br.create(d(this,zc))}}transformReferences(r){const n=super.transformReferences(r);return n.table.table.schema?n:{...n,table:rl.createWithSchema(d(this,zc),n.table.table.identifier.name)}}}zc=new WeakMap,Yl=new WeakMap,Kl=new WeakMap,Qg=new WeakSet,BR=function(r){return r.kind in LF},Gg=new WeakSet,FR=function(r){const n=new Set;if("name"in r&&r.name&&cl.is(r.name)&&_t(this,ep,Eb).call(this,r.name,n),"from"in r&&r.from)for(const i of r.from.froms)_t(this,Ra,nc).call(this,i,n);if("into"in r&&r.into&&_t(this,Ra,nc).call(this,r.into,n),"table"in r&&r.table&&_t(this,Ra,nc).call(this,r.table,n),"joins"in r&&r.joins)for(const i of r.joins)_t(this,Ra,nc).call(this,i.table,n);return"using"in r&&r.using&&_t(this,Ra,nc).call(this,r.using,n),n},Jg=new WeakSet,WR=function(r){const n=new Set;return"with"in r&&r.with&&_t(this,Yg,qR).call(this,r.with,n),n},Ra=new WeakSet,nc=function(r,n){const i=rl.is(r)?r:wl.is(r)&&rl.is(r.node)?r.node:null;i&&_t(this,ep,Eb).call(this,i.table,n)},ep=new WeakSet,Eb=function(r,n){const i=r.identifier.name;!d(this,Yl).has(i)&&!d(this,Kl).has(i)&&n.add(i)},Yg=new WeakSet,qR=function(r,n){for(const i of r.expressions){const o=i.name.table.table.identifier.name;d(this,Kl).has(o)||n.add(o)}};var tp;class Fp{constructor(e){ie(this,tp,void 0);se(this,tp,new DF(e))}transformQuery(e){return d(this,tp).transformNode(e.node)}async transformResult(e){return e.result}}tp=new WeakMap;const MF=x({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return x({kind:"MatchedNode",not:t,bySource:e})}});function kN(t,e,r){return Dp.create(cg([MF.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?fs(e[0],e[1],e[2]):Nn(e)]:[]],"and",!1))}function zf(t){return Oi(t)?xn.create([t],[]):ui(t)?t.toOperationNode():t}var rp,Vc,Hc,Lk;let CN=(Lk=class{constructor(){ie(this,rp,void 0);ie(this,Vc,void 0);ie(this,Hc,void 0);Ie(this,"resolve",e=>{d(this,Vc)&&d(this,Vc).call(this,e)});Ie(this,"reject",e=>{d(this,Hc)&&d(this,Hc).call(this,e)});se(this,rp,new Promise((e,r)=>{se(this,Hc,r),se(this,Vc,e)}))}get promise(){return d(this,rp)}},rp=new WeakMap,Vc=new WeakMap,Hc=new WeakMap,Lk);const TN=new Set;function BF(t){TN.has(t)||(TN.add(t),console.log(t))}const FF=x([]);var Zl,np,Nb;class UR{constructor(e=FF){ie(this,np);ie(this,Zl,void 0);se(this,Zl,e)}get plugins(){return d(this,Zl)}transformQuery(e,r){for(const n of d(this,Zl)){const i=n.transformQuery({node:e,queryId:r});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const i=await n.executeQuery(e),o=await _t(this,np,Nb).call(this,i,r);return WF(i,o),o})}async*stream(e,r,n){const i=new CN,o=new CN;this.provideConnection(async a=>(i.resolve(a),await o.promise)).catch(a=>i.reject(a));const s=await i.promise;try{for await(const a of s.streamQuery(e,r))yield await _t(this,np,Nb).call(this,a,n)}finally{o.resolve()}}}Zl=new WeakMap,np=new WeakSet,Nb=async function(e,r){for(const n of d(this,Zl))e=await n.transformResult({result:e,queryId:r});return e};function WF(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||BF("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Ec extends UR{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Ec([...this.plugins,e])}withPlugins(e){return new Ec([...this.plugins,...e])}withPluginAtFront(e){return new Ec([e,...this.plugins])}withoutPlugins(){return new Ec([])}}const r0=new Ec;class qF{constructor(e){Ie(this,"numChangedRows");this.numChangedRows=e}}var Oa;const kS=class kS{constructor(e){ie(this,Oa,void 0);se(this,Oa,x(e))}top(e,r){return new kS({...d(this,Oa),queryNode:dt.cloneWithTop(d(this,Oa).queryNode,Wd(e,r))})}using(...e){return new Qs({...d(this,Oa),queryNode:oi.cloneWithUsing(d(this,Oa).queryNode,Gn("Using",e))})}};Oa=new WeakMap;let wg=kS;Et(wg,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");var nn,Qc,oy,As,Tl;const Kg=class Kg{constructor(e){ie(this,Qc);ie(this,As);ie(this,nn,void 0);se(this,nn,x(e))}top(e,r){return new Kg({...d(this,nn),queryNode:dt.cloneWithTop(d(this,nn).queryNode,Wd(e,r))})}whenMatched(){return _t(this,Qc,oy).call(this,[])}whenMatchedAnd(...e){return _t(this,Qc,oy).call(this,e)}whenMatchedAndRef(e,r,n){return _t(this,Qc,oy).call(this,[e,r,n],!0)}whenNotMatched(){return _t(this,As,Tl).call(this,[])}whenNotMatchedAnd(...e){return _t(this,As,Tl).call(this,e)}whenNotMatchedAndRef(e,r,n){return _t(this,As,Tl).call(this,[e,r,n],!0)}whenNotMatchedBySource(){return _t(this,As,Tl).call(this,[],!1,!0)}whenNotMatchedBySourceAnd(...e){return _t(this,As,Tl).call(this,e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return _t(this,As,Tl).call(this,[e,r,n],!0,!0)}$call(e){return e(this)}$if(e,r){return e?r(this):new Kg({...d(this,nn)})}toOperationNode(){return d(this,nn).executor.transformQuery(d(this,nn).queryNode,d(this,nn).queryId)}compile(){return d(this,nn).executor.compileQuery(d(this,nn).queryNode,d(this,nn).queryId)}async execute(){const e=this.compile(),r=await d(this,nn).executor.executeQuery(e,d(this,nn).queryId);return[new qF(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Mp){const r=await this.executeTakeFirst();if(r===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}};nn=new WeakMap,Qc=new WeakSet,oy=function(e,r){return new kb({...d(this,nn),queryNode:oi.cloneWithWhen(d(this,nn).queryNode,kN({isMatched:!0},e,r))})},As=new WeakSet,Tl=function(e,r=!1,n=!1){const i={...d(this,nn),queryNode:oi.cloneWithWhen(d(this,nn).queryNode,kN({isMatched:!1,bySource:n},e,r))},o=n?kb:zR;return new o(i)};let Qs=Kg;Et(Qs,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");var vo;class kb{constructor(e){ie(this,vo,void 0);se(this,vo,x(e))}thenDelete(){return new Qs({...d(this,vo),queryNode:oi.cloneWithThen(d(this,vo).queryNode,zf("delete"))})}thenDoNothing(){return new Qs({...d(this,vo),queryNode:oi.cloneWithThen(d(this,vo).queryNode,zf("do nothing"))})}thenUpdate(e){return new Qs({...d(this,vo),queryNode:oi.cloneWithThen(d(this,vo).queryNode,zf(e(new zh({queryId:d(this,vo).queryId,executor:r0,queryNode:Dc.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}vo=new WeakMap;Et(kb,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");var Aa;class zR{constructor(e){ie(this,Aa,void 0);se(this,Aa,x(e))}thenDoNothing(){return new Qs({...d(this,Aa),queryNode:oi.cloneWithThen(d(this,Aa).queryNode,zf("do nothing"))})}thenInsertValues(e){const[r,n]=jR(e);return new Qs({...d(this,Aa),queryNode:oi.cloneWithThen(d(this,Aa).queryNode,zf(Ei.cloneWith(Ei.createWithoutInto(),{columns:r,values:n})))})}}Aa=new WeakMap;Et(zR,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");var Vt;const $l=class $l{constructor(e){ie(this,Vt,void 0);se(this,Vt,x(e))}selectFrom(e){return Rb({queryId:nr(),executor:d(this,Vt).executor,queryNode:Ot.createFrom(Vh(e),d(this,Vt).withNode)})}selectNoFrom(e){return Rb({queryId:nr(),executor:d(this,Vt).executor,queryNode:Ot.cloneWithSelections(Ot.create(d(this,Vt).withNode),Fd(e))})}insertInto(e){return new Uh({queryId:nr(),executor:d(this,Vt).executor,queryNode:Ei.create(Hr(e),d(this,Vt).withNode)})}replaceInto(e){return new Uh({queryId:nr(),executor:d(this,Vt).executor,queryNode:Ei.create(Hr(e),d(this,Vt).withNode,!0)})}deleteFrom(e){return new yg({queryId:nr(),executor:d(this,Vt).executor,queryNode:Il.create(Vh(e),d(this,Vt).withNode)})}updateTable(e){return new zh({queryId:nr(),executor:d(this,Vt).executor,queryNode:Dc.create(Hh(e),d(this,Vt).withNode)})}mergeInto(e){return new wg({queryId:nr(),executor:d(this,Vt).executor,queryNode:oi.create(KR(e),d(this,Vt).withNode)})}with(e,r){const n=EN(e,r);return new $l({...d(this,Vt),withNode:d(this,Vt).withNode?Rm.cloneWithExpression(d(this,Vt).withNode,n):Rm.create(n)})}withRecursive(e,r){const n=EN(e,r);return new $l({...d(this,Vt),withNode:d(this,Vt).withNode?Rm.cloneWithExpression(d(this,Vt).withNode,n):Rm.create(n,{recursive:!0})})}withPlugin(e){return new $l({...d(this,Vt),executor:d(this,Vt).executor.withPlugin(e)})}withoutPlugins(){return new $l({...d(this,Vt),executor:d(this,Vt).executor.withoutPlugins()})}withSchema(e){return new $l({...d(this,Vt),executor:d(this,Vt).executor.withPluginAtFront(new Fp(e))})}};Vt=new WeakMap;let bg=$l;function UF(){return new bg({executor:r0})}function zF(t,e){return new fg({joinNode:Wf.create(t,Hh(e))})}function VF(){return new hg({overNode:Sb.create()})}function Gn(t,e){if(e.length===3)return QF(t,e[0],e[1],e[2]);if(e.length===2)return HF(t,e[0],e[1]);throw new Error("not implemented")}function HF(t,e,r){return r(zF(t,e)).toOperationNode()}function QF(t,e,r,n){return Wf.createWithOn(t,Hh(e),fs(r,"=",n))}const GF=x({is(t){return t.kind==="OffsetNode"},create(t){return x({kind:"OffsetNode",offset:t})}}),JF=x({is(t){return t.kind==="GroupByItemNode"},create(t){return x({kind:"GroupByItemNode",groupBy:t})}});function YF(t){return t=$i(t)?t(qd()):t,qh(t).map(JF.create)}const VR=x({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return x({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function Zu(t,e,r){return $i(e)&&(e=e(Hx())),na(e)||(e=[e]),e.map(n=>VR.create(t,Lu(n),r))}var Is;const Zg=class Zg{constructor(e){ie(this,Is,void 0);se(this,Is,e)}get expressionType(){}as(e){return new Vx(this,e)}or(...e){return new Cb(Bd.create(d(this,Is),Nn(e)))}and(...e){return new Tb(dl.create(d(this,Is),Nn(e)))}$castTo(){return new Zg(d(this,Is))}$notNull(){return new Zg(d(this,Is))}toOperationNode(){return d(this,Is)}};Is=new WeakMap;let cr=Zg;var Gc,Ia;class Vx{constructor(e,r){ie(this,Gc,void 0);ie(this,Ia,void 0);se(this,Gc,e),se(this,Ia,r)}get expression(){return d(this,Gc)}get alias(){return d(this,Ia)}toOperationNode(){return wl.create(d(this,Gc).toOperationNode(),ui(d(this,Ia))?d(this,Ia).toOperationNode():br.create(d(this,Ia)))}}Gc=new WeakMap,Ia=new WeakMap;var Xl;const Xg=class Xg{constructor(e){ie(this,Xl,void 0);se(this,Xl,e)}get expressionType(){}as(e){return new Vx(this,e)}or(...e){return new Xg(Bd.create(d(this,Xl),Nn(e)))}$castTo(){return new Xg(d(this,Xl))}toOperationNode(){return xd.create(d(this,Xl))}};Xl=new WeakMap;let Cb=Xg;var eu;const ev=class ev{constructor(e){ie(this,eu,void 0);se(this,eu,e)}get expressionType(){}as(e){return new Vx(this,e)}and(...e){return new ev(dl.create(d(this,eu),Nn(e)))}$castTo(){return new ev(d(this,eu))}toOperationNode(){return xd.create(d(this,eu))}};eu=new WeakMap;let Tb=ev;const KF={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:ds.create(t),modifier:e}}};function ZF(t,e){if(!Xv(t)&&!jx(t))throw new Error(`Invalid fetch row count: ${t}`);if(!XF(e))throw new Error(`Invalid fetch modifier: ${e}`);return KF.create(t,e)}function XF(t){return t==="only"||t==="with ties"}var Se;const ut=class ut{constructor(e){ie(this,Se,void 0);se(this,Se,x(e))}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithWhere(d(this,Se).queryNode,Nn(e))})}whereRef(e,r,n){return new ut({...d(this,Se),queryNode:dt.cloneWithWhere(d(this,Se).queryNode,fs(e,r,n))})}having(...e){return new ut({...d(this,Se),queryNode:Ot.cloneWithHaving(d(this,Se).queryNode,Nn(e))})}havingRef(e,r,n){return new ut({...d(this,Se),queryNode:Ot.cloneWithHaving(d(this,Se).queryNode,fs(e,r,n))})}select(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSelections(d(this,Se).queryNode,Fd(e))})}distinctOn(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithDistinctOn(d(this,Se).queryNode,qh(e))})}modifyFront(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithFrontModifier(d(this,Se).queryNode,_s.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,_s.createWithExpression(e.toOperationNode()))})}distinct(){return new ut({...d(this,Se),queryNode:Ot.cloneWithFrontModifier(d(this,Se).queryNode,_s.create("Distinct"))})}forUpdate(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,_s.create("ForUpdate",e?Tm(e).map(Hr):void 0))})}forShare(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,_s.create("ForShare",e?Tm(e).map(Hr):void 0))})}forKeyShare(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,_s.create("ForKeyShare",e?Tm(e).map(Hr):void 0))})}forNoKeyUpdate(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,_s.create("ForNoKeyUpdate",e?Tm(e).map(Hr):void 0))})}skipLocked(){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,_s.create("SkipLocked"))})}noWait(){return new ut({...d(this,Se),queryNode:Ot.cloneWithEndModifier(d(this,Se).queryNode,_s.create("NoWait"))})}selectAll(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSelections(d(this,Se).queryNode,Lp(e))})}innerJoin(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Gn("InnerJoin",e))})}leftJoin(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Gn("LeftJoin",e))})}rightJoin(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Gn("RightJoin",e))})}fullJoin(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Gn("FullJoin",e))})}innerJoinLateral(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Gn("LateralInnerJoin",e))})}leftJoinLateral(...e){return new ut({...d(this,Se),queryNode:dt.cloneWithJoin(d(this,Se).queryNode,Gn("LateralLeftJoin",e))})}orderBy(...e){return new ut({...d(this,Se),queryNode:Ot.cloneWithOrderByItems(d(this,Se).queryNode,t0(e))})}groupBy(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithGroupByItems(d(this,Se).queryNode,YF(e))})}limit(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithLimit(d(this,Se).queryNode,Ux.create(Zr(e)))})}offset(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithOffset(d(this,Se).queryNode,GF.create(Zr(e)))})}fetch(e,r="only"){return new ut({...d(this,Se),queryNode:Ot.cloneWithFetch(d(this,Se).queryNode,ZF(e,r))})}top(e,r){return new ut({...d(this,Se),queryNode:dt.cloneWithTop(d(this,Se).queryNode,Wd(e,r))})}union(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Zu("union",e,!1))})}unionAll(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Zu("union",e,!0))})}intersect(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Zu("intersect",e,!1))})}intersectAll(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Zu("intersect",e,!0))})}except(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Zu("except",e,!1))})}exceptAll(e){return new ut({...d(this,Se),queryNode:Ot.cloneWithSetOperations(d(this,Se).queryNode,Zu("except",e,!0))})}as(e){return new HR(this,e)}clearSelect(){return new ut({...d(this,Se),queryNode:Ot.cloneWithoutSelections(d(this,Se).queryNode)})}clearWhere(){return new ut({...d(this,Se),queryNode:dt.cloneWithoutWhere(d(this,Se).queryNode)})}clearLimit(){return new ut({...d(this,Se),queryNode:Ot.cloneWithoutLimit(d(this,Se).queryNode)})}clearOffset(){return new ut({...d(this,Se),queryNode:Ot.cloneWithoutOffset(d(this,Se).queryNode)})}clearOrderBy(){return new ut({...d(this,Se),queryNode:Ot.cloneWithoutOrderBy(d(this,Se).queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new ut({...d(this,Se)})}$castTo(){return new ut(d(this,Se))}$narrowType(){return new ut(d(this,Se))}$assertType(){return new ut(d(this,Se))}$asTuple(){return new cr(this.toOperationNode())}withPlugin(e){return new ut({...d(this,Se),executor:d(this,Se).executor.withPlugin(e)})}toOperationNode(){return d(this,Se).executor.transformQuery(d(this,Se).queryNode,d(this,Se).queryId)}compile(){return d(this,Se).executor.compileQuery(this.toOperationNode(),d(this,Se).queryId)}async execute(){const e=this.compile();return(await d(this,Se).executor.executeQuery(e,d(this,Se).queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Mp){const r=await this.executeTakeFirst();if(r===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async*stream(e=100){const r=this.compile(),n=d(this,Se).executor.stream(r,e,d(this,Se).queryId);for await(const i of n)yield*i.rows}async explain(e,r){return await new ut({...d(this,Se),queryNode:dt.cloneWithExplain(d(this,Se).queryNode,e,r)}).execute()}};Se=new WeakMap;let _g=ut;Et(_g,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function Rb(t){return new _g(t)}var Jc,Yc;class HR{constructor(e,r){ie(this,Jc,void 0);ie(this,Yc,void 0);se(this,Jc,e),se(this,Yc,r)}get expression(){return d(this,Jc)}get alias(){return d(this,Yc)}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return wl.create(d(this,Jc).toOperationNode(),br.create(d(this,Yc)))}}Jc=new WeakMap,Yc=new WeakMap;Et(HR,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Vl=x({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return x({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return x({...t,distinct:!0})},cloneWithFilter(t,e){return x({...t,filter:t.filter?ri.cloneWithOperation(t.filter,"And",e):ri.create(e)})},cloneWithOrFilter(t,e){return x({...t,filter:t.filter?ri.cloneWithOperation(t.filter,"Or",e):ri.create(e)})},cloneWithOver(t,e){return x({...t,over:e})}}),RN=x({is(t){return t.kind==="FunctionNode"},create(t,e){return x({kind:"FunctionNode",func:t,arguments:e})}});var Wn;const xa=class xa{constructor(e){ie(this,Wn,void 0);se(this,Wn,x(e))}get expressionType(){}as(e){return new eW(this,e)}distinct(){return new xa({...d(this,Wn),aggregateFunctionNode:Vl.cloneWithDistinct(d(this,Wn).aggregateFunctionNode)})}filterWhere(...e){return new xa({...d(this,Wn),aggregateFunctionNode:Vl.cloneWithFilter(d(this,Wn).aggregateFunctionNode,Nn(e))})}filterWhereRef(e,r,n){return new xa({...d(this,Wn),aggregateFunctionNode:Vl.cloneWithFilter(d(this,Wn).aggregateFunctionNode,fs(e,r,n))})}over(e){const r=VF();return new xa({...d(this,Wn),aggregateFunctionNode:Vl.cloneWithOver(d(this,Wn).aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new xa(d(this,Wn))}$notNull(){return new xa(d(this,Wn))}toOperationNode(){return d(this,Wn).aggregateFunctionNode}};Wn=new WeakMap;let Mc=xa;Et(Mc,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var Kc,Zc;class eW{constructor(e,r){ie(this,Kc,void 0);ie(this,Zc,void 0);se(this,Kc,e),se(this,Zc,r)}get expression(){return d(this,Kc)}get alias(){return d(this,Zc)}toOperationNode(){return wl.create(d(this,Kc).toOperationNode(),br.create(d(this,Zc)))}}Kc=new WeakMap,Zc=new WeakMap;function QR(){const t=(r,n)=>new cr(RN.create(r,qh(n??[]))),e=(r,n)=>new Mc({aggregateFunctionNode:Vl.create(r,n?qh(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new Mc({aggregateFunctionNode:Vl.create("count",Lp(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new Mc({aggregateFunctionNode:Vl.create("json_agg",[Oi(r)?Hr(r):r.toOperationNode()])})},toJson(r){return new cr(RN.create("to_json",[Oi(r)?Hr(r):r.toOperationNode()]))}})}const tW=x({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return x({kind:"UnaryOperationNode",operator:t,operand:e})}});function rW(t,e){return tW.create(fl.create(t),Ni(e))}const ns=x({is(t){return t.kind==="CaseNode"},create(t){return x({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return x({...t,when:x(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return x({...t,when:t.when?x([...t.when.slice(0,-1),Dp.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return x({...t,...e})}});var Xc;class GR{constructor(e){ie(this,Xc,void 0);se(this,Xc,x(e))}when(...e){return new JR({...d(this,Xc),node:ns.cloneWithWhen(d(this,Xc).node,Dp.create(Nn(e)))})}}Xc=new WeakMap;var ed;class JR{constructor(e){ie(this,ed,void 0);se(this,ed,x(e))}then(e){return new nW({...d(this,ed),node:ns.cloneWithThen(d(this,ed).node,Bx(e)?Fx(e):Zr(e))})}}ed=new WeakMap;var Yo;class nW{constructor(e){ie(this,Yo,void 0);se(this,Yo,x(e))}when(...e){return new JR({...d(this,Yo),node:ns.cloneWithWhen(d(this,Yo).node,Dp.create(Nn(e)))})}else(e){return new iW({...d(this,Yo),node:ns.cloneWith(d(this,Yo).node,{else:Bx(e)?Fx(e):Zr(e)})})}end(){return new cr(ns.cloneWith(d(this,Yo).node,{isStatement:!1}))}endCase(){return new cr(ns.cloneWith(d(this,Yo).node,{isStatement:!0}))}}Yo=new WeakMap;var td;class iW{constructor(e){ie(this,td,void 0);se(this,td,x(e))}end(){return new cr(ns.cloneWith(d(this,td).node,{isStatement:!1}))}endCase(){return new cr(ns.cloneWith(d(this,td).node,{isStatement:!0}))}}td=new WeakMap;const ON=x({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return x({kind:"JSONPathLegNode",type:t,value:e})}});var Ko,ip,Ob;class Vf{constructor(e){ie(this,ip);ie(this,Ko,void 0);se(this,Ko,e)}at(e){return _t(this,ip,Ob).call(this,"ArrayLocation",e)}key(e){return _t(this,ip,Ob).call(this,"Member",e)}}Ko=new WeakMap,ip=new WeakSet,Ob=function(e,r){return lg.is(d(this,Ko))?new AN(lg.cloneWithTraversal(d(this,Ko),qf.is(d(this,Ko).traversal)?qf.cloneWithLeg(d(this,Ko).traversal,ON.create(e,r)):OR.cloneWithValue(d(this,Ko).traversal,ds.createImmediate(r)))):new AN(qf.cloneWithLeg(d(this,Ko),ON.create(e,r)))};var tu;class AN extends Vf{constructor(r){super(r);ie(this,tu,void 0);se(this,tu,r)}get expressionType(){}as(r){return new oW(this,r)}$castTo(){return new Vf(d(this,tu))}$notNull(){return new Vf(d(this,tu))}toOperationNode(){return d(this,tu)}}tu=new WeakMap;var rd,Pa;class oW{constructor(e,r){ie(this,rd,void 0);ie(this,Pa,void 0);se(this,rd,e),se(this,Pa,r)}get expression(){return d(this,rd)}get alias(){return d(this,Pa)}toOperationNode(){return wl.create(d(this,rd).toOperationNode(),ui(d(this,Pa))?d(this,Pa).toOperationNode():br.create(d(this,Pa)))}}rd=new WeakMap,Pa=new WeakMap;const IN=x({is(t){return t.kind==="TupleNode"},create(t){return x({kind:"TupleNode",values:x(t)})}}),sW=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob"],aW=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timez\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/],lW=x({is(t){return t.kind==="DataTypeNode"},create(t){return x({kind:"DataTypeNode",dataType:t})}});function uW(t){return!!(sW.includes(t)||aW.some(e=>e.test(t)))}function Cu(t){if(ui(t))return t.toOperationNode();if(uW(t))return lW.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const cW=x({is(t){return t.kind==="CastNode"},create(t,e){return x({kind:"CastNode",expression:t,dataType:e})}});function Hx(t=r0){function e(i,o,s){return new cr(Wx(i,o,s))}function r(i,o){return new cr(rW(i,o))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return Rb({queryId:nr(),executor:t,queryNode:Ot.createFrom(Vh(i))})},case(i){return new GR({node:ns.create(el(i)?void 0:Ni(i))})},ref(i,o){return el(o)?new cr(ia(i)):new Vf(cF(i,o))},jsonPath(){return new Vf(qf.create())},table(i){return new cr(Hr(i))},val(i){return new cr(Zr(i))},refTuple(...i){return new cr(IN.create(i.map(Ni)))},tuple(...i){return new cr(IN.create(i.map(Zr)))},lit(i){return new cr(Fx(i))},unary:r,not(i){return r("not",i)},exists(i){return r("exists",i)},neg(i){return r("-",i)},between(i,o,s){return new cr(_d.create(Ni(i),fl.create("between"),dl.create(Zr(o),Zr(s))))},betweenSymmetric(i,o,s){return new cr(_d.create(Ni(i),fl.create("between symmetric"),dl.create(Zr(o),Zr(s))))},and(i){return na(i)?new cr(cg(i,"and")):new cr(pN(i,"and"))},or(i){return na(i)?new cr(cg(i,"or")):new cr(pN(i,"or"))},parens(...i){const o=Nn(i);return xd.is(o)?new cr(o):new cr(xd.create(o))},cast(i,o){return new cr(cW.create(Ni(i),Cu(o)))},withSchema(i){return Hx(t.withPluginAtFront(new Fp(i)))}});return n.fn=QR(),n.eb=n,n}function qd(t){return Hx()}function Lu(t){if(ui(t))return t.toOperationNode();if($i(t))return t(qd()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function YR(t){if(ui(t))return t.toOperationNode();if($i(t))return t(qd()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Wp(t){return eF(t)||tF(t)||$i(t)}function Vh(t){return na(t)?t.map(e=>Hh(e)):[Hh(t)]}function Hh(t){return Oi(t)?KR(t):YR(t)}function KR(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(ZR);return wl.create(Hr(r),br.create(n))}else return Hr(t)}function Hr(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(ZR);return rl.createWithSchema(r,n)}else return rl.create(t)}function ZR(t){return t.trim()}const XR=x({is(t){return t.kind==="AddColumnNode"},create(t){return x({kind:"AddColumnNode",column:t})}}),Nr=x({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return x({kind:"ColumnDefinitionNode",column:Qr.create(t),dataType:e})},cloneWithFrontModifier(t,e){return x({...t,frontModifiers:t.frontModifiers?x([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return x({...t,endModifiers:t.endModifiers?x([...t.endModifiers,e]):[e]})},cloneWith(t,e){return x({...t,...e})}}),eO=x({is(t){return t.kind==="DropColumnNode"},create(t){return x({kind:"DropColumnNode",column:Qr.create(t)})}}),tO=x({is(t){return t.kind==="RenameColumnNode"},create(t,e){return x({kind:"RenameColumnNode",column:Qr.create(t),renameTo:Qr.create(e)})}}),Qx=x({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return x({kind:"CheckConstraintNode",expression:t,name:e?br.create(e):void 0})}}),dW=["no action","restrict","cascade","set null","set default"],sy=x({is(t){return t.kind==="ReferencesNode"},create(t,e){return x({kind:"ReferencesNode",table:t,columns:x([...e])})},cloneWithOnDelete(t,e){return x({...t,onDelete:e})},cloneWithOnUpdate(t,e){return x({...t,onUpdate:e})}});function rO(t){return ui(t)?t.toOperationNode():ds.createImmediate(t)}const Om=x({is(t){return t.kind==="GeneratedNode"},create(t){return x({kind:"GeneratedNode",...t})},createWithExpression(t){return x({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return x({...t,...e})}}),fW=x({is(t){return t.kind==="DefaultValueNode"},create(t){return x({kind:"DefaultValueNode",defaultValue:t})}});function xg(t){if(dW.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}var Ht;const Yr=class Yr{constructor(e){ie(this,Ht,void 0);se(this,Ht,e)}autoIncrement(){return new Yr(Nr.cloneWith(d(this,Ht),{autoIncrement:!0}))}identity(){return new Yr(Nr.cloneWith(d(this,Ht),{identity:!0}))}primaryKey(){return new Yr(Nr.cloneWith(d(this,Ht),{primaryKey:!0}))}references(e){const r=ia(e);if(!r.table||Lx.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Yr(Nr.cloneWith(d(this,Ht),{references:sy.create(r.table,[r.column])}))}onDelete(e){if(!d(this,Ht).references)throw new Error("on delete constraint can only be added for foreign keys");return new Yr(Nr.cloneWith(d(this,Ht),{references:sy.cloneWithOnDelete(d(this,Ht).references,xg(e))}))}onUpdate(e){if(!d(this,Ht).references)throw new Error("on update constraint can only be added for foreign keys");return new Yr(Nr.cloneWith(d(this,Ht),{references:sy.cloneWithOnUpdate(d(this,Ht).references,xg(e))}))}unique(){return new Yr(Nr.cloneWith(d(this,Ht),{unique:!0}))}notNull(){return new Yr(Nr.cloneWith(d(this,Ht),{notNull:!0}))}unsigned(){return new Yr(Nr.cloneWith(d(this,Ht),{unsigned:!0}))}defaultTo(e){return new Yr(Nr.cloneWith(d(this,Ht),{defaultTo:fW.create(rO(e))}))}check(e){return new Yr(Nr.cloneWith(d(this,Ht),{check:Qx.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Yr(Nr.cloneWith(d(this,Ht),{generated:Om.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Yr(Nr.cloneWith(d(this,Ht),{generated:Om.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Yr(Nr.cloneWith(d(this,Ht),{generated:Om.create({identity:!0,byDefault:!0})}))}stored(){if(!d(this,Ht).generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Yr(Nr.cloneWith(d(this,Ht),{generated:Om.cloneWith(d(this,Ht).generated,{stored:!0})}))}modifyFront(e){return new Yr(Nr.cloneWithFrontModifier(d(this,Ht),e.toOperationNode()))}nullsNotDistinct(){return new Yr(Nr.cloneWith(d(this,Ht),{nullsNotDistinct:!0}))}modifyEnd(e){return new Yr(Nr.cloneWithEndModifier(d(this,Ht),e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return d(this,Ht)}};Ht=new WeakMap;let hl=Yr;Et(hl,"don't await ColumnDefinitionBuilder instances directly.");const nO=x({is(t){return t.kind==="ModifyColumnNode"},create(t){return x({kind:"ModifyColumnNode",column:t})}}),Sg=x({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return x({kind:"ForeignKeyConstraintNode",columns:t,references:sy.create(e,r),name:n?br.create(n):void 0})},cloneWith(t,e){return x({...t,...e})}});var ru;const tv=class tv{constructor(e){ie(this,ru,void 0);se(this,ru,e)}onDelete(e){return new tv(Sg.cloneWith(d(this,ru),{onDelete:xg(e)}))}onUpdate(e){return new tv(Sg.cloneWith(d(this,ru),{onUpdate:xg(e)}))}$call(e){return e(this)}toOperationNode(){return d(this,ru)}};ru=new WeakMap;let Qh=tv;Et(Qh,"don't await ForeignKeyConstraintBuilder instances directly.");const ay=x({is(t){return t.kind==="AddConstraintNode"},create(t){return x({kind:"AddConstraintNode",constraint:t})}}),Gx=x({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return x({kind:"UniqueConstraintNode",columns:x(t.map(Qr.create)),name:e?br.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return x({...t,...e})}}),ly=x({is(t){return t.kind==="DropConstraintNode"},create(t){return x({kind:"DropConstraintNode",constraintName:br.create(t)})},cloneWith(t,e){return x({...t,...e})}}),gf=x({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return x({kind:"AlterColumnNode",column:Qr.create(t),[e]:r})}});var Ps;class Jx{constructor(e){ie(this,Ps,void 0);se(this,Ps,e)}setDataType(e){return new vf(gf.create(d(this,Ps),"dataType",Cu(e)))}setDefault(e){return new vf(gf.create(d(this,Ps),"setDefault",rO(e)))}dropDefault(){return new vf(gf.create(d(this,Ps),"dropDefault",!0))}setNotNull(){return new vf(gf.create(d(this,Ps),"setNotNull",!0))}dropNotNull(){return new vf(gf.create(d(this,Ps),"dropNotNull",!0))}$call(e){return e(this)}}Ps=new WeakMap;var op;class vf{constructor(e){ie(this,op,void 0);se(this,op,e)}toOperationNode(){return d(this,op)}}op=new WeakMap;var wo;class Rl{constructor(e){ie(this,wo,void 0);se(this,wo,x(e))}toOperationNode(){return d(this,wo).executor.transformQuery(d(this,wo).node,d(this,wo).queryId)}compile(){return d(this,wo).executor.compileQuery(this.toOperationNode(),d(this,wo).queryId)}async execute(){await d(this,wo).executor.executeQuery(this.compile(),d(this,wo).queryId)}}wo=new WeakMap;Et(Rl,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");var Pn;const rv=class rv{constructor(e){ie(this,Pn,void 0);se(this,Pn,x(e))}onDelete(e){return new rv({...d(this,Pn),constraintBuilder:d(this,Pn).constraintBuilder.onDelete(e)})}onUpdate(e){return new rv({...d(this,Pn),constraintBuilder:d(this,Pn).constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return d(this,Pn).executor.transformQuery(rr.cloneWithTableProps(d(this,Pn).node,{addConstraint:ay.create(d(this,Pn).constraintBuilder.toOperationNode())}),d(this,Pn).queryId)}compile(){return d(this,Pn).executor.compileQuery(this.toOperationNode(),d(this,Pn).queryId)}async execute(){await d(this,Pn).executor.executeQuery(this.compile(),d(this,Pn).queryId)}};Pn=new WeakMap;let Eg=rv;Et(Eg,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");var Kr;const Kf=class Kf{constructor(e){ie(this,Kr,void 0);se(this,Kr,x(e))}ifExists(){return new Kf({...d(this,Kr),node:rr.cloneWithTableProps(d(this,Kr).node,{dropConstraint:ly.cloneWith(d(this,Kr).node.dropConstraint,{ifExists:!0})})})}cascade(){return new Kf({...d(this,Kr),node:rr.cloneWithTableProps(d(this,Kr).node,{dropConstraint:ly.cloneWith(d(this,Kr).node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new Kf({...d(this,Kr),node:rr.cloneWithTableProps(d(this,Kr).node,{dropConstraint:ly.cloneWith(d(this,Kr).node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return d(this,Kr).executor.transformQuery(d(this,Kr).node,d(this,Kr).queryId)}compile(){return d(this,Kr).executor.compileQuery(this.toOperationNode(),d(this,Kr).queryId)}async execute(){await d(this,Kr).executor.executeQuery(this.compile(),d(this,Kr).queryId)}};Kr=new WeakMap;let Ng=Kf;Et(Ng,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const iO=x({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return x({kind:"PrimaryKeyConstraintNode",columns:x(t.map(Qr.create)),name:e?br.create(e):void 0})}}),ic=x({is(t){return t.kind==="AddIndexNode"},create(t){return x({kind:"AddIndexNode",name:br.create(t)})},cloneWith(t,e){return x({...t,...e})},cloneWithColumns(t,e){return x({...t,columns:[...t.columns||[],...e]})}});var ur;const jl=class jl{constructor(e){ie(this,ur,void 0);se(this,ur,x(e))}unique(){return new jl({...d(this,ur),node:rr.cloneWithTableProps(d(this,ur).node,{addIndex:ic.cloneWith(d(this,ur).node.addIndex,{unique:!0})})})}column(e){return new jl({...d(this,ur),node:rr.cloneWithTableProps(d(this,ur).node,{addIndex:ic.cloneWithColumns(d(this,ur).node.addIndex,[ug(e)])})})}columns(e){return new jl({...d(this,ur),node:rr.cloneWithTableProps(d(this,ur).node,{addIndex:ic.cloneWithColumns(d(this,ur).node.addIndex,e.map(ug))})})}expression(e){return new jl({...d(this,ur),node:rr.cloneWithTableProps(d(this,ur).node,{addIndex:ic.cloneWithColumns(d(this,ur).node.addIndex,[e.toOperationNode()])})})}using(e){return new jl({...d(this,ur),node:rr.cloneWithTableProps(d(this,ur).node,{addIndex:ic.cloneWith(d(this,ur).node.addIndex,{using:xn.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return d(this,ur).executor.transformQuery(d(this,ur).node,d(this,ur).queryId)}compile(){return d(this,ur).executor.compileQuery(this.toOperationNode(),d(this,ur).queryId)}async execute(){await d(this,ur).executor.executeQuery(this.compile(),d(this,ur).queryId)}};ur=new WeakMap;let kg=jl;Et(kg,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");var nd;const CS=class CS{constructor(e){ie(this,nd,void 0);se(this,nd,e)}toOperationNode(){return d(this,nd)}nullsNotDistinct(){return new CS(Gx.cloneWith(d(this,nd),{nullsNotDistinct:!0}))}};nd=new WeakMap;let Gh=CS;Et(Gh,"don't await UniqueConstraintNodeBuilder instances directly.");var zt;class oO{constructor(e){ie(this,zt,void 0);se(this,zt,x(e))}renameTo(e){return new Rl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{renameTo:Hr(e)})})}setSchema(e){return new Rl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{setSchema:br.create(e)})})}alterColumn(e,r){const n=r(new Jx(e));return new Ca({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,n.toOperationNode())})}dropColumn(e){return new Ca({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,eO.create(e))})}renameColumn(e,r){return new Ca({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,tO.create(e,r))})}addColumn(e,r,n=tl){const i=n(new hl(Nr.create(e,Cu(r))));return new Ca({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,XR.create(i.toOperationNode()))})}modifyColumn(e,r,n=tl){const i=n(new hl(Nr.create(e,Cu(r))));return new Ca({...d(this,zt),node:rr.cloneWithColumnAlteration(d(this,zt).node,nO.create(i.toOperationNode()))})}addUniqueConstraint(e,r,n=tl){const i=n(new Gh(Gx.create(r,e)));return new Rl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{addConstraint:ay.create(i.toOperationNode())})})}addCheckConstraint(e,r){return new Rl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{addConstraint:ay.create(Qx.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,i){return new Eg({...d(this,zt),constraintBuilder:new Qh(Sg.create(r.map(Qr.create),Hr(n),i.map(Qr.create),e))})}addPrimaryKeyConstraint(e,r){return new Rl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{addConstraint:ay.create(iO.create(r,e))})})}dropConstraint(e){return new Ng({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{dropConstraint:ly.create(e)})})}addIndex(e){return new kg({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{addIndex:ic.create(e)})})}dropIndex(e){return new Rl({...d(this,zt),node:rr.cloneWithTableProps(d(this,zt).node,{dropIndex:Ff.create(e)})})}$call(e){return e(this)}}zt=new WeakMap;var Fr;const Ll=class Ll{constructor(e){ie(this,Fr,void 0);se(this,Fr,x(e))}alterColumn(e,r){const n=r(new Jx(e));return new Ll({...d(this,Fr),node:rr.cloneWithColumnAlteration(d(this,Fr).node,n.toOperationNode())})}dropColumn(e){return new Ll({...d(this,Fr),node:rr.cloneWithColumnAlteration(d(this,Fr).node,eO.create(e))})}renameColumn(e,r){return new Ll({...d(this,Fr),node:rr.cloneWithColumnAlteration(d(this,Fr).node,tO.create(e,r))})}addColumn(e,r,n=tl){const i=n(new hl(Nr.create(e,Cu(r))));return new Ll({...d(this,Fr),node:rr.cloneWithColumnAlteration(d(this,Fr).node,XR.create(i.toOperationNode()))})}modifyColumn(e,r,n=tl){const i=n(new hl(Nr.create(e,Cu(r))));return new Ll({...d(this,Fr),node:rr.cloneWithColumnAlteration(d(this,Fr).node,nO.create(i.toOperationNode()))})}toOperationNode(){return d(this,Fr).executor.transformQuery(d(this,Fr).node,d(this,Fr).queryId)}compile(){return d(this,Fr).executor.compileQuery(this.toOperationNode(),d(this,Fr).queryId)}async execute(){await d(this,Fr).executor.executeQuery(this.compile(),d(this,Fr).queryId)}};Fr=new WeakMap;let Ca=Ll;Et(oO,"don't await AlterTableBuilder instances");Et(Jx,"don't await AlterColumnBuilder instances");Et(Ca,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class sO extends zx{transformValue(e){return{...super.transformValue(e),immediate:!0}}}var Qt;const co=class co{constructor(e){ie(this,Qt,void 0);se(this,Qt,x(e))}ifNotExists(){return new co({...d(this,Qt),node:Ss.cloneWith(d(this,Qt).node,{ifNotExists:!0})})}unique(){return new co({...d(this,Qt),node:Ss.cloneWith(d(this,Qt).node,{unique:!0})})}nullsNotDistinct(){return new co({...d(this,Qt),node:Ss.cloneWith(d(this,Qt).node,{nullsNotDistinct:!0})})}on(e){return new co({...d(this,Qt),node:Ss.cloneWith(d(this,Qt).node,{table:Hr(e)})})}column(e){return new co({...d(this,Qt),node:Ss.cloneWithColumns(d(this,Qt).node,[ug(e)])})}columns(e){return new co({...d(this,Qt),node:Ss.cloneWithColumns(d(this,Qt).node,e.map(ug))})}expression(e){return new co({...d(this,Qt),node:Ss.cloneWithColumns(d(this,Qt).node,[e.toOperationNode()])})}using(e){return new co({...d(this,Qt),node:Ss.cloneWith(d(this,Qt).node,{using:xn.createWithSql(e)})})}where(...e){const r=new sO;return new co({...d(this,Qt),node:dt.cloneWithWhere(d(this,Qt).node,r.transformNode(Nn(e)))})}$call(e){return e(this)}toOperationNode(){return d(this,Qt).executor.transformQuery(d(this,Qt).node,d(this,Qt).queryId)}compile(){return d(this,Qt).executor.compileQuery(this.toOperationNode(),d(this,Qt).queryId)}async execute(){await d(this,Qt).executor.executeQuery(this.compile(),d(this,Qt).queryId)}};Qt=new WeakMap;let Cg=co;Et(Cg,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");var vi;const TS=class TS{constructor(e){ie(this,vi,void 0);se(this,vi,x(e))}ifNotExists(){return new TS({...d(this,vi),node:NR.cloneWith(d(this,vi).node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,vi).executor.transformQuery(d(this,vi).node,d(this,vi).queryId)}compile(){return d(this,vi).executor.compileQuery(this.toOperationNode(),d(this,vi).queryId)}async execute(){await d(this,vi).executor.executeQuery(this.compile(),d(this,vi).queryId)}};vi=new WeakMap;let Tg=TS;Et(Tg,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function hW(t){if(XB.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}var Lt;const gi=class gi{constructor(e){ie(this,Lt,void 0);se(this,Lt,x(e))}temporary(){return new gi({...d(this,Lt),node:mi.cloneWith(d(this,Lt).node,{temporary:!0})})}onCommit(e){return new gi({...d(this,Lt),node:mi.cloneWith(d(this,Lt).node,{onCommit:hW(e)})})}ifNotExists(){return new gi({...d(this,Lt),node:mi.cloneWith(d(this,Lt).node,{ifNotExists:!0})})}addColumn(e,r,n=tl){const i=n(new hl(Nr.create(e,Cu(r))));return new gi({...d(this,Lt),node:mi.cloneWithColumn(d(this,Lt).node,i.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new gi({...d(this,Lt),node:mi.cloneWithConstraint(d(this,Lt).node,iO.create(r,e))})}addUniqueConstraint(e,r,n=tl){const i=n(new Gh(Gx.create(r,e)));return new gi({...d(this,Lt),node:mi.cloneWithConstraint(d(this,Lt).node,i.toOperationNode())})}addCheckConstraint(e,r){return new gi({...d(this,Lt),node:mi.cloneWithConstraint(d(this,Lt).node,Qx.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,i,o=tl){const s=o(new Qh(Sg.create(r.map(Qr.create),Hr(n),i.map(Qr.create),e)));return new gi({...d(this,Lt),node:mi.cloneWithConstraint(d(this,Lt).node,s.toOperationNode())})}modifyFront(e){return new gi({...d(this,Lt),node:mi.cloneWithFrontModifier(d(this,Lt).node,e.toOperationNode())})}modifyEnd(e){return new gi({...d(this,Lt),node:mi.cloneWithEndModifier(d(this,Lt).node,e.toOperationNode())})}as(e){return new gi({...d(this,Lt),node:mi.cloneWith(d(this,Lt).node,{selectQuery:Lu(e)})})}$call(e){return e(this)}toOperationNode(){return d(this,Lt).executor.transformQuery(d(this,Lt).node,d(this,Lt).queryId)}compile(){return d(this,Lt).executor.compileQuery(this.toOperationNode(),d(this,Lt).queryId)}async execute(){await d(this,Lt).executor.executeQuery(this.compile(),d(this,Lt).queryId)}};Lt=new WeakMap;let Rg=gi;Et(Rg,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");var vn;const Zf=class Zf{constructor(e){ie(this,vn,void 0);se(this,vn,x(e))}on(e){return new Zf({...d(this,vn),node:Ff.cloneWith(d(this,vn).node,{table:Hr(e)})})}ifExists(){return new Zf({...d(this,vn),node:Ff.cloneWith(d(this,vn).node,{ifExists:!0})})}cascade(){return new Zf({...d(this,vn),node:Ff.cloneWith(d(this,vn).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,vn).executor.transformQuery(d(this,vn).node,d(this,vn).queryId)}compile(){return d(this,vn).executor.compileQuery(this.toOperationNode(),d(this,vn).queryId)}async execute(){await d(this,vn).executor.executeQuery(this.compile(),d(this,vn).queryId)}};vn=new WeakMap;let Og=Zf;Et(Og,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");var qn;const nv=class nv{constructor(e){ie(this,qn,void 0);se(this,qn,x(e))}ifExists(){return new nv({...d(this,qn),node:wb.cloneWith(d(this,qn).node,{ifExists:!0})})}cascade(){return new nv({...d(this,qn),node:wb.cloneWith(d(this,qn).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,qn).executor.transformQuery(d(this,qn).node,d(this,qn).queryId)}compile(){return d(this,qn).executor.compileQuery(this.toOperationNode(),d(this,qn).queryId)}async execute(){await d(this,qn).executor.executeQuery(this.compile(),d(this,qn).queryId)}};qn=new WeakMap;let Ag=nv;Et(Ag,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");var Un;const iv=class iv{constructor(e){ie(this,Un,void 0);se(this,Un,x(e))}ifExists(){return new iv({...d(this,Un),node:bb.cloneWith(d(this,Un).node,{ifExists:!0})})}cascade(){return new iv({...d(this,Un),node:bb.cloneWith(d(this,Un).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,Un).executor.transformQuery(d(this,Un).node,d(this,Un).queryId)}compile(){return d(this,Un).executor.compileQuery(this.toOperationNode(),d(this,Un).queryId)}async execute(){await d(this,Un).executor.executeQuery(this.compile(),d(this,Un).queryId)}};Un=new WeakMap;let Ig=iv;Et(Ig,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const ba=x({is(t){return t.kind==="CreateViewNode"},create(t){return x({kind:"CreateViewNode",name:cl.create(t)})},cloneWith(t,e){return x({...t,...e})}});var ov;class pW{constructor(){ie(this,ov,new sO)}transformQuery(e){return d(this,ov).transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}ov=new WeakMap;var Er;const Sa=class Sa{constructor(e){ie(this,Er,void 0);se(this,Er,x(e))}temporary(){return new Sa({...d(this,Er),node:ba.cloneWith(d(this,Er).node,{temporary:!0})})}materialized(){return new Sa({...d(this,Er),node:ba.cloneWith(d(this,Er).node,{materialized:!0})})}ifNotExists(){return new Sa({...d(this,Er),node:ba.cloneWith(d(this,Er).node,{ifNotExists:!0})})}orReplace(){return new Sa({...d(this,Er),node:ba.cloneWith(d(this,Er).node,{orReplace:!0})})}columns(e){return new Sa({...d(this,Er),node:ba.cloneWith(d(this,Er).node,{columns:e.map(IR)})})}as(e){const r=e.withPlugin(new pW).toOperationNode();return new Sa({...d(this,Er),node:ba.cloneWith(d(this,Er).node,{as:r})})}$call(e){return e(this)}toOperationNode(){return d(this,Er).executor.transformQuery(d(this,Er).node,d(this,Er).queryId)}compile(){return d(this,Er).executor.compileQuery(this.toOperationNode(),d(this,Er).queryId)}async execute(){await d(this,Er).executor.executeQuery(this.compile(),d(this,Er).queryId)}};Er=new WeakMap;let Pg=Sa;Et(Pg,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const uy=x({is(t){return t.kind==="DropViewNode"},create(t){return x({kind:"DropViewNode",name:cl.create(t)})},cloneWith(t,e){return x({...t,...e})}});var wn;const Xf=class Xf{constructor(e){ie(this,wn,void 0);se(this,wn,x(e))}materialized(){return new Xf({...d(this,wn),node:uy.cloneWith(d(this,wn).node,{materialized:!0})})}ifExists(){return new Xf({...d(this,wn),node:uy.cloneWith(d(this,wn).node,{ifExists:!0})})}cascade(){return new Xf({...d(this,wn),node:uy.cloneWith(d(this,wn).node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,wn).executor.transformQuery(d(this,wn).node,d(this,wn).queryId)}compile(){return d(this,wn).executor.compileQuery(this.toOperationNode(),d(this,wn).queryId)}async execute(){await d(this,wn).executor.executeQuery(this.compile(),d(this,wn).queryId)}};wn=new WeakMap;let $g=Xf;Et($g,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const aO=x({is(t){return t.kind==="CreateTypeNode"},create(t){return x({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return x({...t,enum:Mx.create(e.map(r=>ds.createImmediate(r)))})}});var wi;const RS=class RS{constructor(e){ie(this,wi,void 0);se(this,wi,x(e))}toOperationNode(){return d(this,wi).executor.transformQuery(d(this,wi).node,d(this,wi).queryId)}asEnum(e){return new RS({...d(this,wi),node:aO.cloneWithEnum(d(this,wi).node,e)})}$call(e){return e(this)}compile(){return d(this,wi).executor.compileQuery(this.toOperationNode(),d(this,wi).queryId)}async execute(){await d(this,wi).executor.executeQuery(this.compile(),d(this,wi).queryId)}};wi=new WeakMap;let jg=RS;Et(jg,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const lO=x({is(t){return t.kind==="DropTypeNode"},create(t){return x({kind:"DropTypeNode",name:t})},cloneWith(t,e){return x({...t,...e})}});var bi;const OS=class OS{constructor(e){ie(this,bi,void 0);se(this,bi,x(e))}ifExists(){return new OS({...d(this,bi),node:lO.cloneWith(d(this,bi).node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return d(this,bi).executor.transformQuery(d(this,bi).node,d(this,bi).queryId)}compile(){return d(this,bi).executor.compileQuery(this.toOperationNode(),d(this,bi).queryId)}async execute(){await d(this,bi).executor.executeQuery(this.compile(),d(this,bi).queryId)}};bi=new WeakMap;let Lg=OS;Et(Lg,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function PN(t){const e=".";if(t.includes(e)){const r=t.split(e).map(mW);if(r.length===2)return cl.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return cl.create(t)}function mW(t){return t.trim()}var fn;const eh=class eh{constructor(e){ie(this,fn,void 0);se(this,fn,e)}createTable(e){return new Rg({queryId:nr(),executor:d(this,fn),node:mi.create(Hr(e))})}dropTable(e){return new Ig({queryId:nr(),executor:d(this,fn),node:bb.create(Hr(e))})}createIndex(e){return new Cg({queryId:nr(),executor:d(this,fn),node:Ss.create(e)})}dropIndex(e){return new Og({queryId:nr(),executor:d(this,fn),node:Ff.create(e)})}createSchema(e){return new Tg({queryId:nr(),executor:d(this,fn),node:NR.create(e)})}dropSchema(e){return new Ag({queryId:nr(),executor:d(this,fn),node:wb.create(e)})}alterTable(e){return new oO({queryId:nr(),executor:d(this,fn),node:rr.create(Hr(e))})}createView(e){return new Pg({queryId:nr(),executor:d(this,fn),node:ba.create(e)})}dropView(e){return new $g({queryId:nr(),executor:d(this,fn),node:uy.create(e)})}createType(e){return new jg({queryId:nr(),executor:d(this,fn),node:aO.create(PN(e))})}dropType(e){return new Lg({queryId:nr(),executor:d(this,fn),node:lO.create(PN(e))})}withPlugin(e){return new eh(d(this,fn).withPlugin(e))}withoutPlugins(){return new eh(d(this,fn).withoutPlugins())}withSchema(e){return new eh(d(this,fn).withPluginAtFront(new Fp(e)))}};fn=new WeakMap;let Ab=eh;class yW{ref(e){return new lF(e)}}var id;class gW{constructor(e){ie(this,id,void 0);se(this,id,e)}async provideConnection(e){const r=await d(this,id).acquireConnection();try{return await e(r)}finally{await d(this,id).releaseConnection(r)}}}id=new WeakMap;var Zo,Xo,$s;const Dl=class Dl extends UR{constructor(r,n,i,o=[]){super(o);ie(this,Zo,void 0);ie(this,Xo,void 0);ie(this,$s,void 0);se(this,Zo,r),se(this,Xo,n),se(this,$s,i)}get adapter(){return d(this,Xo)}compileQuery(r){return d(this,Zo).compileQuery(r)}provideConnection(r){return d(this,$s).provideConnection(r)}withPlugins(r){return new Dl(d(this,Zo),d(this,Xo),d(this,$s),[...this.plugins,...r])}withPlugin(r){return new Dl(d(this,Zo),d(this,Xo),d(this,$s),[...this.plugins,r])}withPluginAtFront(r){return new Dl(d(this,Zo),d(this,Xo),d(this,$s),[r,...this.plugins])}withConnectionProvider(r){return new Dl(d(this,Zo),d(this,Xo),r,[...this.plugins])}withoutPlugins(){return new Dl(d(this,Zo),d(this,Xo),d(this,$s),[])}};Zo=new WeakMap,Xo=new WeakMap,$s=new WeakMap;let Ib=Dl;function $N(){return typeof performance<"u"&&$i(performance.now)?performance.now():Date.now()}var bo,$a,js,od,Ls,sp,sv,uO,av,cO,lv,dO,uv,fO,ap,Pb;class vW{constructor(e,r){ie(this,sv);ie(this,av);ie(this,lv);ie(this,uv);ie(this,ap);ie(this,bo,void 0);ie(this,$a,void 0);ie(this,js,void 0);ie(this,od,void 0);ie(this,Ls,void 0);ie(this,sp,new WeakSet);se(this,od,!1),se(this,bo,e),se(this,$a,r)}async init(){if(d(this,Ls))throw new Error("driver has already been destroyed");d(this,js)||se(this,js,d(this,bo).init().then(()=>{se(this,od,!0)}).catch(e=>(se(this,js,void 0),Promise.reject(e)))),await d(this,js)}async acquireConnection(){if(d(this,Ls))throw new Error("driver has already been destroyed");d(this,od)||await this.init();const e=await d(this,bo).acquireConnection();return d(this,sp).has(e)||(_t(this,sv,uO).call(this)&&_t(this,av,cO).call(this,e),d(this,sp).add(e)),e}async releaseConnection(e){await d(this,bo).releaseConnection(e)}beginTransaction(e,r){return d(this,bo).beginTransaction(e,r)}commitTransaction(e){return d(this,bo).commitTransaction(e)}rollbackTransaction(e){return d(this,bo).rollbackTransaction(e)}async destroy(){d(this,js)&&(await d(this,js),d(this,Ls)||se(this,Ls,d(this,bo).destroy().catch(e=>(se(this,Ls,void 0),Promise.reject(e)))),await d(this,Ls))}}bo=new WeakMap,$a=new WeakMap,js=new WeakMap,od=new WeakMap,Ls=new WeakMap,sp=new WeakMap,sv=new WeakSet,uO=function(){return d(this,$a).isLevelEnabled("query")||d(this,$a).isLevelEnabled("error")},av=new WeakSet,cO=function(e){const r=e.executeQuery;e.executeQuery=async n=>{let i;const o=$N();try{return await r.call(e,n)}catch(s){throw i=s,await _t(this,lv,dO).call(this,s,n,o),s}finally{i||await _t(this,uv,fO).call(this,n,o)}}},lv=new WeakSet,dO=async function(e,r,n){await d(this,$a).error(()=>({level:"error",error:e,query:r,queryDurationMillis:_t(this,ap,Pb).call(this,n)}))},uv=new WeakSet,fO=async function(e,r){await d(this,$a).query(()=>({level:"query",query:e,queryDurationMillis:_t(this,ap,Pb).call(this,r)}))},ap=new WeakSet,Pb=function(e){return $N()-e};const wW=()=>{};var lp,ja,cv,pO;class hO{constructor(e){ie(this,cv);ie(this,lp,void 0);ie(this,ja,void 0);se(this,lp,e)}async provideConnection(e){for(;d(this,ja);)await d(this,ja).catch(wW);return se(this,ja,_t(this,cv,pO).call(this,e).finally(()=>{se(this,ja,void 0)})),d(this,ja)}}lp=new WeakMap,ja=new WeakMap,cv=new WeakSet,pO=async function(e){return await e(d(this,lp))};const bW=["read uncommitted","read committed","repeatable read","serializable","snapshot"];x(["query","error"]);var La,nu;class _W{constructor(e){ie(this,La,void 0);ie(this,nu,void 0);$i(e)?(se(this,nu,e),se(this,La,x({query:!0,error:!0}))):(se(this,nu,xW),se(this,La,x({query:e.includes("query"),error:e.includes("error")})))}isLevelEnabled(e){return d(this,La)[e]}async query(e){d(this,La).query&&await d(this,nu).call(this,e())}async error(e){d(this,La).error&&await d(this,nu).call(this,e())}}La=new WeakMap,nu=new WeakMap;function xW(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function SW(t){return Ro(t)&&$i(t.compile)}var bn;const Cc=class Cc extends bg{constructor(r){let n,i;if(EW(r))n={executor:r.executor},i={...r};else{const o=r.dialect,s=o.createDriver(),a=o.createQueryCompiler(),l=o.createAdapter(),u=new _W(r.log??[]),c=new vW(s,u),h=new gW(c),p=new Ib(a,l,h,r.plugins??[]);n={executor:p},i={config:r,executor:p,dialect:o,driver:c}}super(n);ie(this,bn,void 0);se(this,bn,x(i))}get schema(){return new Ab(d(this,bn).executor)}get dynamic(){return new yW}get introspection(){return d(this,bn).dialect.createIntrospector(this.withoutPlugins())}case(r){return new GR({node:ns.create(el(r)?void 0:Lu(r))})}get fn(){return QR()}transaction(){return new Dg({...d(this,bn)})}connection(){return new mO({...d(this,bn)})}withPlugin(r){return new Cc({...d(this,bn),executor:d(this,bn).executor.withPlugin(r)})}withoutPlugins(){return new Cc({...d(this,bn),executor:d(this,bn).executor.withoutPlugins()})}withSchema(r){return new Cc({...d(this,bn),executor:d(this,bn).executor.withPluginAtFront(new Fp(r))})}withTables(){return new Cc({...d(this,bn)})}async destroy(){await d(this,bn).driver.destroy()}get isTransaction(){return!1}getExecutor(){return d(this,bn).executor}executeQuery(r,n=nr()){const i=SW(r)?r.compile():r;return this.getExecutor().executeQuery(i,n)}};bn=new WeakMap;let Jh=Cc;var _o;const Tc=class Tc extends Jh{constructor(r){super(r);ie(this,_o,void 0);se(this,_o,r)}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(r){return new Tc({...d(this,_o),executor:d(this,_o).executor.withPlugin(r)})}withoutPlugins(){return new Tc({...d(this,_o),executor:d(this,_o).executor.withoutPlugins()})}withSchema(r){return new Tc({...d(this,_o),executor:d(this,_o).executor.withPluginAtFront(new Fp(r))})}withTables(){return new Tc({...d(this,_o)})}};_o=new WeakMap;let $b=Tc;function EW(t){return Ro(t)&&Ro(t.config)&&Ro(t.driver)&&Ro(t.executor)&&Ro(t.dialect)}var iu;class mO{constructor(e){ie(this,iu,void 0);se(this,iu,x(e))}async execute(e){return d(this,iu).executor.provideConnection(async r=>{const n=d(this,iu).executor.withConnectionProvider(new hO(r)),i=new Jh({...d(this,iu),executor:n});return await e(i)})}}iu=new WeakMap;Et(mO,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");var xo;const AS=class AS{constructor(e){ie(this,xo,void 0);se(this,xo,x(e))}setIsolationLevel(e){return new AS({...d(this,xo),isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=d(this,xo),i={isolationLevel:r};return NW(i),d(this,xo).executor.provideConnection(async o=>{const s=d(this,xo).executor.withConnectionProvider(new hO(o)),a=new $b({...n,executor:s});try{await d(this,xo).driver.beginTransaction(o,i);const l=await e(a);return await d(this,xo).driver.commitTransaction(o),l}catch(l){throw await d(this,xo).driver.rollbackTransaction(o),l}})}};xo=new WeakMap;let Dg=AS;Et(Dg,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function NW(t){if(t.isolationLevel&&!bW.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}var zn,sd,cy,up,jb,cp,Lb;const th=class th{constructor(e){ie(this,sd);ie(this,up);ie(this,cp);ie(this,zn,void 0);se(this,zn,x(e))}get expressionType(){}get isRawBuilder(){return!0}as(e){return new yO(this,e)}$castTo(){return new th({...d(this,zn)})}$notNull(){return new th(d(this,zn))}withPlugin(e){return new th({...d(this,zn),plugins:d(this,zn).plugins!==void 0?x([...d(this,zn).plugins,e]):x([e])})}toOperationNode(){return _t(this,up,jb).call(this,_t(this,sd,cy).call(this))}compile(e){return _t(this,cp,Lb).call(this,_t(this,sd,cy).call(this,e))}async execute(e){const r=_t(this,sd,cy).call(this,e);return r.executeQuery(_t(this,cp,Lb).call(this,r),d(this,zn).queryId)}};zn=new WeakMap,sd=new WeakSet,cy=function(e){const r=e!==void 0?e.getExecutor():r0;return d(this,zn).plugins!==void 0?r.withPlugins(d(this,zn).plugins):r},up=new WeakSet,jb=function(e){return e.transformQuery(d(this,zn).rawNode,d(this,zn).queryId)},cp=new WeakSet,Lb=function(e){return e.compileQuery(_t(this,up,jb).call(this,e),d(this,zn).queryId)};let Mg=th;function ha(t){return new Mg(t)}Et(Mg,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var ou,Da;class yO{constructor(e,r){ie(this,ou,void 0);ie(this,Da,void 0);se(this,ou,e),se(this,Da,r)}get expression(){return d(this,ou)}get alias(){return d(this,Da)}get rawBuilder(){return d(this,ou)}toOperationNode(){return wl.create(d(this,ou).toOperationNode(),ui(d(this,Da))?d(this,Da).toOperationNode():br.create(d(this,Da)))}}ou=new WeakMap,Da=new WeakMap;Et(yO,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const n0=Object.assign((t,...e)=>ha({queryId:nr(),rawNode:xn.create(t,(e==null?void 0:e.map(jN))??[])}),{ref(t){return ha({queryId:nr(),rawNode:xn.createWithChild(ia(t))})},val(t){return ha({queryId:nr(),rawNode:xn.createWithChild(Zr(t))})},value(t){return this.val(t)},table(t){return ha({queryId:nr(),rawNode:xn.createWithChild(Hr(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",ha({queryId:nr(),rawNode:xn.create(e,t.map(br.create))})},lit(t){return ha({queryId:nr(),rawNode:xn.createWithChild(ds.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return ha({queryId:nr(),rawNode:xn.createWithSql(t)})},join(t,e=n0`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let i=0;i<t.length;++i)r[2*i]=jN(t[i]),i!==t.length-1&&(r[2*i+1]=n);return ha({queryId:nr(),rawNode:xn.createWithChildren(r)})}});function jN(t){return ui(t)?t.toOperationNode():Zr(t)}var dv;class kW{constructor(){Ie(this,"nodeStack",[]);ie(this,dv,x({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this)}));Ie(this,"visitNode",e=>{this.nodeStack.push(e),d(this,dv)[e.kind](e),this.nodeStack.pop()})}get parentNode(){return this.nodeStack[this.nodeStack.length-2]}}dv=new WeakMap;var ad,su;class CW extends kW{constructor(){super(...arguments);ie(this,ad,"");ie(this,su,[])}get numParameters(){return d(this,su).length}compileQuery(r){return se(this,ad,""),se(this,su,[]),this.visitNode(r),x({query:r,sql:this.getSql(),parameters:[...d(this,su)]})}getSql(){return d(this,ad)}visitSelectQuery(r){var i,o;const n=this.parentNode!==void 0&&!xd.is(this.parentNode)&&!Ei.is(this.parentNode)&&!mi.is(this.parentNode)&&!ba.is(this.parentNode)&&!VR.is(this.parentNode);this.parentNode===void 0&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("select"),r.distinctOn&&(this.append(" "),this.compileDistinctOn(r.distinctOn)),(i=r.frontModifiers)!=null&&i.length&&(this.append(" "),this.compileList(r.frontModifiers," ")),r.top&&(this.append(" "),this.visitNode(r.top)),r.selections&&(this.append(" "),this.compileList(r.selections)),r.from&&(this.append(" "),this.visitNode(r.from)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.groupBy&&(this.append(" "),this.visitNode(r.groupBy)),r.having&&(this.append(" "),this.visitNode(r.having)),r.setOperations&&(this.append(" "),this.compileList(r.setOperations," ")),r.orderBy&&(this.append(" "),this.visitNode(r.orderBy)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.offset&&(this.append(" "),this.visitNode(r.offset)),r.fetch&&(this.append(" "),this.visitNode(r.fetch)),(o=r.endModifiers)!=null&&o.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...r.endModifiers])," ")),n&&this.append(")")}visitFrom(r){this.append("from "),this.compileList(r.froms)}visitSelection(r){this.visitNode(r.selection)}visitColumn(r){this.visitNode(r.column)}compileDistinctOn(r){this.append("distinct on ("),this.compileList(r),this.append(")")}compileList(r,n=", "){const i=r.length-1;for(let o=0;o<=i;o++)this.visitNode(r[o]),o<i&&this.append(n)}visitWhere(r){this.append("where "),this.visitNode(r.where)}visitHaving(r){this.append("having "),this.visitNode(r.having)}visitInsertQuery(r){const n=this.nodeStack.find(dt.is),i=n!==r;!i&&r.explain&&(this.visitNode(r.explain),this.append(" ")),i&&!oi.is(n)&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append(r.replace?"replace":"insert"),r.ignore&&this.append(" ignore"),r.top&&(this.append(" "),this.visitNode(r.top)),r.into&&(this.append(" into "),this.visitNode(r.into)),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.values&&(this.append(" "),this.visitNode(r.values)),r.defaultValues&&(this.append(" "),this.append("default values")),r.onConflict&&(this.append(" "),this.visitNode(r.onConflict)),r.onDuplicateKey&&(this.append(" "),this.visitNode(r.onDuplicateKey)),r.returning&&(this.append(" "),this.visitNode(r.returning)),i&&!oi.is(n)&&this.append(")")}visitValues(r){this.append("values "),this.compileList(r.values)}visitDeleteQuery(r){const n=this.nodeStack.find(dt.is)!==r;!n&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("delete "),r.top&&(this.visitNode(r.top),this.append(" ")),this.visitNode(r.from),r.using&&(this.append(" "),this.visitNode(r.using)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.orderBy&&(this.append(" "),this.visitNode(r.orderBy)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.returning&&(this.append(" "),this.visitNode(r.returning)),n&&this.append(")")}visitReturning(r){this.append("returning "),this.compileList(r.selections)}visitAlias(r){this.visitNode(r.node),this.append(" as "),this.visitNode(r.alias)}visitReference(r){r.table&&(this.visitNode(r.table),this.append(".")),this.visitNode(r.column)}visitSelectAll(r){this.append("*")}visitIdentifier(r){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(r),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(r){if(!Oi(r.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(r.name))}visitAnd(r){this.visitNode(r.left),this.append(" and "),this.visitNode(r.right)}visitOr(r){this.visitNode(r.left),this.append(" or "),this.visitNode(r.right)}visitValue(r){r.immediate?this.appendImmediateValue(r.value):this.appendValue(r.value)}visitValueList(r){this.append("("),this.compileList(r.values),this.append(")")}visitTuple(r){this.append("("),this.compileList(r.values),this.append(")")}visitPrimitiveValueList(r){this.append("(");const{values:n}=r;for(let i=0;i<n.length;++i)this.appendValue(n[i]),i!==n.length-1&&this.append(", ");this.append(")")}visitParens(r){this.append("("),this.visitNode(r.node),this.append(")")}visitJoin(r){this.append(RW[r.joinType]),this.append(" "),this.visitNode(r.table),r.on&&(this.append(" "),this.visitNode(r.on))}visitOn(r){this.append("on "),this.visitNode(r.on)}visitRaw(r){const{sqlFragments:n,parameters:i}=r;for(let o=0;o<n.length;++o)this.append(n[o]),i.length>o&&this.visitNode(i[o])}visitOperator(r){this.append(r.operator)}visitTable(r){this.visitNode(r.table)}visitSchemableIdentifier(r){r.schema&&(this.visitNode(r.schema),this.append(".")),this.visitNode(r.identifier)}visitCreateTable(r){this.append("create "),r.frontModifiers&&r.frontModifiers.length>0&&(this.compileList(r.frontModifiers," "),this.append(" ")),r.temporary&&this.append("temporary "),this.append("table "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.table),r.selectQuery?(this.append(" as "),this.visitNode(r.selectQuery)):(this.append(" ("),this.compileList([...r.columns,...r.constraints??[]]),this.append(")"),r.onCommit&&(this.append(" on commit "),this.append(r.onCommit)),r.endModifiers&&r.endModifiers.length>0&&(this.append(" "),this.compileList(r.endModifiers," ")))}visitColumnDefinition(r){this.visitNode(r.column),this.append(" "),this.visitNode(r.dataType),r.unsigned&&this.append(" unsigned"),r.frontModifiers&&r.frontModifiers.length>0&&(this.append(" "),this.compileList(r.frontModifiers," ")),r.generated&&(this.append(" "),this.visitNode(r.generated)),r.identity&&this.append(" identity"),r.defaultTo&&(this.append(" "),this.visitNode(r.defaultTo)),r.notNull&&this.append(" not null"),r.unique&&this.append(" unique"),r.nullsNotDistinct&&this.append(" nulls not distinct"),r.primaryKey&&this.append(" primary key"),r.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),r.references&&(this.append(" "),this.visitNode(r.references)),r.check&&(this.append(" "),this.visitNode(r.check)),r.endModifiers&&r.endModifiers.length>0&&(this.append(" "),this.compileList(r.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(r){this.append("references "),this.visitNode(r.table),this.append(" ("),this.compileList(r.columns),this.append(")"),r.onDelete&&(this.append(" on delete "),this.append(r.onDelete)),r.onUpdate&&(this.append(" on update "),this.append(r.onUpdate))}visitDropTable(r){this.append("drop table "),r.ifExists&&this.append("if exists "),this.visitNode(r.table),r.cascade&&this.append(" cascade")}visitDataType(r){this.append(r.dataType)}visitOrderBy(r){this.append("order by "),this.compileList(r.items)}visitOrderByItem(r){this.visitNode(r.orderBy),r.direction&&(this.append(" "),this.visitNode(r.direction))}visitGroupBy(r){this.append("group by "),this.compileList(r.items)}visitGroupByItem(r){this.visitNode(r.groupBy)}visitUpdateQuery(r){const n=this.nodeStack.find(dt.is),i=n!==r;!i&&r.explain&&(this.visitNode(r.explain),this.append(" ")),i&&!oi.is(n)&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("update "),r.top&&(this.visitNode(r.top),this.append(" ")),r.table&&(this.visitNode(r.table),this.append(" ")),this.append("set "),r.updates&&this.compileList(r.updates),r.from&&(this.append(" "),this.visitNode(r.from)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.returning&&(this.append(" "),this.visitNode(r.returning)),i&&!oi.is(n)&&this.append(")")}visitColumnUpdate(r){this.visitNode(r.column),this.append(" = "),this.visitNode(r.value)}visitLimit(r){this.append("limit "),this.visitNode(r.limit)}visitOffset(r){this.append("offset "),this.visitNode(r.offset)}visitOnConflict(r){this.append("on conflict"),r.columns?(this.append(" ("),this.compileList(r.columns),this.append(")")):r.constraint?(this.append(" on constraint "),this.visitNode(r.constraint)):r.indexExpression&&(this.append(" ("),this.visitNode(r.indexExpression),this.append(")")),r.indexWhere&&(this.append(" "),this.visitNode(r.indexWhere)),r.doNothing===!0?this.append(" do nothing"):r.updates&&(this.append(" do update set "),this.compileList(r.updates),r.updateWhere&&(this.append(" "),this.visitNode(r.updateWhere)))}visitOnDuplicateKey(r){this.append("on duplicate key update "),this.compileList(r.updates)}visitCreateIndex(r){this.append("create "),r.unique&&this.append("unique "),this.append("index "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.name),r.table&&(this.append(" on "),this.visitNode(r.table)),r.using&&(this.append(" using "),this.visitNode(r.using)),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.nullsNotDistinct&&this.append(" nulls not distinct"),r.where&&(this.append(" "),this.visitNode(r.where))}visitDropIndex(r){this.append("drop index "),r.ifExists&&this.append("if exists "),this.visitNode(r.name),r.table&&(this.append(" on "),this.visitNode(r.table)),r.cascade&&this.append(" cascade")}visitCreateSchema(r){this.append("create schema "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.schema)}visitDropSchema(r){this.append("drop schema "),r.ifExists&&this.append("if exists "),this.visitNode(r.schema),r.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("primary key ("),this.compileList(r.columns),this.append(")")}visitUniqueConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("unique"),r.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(r.columns),this.append(")")}visitCheckConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("check ("),this.visitNode(r.expression),this.append(")")}visitForeignKeyConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("foreign key ("),this.compileList(r.columns),this.append(") "),this.visitNode(r.references),r.onDelete&&(this.append(" on delete "),this.append(r.onDelete)),r.onUpdate&&(this.append(" on update "),this.append(r.onUpdate))}visitList(r){this.compileList(r.items)}visitWith(r){this.append("with "),r.recursive&&this.append("recursive "),this.compileList(r.expressions)}visitCommonTableExpression(r){this.visitNode(r.name),this.append(" as "),ag(r.materialized)&&(r.materialized||this.append("not "),this.append("materialized ")),this.visitNode(r.expression)}visitCommonTableExpressionName(r){this.visitNode(r.table),r.columns&&(this.append("("),this.compileList(r.columns),this.append(")"))}visitAlterTable(r){this.append("alter table "),this.visitNode(r.table),this.append(" "),r.renameTo&&(this.append("rename to "),this.visitNode(r.renameTo)),r.setSchema&&(this.append("set schema "),this.visitNode(r.setSchema)),r.addConstraint&&this.visitNode(r.addConstraint),r.dropConstraint&&this.visitNode(r.dropConstraint),r.columnAlterations&&this.compileColumnAlterations(r.columnAlterations),r.addIndex&&this.visitNode(r.addIndex),r.dropIndex&&this.visitNode(r.dropIndex)}visitAddColumn(r){this.append("add column "),this.visitNode(r.column)}visitRenameColumn(r){this.append("rename column "),this.visitNode(r.column),this.append(" to "),this.visitNode(r.renameTo)}visitDropColumn(r){this.append("drop column "),this.visitNode(r.column)}visitAlterColumn(r){this.append("alter column "),this.visitNode(r.column),this.append(" "),r.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(r.dataType),r.dataTypeExpression&&(this.append("using "),this.visitNode(r.dataTypeExpression))),r.setDefault&&(this.append("set default "),this.visitNode(r.setDefault)),r.dropDefault&&this.append("drop default"),r.setNotNull&&this.append("set not null"),r.dropNotNull&&this.append("drop not null")}visitModifyColumn(r){this.append("modify column "),this.visitNode(r.column)}visitAddConstraint(r){this.append("add "),this.visitNode(r.constraint)}visitDropConstraint(r){this.append("drop constraint "),r.ifExists&&this.append("if exists "),this.visitNode(r.constraintName),r.modifier==="cascade"?this.append(" cascade"):r.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(r){this.append(r.operator),this.append(" "),r.all&&this.append("all "),this.visitNode(r.expression)}visitCreateView(r){this.append("create "),r.orReplace&&this.append("or replace "),r.materialized&&this.append("materialized "),r.temporary&&this.append("temporary "),this.append("view "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.name),this.append(" "),r.columns&&(this.append("("),this.compileList(r.columns),this.append(") ")),r.as&&(this.append("as "),this.visitNode(r.as))}visitDropView(r){this.append("drop "),r.materialized&&this.append("materialized "),this.append("view "),r.ifExists&&this.append("if exists "),this.visitNode(r.name),r.cascade&&this.append(" cascade")}visitGenerated(r){this.append("generated "),r.always&&this.append("always "),r.byDefault&&this.append("by default "),this.append("as "),r.identity&&this.append("identity"),r.expression&&(this.append("("),this.visitNode(r.expression),this.append(")")),r.stored&&this.append(" stored")}visitDefaultValue(r){this.append("default "),this.visitNode(r.defaultValue)}visitSelectModifier(r){r.rawModifier?this.visitNode(r.rawModifier):this.append(TW[r.modifier]),r.of&&(this.append(" of "),this.compileList(r.of,", "))}visitCreateType(r){this.append("create type "),this.visitNode(r.name),r.enum&&(this.append(" as enum "),this.visitNode(r.enum))}visitDropType(r){this.append("drop type "),r.ifExists&&this.append("if exists "),this.visitNode(r.name)}visitExplain(r){this.append("explain"),(r.options||r.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),r.options&&(this.visitNode(r.options),r.format&&this.append(this.getExplainOptionsDelimiter())),r.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(r.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(r){this.append("default")}visitAggregateFunction(r){this.append(r.func),this.append("("),r.distinct&&this.append("distinct "),this.compileList(r.aggregated),this.append(")"),r.filter&&(this.append(" filter("),this.visitNode(r.filter),this.append(")")),r.over&&(this.append(" "),this.visitNode(r.over))}visitOver(r){this.append("over("),r.partitionBy&&(this.visitNode(r.partitionBy),r.orderBy&&this.append(" ")),r.orderBy&&this.visitNode(r.orderBy),this.append(")")}visitPartitionBy(r){this.append("partition by "),this.compileList(r.items)}visitPartitionByItem(r){this.visitNode(r.partitionBy)}visitBinaryOperation(r){this.visitNode(r.leftOperand),this.append(" "),this.visitNode(r.operator),this.append(" "),this.visitNode(r.rightOperand)}visitUnaryOperation(r){this.visitNode(r.operator),this.isMinusOperator(r.operator)||this.append(" "),this.visitNode(r.operand)}isMinusOperator(r){return fl.is(r)&&r.operator==="-"}visitUsing(r){this.append("using "),this.compileList(r.tables)}visitFunction(r){this.append(r.func),this.append("("),this.compileList(r.arguments),this.append(")")}visitCase(r){this.append("case"),r.value&&(this.append(" "),this.visitNode(r.value)),r.when&&(this.append(" "),this.compileList(r.when," ")),r.else&&(this.append(" else "),this.visitNode(r.else)),this.append(" end"),r.isStatement&&this.append(" case")}visitWhen(r){this.append("when "),this.visitNode(r.condition),r.result&&(this.append(" then "),this.visitNode(r.result))}visitJSONReference(r){this.visitNode(r.reference),this.visitNode(r.traversal)}visitJSONPath(r){r.inOperator&&this.visitNode(r.inOperator),this.append("'$");for(const n of r.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(r){const n=r.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(r.value)),n&&this.append("]")}visitJSONOperatorChain(r){for(let n=0,i=r.values.length;n<i;n++)n===i-1?this.visitNode(r.operator):this.append("->"),this.visitNode(r.values[n])}visitMergeQuery(r){r.with&&(this.visitNode(r.with),this.append(" ")),this.append("merge "),r.top&&(this.visitNode(r.top),this.append(" ")),this.append("into "),this.visitNode(r.into),r.using&&(this.append(" "),this.visitNode(r.using)),r.whens&&(this.append(" "),this.compileList(r.whens))}visitMatched(r){r.not&&this.append("not "),this.append("matched"),r.bySource&&this.append(" by source")}visitAddIndex(r){this.append("add "),r.unique&&this.append("unique "),this.append("index "),this.visitNode(r.name),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.using&&(this.append(" using "),this.visitNode(r.using))}visitCast(r){this.append("cast("),this.visitNode(r.expression),this.append(" as "),this.visitNode(r.dataType),this.append(")")}visitFetch(r){this.append("fetch next "),this.visitNode(r.rowCount),this.append(` rows ${r.modifier}`)}visitTop(r){this.append(`top(${r.expression})`),r.modifiers&&this.append(` ${r.modifiers}`)}append(r){se(this,ad,d(this,ad)+r)}appendValue(r){this.addParameter(r),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(r){const n=this.getLeftIdentifierWrapper(),i=this.getRightIdentifierWrapper();let o="";for(const s of r)o+=s,s===n?o+=n:s===i&&(o+=i);return o}addParameter(r){d(this,su).push(r)}appendImmediateValue(r){if(Oi(r))this.append(`'${r}'`);else if(Xv(r)||ag(r))this.append(r.toString());else if($x(r))this.append("null");else if(ER(r))this.appendImmediateValue(r.toISOString());else if(jx(r))this.appendImmediateValue(r.toString());else throw new Error(`invalid immediate value ${r}`)}sortSelectModifiers(r){return r.sort((n,i)=>n.modifier&&i.modifier?LN[n.modifier]-LN[i.modifier]:1),x(r)}compileColumnAlterations(r){this.compileList(r)}announcesNewColumnDataType(){return!0}}ad=new WeakMap,su=new WeakMap;const TW=x({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),LN=x({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),RW=x({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"}),Dw=x({raw(t,e=[]){return x({sql:t,query:xn.createWithSql(t),parameters:x(e)})}});class OW{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}}const AW=/"/g;class IW extends CW{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(AW,'""')}visitDefaultInsertValue(e){this.append("null")}}const PW="kysely_migration",$W="kysely_migration_lock";x({__noMigrations__:!0});var ld,fv,gO;class jW{constructor(e){ie(this,fv);ie(this,ld,void 0);se(this,ld,e)}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=d(this,ld).selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",PW).where("name","!=",$W));const n=await r.execute();return Promise.all(n.map(({name:i})=>_t(this,fv,gO).call(this,i)))}async getMetadata(e){return{tables:await this.getTables(e)}}}ld=new WeakMap,fv=new WeakSet,gO=async function(e){var s,a,l,u,c,h;const r=d(this,ld),n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=(h=(c=(u=(l=(a=(s=n.sql)==null?void 0:s.split(/[\(\),]/))==null?void 0:a.find(p=>p.toLowerCase().includes("autoincrement")))==null?void 0:l.trimStart())==null?void 0:u.split(/\s+/))==null?void 0:c[0])==null?void 0:h.replace(/["`]/g,""),o=await r.selectFrom(n0`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:o.map(p=>({name:p.name,dataType:p.type,isNullable:!p.notnull,isAutoIncrementing:p.name===i,hasDefaultValue:p.dflt_value!=null,comment:void 0}))}};class LW extends OW{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const DW="modulepreload",MW=function(t){return"/yuuka/"+t},DN={},Ed=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(r.map(l=>{if(l=MW(l),l in DN)return;DN[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!n)for(let y=o.length-1;y>=0;y--){const b=o[y];if(b.href===l&&(!u||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":DW,u||(p.as="script",p.crossOrigin=""),p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((y,b)=>{p.addEventListener("load",y),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var dp;class BW extends zx{constructor(r){super();ie(this,dp,void 0);se(this,dp,r)}transformIdentifier(r){return r=super.transformIdentifier(r),{...r,name:d(this,dp).call(this,r.name)}}}dp=new WeakMap;function FW({upperCase:t=!1,underscoreBeforeDigits:e=!1,underscoreBetweenUppercaseLetters:r=!1}={}){return vO(n=>{if(n.length===0)return n;const i=n.toUpperCase(),o=n.toLowerCase();let s=o[0];for(let a=1,l=n.length;a<l;++a){const u=n[a],c=n[a-1],h=i[a],p=i[a-1],y=o[a],b=o[a-1];if(e&&MN(u)&&!MN(c)){s+="_"+u;continue}u===h&&h!==y?r||!(c===p&&p!==b)?s+="_"+y:s+=y:s+=u}return t?s.toUpperCase():s})}function WW({upperCase:t=!1}={}){return vO(e=>{if(e.length===0)return e;t&&qW(e)&&(e=e.toLowerCase());let r=e[0];for(let n=1,i=e.length;n<i;++n){const o=e[n],s=e[n-1];o!=="_"&&(s==="_"?r+=o.toUpperCase():r+=o)}return r})}function qW(t){for(let e=1,r=t.length;e<r;++e){const n=t[e];if(n!=="_"&&n!==n.toUpperCase())return!1}return!0}function MN(t){return t>="0"&&t<="9"}function vO(t){const e=new Map;return r=>{let n=e.get(r);return n||(n=t(r),e.set(r,n)),n}}var fp,hp,pp;class UW{constructor(e={}){Ie(this,"opt");ie(this,fp,void 0);ie(this,hp,void 0);ie(this,pp,void 0);this.opt=e,se(this,fp,WW(e)),se(this,hp,FW(e)),se(this,pp,new BW(this.snakeCase.bind(this)))}transformQuery(e){return d(this,pp).transformNode(e.node)}async transformResult(e){return e.result.rows&&Array.isArray(e.result.rows)?{...e.result,rows:e.result.rows.map(r=>this.mapRow(r))}:e.result}mapRow(e){return Object.keys(e).reduce((r,n)=>{let i=e[n];return Array.isArray(i)?i=i.map(o=>BN(o,this.opt)?this.mapRow(o):o):BN(i,this.opt)&&(i=this.mapRow(i)),r[this.camelCase(n)]=i,r},{})}snakeCase(e){return d(this,hp).call(this,e)}camelCase(e){return d(this,fp).call(this,e)}}fp=new WeakMap,hp=new WeakMap,pp=new WeakMap;function BN(t,e){return ZB(t)&&!(e!=null&&e.maintainNestedObjectKeys)}const zW={},VW=Object.freeze(Object.defineProperty({__proto__:null,default:zW},Symbol.toStringTag,{value:"Module"})),HW=async t=>{await TM(t),await PM(t),await FM(t),await HM(t),await DM(t),await UM(t)};function wO(t,e){const n=e.exec(t.sql,t.parameters)[0];return{rows:n.values.map(o=>{const s=ib(n.columns,o);return Object.fromEntries(s)}),columns:n.columns}}function bO(t,e){const{rows:r}=wO(t,e);return r}function QW(t,e){return bO(t,e)[0]}const GW=t=>{const{columns:e,rows:r}=t;return g.jsxs(g.Fragment,{children:[g.jsxs(K,{children:[g.jsx(K.Thead,{children:g.jsx(K.Tr,{children:e.map(n=>g.jsx(K.Th,{children:n},n))})}),g.jsx(K.Tbody,{children:r.map((n,i)=>{const o=`row-${i}`;return g.jsx(JW,{columns:e,row:n},o)})})]}),g.jsxs("p",{children:["rows: ",r.length]})]})},JW=t=>{const{columns:e,row:r}=t;return g.jsx(K.Tr,{children:e.map(n=>g.jsx(K.Td,{children:g.jsx(YW,{value:r[n]})},n))})},YW=t=>{const{value:e}=t;return g.jsx(g.Fragment,{children:`${e}`})},KW=(t,e,r)=>{const i=n0(r).compile(t);return wO(i,e)},ZW=t=>{const{db:e,sqlite:r}=t,[n,i]=A.useState(!1),[o,s]=A.useState([]),[a,l]=A.useState([]),[u,c]=A.useState(null),{register:h,handleSubmit:p,formState:{errors:y}}=Hv({defaultValues:{query:"SELECT * FROM account LIMIT 10"}}),b=S=>{i(!0);try{const E=KW(e,r,S.query);s(E.columns),l(E.rows),c(null)}catch(E){s([]),l([]),c(E)}i(!1)};return n?g.jsx("p",{children:"loading..."}):g.jsxs(g.Fragment,{children:[g.jsxs("form",{onSubmit:p(b),children:[g.jsx(Jt.Wrapper,{label:"sql",children:g.jsx("input",{...h("query",{required:"query is required"}),autoComplete:"off"})}),g.jsx(Lr,{type:"submit",children:"execute"})]}),u?g.jsx("p",{children:u.message}):g.jsx(GW,{columns:o,rows:a})]})},XW=()=>{const t=A.useContext(ku),e=t._tag!=="api"?t.sqlite:null,r=t._tag!=="api"?t.db:null;return e?r?g.jsx(ZW,{db:r,sqlite:e}):g.jsx("p",{children:"no db"}):g.jsx("p",{children:"no sqlite"})},eq=(t,e,r)=>{const n=new Blob([t],{type:r}),i=window.URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)},tq=t=>{const{sqlite:e}=t,r=e.export(),n="book.sqlite",i=()=>{eq(r,n,"application/x-sqlite3")};return g.jsx(Lr,{onClick:i,children:"save sqlite"})},rq=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ed(()=>Promise.resolve().then(()=>qp),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Yx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class nq extends Yx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class iq extends Yx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class oq extends Yx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Db;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Db||(Db={}));var sq=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class aq{constructor(e,{headers:r={},customFetch:n,region:i=Db.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=rq(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return sq(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(b=>{throw new nq(b)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new iq(c);if(!c.ok)throw new oq(c);let p=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield c.json():p==="application/octet-stream"?y=yield c.blob():p==="text/event-stream"?y=c:p==="multipart/form-data"?y=yield c.formData():y=yield c.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var lq=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nd=lq();const uq=Nd.fetch,Kx=Nd.fetch.bind(Nd),_O=Nd.Headers,cq=Nd.Request,dq=Nd.Response,qp=Object.freeze(Object.defineProperty({__proto__:null,Headers:_O,Request:cq,Response:dq,default:Kx,fetch:uq},Symbol.toStringTag,{value:"Module"}));class fq extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class hq{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Kx:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let u=null,c=null,h=null,p=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=v:c=JSON.parse(v))}const S=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),E=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&E&&E.length>1&&(h=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,y="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const S=await o.text();try{u=JSON.parse(S),Array.isArray(u)&&o.status===404&&(c=[],u=null,p=200,y="OK")}catch{o.status===404&&S===""?(p=204,y="No Content"):u={message:S}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&this.shouldThrowOnError)throw new fq(u)}return{error:u,data:c,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}}class pq extends hq{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class oc extends pq{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}}class mq{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let o=!1;const s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new oc({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new oc({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const s="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new oc({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new oc({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new oc({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const yq="1.15.2",gq={"X-Client-Info":`postgrest-js/${yq}`};class Zx{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},gq),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new mq(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:o}={}){let s;const a=new URL(`${this.url}/rpc/${e}`);let l;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(s="POST",l=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new oc({method:s,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}const vq="2.9.4",wq={"X-Client-Info":`realtime-js/${vq}`},bq="1.0.0",xO=1e4,_q=1e3;var Bc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bc||(Bc={}));var yi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yi||(yi={}));var No;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(No||(No={}));var Mb;(function(t){t.websocket="websocket"})(Mb||(Mb={}));var Pl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Pl||(Pl={}));class SO{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class xq{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2);let s=this.HEADER_LENGTH+2;const a=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+o));s=s+o;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Mw{constructor(e,r,n={},i=xO){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var FN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(FN||(FN={}));class Hf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hf.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=Hf.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hf.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),s=this.transformState(r),a={},l={};return this.map(o,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const h=o[u];if(h){const p=c.map(E=>E.presence_ref),y=h.map(E=>E.presence_ref),b=c.filter(E=>y.indexOf(E.presence_ref)<0),S=h.filter(E=>p.indexOf(E.presence_ref)<0);b.length>0&&(a[u]=b),S.length>0&&(l[u]=S)}else a[u]=c}),this.syncDiff(o,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(y=>y.presence_ref),p=c.filter(y=>h.indexOf(y.presence_ref)<0);e[a].unshift(...p)}n(a,c,l)}),this.map(s,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ar;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ar||(ar={}));const WN=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,s)=>(o[s]=Sq(s,t,e,i),o),{})},Sq=(t,e,r,n)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,s=r[t];return o&&!n.includes(o)?EO(o,s):Bb(s)},EO=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Cq(e,r)}switch(t){case ar.bool:return Eq(e);case ar.float4:case ar.float8:case ar.int2:case ar.int4:case ar.int8:case ar.numeric:case ar.oid:return Nq(e);case ar.json:case ar.jsonb:return kq(e);case ar.timestamp:return Tq(e);case ar.abstime:case ar.date:case ar.daterange:case ar.int4range:case ar.int8range:case ar.money:case ar.reltime:case ar.text:case ar.time:case ar.timestamptz:case ar.timetz:case ar.tsrange:case ar.tstzrange:return Bb(e);default:return Bb(e)}},Bb=t=>t,Eq=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Nq=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},kq=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Cq=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const s=t.slice(1,r);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>EO(e,a))}return t},Tq=t=>typeof t=="string"?t.replace(" ","T"):t;var qN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qN||(qN={}));var UN;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(UN||(UN={}));var zN;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zN||(zN={}));class Xx{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=yi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mw(this,No.join,this.params,this.timeout),this.rejoinTimer=new SO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=yi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(No.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Hf(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:o,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(c=h==null?void 0:h.length)!==null&&c!==void 0?c:0,y=[];for(let b=0;b<p;b++){const S=h[b],{filter:{event:E,schema:v,table:w,filter:N}}=S,I=u&&u[b];if(I&&I.event===E&&I.schema===v&&I.table===w&&I.filter===N)y.push(Object.assign(Object.assign({},S),{id:I.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:s}=e,a={method:"POST",headers:{apikey:(n=this.socket.apiKey)!==null&&n!==void 0?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(No.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new Mw(this,No.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mw(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=No;if(n&&[a,l,u,c].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,S,E;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(S=y.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===s}).map(y=>y.callback(p,n)):(o=this.bindings[s])===null||o===void 0||o.filter(y=>{var b,S,E,v,w,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in y){const I=y.id,R=(b=y.filter)===null||b===void 0?void 0:b.event;return I&&((S=r.ids)===null||S===void 0?void 0:S.includes(I))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const I=(w=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return I==="*"||I===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===s}).map(y=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:S,table:E,commit_timestamp:v,type:w,errors:N}=b;p=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:v,eventType:w,new:{},old:{},errors:N}),this._getPayloadRecords(b))}y.callback(p,n)})}_isClosed(){return this.state===yi.closed}_isJoined(){return this.state===yi.joined}_isJoining(){return this.state===yi.joining}_isLeaving(){return this.state===yi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Xx.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(No.close,{},e)}_onError(e){this._on(No.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=WN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=WN(e.columns,e.old_record)),r}}const Rq=()=>{},Oq=typeof WebSocket<"u";class Aq{constructor(e,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=wq,this.params={},this.timeout=xO,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Rq,this.conn=null,this.sendBuffer=[],this.serializer=new xq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>Ed(()=>Promise.resolve().then(()=>qp),void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${Mb.websocket}`,r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,s)=>s(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new SO(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Oq){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Iq(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ed(()=>import("./browser-D27K08cE.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bc.connecting:return Pl.Connecting;case Bc.open:return Pl.Open;case Bc.closing:return Pl.Closing;default:return Pl.Closed}}isConnected(){return this.connectionState()===Pl.Open}channel(e,r={config:{}}){const n=new Xx(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(No.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bq}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:o,ref:s}=r;(s&&s===this.pendingHeartbeatRef||i===(o==null?void 0:o.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(No.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(_q,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Iq{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Bc.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class eS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function $n(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Pq extends eS{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class VN extends eS{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var $q=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const NO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ed(()=>Promise.resolve().then(()=>qp),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},jq=()=>$q(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ed(()=>Promise.resolve().then(()=>qp),void 0)).Response:Response});var Ud=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Bw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lq=(t,e)=>Ud(void 0,void 0,void 0,function*(){const r=yield jq();t instanceof r?t.json().then(n=>{e(new Pq(Bw(n),t.status||500))}).catch(n=>{e(new VN(Bw(n),n))}):e(new VN(Bw(t),t))}),Dq=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function i0(t,e,r,n,i,o){return Ud(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(r,Dq(e,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Lq(l,a))})})}function Fb(t,e,r,n){return Ud(this,void 0,void 0,function*(){return i0(t,"GET",e,r,n)})}function _a(t,e,r,n,i){return Ud(this,void 0,void 0,function*(){return i0(t,"POST",e,n,i,r)})}function Mq(t,e,r,n,i){return Ud(this,void 0,void 0,function*(){return i0(t,"PUT",e,n,i,r)})}function kO(t,e,r,n,i){return Ud(this,void 0,void 0,function*(){return i0(t,"DELETE",e,n,i,r)})}var Wi=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Bq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fq{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=NO(i)}uploadOrUpdate(e,r,n,i){return Wi(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},HN),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",s.cacheControl)):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);const l=this._removeEmptyFolders(r),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield c.json();return c.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if($n(o))return{data:null,error:o};throw o}})}upload(e,r,n){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Wi(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:HN.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if($n(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return Wi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=yield _a(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:this.headers}),i=new URL(this.url+n.url),o=i.searchParams.get("token");if(!o)throw new eS("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}update(e,r,n){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r){return Wi(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers}),error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}})}copy(e,r){return Wi(this,void 0,void 0,function*(){try{return{data:{path:(yield _a(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers})).Key},error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,n){return Wi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield _a(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if($n(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Wi(this,void 0,void 0,function*(){try{const i=yield _a(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if($n(i))return{data:null,error:i};throw i}})}download(e,r){return Wi(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Fb(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if($n(a))return{data:null,error:a};throw a}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Wi(this,void 0,void 0,function*(){try{return{data:yield kO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}list(e,r,n){return Wi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Bq),r),{prefix:e||""});return{data:yield _a(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if($n(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Wq="2.5.5",qq={"X-Client-Info":`storage-js/${Wq}`};var Xu=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Uq{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},qq),r),this.fetch=NO(n)}listBuckets(){return Xu(this,void 0,void 0,function*(){try{return{data:yield Fb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if($n(e))return{data:null,error:e};throw e}})}getBucket(e){return Xu(this,void 0,void 0,function*(){try{return{data:yield Fb(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Xu(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Xu(this,void 0,void 0,function*(){try{return{data:yield Mq(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Xu(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Xu(this,void 0,void 0,function*(){try{return{data:yield kO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}}class zq extends Uq{constructor(e,r={},n){super(e,r,n)}from(e){return new Fq(this.url,this.headers,e,this.fetch)}}const Vq="2.42.5";let kf="";typeof Deno<"u"?kf="deno":typeof document<"u"?kf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kf="react-native":kf="node";const Hq={"X-Client-Info":`supabase-js-${kf}/${Vq}`},Qq={headers:Hq},Gq={schema:"public"},Jq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yq={};var Kq=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Zq=t=>{let e;return t?e=t:typeof fetch>"u"?e=Kx:e=fetch,(...r)=>e(...r)},Xq=()=>typeof Headers>"u"?_O:Headers,eU=(t,e,r)=>{const n=Zq(r),i=Xq();return(o,s)=>Kq(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},s),{headers:u}))})};function tU(t){return t.replace(/\/$/,"")}function rU(t,e){const{db:r,auth:n,realtime:i,global:o}=t,{db:s,auth:a,realtime:l,global:u}=e;return{db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),o)}}const CO="2.63.1",nU="http://localhost:9999",iU="supabase.auth.token",oU={"X-Client-Info":`gotrue-js/${CO}`},QN=10,Wb="X-Supabase-Api-Version",TO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function sU(t){return Math.round(Date.now()/1e3)+t}function aU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const uo=()=>typeof document<"u",El={tested:!1,writable:!1},Qf=()=>{if(!uo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(El.tested)return El.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),El.tested=!0,El.writable=!0}catch{El.tested=!0,El.writable=!1}return El.writable};function Fw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const RO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ed(()=>Promise.resolve().then(()=>qp),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},lU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",OO=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Am=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ww=async(t,e)=>{await t.removeItem(e)};function uU(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,o,s,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)s=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),n=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|u,r=r+String.fromCharCode(n),l!=64&&i!=0&&(r=r+String.fromCharCode(i)),u!=64&&o!=0&&(r=r+String.fromCharCode(o));return r}class o0{constructor(){this.promise=new o0.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}o0.promiseConstructor=Promise;function GN(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(uU(n))}async function cU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dU(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){n(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function fU(t){return("0"+t.toString(16)).substr(-2)}function hU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,fU).join("")}async function pU(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function mU(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await pU(t);return mU(r)}async function ec(t,e,r=!1){const n=hU();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await OO(t,`${e}-code-verifier`,i);const o=await yU(n);return[o,n===o?"plain":"s256"]}const gU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vU(t){const e=t.headers.get(Wb);if(!e||!e.match(gU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class tS extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function kt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wU extends tS{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bU(t){return kt(t)&&t.name==="AuthApiError"}class AO extends tS{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Du extends tS{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Nl extends Du{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class qw extends Du{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Im extends Du{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pm extends Du{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JN extends Du{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qb extends Du{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Uw(t){return kt(t)&&t.name==="AuthRetryableFetchError"}class YN extends Du{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var _U=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Ol=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xU=[502,503,504];async function KN(t){var e;if(!lU(t))throw new qb(Ol(t),0);if(xU.includes(t.status))throw new qb(Ol(t),t.status);let r;try{r=await t.json()}catch(o){throw new AO(Ol(o),o)}let n;const i=vU(t);if(i&&i.getTime()>=TO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new YN(Ol(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new YN(Ol(r),t.status,r.weak_password.reasons);throw new wU(Ol(r),t.status||500,n)}const SU=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function At(t,e,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[Wb]||(o[Wb]=TO["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await EU(t,e,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function EU(t,e,r,n,i,o){const s=SU(e,n,i,o);let a;try{a=await t(r,Object.assign(Object.assign({},s),{cache:"no-store"}))}catch(l){throw console.error(l),new qb(Ol(l),0)}if(a.ok||await KN(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await KN(l)}}function ma(t){var e;let r=null;TU(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=sU(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ZN(t){const e=ma(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ta(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function NU(t){return{data:t,error:null}}function kU(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,s=_U(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function CU(t){return t}function TU(t){return t.access_token&&t.refresh_token&&t.expires_in}var RU=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class OU{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=RO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await At(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await At(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ta})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=RU(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await At(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:kU,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await At(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ta})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,s,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await At(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:CU});if(c.error)throw c.error;const h=await c.json(),p=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);u[`${E}Page`]=S}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(kt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await At(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ta})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await At(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ta})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await At(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ta})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await At(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await At(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}}const AU={getItem:t=>Qf()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Qf()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Qf()&&globalThis.localStorage.removeItem(t)}};function XN(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function IU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tc={debug:!!(globalThis&&Qf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class PU extends IO{}async function $U(t,e,r){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),tc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}IU();const jU={url:nU,storageKey:iU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oU,flowType:"implicit",debug:!1},wf=30*1e3,ek=3;async function tk(t,e,r){return await r()}class Yh{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yh.nextInstanceID,Yh.nextInstanceID+=1,this.instanceID>0&&uo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},jU),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new OU({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=RO(i.fetch),this.lock=i.lock||tk,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,i.lock?this.lock=i.lock:uo()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$U:this.lock=tk,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Qf()?this.storage=AU:(this.memoryStorage={},this.storage=XN(this.memoryStorage)):(this.memoryStorage={},this.storage=XN(this.memoryStorage)),uo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${CO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=uo()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return kt(e)?{error:e}:{error:new AO("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{await this._removeSession();const o=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ma}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(kt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,i;try{await this._removeSession();let o;if("email"in e){const{email:c,password:h,options:p}=e;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await ec(this.storage,this.storageKey)),o=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:b},xform:ma})}else if("phone"in e){const{phone:c,password:h,options:p}=e;o=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ma})}else throw new Im("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(kt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{await this._removeSession();let r;if("email"in e){const{email:o,password:s,options:a}=e;r=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ZN})}else if("phone"in e){const{phone:o,password:s,options:a}=e;r=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ZN})}else throw new Im("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new qw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Am(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/"),{data:o,error:s}=await At(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ma});return await Ww(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null,redirectType:null},error:s}:!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new qw}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}async signInWithIdToken(e){await this._removeSession();try{const{options:r,provider:n,token:i,access_token:o,nonce:s}=e,a=await At(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ma}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new qw}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,o,s;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ec(this.storage,this.storageKey));const{error:h}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Im("You must provide either an email or phone number.")}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:a}=await At(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ma});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(kt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{await this._removeSession();let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await ec(this.storage,this.storageKey)),await At(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:NU})}catch(o){if(kt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Nl;const{error:i}=await At(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(kt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:s}=await At(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:s,error:a}=await At(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new Im("You must provide either an email or phone number and a type")}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Am(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return this.storage.isServer&&(e=new Proxy(e,{get(a,l,u){return l==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(a,l,u)}})),{data:{session:e},error:null};const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ta}):await this._useSession(async r=>{var n,i,o;const{data:s,error:a}=r;if(a)throw a;return!((n=s.session)===null||n===void 0)&&n.access_token?await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ta}):{data:{user:null},error:new Nl}})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Nl;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ec(this.storage,this.storageKey));const{data:u,error:c}=await At(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:Ta});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return GN(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nl;const r=Date.now()/1e3;let n=r,i=!0,o=null;const s=GN(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(kt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:a}=r;if(a)throw a;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Nl;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!uo())throw new Pm("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Pm("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new JN("Not a valid PKCE flow url.");const r=Fw(window.location.href);if(e){if(!r.code)throw new JN("No code detected.");const{data:w,error:N}=await this._exchangeCodeForSession(r.code);if(N)throw N;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:w.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new Pm(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:u}=r;if(!o||!a||!s||!u)throw new Pm("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const y=p-c;y*1e3<=wf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const b=p-h;c-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,c):c-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",b,p,c);const{data:S,error:E}=await this._getUser(o);if(E)throw E;const v={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:p,refresh_token:s,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:r.type},error:null}}catch(r){if(kt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const e=Fw(window.location.href);return!!(uo()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Fw(window.location.href),r=await Am(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{error:o};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(bU(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ww(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const r=aU(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ec(this.storage,this.storageKey,!0));try{return await At(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(kt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var s,a,l,u,c;const{data:h,error:p}=o;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await At(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return uo()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(kt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:s}=r;if(s)throw s;return await At(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await dU(async i=>(i>0&&await cU(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await At(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ma})),(i,o)=>{const s=200*Math.pow(2,i);return o&&Uw(o)&&Date.now()+s-n<wf})}catch(n){if(this._debug(r,"error",n),kt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),uo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Am(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),o=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<i+QN;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${QN}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),Uw(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Nl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new o0;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new Nl;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),kt(o)){const s={session:null,error:o};return Uw(o)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await OO(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ww(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&uo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/wf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wf}ms, refresh threshold is ${ek} ticks`),i<=ek&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof IO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!uo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,s]=await ec(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await At(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await At(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:s,error:a}=await At(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await At(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:n,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Yh.nextInstanceID=0;const LU=Yh;class DU extends LU{constructor(e){super(e)}}var MU=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class BU{constructor(e,r,n){var i,o,s,a,l,u,c,h;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const p=tU(e);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const y=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,b={db:Gq,realtime:Yq,auth:Object.assign(Object.assign({},Jq),{storageKey:y}),global:Qq},S=rU(n??{},b);this.storageKey=(o=(i=S.auth)===null||i===void 0?void 0:i.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=(s=S.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=S.auth)!==null&&l!==void 0?l:{},this.headers,(u=S.global)===null||u===void 0?void 0:u.fetch),this.fetch=eU(r,this._getAccessToken.bind(this),(c=S.global)===null||c===void 0?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},S.realtime)),this.rest=new Zx(`${p}/rest/v1`,{headers:this.headers,schema:(h=S.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new aq(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zq(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return MU(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:o,flowType:s,debug:a},l,u){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new DU({url:this.authUrl,headers:Object.assign(Object.assign({},c),l),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,debug:a,fetch:u})}_initRealtimeClient(e){return new Aq(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FU=(t,e,r)=>new BU(t,e,r),WU="https://mjrrhdjdbsaystkbxvup.supabase.co",qU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qcnJoZGpkYnNheXN0a2J4dnVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjIzMDI2NzcsImV4cCI6MTk3Nzg3ODY3N30.eC3WDXnaIXy21bI8oGPaHTsLeE0jEmjk2qCDycB-AXc",fu=FU(WU,qU),PO=()=>{const t=async()=>{await fu.auth.signOut()};return g.jsx(Lr,{onClick:t,color:"red",children:"sign out"})};var UU=class{createQueryCompiler(){return new IW}createAdapter(){return new LW}createIntrospector(t){return new jW(t)}},mp,Dk,zU=(Dk=class{constructor(){ie(this,mp,new VU);Ie(this,"connection")}async acquireConnection(){return await d(this,mp).lock(),this.connection}async beginTransaction(t){await t.executeQuery(Dw.raw("begin"))}async commitTransaction(t){await t.executeQuery(Dw.raw("commit"))}async rollbackTransaction(t){await t.executeQuery(Dw.raw("rollback"))}async releaseConnection(){d(this,mp).unlock()}},mp=new WeakMap,Dk),VU=class{constructor(){Ie(this,"promise");Ie(this,"resolve")}async lock(){for(;this.promise;)await this.promise;this.promise=new Promise(t=>{this.resolve=t})}unlock(){const t=this.resolve;this.promise=void 0,this.resolve=void 0,t==null||t()}},HU=class{streamQuery(){throw new Error("sqlite-wasm driver doesn't support streaming")}async executeQuery({parameters:t,query:e,sql:r}){const n=await this.query(r,t);return Ot.is(e)||n.length?{rows:n}:{rows:n,...await this.info()}}};function QU(t,e,r){let n,i=0,o=null;function s(){n&&clearTimeout(n),i=0,o=null}function a(){i>=r?(t(o),s()):(n&&clearTimeout(n),n=setTimeout(()=>{t(o),s(),n=void 0},e))}return l=>{i++,o=l,n===void 0&&i===0?(t(l),i++):a()}}var GU=class extends zU{constructor(e){super();Ie(this,"config");Ie(this,"db");this.config=e}async init(){var e,r,n,i,o,s;if(this.db=typeof this.config.database=="function"?await this.config.database():this.config.database,!this.db)throw new Error("no database");this.connection=new JU(this.db,(e=this.config.onWrite)==null?void 0:e.func,(r=this.config.onWrite)==null?void 0:r.isThrottle,(n=this.config.onWrite)==null?void 0:n.delay,(i=this.config.onWrite)==null?void 0:i.maxCalls),await((s=(o=this.config).onCreateConnection)==null?void 0:s.call(o,this.connection))}async beginTransaction(e){e.trxCount++,await super.beginTransaction(e)}async commitTransaction(e){e.trxCount--,await super.commitTransaction(e)}async rollbackTransaction(e){e.trxCount--,await super.rollbackTransaction(e)}async destroy(){var e;(e=this.db)==null||e.close()}},JU=class extends HU{constructor(e,r,n=!1,i=2e3,o=1e3){super();Ie(this,"db");Ie(this,"onWrite");Ie(this,"trxCount",0);this.db=e,this.onWrite=r?n?QU(r,i,o):r:void 0}async query(e,r){const n=this.db.prepare(e);n.bind(r);const i=[];for(;n.step();)i.push(n.getAsObject());return n.free(),i}async info(){var n;let e=0;const r=this.db.prepare("SELECT last_insert_rowid()");try{r.step(),e=r.get()[0]}finally{r.free()}return this.trxCount===0&&((n=this.onWrite)==null||n.call(this,this.db.export())),{insertId:BigInt(e),numAffectedRows:BigInt(this.db.getRowsModified())}}},YU=class extends UU{constructor(e){super();Ie(this,"config");this.config=e}createDriver(){return new GU(this.config)}},$O={exports:{}};const zw=_A(VW);(function(t,e){var r=void 0,n=function(i){return r||(r=new Promise(function(o,s){var a=typeof i<"u"?i:{},l=a.onAbort;a.onAbort=function(f){s(new Error(f)),l&&l(f)},a.postRun=a.postRun||[],a.postRun.push(function(){o(a)}),t=void 0;var u;u||(u=typeof a<"u"?a:{}),u.onRuntimeInitialized=function(){function f(J,be){switch(typeof be){case"boolean":gA(J,be?1:0);break;case"number":pA(J,be);break;case"string":mA(J,be,-1,-1);break;case"object":if(be===null)WS(J);else if(be.length!=null){var Ye=ua(be,zu);yA(J,Ye,be.length,-1),Xp(Ye)}else tm(J,"Wrong API use : tried to return a value of an unknown type ("+be+").",-1);break;default:WS(J)}}function m(J,be){for(var Ye=[],ht=0;ht<J;ht+=1){var Nt=pt(be+4*ht,"i32"),sr=uA(Nt);if(sr===1||sr===2)Nt=hA(Nt);else if(sr===3)Nt=dA(Nt);else if(sr===4){sr=Nt,Nt=cA(sr),sr=fA(sr);for(var so=new Uint8Array(Nt),Fi=0;Fi<Nt;Fi+=1)so[Fi]=H[sr+Fi];Nt=so}else Nt=null;Ye.push(Nt)}return Ye}function _(J,be){this.La=J,this.db=be,this.Ja=1,this.fb=[]}function O(J,be){if(this.db=be,be=Gr(J)+1,this.Ya=Zp(be),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");Tn(J,te,this.Ya,be),this.eb=this.Ya,this.Ua=this.ib=null}function D(J){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),J!=null){var be=this.filename,Ye="/",ht=be;if(Ye&&(Ye=typeof Ye=="string"?Ye:et(Ye),ht=be?xe(Ye+"/"+be):Ye),be=bl(!0,!0),ht=Bi(ht,(be!==void 0?be:438)&4095|32768,0),J){if(typeof J=="string"){Ye=Array(J.length);for(var Nt=0,sr=J.length;Nt<sr;++Nt)Ye[Nt]=J.charCodeAt(Nt);J=Ye}qu(ht,be|146),Ye=Qo(ht,577),Yp(Ye,J,0,J.length,0),Vd(Ye),qu(ht,be)}}this.handleError(lt(this.filename,ee)),this.db=pt(ee,"i32"),US(this.db),this.Za={},this.Na={}}var ee=da(4),de=u.cwrap,lt=de("sqlite3_open","number",["string","number"]),jt=de("sqlite3_close_v2","number",["number"]),bt=de("sqlite3_exec","number",["number","string","number","number","number"]),Jr=de("sqlite3_changes","number",["number"]),dn=de("sqlite3_prepare_v2","number",["number","string","number","number","number"]),LS=de("sqlite3_sql","string",["number"]),H6=de("sqlite3_normalized_sql","string",["number"]),DS=de("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Q6=de("sqlite3_bind_text","number",["number","number","number","number","number"]),MS=de("sqlite3_bind_blob","number",["number","number","number","number","number"]),G6=de("sqlite3_bind_double","number",["number","number","number"]),J6=de("sqlite3_bind_int","number",["number","number","number"]),Y6=de("sqlite3_bind_parameter_index","number",["number","string"]),K6=de("sqlite3_step","number",["number"]),Z6=de("sqlite3_errmsg","string",["number"]),X6=de("sqlite3_column_count","number",["number"]),eA=de("sqlite3_data_count","number",["number"]),tA=de("sqlite3_column_double","number",["number","number"]),BS=de("sqlite3_column_text","string",["number","number"]),rA=de("sqlite3_column_blob","number",["number","number"]),nA=de("sqlite3_column_bytes","number",["number","number"]),iA=de("sqlite3_column_type","number",["number","number"]),oA=de("sqlite3_column_name","string",["number","number"]),sA=de("sqlite3_reset","number",["number"]),aA=de("sqlite3_clear_bindings","number",["number"]),lA=de("sqlite3_finalize","number",["number"]),FS=de("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),uA=de("sqlite3_value_type","number",["number"]),cA=de("sqlite3_value_bytes","number",["number"]),dA=de("sqlite3_value_text","string",["number"]),fA=de("sqlite3_value_blob","number",["number"]),hA=de("sqlite3_value_double","number",["number"]),pA=de("sqlite3_result_double","",["number","number"]),WS=de("sqlite3_result_null","",["number"]),mA=de("sqlite3_result_text","",["number","string","number","number"]),yA=de("sqlite3_result_blob","",["number","number","number","number"]),gA=de("sqlite3_result_int","",["number","number"]),tm=de("sqlite3_result_error","",["number","string","number"]),qS=de("sqlite3_aggregate_context","number",["number","number"]),US=de("RegisterExtensionFunctions","number",["number"]);_.prototype.bind=function(J){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(J)?this.wb(J):J!=null&&typeof J=="object"?this.xb(J):!0},_.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var J=K6(this.La);switch(J){case 100:return!0;case 101:return!1;default:throw this.db.handleError(J)}},_.prototype.rb=function(J){return J==null&&(J=this.Ja,this.Ja+=1),tA(this.La,J)},_.prototype.Ab=function(J){if(J==null&&(J=this.Ja,this.Ja+=1),J=BS(this.La,J),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(J)},_.prototype.Bb=function(J){return J==null&&(J=this.Ja,this.Ja+=1),BS(this.La,J)},_.prototype.getBlob=function(J){J==null&&(J=this.Ja,this.Ja+=1);var be=nA(this.La,J);J=rA(this.La,J);for(var Ye=new Uint8Array(be),ht=0;ht<be;ht+=1)Ye[ht]=H[J+ht];return Ye},_.prototype.get=function(J,be){be=be||{},J!=null&&this.bind(J)&&this.step(),J=[];for(var Ye=eA(this.La),ht=0;ht<Ye;ht+=1)switch(iA(this.La,ht)){case 1:var Nt=be.useBigInt?this.Ab(ht):this.rb(ht);J.push(Nt);break;case 2:J.push(this.rb(ht));break;case 3:J.push(this.Bb(ht));break;case 4:J.push(this.getBlob(ht));break;default:J.push(null)}return J},_.prototype.getColumnNames=function(){for(var J=[],be=X6(this.La),Ye=0;Ye<be;Ye+=1)J.push(oA(this.La,Ye));return J},_.prototype.getAsObject=function(J,be){J=this.get(J,be),be=this.getColumnNames();for(var Ye={},ht=0;ht<be.length;ht+=1)Ye[be[ht]]=J[ht];return Ye},_.prototype.getSQL=function(){return LS(this.La)},_.prototype.getNormalizedSQL=function(){return H6(this.La)},_.prototype.run=function(J){return J!=null&&this.bind(J),this.step(),this.reset()},_.prototype.nb=function(J,be){be==null&&(be=this.Ja,this.Ja+=1),J=Di(J);var Ye=ua(J,zu);this.fb.push(Ye),this.db.handleError(Q6(this.La,be,Ye,J.length-1,0))},_.prototype.vb=function(J,be){be==null&&(be=this.Ja,this.Ja+=1);var Ye=ua(J,zu);this.fb.push(Ye),this.db.handleError(MS(this.La,be,Ye,J.length,0))},_.prototype.mb=function(J,be){be==null&&(be=this.Ja,this.Ja+=1),this.db.handleError((J===(J|0)?J6:G6)(this.La,be,J))},_.prototype.yb=function(J){J==null&&(J=this.Ja,this.Ja+=1),MS(this.La,J,0,0,0)},_.prototype.ob=function(J,be){switch(be==null&&(be=this.Ja,this.Ja+=1),typeof J){case"string":this.nb(J,be);return;case"number":this.mb(J,be);return;case"bigint":this.nb(J.toString(),be);return;case"boolean":this.mb(J+0,be);return;case"object":if(J===null){this.yb(be);return}if(J.length!=null){this.vb(J,be);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+J+")."},_.prototype.xb=function(J){var be=this;return Object.keys(J).forEach(function(Ye){var ht=Y6(be.La,Ye);ht!==0&&be.ob(J[Ye],ht)}),!0},_.prototype.wb=function(J){for(var be=0;be<J.length;be+=1)this.ob(J[be],be+1);return!0},_.prototype.reset=function(){return this.freemem(),aA(this.La)===0&&sA(this.La)===0},_.prototype.freemem=function(){for(var J;(J=this.fb.pop())!==void 0;)Xp(J)},_.prototype.free=function(){this.freemem();var J=lA(this.La)===0;return delete this.db.Za[this.La],this.La=0,J},O.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var J=Gd(),be=da(4);it(ee),it(be);try{this.db.handleError(DS(this.db.db,this.eb,-1,ee,be)),this.eb=pt(be,"i32");var Ye=pt(ee,"i32");return Ye===0?(this.gb(),{done:!0}):(this.Ua=new _(Ye,this.db),this.db.Za[Ye]=this.Ua,{value:this.Ua,done:!1})}catch(ht){throw this.ib=G(this.eb),this.gb(),ht}finally{Jd(J)}},O.prototype.gb=function(){Xp(this.Ya),this.Ya=null},O.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:G(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(O.prototype[Symbol.iterator]=function(){return this}),D.prototype.run=function(J,be){if(!this.db)throw"Database closed";if(be){J=this.prepare(J,be);try{J.step()}finally{J.free()}}else this.handleError(bt(this.db,J,0,0,ee));return this},D.prototype.exec=function(J,be,Ye){if(!this.db)throw"Database closed";var ht=Gd(),Nt=null;try{var sr=vs(J),so=da(4);for(J=[];pt(sr,"i8")!==0;){it(ee),it(so),this.handleError(DS(this.db,sr,-1,ee,so));var Fi=pt(ee,"i32");if(sr=pt(so,"i32"),Fi!==0){var pi=null;for(Nt=new _(Fi,this),be!=null&&Nt.bind(be);Nt.step();)pi===null&&(pi={columns:Nt.getColumnNames(),values:[]},J.push(pi)),pi.values.push(Nt.get(null,Ye));Nt.free()}}return J}catch(ao){throw Nt&&Nt.free(),ao}finally{Jd(ht)}},D.prototype.each=function(J,be,Ye,ht,Nt){typeof be=="function"&&(ht=Ye,Ye=be,be=void 0),J=this.prepare(J,be);try{for(;J.step();)Ye(J.getAsObject(null,Nt))}finally{J.free()}if(typeof ht=="function")return ht()},D.prototype.prepare=function(J,be){if(it(ee),this.handleError(dn(this.db,J,-1,ee,0)),J=pt(ee,"i32"),J===0)throw"Nothing to prepare";var Ye=new _(J,this);return be!=null&&Ye.bind(be),this.Za[J]=Ye},D.prototype.iterateStatements=function(J){return new O(J,this)},D.prototype.export=function(){Object.values(this.Za).forEach(function(be){be.free()}),Object.values(this.Na).forEach(ws),this.Na={},this.handleError(jt(this.db));var J=j0(this.filename);return this.handleError(lt(this.filename,ee)),this.db=pt(ee,"i32"),US(this.db),J},D.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(J){J.free()}),Object.values(this.Na).forEach(ws),this.Na={},this.handleError(jt(this.db)),It("/"+this.filename),this.db=null)},D.prototype.handleError=function(J){if(J===0)return null;throw J=Z6(this.db),Error(J)},D.prototype.getRowsModified=function(){return Jr(this.db)},D.prototype.create_function=function(J,be){Object.prototype.hasOwnProperty.call(this.Na,J)&&(ws(this.Na[J]),delete this.Na[J]);var Ye=Kp(function(ht,Nt,sr){Nt=m(Nt,sr);try{var so=be.apply(null,Nt)}catch(Fi){tm(ht,Fi,-1);return}f(ht,so)},"viii");return this.Na[J]=Ye,this.handleError(FS(this.db,J,be.length,1,0,Ye,0,0,0)),this},D.prototype.create_aggregate=function(J,be){var Ye=be.init||function(){return null},ht=be.finalize||function(pi){return pi},Nt=be.step;if(!Nt)throw"An aggregate function must have a step function in "+J;var sr={};Object.hasOwnProperty.call(this.Na,J)&&(ws(this.Na[J]),delete this.Na[J]),be=J+"__finalize",Object.hasOwnProperty.call(this.Na,be)&&(ws(this.Na[be]),delete this.Na[be]);var so=Kp(function(pi,ao,L0){var Sl=qS(pi,1);Object.hasOwnProperty.call(sr,Sl)||(sr[Sl]=Ye()),ao=m(ao,L0),ao=[sr[Sl]].concat(ao);try{sr[Sl]=Nt.apply(null,ao)}catch(vA){delete sr[Sl],tm(pi,vA,-1)}},"viii"),Fi=Kp(function(pi){var ao=qS(pi,1);try{var L0=ht(sr[ao])}catch(Sl){delete sr[ao],tm(pi,Sl,-1);return}f(pi,L0),delete sr[ao]},"vi");return this.Na[J]=so,this.Na[be]=Fi,this.handleError(FS(this.db,J,Nt.length-1,1,0,0,so,Fi,0)),this},u.Database=D};var c=Object.assign({},u),h="./this.program",p=typeof window=="object",y=typeof importScripts=="function",b=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S="",E,v,w;if(b){var N=zw,I=zw;S=y?I.dirname(S)+"/":__dirname+"/",E=(f,m)=>(f=z(f)?new URL(f):I.normalize(f),N.readFileSync(f,m?void 0:"utf8")),w=f=>(f=E(f,!0),f.buffer||(f=new Uint8Array(f)),f),v=(f,m,_,O=!0)=>{f=z(f)?new URL(f):I.normalize(f),N.readFile(f,O?void 0:"utf8",(D,ee)=>{D?_(D):m(O?ee.buffer:ee)})},!u.thisProgram&&1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=u,u.inspect=()=>"[Emscripten Module object]"}else(p||y)&&(y?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),S=S.indexOf("blob:")!==0?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",E=f=>{var m=new XMLHttpRequest;return m.open("GET",f,!1),m.send(null),m.responseText},y&&(w=f=>{var m=new XMLHttpRequest;return m.open("GET",f,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),v=(f,m,_)=>{var O=new XMLHttpRequest;O.open("GET",f,!0),O.responseType="arraybuffer",O.onload=()=>{O.status==200||O.status==0&&O.response?m(O.response):_()},O.onerror=_,O.send(null)});var R=u.print||console.log.bind(console),k=u.printErr||console.error.bind(console);Object.assign(u,c),c=null,u.thisProgram&&(h=u.thisProgram);var L;u.wasmBinary&&(L=u.wasmBinary),typeof WebAssembly!="object"&&ve("no native wasm support detected");var j,Z=!1,H,te,re,Q,fe,je,Fe;function Pe(){var f=j.buffer;u.HEAP8=H=new Int8Array(f),u.HEAP16=re=new Int16Array(f),u.HEAPU8=te=new Uint8Array(f),u.HEAPU16=new Uint16Array(f),u.HEAP32=Q=new Int32Array(f),u.HEAPU32=fe=new Uint32Array(f),u.HEAPF32=je=new Float32Array(f),u.HEAPF64=Fe=new Float64Array(f)}var X=[],ge=[],Ce=[];function Ae(){var f=u.preRun.shift();X.unshift(f)}var ue=0,_e=null;function ve(f){var m;throw(m=u.onAbort)==null||m.call(u,f),f="Aborted("+f+")",k(f),Z=!0,new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info.")}var Le=f=>f.startsWith("data:application/octet-stream;base64,"),z=f=>f.startsWith("file://"),Ve;if(Ve="sql-wasm.wasm",!Le(Ve)){var oe=Ve;Ve=u.locateFile?u.locateFile(oe,S):S+oe}function ct(f){if(f==Ve&&L)return new Uint8Array(L);if(w)return w(f);throw"both async and sync fetching of the wasm failed"}function ot(f){if(!L&&(p||y)){if(typeof fetch=="function"&&!z(f))return fetch(f,{credentials:"same-origin"}).then(m=>{if(!m.ok)throw"failed to load wasm binary file at '"+f+"'";return m.arrayBuffer()}).catch(()=>ct(f));if(v)return new Promise((m,_)=>{v(f,O=>m(new Uint8Array(O)),_)})}return Promise.resolve().then(()=>ct(f))}function Ge(f,m,_){return ot(f).then(O=>WebAssembly.instantiate(O,m)).then(O=>O).then(_,O=>{k(`failed to asynchronously prepare wasm: ${O}`),ve(O)})}function pe(f,m){var _=Ve;L||typeof WebAssembly.instantiateStreaming!="function"||Le(_)||z(_)||b||typeof fetch!="function"?Ge(_,f,m):fetch(_,{credentials:"same-origin"}).then(O=>WebAssembly.instantiateStreaming(O,f).then(m,function(D){return k(`wasm streaming compile failed: ${D}`),k("falling back to ArrayBuffer instantiation"),Ge(_,f,m)}))}var me,Be,$e=f=>{for(;0<f.length;)f.shift()(u)};function pt(f,m="i8"){switch(m.endsWith("*")&&(m="*"),m){case"i1":return H[f>>0];case"i8":return H[f>>0];case"i16":return re[f>>1];case"i32":return Q[f>>2];case"i64":ve("to do getValue(i64) use WASM_BIGINT");case"float":return je[f>>2];case"double":return Fe[f>>3];case"*":return fe[f>>2];default:ve(`invalid type for getValue: ${m}`)}}function it(f){var m="i32";switch(m.endsWith("*")&&(m="*"),m){case"i1":H[f>>0]=0;break;case"i8":H[f>>0]=0;break;case"i16":re[f>>1]=0;break;case"i32":Q[f>>2]=0;break;case"i64":ve("to do setValue(i64) use WASM_BIGINT");case"float":je[f>>2]=0;break;case"double":Fe[f>>3]=0;break;case"*":fe[f>>2]=0;break;default:ve(`invalid type for setValue: ${m}`)}}var $=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,W=(f,m,_)=>{var O=m+_;for(_=m;f[_]&&!(_>=O);)++_;if(16<_-m&&f.buffer&&$)return $.decode(f.subarray(m,_));for(O="";m<_;){var D=f[m++];if(D&128){var ee=f[m++]&63;if((D&224)==192)O+=String.fromCharCode((D&31)<<6|ee);else{var de=f[m++]&63;D=(D&240)==224?(D&15)<<12|ee<<6|de:(D&7)<<18|ee<<12|de<<6|f[m++]&63,65536>D?O+=String.fromCharCode(D):(D-=65536,O+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else O+=String.fromCharCode(D)}return O},G=(f,m)=>f?W(te,f,m):"",Te=(f,m)=>{for(var _=0,O=f.length-1;0<=O;O--){var D=f[O];D==="."?f.splice(O,1):D===".."?(f.splice(O,1),_++):_&&(f.splice(O,1),_--)}if(m)for(;_;_--)f.unshift("..");return f},xe=f=>{var m=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=Te(f.split("/").filter(O=>!!O),!m).join("/"))||m||(f="."),f&&_&&(f+="/"),(m?"/":"")+f},he=f=>{var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=m[0],m=m[1],!f&&!m?".":(m&&(m=m.substr(0,m.length-1)),f+m)},ne=f=>{if(f==="/")return"/";f=xe(f),f=f.replace(/\/$/,"");var m=f.lastIndexOf("/");return m===-1?f:f.substr(m+1)},De=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return _=>crypto.getRandomValues(_);if(b)try{var f=zw;if(f.randomFillSync)return _=>f.randomFillSync(_);var m=f.randomBytes;return _=>(_.set(m(_.byteLength)),_)}catch{}ve("initRandomDevice")},Rt=f=>(Rt=De())(f);function Mt(){for(var f="",m=!1,_=arguments.length-1;-1<=_&&!m;_--){if(m=0<=_?arguments[_]:"/",typeof m!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!m)return"";f=m+"/"+f,m=m.charAt(0)==="/"}return f=Te(f.split("/").filter(O=>!!O),!m).join("/"),(m?"/":"")+f||"."}var er=[],Gr=f=>{for(var m=0,_=0;_<f.length;++_){var O=f.charCodeAt(_);127>=O?m++:2047>=O?m+=2:55296<=O&&57343>=O?(m+=4,++_):m+=3}return m},Tn=(f,m,_,O)=>{if(!(0<O))return 0;var D=_;O=_+O-1;for(var ee=0;ee<f.length;++ee){var de=f.charCodeAt(ee);if(55296<=de&&57343>=de){var lt=f.charCodeAt(++ee);de=65536+((de&1023)<<10)|lt&1023}if(127>=de){if(_>=O)break;m[_++]=de}else{if(2047>=de){if(_+1>=O)break;m[_++]=192|de>>6}else{if(65535>=de){if(_+2>=O)break;m[_++]=224|de>>12}else{if(_+3>=O)break;m[_++]=240|de>>18,m[_++]=128|de>>12&63}m[_++]=128|de>>6&63}m[_++]=128|de&63}}return m[_]=0,_-D};function Di(f,m){var _=Array(Gr(f)+1);return f=Tn(f,_,0,_.length),m&&(_.length=f),_}var Wo=[];function qo(f,m){Wo[f]={input:[],output:[],Xa:m},di(f,Uo)}var Uo={open(f){var m=Wo[f.node.rdev];if(!m)throw new V(43);f.tty=m,f.seekable=!1},close(f){f.tty.Xa.fsync(f.tty)},fsync(f){f.tty.Xa.fsync(f.tty)},read(f,m,_,O){if(!f.tty||!f.tty.Xa.sb)throw new V(60);for(var D=0,ee=0;ee<O;ee++){try{var de=f.tty.Xa.sb(f.tty)}catch{throw new V(29)}if(de===void 0&&D===0)throw new V(6);if(de==null)break;D++,m[_+ee]=de}return D&&(f.node.timestamp=Date.now()),D},write(f,m,_,O){if(!f.tty||!f.tty.Xa.jb)throw new V(60);try{for(var D=0;D<O;D++)f.tty.Xa.jb(f.tty,m[_+D])}catch{throw new V(29)}return O&&(f.node.timestamp=Date.now()),D}},ro={sb(){e:{if(!er.length){var f=null;if(b){var m=Buffer.alloc(256),_=0,O=process.stdin.fd;try{_=N.readSync(O,m)}catch(D){if(D.toString().includes("EOF"))_=0;else throw D}0<_?f=m.slice(0,_).toString("utf-8"):f=null}else typeof window<"u"&&typeof window.prompt=="function"?(f=window.prompt("Input: "),f!==null&&(f+=`
`)):typeof readline=="function"&&(f=readline(),f!==null&&(f+=`
`));if(!f){f=null;break e}er=Di(f,!0)}f=er.shift()}return f},jb(f,m){m===null||m===10?(R(W(f.output,0)),f.output=[]):m!=0&&f.output.push(m)},fsync(f){f.output&&0<f.output.length&&(R(W(f.output,0)),f.output=[])},Mb(){return{Ib:25856,Kb:5,Hb:191,Jb:35387,Gb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Nb(){return 0},Ob(){return[24,80]}},Wu={jb(f,m){m===null||m===10?(k(W(f.output,0)),f.output=[]):m!=0&&f.output.push(m)},fsync(f){f.output&&0<f.output.length&&(k(W(f.output,0)),f.output=[])}};function zo(f,m){var _=f.Ia?f.Ia.length:0;_>=m||(m=Math.max(m,_*(1048576>_?2:1.125)>>>0),_!=0&&(m=Math.max(m,256)),_=f.Ia,f.Ia=new Uint8Array(m),0<f.Ma&&f.Ia.set(_.subarray(0,f.Ma),0))}var gt={Qa:null,Ra(){return gt.createNode(null,"/",16895,0)},createNode(f,m,_,O){if((_&61440)===24576||(_&61440)===4096)throw new V(63);return gt.Qa||(gt.Qa={dir:{node:{Pa:gt.Ga.Pa,Oa:gt.Ga.Oa,lookup:gt.Ga.lookup,ab:gt.Ga.ab,rename:gt.Ga.rename,unlink:gt.Ga.unlink,rmdir:gt.Ga.rmdir,readdir:gt.Ga.readdir,symlink:gt.Ga.symlink},stream:{Ta:gt.Ha.Ta}},file:{node:{Pa:gt.Ga.Pa,Oa:gt.Ga.Oa},stream:{Ta:gt.Ha.Ta,read:gt.Ha.read,write:gt.Ha.write,lb:gt.Ha.lb,bb:gt.Ha.bb,cb:gt.Ha.cb}},link:{node:{Pa:gt.Ga.Pa,Oa:gt.Ga.Oa,readlink:gt.Ga.readlink},stream:{}},pb:{node:{Pa:gt.Ga.Pa,Oa:gt.Ga.Oa},stream:Mi}}),_=_r(f,m,_,O),Ke(_.mode)?(_.Ga=gt.Qa.dir.node,_.Ha=gt.Qa.dir.stream,_.Ia={}):(_.mode&61440)===32768?(_.Ga=gt.Qa.file.node,_.Ha=gt.Qa.file.stream,_.Ma=0,_.Ia=null):(_.mode&61440)===40960?(_.Ga=gt.Qa.link.node,_.Ha=gt.Qa.link.stream):(_.mode&61440)===8192&&(_.Ga=gt.Qa.pb.node,_.Ha=gt.Qa.pb.stream),_.timestamp=Date.now(),f&&(f.Ia[m]=_,f.timestamp=_.timestamp),_},Lb(f){return f.Ia?f.Ia.subarray?f.Ia.subarray(0,f.Ma):new Uint8Array(f.Ia):new Uint8Array(0)},Ga:{Pa(f){var m={};return m.dev=(f.mode&61440)===8192?f.id:1,m.ino=f.id,m.mode=f.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=f.rdev,Ke(f.mode)?m.size=4096:(f.mode&61440)===32768?m.size=f.Ma:(f.mode&61440)===40960?m.size=f.link.length:m.size=0,m.atime=new Date(f.timestamp),m.mtime=new Date(f.timestamp),m.ctime=new Date(f.timestamp),m.zb=4096,m.blocks=Math.ceil(m.size/m.zb),m},Oa(f,m){if(m.mode!==void 0&&(f.mode=m.mode),m.timestamp!==void 0&&(f.timestamp=m.timestamp),m.size!==void 0&&(m=m.size,f.Ma!=m))if(m==0)f.Ia=null,f.Ma=0;else{var _=f.Ia;f.Ia=new Uint8Array(m),_&&f.Ia.set(_.subarray(0,Math.min(m,f.Ma))),f.Ma=m}},lookup(){throw We[44]},ab(f,m,_,O){return gt.createNode(f,m,_,O)},rename(f,m,_){if(Ke(f.mode)){try{var O=ft(m,_)}catch{}if(O)for(var D in O.Ia)throw new V(55)}delete f.parent.Ia[f.name],f.parent.timestamp=Date.now(),f.name=_,m.Ia[_]=f,m.timestamp=f.parent.timestamp,f.parent=m},unlink(f,m){delete f.Ia[m],f.timestamp=Date.now()},rmdir(f,m){var _=ft(f,m),O;for(O in _.Ia)throw new V(55);delete f.Ia[m],f.timestamp=Date.now()},readdir(f){var m=[".",".."],_;for(_ of Object.keys(f.Ia))m.push(_);return m},symlink(f,m,_){return f=gt.createNode(f,m,41471,0),f.link=_,f},readlink(f){if((f.mode&61440)!==40960)throw new V(28);return f.link}},Ha:{read(f,m,_,O,D){var ee=f.node.Ia;if(D>=f.node.Ma)return 0;if(f=Math.min(f.node.Ma-D,O),8<f&&ee.subarray)m.set(ee.subarray(D,D+f),_);else for(O=0;O<f;O++)m[_+O]=ee[D+O];return f},write(f,m,_,O,D,ee){if(m.buffer===H.buffer&&(ee=!1),!O)return 0;if(f=f.node,f.timestamp=Date.now(),m.subarray&&(!f.Ia||f.Ia.subarray)){if(ee)return f.Ia=m.subarray(_,_+O),f.Ma=O;if(f.Ma===0&&D===0)return f.Ia=m.slice(_,_+O),f.Ma=O;if(D+O<=f.Ma)return f.Ia.set(m.subarray(_,_+O),D),O}if(zo(f,D+O),f.Ia.subarray&&m.subarray)f.Ia.set(m.subarray(_,_+O),D);else for(ee=0;ee<O;ee++)f.Ia[D+ee]=m[_+ee];return f.Ma=Math.max(f.Ma,D+O),O},Ta(f,m,_){if(_===1?m+=f.position:_===2&&(f.node.mode&61440)===32768&&(m+=f.node.Ma),0>m)throw new V(28);return m},lb(f,m,_){zo(f.node,m+_),f.node.Ma=Math.max(f.node.Ma,m+_)},bb(f,m,_,O,D){if((f.node.mode&61440)!==32768)throw new V(43);if(f=f.node.Ia,D&2||f.buffer!==H.buffer){if((0<_||_+m<f.length)&&(f.subarray?f=f.subarray(_,_+m):f=Array.prototype.slice.call(f,_,_+m)),_=!0,m=65536*Math.ceil(m/65536),(D=$S(65536,m))?(te.fill(0,D,D+m),m=D):m=0,!m)throw new V(48);H.set(f,m)}else _=!1,m=f.byteOffset;return{Db:m,ub:_}},cb(f,m,_,O){return gt.Ha.write(f,m,0,O,_,!1),0}}},bl=(f,m)=>{var _=0;return f&&(_|=365),m&&(_|=146),_},ti=null,_l={},gs=[],U=1,Y=null,ae=!0,V=null,We={};function Ze(f,m={}){if(f=Mt(f),!f)return{path:"",node:null};if(m=Object.assign({qb:!0,kb:0},m),8<m.kb)throw new V(32);f=f.split("/").filter(de=>!!de);for(var _=ti,O="/",D=0;D<f.length;D++){var ee=D===f.length-1;if(ee&&m.parent)break;if(_=ft(_,f[D]),O=xe(O+"/"+f[D]),_.Va&&(!ee||ee&&m.qb)&&(_=_.Va.root),!ee||m.Sa){for(ee=0;(_.mode&61440)===40960;)if(_=Sr(O),O=Mt(he(O),_),_=Ze(O,{kb:m.kb+1}).node,40<ee++)throw new V(32)}}return{path:O,node:_}}function et(f){for(var m;;){if(f===f.parent)return f=f.Ra.tb,m?f[f.length-1]!=="/"?`${f}/${m}`:f+m:f;m=m?`${f.name}/${m}`:f.name,f=f.parent}}function Xe(f,m){for(var _=0,O=0;O<m.length;O++)_=(_<<5)-_+m.charCodeAt(O)|0;return(f+_>>>0)%Y.length}function Je(f){var m=Xe(f.parent.id,f.name);if(Y[m]===f)Y[m]=f.Wa;else for(m=Y[m];m;){if(m.Wa===f){m.Wa=f.Wa;break}m=m.Wa}}function ft(f,m){var _;if(_=(_=or(f,"x"))?_:f.Ga.lookup?0:2)throw new V(_,f);for(_=Y[Xe(f.id,m)];_;_=_.Wa){var O=_.name;if(_.parent.id===f.id&&O===m)return _}return f.Ga.lookup(f,m)}function _r(f,m,_,O){return f=new IS(f,m,_,O),m=Xe(f.parent.id,f.name),f.Wa=Y[m],Y[m]=f}function Ke(f){return(f&61440)===16384}function Ut(f){var m=["r","w","rw"][f&3];return f&512&&(m+="w"),m}function or(f,m){if(ae)return 0;if(!m.includes("r")||f.mode&292){if(m.includes("w")&&!(f.mode&146)||m.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function cn(f,m){try{return ft(f,m),20}catch{}return or(f,"wx")}function xr(f,m,_){try{var O=ft(f,m)}catch(D){return D.Ka}if(f=or(f,"wx"))return f;if(_){if(!Ke(O.mode))return 54;if(O===O.parent||et(O)==="/")return 10}else if(Ke(O.mode))return 31;return 0}function Vo(){for(var f=0;4096>=f;f++)if(!gs[f])return f;throw new V(33)}function Mr(f){if(f=gs[f],!f)throw new V(8);return f}function no(f,m=-1){return F||(F=function(){this.$a={}},F.prototype={},Object.defineProperties(F.prototype,{object:{get(){return this.node},set(_){this.node=_}},flags:{get(){return this.$a.flags},set(_){this.$a.flags=_}},position:{get(){return this.$a.position},set(_){this.$a.position=_}}})),f=Object.assign(new F,f),m==-1&&(m=Vo()),f.fd=m,gs[m]=f}var Mi={open(f){var m,_;f.Ha=_l[f.node.rdev].Ha,(_=(m=f.Ha).open)==null||_.call(m,f)},Ta(){throw new V(70)}};function di(f,m){_l[f]={Ha:m}}function la(f,m){var _=m==="/",O=!m;if(_&&ti)throw new V(10);if(!_&&!O){var D=Ze(m,{qb:!1});if(m=D.path,D=D.node,D.Va)throw new V(10);if(!Ke(D.mode))throw new V(54)}m={type:f,Pb:{},tb:m,Cb:[]},f=f.Ra(m),f.Ra=m,m.root=f,_?ti=f:D&&(D.Va=m,D.Ra&&D.Ra.Cb.push(m))}function Bi(f,m,_){var O=Ze(f,{parent:!0}).node;if(f=ne(f),!f||f==="."||f==="..")throw new V(28);var D=cn(O,f);if(D)throw new V(D);if(!O.Ga.ab)throw new V(63);return O.Ga.ab(O,f,m,_)}function Rn(f,m){return Bi(f,(m!==void 0?m:511)&1023|16384,0)}function fi(f,m,_){typeof _>"u"&&(_=m,m=438),Bi(f,m|8192,_)}function Ho(f,m){if(!Mt(f))throw new V(44);var _=Ze(m,{parent:!0}).node;if(!_)throw new V(44);m=ne(m);var O=cn(_,m);if(O)throw new V(O);if(!_.Ga.symlink)throw new V(63);_.Ga.symlink(_,m,f)}function Ct(f){var m=Ze(f,{parent:!0}).node;f=ne(f);var _=ft(m,f),O=xr(m,f,!0);if(O)throw new V(O);if(!m.Ga.rmdir)throw new V(63);if(_.Va)throw new V(10);m.Ga.rmdir(m,f),Je(_)}function It(f){var m=Ze(f,{parent:!0}).node;if(!m)throw new V(44);f=ne(f);var _=ft(m,f),O=xr(m,f,!1);if(O)throw new V(O);if(!m.Ga.unlink)throw new V(63);if(_.Va)throw new V(10);m.Ga.unlink(m,f),Je(_)}function Sr(f){if(f=Ze(f).node,!f)throw new V(44);if(!f.Ga.readlink)throw new V(28);return Mt(et(f.parent),f.Ga.readlink(f))}function hi(f,m){if(f=Ze(f,{Sa:!m}).node,!f)throw new V(44);if(!f.Ga.Pa)throw new V(63);return f.Ga.Pa(f)}function io(f){return hi(f,!0)}function qu(f,m){if(f=typeof f=="string"?Ze(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new V(63);f.Ga.Oa(f,{mode:m&4095|f.mode&-4096,timestamp:Date.now()})}function xl(f,m){if(0>m)throw new V(28);if(f=typeof f=="string"?Ze(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new V(63);if(Ke(f.mode))throw new V(31);if((f.mode&61440)!==32768)throw new V(28);var _=or(f,"w");if(_)throw new V(_);f.Ga.Oa(f,{size:m,timestamp:Date.now()})}function Qo(f,m,_){if(f==="")throw new V(44);if(typeof m=="string"){var O={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[m];if(typeof O>"u")throw Error(`Unknown file open mode: ${m}`);m=O}if(_=m&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var D=f;else{f=xe(f);try{D=Ze(f,{Sa:!(m&131072)}).node}catch{}}if(O=!1,m&64)if(D){if(m&128)throw new V(20)}else D=Bi(f,_,0),O=!0;if(!D)throw new V(44);if((D.mode&61440)===8192&&(m&=-513),m&65536&&!Ke(D.mode))throw new V(54);if(!O&&(_=D?(D.mode&61440)===40960?32:Ke(D.mode)&&(Ut(m)!=="r"||m&512)?31:or(D,Ut(m)):44))throw new V(_);return m&512&&!O&&xl(D,0),m&=-131713,D=no({node:D,path:et(D),flags:m,seekable:!0,position:0,Ha:D.Ha,Fb:[],error:!1}),D.Ha.open&&D.Ha.open(D),!u.logReadFiles||m&1||(le||(le={}),f in le||(le[f]=1)),D}function Vd(f){if(f.fd===null)throw new V(8);f.hb&&(f.hb=null);try{f.Ha.close&&f.Ha.close(f)}catch(m){throw m}finally{gs[f.fd]=null}f.fd=null}function Jp(f,m,_){if(f.fd===null)throw new V(8);if(!f.seekable||!f.Ha.Ta)throw new V(70);if(_!=0&&_!=1&&_!=2)throw new V(28);f.position=f.Ha.Ta(f,m,_),f.Fb=[]}function Uu(f,m,_,O,D){if(0>O||0>D)throw new V(28);if(f.fd===null)throw new V(8);if((f.flags&2097155)===1)throw new V(8);if(Ke(f.node.mode))throw new V(31);if(!f.Ha.read)throw new V(28);var ee=typeof D<"u";if(!ee)D=f.position;else if(!f.seekable)throw new V(70);return m=f.Ha.read(f,m,_,O,D),ee||(f.position+=m),m}function Yp(f,m,_,O,D){if(0>O||0>D)throw new V(28);if(f.fd===null)throw new V(8);if(!(f.flags&2097155))throw new V(8);if(Ke(f.node.mode))throw new V(31);if(!f.Ha.write)throw new V(28);f.seekable&&f.flags&1024&&Jp(f,0,2);var ee=typeof D<"u";if(!ee)D=f.position;else if(!f.seekable)throw new V(70);return m=f.Ha.write(f,m,_,O,D,void 0),ee||(f.position+=m),m}function j0(f){var m,_=Qo(f,_||0);f=hi(f).size;var O=new Uint8Array(f);return Uu(_,O,0,f,0),m=O,Vd(_),m}function C(){V||(V=function(f,m){this.name="ErrnoError",this.node=m,this.Eb=function(_){this.Ka=_},this.Eb(f),this.message="FS error"},V.prototype=Error(),V.prototype.constructor=V,[44].forEach(f=>{We[f]=new V(f),We[f].stack="<generic error, no stack>"}))}var M;function P(f,m,_){f=xe("/dev/"+f);var O=bl(!!m,!!_);q||(q=64);var D=q++<<8|0;di(D,{open(ee){ee.seekable=!1},close(){var ee;(ee=_==null?void 0:_.buffer)!=null&&ee.length&&_(10)},read(ee,de,lt,jt){for(var bt=0,Jr=0;Jr<jt;Jr++){try{var dn=m()}catch{throw new V(29)}if(dn===void 0&&bt===0)throw new V(6);if(dn==null)break;bt++,de[lt+Jr]=dn}return bt&&(ee.node.timestamp=Date.now()),bt},write(ee,de,lt,jt){for(var bt=0;bt<jt;bt++)try{_(de[lt+bt])}catch{throw new V(29)}return jt&&(ee.node.timestamp=Date.now()),bt}}),fi(f,O,D)}var q,B={},F,le;function ye(f,m,_){if(m.charAt(0)==="/")return m;if(f=f===-100?"/":Mr(f).path,m.length==0){if(!_)throw new V(44);return f}return xe(f+"/"+m)}function Ee(f,m,_){try{var O=f(m)}catch(ee){if(ee&&ee.node&&xe(m)!==xe(et(ee.node)))return-54;throw ee}Q[_>>2]=O.dev,Q[_+4>>2]=O.mode,fe[_+8>>2]=O.nlink,Q[_+12>>2]=O.uid,Q[_+16>>2]=O.gid,Q[_+20>>2]=O.rdev,Be=[O.size>>>0,(me=O.size,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],Q[_+24>>2]=Be[0],Q[_+28>>2]=Be[1],Q[_+32>>2]=4096,Q[_+36>>2]=O.blocks,f=O.atime.getTime(),m=O.mtime.getTime();var D=O.ctime.getTime();return Be=[Math.floor(f/1e3)>>>0,(me=Math.floor(f/1e3),1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],Q[_+40>>2]=Be[0],Q[_+44>>2]=Be[1],fe[_+48>>2]=f%1e3*1e3,Be=[Math.floor(m/1e3)>>>0,(me=Math.floor(m/1e3),1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],Q[_+56>>2]=Be[0],Q[_+60>>2]=Be[1],fe[_+64>>2]=m%1e3*1e3,Be=[Math.floor(D/1e3)>>>0,(me=Math.floor(D/1e3),1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],Q[_+72>>2]=Be[0],Q[_+76>>2]=Be[1],fe[_+80>>2]=D%1e3*1e3,Be=[O.ino>>>0,(me=O.ino,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],Q[_+88>>2]=Be[0],Q[_+92>>2]=Be[1],0}var Ne=void 0;function Re(){var f=Q[+Ne>>2];return Ne+=4,f}var Ue=(f,m)=>m+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*m:NaN,wt=[0,31,60,91,121,152,182,213,244,274,305,335],Bt=[0,31,59,90,120,151,181,212,243,273,304,334],Ft=f=>{var m=Gr(f)+1,_=Zp(m);return _&&Tn(f,te,_,m),_},mr={},yr=()=>{if(!On){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"},m;for(m in mr)mr[m]===void 0?delete f[m]:f[m]=mr[m];var _=[];for(m in f)_.push(`${m}=${f[m]}`);On=_}return On},On,vs=f=>{var m=Gr(f)+1,_=da(m);return Tn(f,te,_,m),_},Hd=(f,m,_,O)=>{var D={string:bt=>{var Jr=0;return bt!=null&&bt!==0&&(Jr=vs(bt)),Jr},array:bt=>{var Jr=da(bt.length);return H.set(bt,Jr),Jr}};f=u["_"+f];var ee=[],de=0;if(O)for(var lt=0;lt<O.length;lt++){var jt=D[_[lt]];jt?(de===0&&(de=Gd()),ee[lt]=jt(O[lt])):ee[lt]=O[lt]}return _=f.apply(null,ee),_=function(bt){return de!==0&&Jd(de),m==="string"?bt?W(te,bt):"":m==="boolean"?!!bt:bt}(_)},zu=0,ua=(f,m)=>(m=m==1?da(f.length):Zp(f.length),f.subarray||f.slice||(f=new Uint8Array(f)),te.set(f,m),m),ca,Qd=[],oo,ws=f=>{ca.delete(oo.get(f)),oo.set(f,null),Qd.push(f)},Kp=(f,m)=>{if(!ca){ca=new WeakMap;var _=oo.length;if(ca)for(var O=0;O<0+_;O++){var D=oo.get(O);D&&ca.set(D,O)}}if(_=ca.get(f)||0)return _;if(Qd.length)_=Qd.pop();else{try{oo.grow(1)}catch(lt){throw lt instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":lt}_=oo.length-1}try{oo.set(_,f)}catch(lt){if(!(lt instanceof TypeError))throw lt;if(typeof WebAssembly.Function=="function"){O=WebAssembly.Function,D={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var ee={parameters:[],results:m[0]=="v"?[]:[D[m[0]]]},de=1;de<m.length;++de)ee.parameters.push(D[m[de]]);m=new O(ee,f)}else{for(O=[1],D=m.slice(0,1),m=m.slice(1),ee={i:127,p:127,j:126,f:125,d:124,e:111},O.push(96),de=m.length,128>de?O.push(de):O.push(de%128|128,de>>7),de=0;de<m.length;++de)O.push(ee[m[de]]);D=="v"?O.push(0):O.push(1,ee[D]),m=[0,97,115,109,1,0,0,0,1],D=O.length,128>D?m.push(D):m.push(D%128|128,D>>7),m.push.apply(m,O),m.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),m=new WebAssembly.Module(new Uint8Array(m)),m=new WebAssembly.Instance(m,{e:{f}}).exports.f}oo.set(_,m)}return ca.set(f,_),_};function IS(f,m,_,O){f||(f=this),this.parent=f,this.Ra=f.Ra,this.Va=null,this.id=U++,this.name=m,this.mode=_,this.Ga={},this.Ha={},this.rdev=O}Object.defineProperties(IS.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(f){f?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(f){f?this.mode|=146:this.mode&=-147}}}),C(),Y=Array(4096),la(gt,"/"),Rn("/tmp"),Rn("/home"),Rn("/home/web_user"),function(){Rn("/dev"),di(259,{read:()=>0,write:(O,D,ee,de)=>de}),fi("/dev/null",259),qo(1280,ro),qo(1536,Wu),fi("/dev/tty",1280),fi("/dev/tty1",1536);var f=new Uint8Array(1024),m=0,_=()=>(m===0&&(m=Rt(f).byteLength),f[--m]);P("random",_),P("urandom",_),Rn("/dev/shm"),Rn("/dev/shm/tmp")}(),function(){Rn("/proc");var f=Rn("/proc/self");Rn("/proc/self/fd"),la({Ra(){var m=_r(f,"fd",16895,73);return m.Ga={lookup(_,O){var D=Mr(+O);return _={parent:null,Ra:{tb:"fake"},Ga:{readlink:()=>D.path}},_.parent=_}},m}},"/proc/self/fd")}();var V6={a:(f,m,_,O)=>{ve(`Assertion failed: ${f?W(te,f):""}, at: `+[m?m?W(te,m):"":"unknown filename",_,O?O?W(te,O):"":"unknown function"])},h:function(f,m){try{return f=f?W(te,f):"",qu(f,m),0}catch(_){if(typeof B>"u"||_.name!=="ErrnoError")throw _;return-_.Ka}},H:function(f,m,_){try{if(m=m?W(te,m):"",m=ye(f,m),_&-8)return-28;var O=Ze(m,{Sa:!0}).node;return O?(f="",_&4&&(f+="r"),_&2&&(f+="w"),_&1&&(f+="x"),f&&or(O,f)?-2:0):-44}catch(D){if(typeof B>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},i:function(f,m){try{var _=Mr(f);return qu(_.node,m),0}catch(O){if(typeof B>"u"||O.name!=="ErrnoError")throw O;return-O.Ka}},g:function(f){try{var m=Mr(f).node,_=typeof m=="string"?Ze(m,{Sa:!0}).node:m;if(!_.Ga.Oa)throw new V(63);return _.Ga.Oa(_,{timestamp:Date.now()}),0}catch(O){if(typeof B>"u"||O.name!=="ErrnoError")throw O;return-O.Ka}},b:function(f,m,_){Ne=_;try{var O=Mr(f);switch(m){case 0:var D=Re();if(0>D)return-28;for(;gs[D];)D++;return no(O,D).fd;case 1:case 2:return 0;case 3:return O.flags;case 4:return D=Re(),O.flags|=D,0;case 5:return D=Re(),re[D+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Q[PS()>>2]=28,-1;default:return-28}}catch(ee){if(typeof B>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Ka}},f:function(f,m){try{var _=Mr(f);return Ee(hi,_.path,m)}catch(O){if(typeof B>"u"||O.name!=="ErrnoError")throw O;return-O.Ka}},n:function(f,m,_){m=Ue(m,_);try{if(isNaN(m))return 61;var O=Mr(f);if(!(O.flags&2097155))throw new V(28);return xl(O.node,m),0}catch(D){if(typeof B>"u"||D.name!=="ErrnoError")throw D;return-D.Ka}},C:function(f,m){try{if(m===0)return-28;var _=Gr("/")+1;return m<_?-68:(Tn("/",te,f,m),_)}catch(O){if(typeof B>"u"||O.name!=="ErrnoError")throw O;return-O.Ka}},F:function(f,m){try{return f=f?W(te,f):"",Ee(io,f,m)}catch(_){if(typeof B>"u"||_.name!=="ErrnoError")throw _;return-_.Ka}},z:function(f,m,_){try{return m=m?W(te,m):"",m=ye(f,m),m=xe(m),m[m.length-1]==="/"&&(m=m.substr(0,m.length-1)),Rn(m,_),0}catch(O){if(typeof B>"u"||O.name!=="ErrnoError")throw O;return-O.Ka}},E:function(f,m,_,O){try{m=m?W(te,m):"";var D=O&256;return m=ye(f,m,O&4096),Ee(D?io:hi,m,_)}catch(ee){if(typeof B>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Ka}},y:function(f,m,_,O){Ne=O;try{m=m?W(te,m):"",m=ye(f,m);var D=O?Re():0;return Qo(m,_,D).fd}catch(ee){if(typeof B>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Ka}},w:function(f,m,_,O){try{if(m=m?W(te,m):"",m=ye(f,m),0>=O)return-28;var D=Sr(m),ee=Math.min(O,Gr(D)),de=H[_+ee];return Tn(D,te,_,O+1),H[_+ee]=de,ee}catch(lt){if(typeof B>"u"||lt.name!=="ErrnoError")throw lt;return-lt.Ka}},v:function(f){try{return f=f?W(te,f):"",Ct(f),0}catch(m){if(typeof B>"u"||m.name!=="ErrnoError")throw m;return-m.Ka}},G:function(f,m){try{return f=f?W(te,f):"",Ee(hi,f,m)}catch(_){if(typeof B>"u"||_.name!=="ErrnoError")throw _;return-_.Ka}},r:function(f,m,_){try{return m=m?W(te,m):"",m=ye(f,m),_===0?It(m):_===512?Ct(m):ve("Invalid flags passed to unlinkat"),0}catch(O){if(typeof B>"u"||O.name!=="ErrnoError")throw O;return-O.Ka}},q:function(f,m,_){try{if(m=m?W(te,m):"",m=ye(f,m,!0),_){var O=fe[_>>2]+4294967296*Q[_+4>>2],D=Q[_+8>>2];ee=1e3*O+D/1e6,_+=16,O=fe[_>>2]+4294967296*Q[_+4>>2],D=Q[_+8>>2],de=1e3*O+D/1e6}else var ee=Date.now(),de=ee;f=ee;var lt=Ze(m,{Sa:!0}).node;return lt.Ga.Oa(lt,{timestamp:Math.max(f,de)}),0}catch(jt){if(typeof B>"u"||jt.name!=="ErrnoError")throw jt;return-jt.Ka}},l:function(f,m,_){f=new Date(1e3*Ue(f,m)),Q[_>>2]=f.getSeconds(),Q[_+4>>2]=f.getMinutes(),Q[_+8>>2]=f.getHours(),Q[_+12>>2]=f.getDate(),Q[_+16>>2]=f.getMonth(),Q[_+20>>2]=f.getFullYear()-1900,Q[_+24>>2]=f.getDay(),m=f.getFullYear(),Q[_+28>>2]=(m%4!==0||m%100===0&&m%400!==0?Bt:wt)[f.getMonth()]+f.getDate()-1|0,Q[_+36>>2]=-(60*f.getTimezoneOffset()),m=new Date(f.getFullYear(),6,1).getTimezoneOffset();var O=new Date(f.getFullYear(),0,1).getTimezoneOffset();Q[_+32>>2]=(m!=O&&f.getTimezoneOffset()==Math.min(O,m))|0},j:function(f,m,_,O,D,ee,de,lt){D=Ue(D,ee);try{if(isNaN(D))return 61;var jt=Mr(O);if(m&2&&!(_&2)&&(jt.flags&2097155)!==2)throw new V(2);if((jt.flags&2097155)===1)throw new V(2);if(!jt.Ha.bb)throw new V(43);var bt=jt.Ha.bb(jt,f,D,m,_),Jr=bt.Db;return Q[de>>2]=bt.ub,fe[lt>>2]=Jr,0}catch(dn){if(typeof B>"u"||dn.name!=="ErrnoError")throw dn;return-dn.Ka}},k:function(f,m,_,O,D,ee,de){ee=Ue(ee,de);try{if(isNaN(ee))return 61;var lt=Mr(D);if(_&2){if((lt.node.mode&61440)!==32768)throw new V(43);if(!(O&2)){var jt=te.slice(f,f+m);lt.Ha.cb&&lt.Ha.cb(lt,jt,ee,m,O)}}}catch(bt){if(typeof B>"u"||bt.name!=="ErrnoError")throw bt;return-bt.Ka}},s:(f,m,_)=>{function O(jt){return(jt=jt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?jt[1]:"GMT"}var D=new Date().getFullYear(),ee=new Date(D,0,1),de=new Date(D,6,1);D=ee.getTimezoneOffset();var lt=de.getTimezoneOffset();fe[f>>2]=60*Math.max(D,lt),Q[m>>2]=+(D!=lt),f=O(ee),m=O(de),f=Ft(f),m=Ft(m),lt<D?(fe[_>>2]=f,fe[_+4>>2]=m):(fe[_>>2]=m,fe[_+4>>2]=f)},d:()=>Date.now(),t:()=>2147483648,c:()=>performance.now(),o:f=>{var m=te.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var O=m*(1+.2/_);O=Math.min(O,f+100663296);var D=Math;O=Math.max(f,O);e:{D=(D.min.call(D,2147483648,O+(65536-O%65536)%65536)-j.buffer.byteLength+65535)/65536;try{j.grow(D),Pe();var ee=1;break e}catch{}ee=void 0}if(ee)return!0}return!1},A:(f,m)=>{var _=0;return yr().forEach((O,D)=>{var ee=m+_;for(D=fe[f+4*D>>2]=ee,ee=0;ee<O.length;++ee)H[D++>>0]=O.charCodeAt(ee);H[D>>0]=0,_+=O.length+1}),0},B:(f,m)=>{var _=yr();fe[f>>2]=_.length;var O=0;return _.forEach(D=>O+=D.length+1),fe[m>>2]=O,0},e:function(f){try{var m=Mr(f);return Vd(m),0}catch(_){if(typeof B>"u"||_.name!=="ErrnoError")throw _;return _.Ka}},p:function(f,m){try{var _=Mr(f);return H[m>>0]=_.tty?2:Ke(_.mode)?3:(_.mode&61440)===40960?7:4,re[m+2>>1]=0,Be=[0,(me=0,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],Q[m+8>>2]=Be[0],Q[m+12>>2]=Be[1],Be=[0,(me=0,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],Q[m+16>>2]=Be[0],Q[m+20>>2]=Be[1],0}catch(O){if(typeof B>"u"||O.name!=="ErrnoError")throw O;return O.Ka}},x:function(f,m,_,O){try{e:{var D=Mr(f);f=m;for(var ee,de=m=0;de<_;de++){var lt=fe[f>>2],jt=fe[f+4>>2];f+=8;var bt=Uu(D,H,lt,jt,ee);if(0>bt){var Jr=-1;break e}if(m+=bt,bt<jt)break;typeof ee<"u"&&(ee+=bt)}Jr=m}return fe[O>>2]=Jr,0}catch(dn){if(typeof B>"u"||dn.name!=="ErrnoError")throw dn;return dn.Ka}},m:function(f,m,_,O,D){m=Ue(m,_);try{if(isNaN(m))return 61;var ee=Mr(f);return Jp(ee,m,O),Be=[ee.position>>>0,(me=ee.position,1<=+Math.abs(me)?0<me?+Math.floor(me/4294967296)>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],Q[D>>2]=Be[0],Q[D+4>>2]=Be[1],ee.hb&&m===0&&O===0&&(ee.hb=null),0}catch(de){if(typeof B>"u"||de.name!=="ErrnoError")throw de;return de.Ka}},D:function(f){var _;try{var m=Mr(f);return(_=m.Ha)!=null&&_.fsync?m.Ha.fsync(m):0}catch(O){if(typeof B>"u"||O.name!=="ErrnoError")throw O;return O.Ka}},u:function(f,m,_,O){try{e:{var D=Mr(f);f=m;for(var ee,de=m=0;de<_;de++){var lt=fe[f>>2],jt=fe[f+4>>2];f+=8;var bt=Yp(D,H,lt,jt,ee);if(0>bt){var Jr=-1;break e}m+=bt,typeof ee<"u"&&(ee+=bt)}Jr=m}return fe[O>>2]=Jr,0}catch(dn){if(typeof B>"u"||dn.name!=="ErrnoError")throw dn;return dn.Ka}}},tt=function(){var _;function f(O){var D;return tt=O.exports,j=tt.I,Pe(),oo=tt.Aa,ge.unshift(tt.J),ue--,(D=u.monitorRunDependencies)==null||D.call(u,ue),ue==0&&_e&&(O=_e,_e=null,O()),tt}var m={a:V6};if(ue++,(_=u.monitorRunDependencies)==null||_.call(u,ue),u.instantiateWasm)try{return u.instantiateWasm(m,f)}catch(O){return k(`Module.instantiateWasm callback failed with error: ${O}`),!1}return pe(m,function(O){f(O.instance)}),{}}();u._sqlite3_free=f=>(u._sqlite3_free=tt.K)(f),u._sqlite3_value_text=f=>(u._sqlite3_value_text=tt.L)(f);var PS=()=>(PS=tt.M)();u._sqlite3_prepare_v2=(f,m,_,O,D)=>(u._sqlite3_prepare_v2=tt.N)(f,m,_,O,D),u._sqlite3_step=f=>(u._sqlite3_step=tt.O)(f),u._sqlite3_reset=f=>(u._sqlite3_reset=tt.P)(f),u._sqlite3_exec=(f,m,_,O,D)=>(u._sqlite3_exec=tt.Q)(f,m,_,O,D),u._sqlite3_finalize=f=>(u._sqlite3_finalize=tt.R)(f),u._sqlite3_column_name=(f,m)=>(u._sqlite3_column_name=tt.S)(f,m),u._sqlite3_column_text=(f,m)=>(u._sqlite3_column_text=tt.T)(f,m),u._sqlite3_column_type=(f,m)=>(u._sqlite3_column_type=tt.U)(f,m),u._sqlite3_errmsg=f=>(u._sqlite3_errmsg=tt.V)(f),u._sqlite3_clear_bindings=f=>(u._sqlite3_clear_bindings=tt.W)(f),u._sqlite3_value_blob=f=>(u._sqlite3_value_blob=tt.X)(f),u._sqlite3_value_bytes=f=>(u._sqlite3_value_bytes=tt.Y)(f),u._sqlite3_value_double=f=>(u._sqlite3_value_double=tt.Z)(f),u._sqlite3_value_int=f=>(u._sqlite3_value_int=tt._)(f),u._sqlite3_value_type=f=>(u._sqlite3_value_type=tt.$)(f),u._sqlite3_result_blob=(f,m,_,O)=>(u._sqlite3_result_blob=tt.aa)(f,m,_,O),u._sqlite3_result_double=(f,m)=>(u._sqlite3_result_double=tt.ba)(f,m),u._sqlite3_result_error=(f,m,_)=>(u._sqlite3_result_error=tt.ca)(f,m,_),u._sqlite3_result_int=(f,m)=>(u._sqlite3_result_int=tt.da)(f,m),u._sqlite3_result_int64=(f,m,_)=>(u._sqlite3_result_int64=tt.ea)(f,m,_),u._sqlite3_result_null=f=>(u._sqlite3_result_null=tt.fa)(f),u._sqlite3_result_text=(f,m,_,O)=>(u._sqlite3_result_text=tt.ga)(f,m,_,O),u._sqlite3_aggregate_context=(f,m)=>(u._sqlite3_aggregate_context=tt.ha)(f,m),u._sqlite3_column_count=f=>(u._sqlite3_column_count=tt.ia)(f),u._sqlite3_data_count=f=>(u._sqlite3_data_count=tt.ja)(f),u._sqlite3_column_blob=(f,m)=>(u._sqlite3_column_blob=tt.ka)(f,m),u._sqlite3_column_bytes=(f,m)=>(u._sqlite3_column_bytes=tt.la)(f,m),u._sqlite3_column_double=(f,m)=>(u._sqlite3_column_double=tt.ma)(f,m),u._sqlite3_bind_blob=(f,m,_,O,D)=>(u._sqlite3_bind_blob=tt.na)(f,m,_,O,D),u._sqlite3_bind_double=(f,m,_)=>(u._sqlite3_bind_double=tt.oa)(f,m,_),u._sqlite3_bind_int=(f,m,_)=>(u._sqlite3_bind_int=tt.pa)(f,m,_),u._sqlite3_bind_text=(f,m,_,O,D)=>(u._sqlite3_bind_text=tt.qa)(f,m,_,O,D),u._sqlite3_bind_parameter_index=(f,m)=>(u._sqlite3_bind_parameter_index=tt.ra)(f,m),u._sqlite3_sql=f=>(u._sqlite3_sql=tt.sa)(f),u._sqlite3_normalized_sql=f=>(u._sqlite3_normalized_sql=tt.ta)(f),u._sqlite3_changes=f=>(u._sqlite3_changes=tt.ua)(f),u._sqlite3_close_v2=f=>(u._sqlite3_close_v2=tt.va)(f),u._sqlite3_create_function_v2=(f,m,_,O,D,ee,de,lt,jt)=>(u._sqlite3_create_function_v2=tt.wa)(f,m,_,O,D,ee,de,lt,jt),u._sqlite3_open=(f,m)=>(u._sqlite3_open=tt.xa)(f,m);var Zp=u._malloc=f=>(Zp=u._malloc=tt.ya)(f),Xp=u._free=f=>(Xp=u._free=tt.za)(f);u._RegisterExtensionFunctions=f=>(u._RegisterExtensionFunctions=tt.Ba)(f);var $S=(f,m)=>($S=tt.Ca)(f,m),Gd=()=>(Gd=tt.Da)(),Jd=f=>(Jd=tt.Ea)(f),da=f=>(da=tt.Fa)(f);u.stackAlloc=da,u.stackSave=Gd,u.stackRestore=Jd,u.cwrap=(f,m,_,O)=>{var D=!_||_.every(ee=>ee==="number"||ee==="boolean");return m!=="string"&&D&&!O?u["_"+f]:function(){return Hd(f,m,_,arguments)}},u.addFunction=Kp,u.removeFunction=ws,u.UTF8ToString=G,u.ALLOC_NORMAL=zu,u.allocate=ua,u.allocateUTF8OnStack=vs;var em;_e=function f(){em||jS(),em||(_e=f)};function jS(){function f(){if(!em&&(em=!0,u.calledRun=!0,!Z)){if(u.noFSInit||M||(M=!0,C(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?P("stdin",u.stdin):Ho("/dev/tty","/dev/stdin"),u.stdout?P("stdout",null,u.stdout):Ho("/dev/tty","/dev/stdout"),u.stderr?P("stderr",null,u.stderr):Ho("/dev/tty1","/dev/stderr"),Qo("/dev/stdin",0),Qo("/dev/stdout",1),Qo("/dev/stderr",1)),ae=!1,$e(ge),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var m=u.postRun.shift();Ce.unshift(m)}$e(Ce)}}if(!(0<ue)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Ae();$e(X),0<ue||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),f()},1)):f())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return jS(),a}),r)};t.exports=n,t.exports.default=n})($O);var KU=$O.exports;const ZU=yp(KU),XU=t=>`https://sql.js.org/dist/${t}`,ez=XU,Up=async()=>await ZU({locateFile:ez}),jO=(t,e,r)=>{const n=new t.Database(e);return{db:rS(n,r),sqlite:n}},rS=(t,e)=>{const r=new YU({database:t});return new Jh({...e,plugins:[new UW],dialect:r})},LO="yuuka",DO=t=>`${t}/book.db`,tz=async(t,e)=>{const r=DO(t),n=e.export(),{data:i,error:o}=await fu.storage.from(LO).upload(r,n,{upsert:!0,contentType:"application/x-sqlite3",cacheControl:"10"});if(o)throw o;return i},rz=async t=>{const e=DO(t),{data:r,error:n}=await fu.storage.from(LO).download(e);if(n)throw n;return await r.arrayBuffer()},nz=async t=>{const e=await Up(),r=await rz(t);return new e.Database(new Uint8Array(r))},MO={upload:tz,download:nz},iz=async()=>{var n;const{data:t,error:e}=await fu.auth.getSession();if(e)throw e;const r=(n=t.session)==null?void 0:n.user.id;if(!r)throw new Error("user id is null");return r},oz=()=>{const t=A.useContext(ku),{session:e}=t,[r,n]=A.useState(!1),[i,o]=A.useState(null),[s,a]=A.useState(null),l=async()=>{const u=t._tag!=="api"?t.sqlite:null;if(!u){console.log("sqlite is null");return}try{n(!0),o(null),a(null);const c=await iz(),h=await MO.upload(c,u);o(h),a(null)}catch(c){o(null),a(c)}finally{n(!1)}};return e?g.jsxs("div",{children:[g.jsx("h3",{children:"upload"}),g.jsx(Lr,{onClick:l,loading:r,children:"upload"}),i&&g.jsxs("p",{children:[g.jsx("h4",{children:"result"}),g.jsx("pre",{children:JSON.stringify(i,null,2)})]}),s&&g.jsxs("p",{children:[g.jsxs("h4",{children:["error: ",s.name]}),g.jsx("p",{children:s.message}),g.jsx("p",{children:s.stack})]})]}):g.jsx("div",{children:g.jsx("h3",{children:"upload not supported"})})},sz=()=>{const t=A.useContext(ku),e=t._tag!=="api"?t.sqlite:null,r=t._tag!=="api"?t.db:null;return e?r?g.jsxs(g.Fragment,{children:[g.jsx("h1",{children:"book"}),g.jsx("h2",{children:"supabase"}),g.jsx(oz,{}),g.jsxs(ax,{children:[g.jsx(tq,{sqlite:e}),g.jsx(PO,{})]}),g.jsx("h3",{children:"actions"}),g.jsxs("ul",{children:[g.jsx("li",{children:g.jsx(pn,{component:Ln,to:"/book/tables",children:"tables"})}),g.jsx("li",{children:g.jsx(pn,{component:Ln,to:"/book/query",children:"query"})})]})]}):g.jsx("p",{children:"no db"}):g.jsx("p",{children:"no sqlite"})},az=(t,e)=>{const i=n0("SELECT * FROM sqlite_master WHERE type='table'").compile(t);return bO(i,e)},lz=(t,e,r)=>{const n=t.selectFrom(r).select(o=>o.fn.count("code").as("cnt")).compile(),i=QW(n,e);return(i==null?void 0:i.cnt)??0},uz=()=>{const t=A.useContext(ku),e=t._tag!=="api"?t.sqlite:null,r=t._tag!=="api"?t.db:null;if(!e)return g.jsx("p",{children:"no sqlite"});if(!r)return g.jsx("p",{children:"no db"});const n=az(r,e),i=n.map(s=>{const a=lz(r,e,s.name);return[s.name,a]}),o=new Map(i);return g.jsxs(K,{children:[g.jsx(K.Thead,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:"name"}),g.jsx(K.Th,{children:"count"}),g.jsx(K.Th,{children:"etc"})]})}),g.jsx(K.Tbody,{children:n.map(s=>g.jsxs(K.Tr,{children:[g.jsx(K.Td,{children:s.name}),g.jsx(K.Td,{children:o.get(s.name)??0}),g.jsx(K.Td,{children:g.jsxs("details",{children:[g.jsx("summary",{children:"sql"}),s.sql??""]})})]},s.name))})]})},cz=()=>g.jsxs(Op,{children:[g.jsx(Vr,{index:!0,element:g.jsx(sz,{})}),g.jsx(Vr,{path:"/query",element:g.jsx(XW,{})}),g.jsx(Vr,{path:"/tables",element:g.jsx(uz,{})})]}),dz=async(t,e,r)=>{const n=`${t}${e}`;return fetch(n,r)},fz=async(t,e,r)=>await t.request(e,r),hz=async(t,e,r)=>{switch(t._tag){case"api":return await dz(t.endpoint,e,r);default:return await fz(t.app,e,r)}},pz=async(t,e,r)=>await hz(t,e,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),mz="http://localhost:3000",BO=t=>async(...e)=>{const[r,n]=e,i=`${mz}${r}`;return await(await t(i,{method:"GET"})).json()},yz=()=>BO(fetch),gz=t=>BO(async(r,n)=>await t.request(r,n));var rk=function(t){var e=t.as,r=t.errors,n=t.name,i=t.message,o=t.render,s=function(p,y){if(p==null)return{};var b,S,E={},v=Object.keys(p);for(S=0;S<v.length;S++)y.indexOf(b=v[S])>=0||(E[b]=p[b]);return E}(t,["as","errors","name","message","render"]),a=zD(),l=Qe(r||a.formState.errors,n);if(!l)return null;var u=l.message,c=l.types,h=Object.assign({},s,{children:u||i});return A.isValidElement(e)?A.cloneElement(e,h):o?o({message:u||i,messages:c}):A.createElement(e||A.Fragment,h)},kd=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},ts=[],Ui=[],vz=typeof Uint8Array<"u"?Uint8Array:Array,nS=!1;function FO(){nS=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)ts[e]=t[e],Ui[t.charCodeAt(e)]=e;Ui[45]=62,Ui[95]=63}function wz(t){nS||FO();var e,r,n,i,o,s,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=t[a-2]==="="?2:t[a-1]==="="?1:0,s=new vz(a*3/4-o),n=o>0?a-4:a;var l=0;for(e=0,r=0;e<n;e+=4,r+=3)i=Ui[t.charCodeAt(e)]<<18|Ui[t.charCodeAt(e+1)]<<12|Ui[t.charCodeAt(e+2)]<<6|Ui[t.charCodeAt(e+3)],s[l++]=i>>16&255,s[l++]=i>>8&255,s[l++]=i&255;return o===2?(i=Ui[t.charCodeAt(e)]<<2|Ui[t.charCodeAt(e+1)]>>4,s[l++]=i&255):o===1&&(i=Ui[t.charCodeAt(e)]<<10|Ui[t.charCodeAt(e+1)]<<4|Ui[t.charCodeAt(e+2)]>>2,s[l++]=i>>8&255,s[l++]=i&255),s}function bz(t){return ts[t>>18&63]+ts[t>>12&63]+ts[t>>6&63]+ts[t&63]}function _z(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(bz(n));return i.join("")}function nk(t){nS||FO();for(var e,r=t.length,n=r%3,i="",o=[],s=16383,a=0,l=r-n;a<l;a+=s)o.push(_z(t,a,a+s>l?l:a+s));return n===1?(e=t[r-1],i+=ts[e>>2],i+=ts[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=ts[e>>10],i+=ts[e>>4&63],i+=ts[e<<2&63],i+="="),o.push(i),o.join("")}function s0(t,e,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,y=t[e+h];for(h+=p,o=y&(1<<-c)-1,y>>=-c,c+=a;c>0;o=o*256+t[e+h],h+=p,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=s*256+t[e+h],h+=p,c-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(y?-1:1)*s*Math.pow(2,o-n)}function WO(t,e,r,n,i,o){var s,a,l,u=o*8-i-1,c=(1<<u)-1,h=c>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:o-1,b=n?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*l-1)*Math.pow(2,i),s=s+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+y]=a&255,y+=b,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+y]=s&255,y+=b,s/=256,u-=8);t[r+y-b]|=S*128}var xz={}.toString,qO=Array.isArray||function(t){return xz.call(t)=="[object Array]"},Sz=50;ce.TYPED_ARRAY_SUPPORT=kd.TYPED_ARRAY_SUPPORT!==void 0?kd.TYPED_ARRAY_SUPPORT:!0;Bg();function Bg(){return ce.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Fs(t,e){if(Bg()<e)throw new RangeError("Invalid typed array length");return ce.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=ce.prototype):(t===null&&(t=new ce(e)),t.length=e),t}function ce(t,e,r){if(!ce.TYPED_ARRAY_SUPPORT&&!(this instanceof ce))return new ce(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return iS(this,t)}return UO(this,t,e,r)}ce.poolSize=8192;ce._augment=function(t){return t.__proto__=ce.prototype,t};function UO(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?kz(t,e,r,n):typeof e=="string"?Nz(t,e,r):Cz(t,e)}ce.from=function(t,e,r){return UO(null,t,e,r)};ce.TYPED_ARRAY_SUPPORT&&(ce.prototype.__proto__=Uint8Array.prototype,ce.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&ce[Symbol.species]);function zO(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Ez(t,e,r,n){return zO(e),e<=0?Fs(t,e):r!==void 0?typeof n=="string"?Fs(t,e).fill(r,n):Fs(t,e).fill(r):Fs(t,e)}ce.alloc=function(t,e,r){return Ez(null,t,e,r)};function iS(t,e){if(zO(e),t=Fs(t,e<0?0:oS(e)|0),!ce.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}ce.allocUnsafe=function(t){return iS(null,t)};ce.allocUnsafeSlow=function(t){return iS(null,t)};function Nz(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!ce.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=VO(e,r)|0;t=Fs(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function Ub(t,e){var r=e.length<0?0:oS(e.length)|0;t=Fs(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function kz(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),ce.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=ce.prototype):t=Ub(t,e),t}function Cz(t,e){if(hs(e)){var r=oS(e.length)|0;return t=Fs(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Hz(e.length)?Fs(t,0):Ub(t,e);if(e.type==="Buffer"&&qO(e.data))return Ub(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function oS(t){if(t>=Bg())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Bg().toString(16)+" bytes");return t|0}ce.isBuffer=qa;function hs(t){return!!(t!=null&&t._isBuffer)}ce.compare=function(e,r){if(!hs(e)||!hs(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};ce.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ce.concat=function(e,r){if(!qO(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ce.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=ce.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!hs(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i};function VO(t,e){if(hs(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Fg(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ZO(t).length;default:if(n)return Fg(t).length;e=(""+e).toLowerCase(),n=!0}}ce.byteLength=VO;function Tz(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Mz(this,e,r);case"utf8":case"utf-8":return GO(this,e,r);case"ascii":return Lz(this,e,r);case"latin1":case"binary":return Dz(this,e,r);case"base64":return $z(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bz(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ce.prototype._isBuffer=!0;function Hl(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}ce.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Hl(this,r,r+1);return this};ce.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Hl(this,r,r+3),Hl(this,r+1,r+2);return this};ce.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Hl(this,r,r+7),Hl(this,r+1,r+6),Hl(this,r+2,r+5),Hl(this,r+3,r+4);return this};ce.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?GO(this,0,e):Tz.apply(this,arguments)};ce.prototype.equals=function(e){if(!hs(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ce.compare(this,e)===0};ce.prototype.inspect=function(){var e="",r=Sz;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};ce.prototype.compare=function(e,r,n,i,o){if(!hs(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,a=n-r,l=Math.min(s,a),u=this.slice(i,o),c=e.slice(r,n),h=0;h<l;++h)if(u[h]!==c[h]){s=u[h],a=c[h];break}return s<a?-1:a<s?1:0};function HO(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ce.from(e,n)),hs(e))return e.length===0?-1:ik(t,e,r,n,i);if(typeof e=="number")return e=e&255,ce.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):ik(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function ik(t,e,r,n,i){var o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function l(y,b){return o===1?y[b]:y.readUInt16BE(b*o)}var u;if(i){var c=-1;for(u=r;u<s;u++)if(l(t,u)===l(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===a)return c*o}else c!==-1&&(u-=u-c),c=-1}else for(r+a>s&&(r=s-a),u=r;u>=0;u--){for(var h=!0,p=0;p<a;p++)if(l(t,u+p)!==l(e,p)){h=!1;break}if(h)return u}return-1}ce.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ce.prototype.indexOf=function(e,r,n){return HO(this,e,r,n,!0)};ce.prototype.lastIndexOf=function(e,r,n){return HO(this,e,r,n,!1)};function Rz(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(s*2,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function Oz(t,e,r,n){return u0(Fg(e,t.length-r),t,r,n)}function QO(t,e,r,n){return u0(zz(e),t,r,n)}function Az(t,e,r,n){return QO(t,e,r,n)}function Iz(t,e,r,n){return u0(ZO(e),t,r,n)}function Pz(t,e,r,n){return u0(Vz(e,t.length-r),t,r,n)}ce.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return Rz(this,e,r,n);case"utf8":case"utf-8":return Oz(this,e,r,n);case"ascii":return QO(this,e,r,n);case"latin1":case"binary":return Az(this,e,r,n);case"base64":return Iz(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pz(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};ce.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $z(t,e,r){return e===0&&r===t.length?nk(t):nk(t.slice(e,r))}function GO(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var l,u,c,h;switch(a){case 1:o<128&&(s=o);break;case 2:l=t[i+1],(l&192)===128&&(h=(o&31)<<6|l&63,h>127&&(s=h));break;case 3:l=t[i+1],u=t[i+2],(l&192)===128&&(u&192)===128&&(h=(o&15)<<12|(l&63)<<6|u&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],(l&192)===128&&(u&192)===128&&(c&192)===128&&(h=(o&15)<<18|(l&63)<<12|(u&63)<<6|c&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return jz(n)}var ok=4096;function jz(t){var e=t.length;if(e<=ok)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=ok));return r}function Lz(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Dz(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Mz(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=Uz(t[o]);return i}function Bz(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ce.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(ce.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=ce.prototype;else{var o=r-e;i=new ce(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+e]}return i};function yn(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ce.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||yn(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return i};ce.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||yn(e,r,this.length);for(var i=this[e+--r],o=1;r>0&&(o*=256);)i+=this[e+--r]*o;return i};ce.prototype.readUInt8=function(e,r){return r||yn(e,1,this.length),this[e]};ce.prototype.readUInt16LE=function(e,r){return r||yn(e,2,this.length),this[e]|this[e+1]<<8};ce.prototype.readUInt16BE=function(e,r){return r||yn(e,2,this.length),this[e]<<8|this[e+1]};ce.prototype.readUInt32LE=function(e,r){return r||yn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ce.prototype.readUInt32BE=function(e,r){return r||yn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ce.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||yn(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};ce.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||yn(e,r,this.length);for(var i=r,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ce.prototype.readInt8=function(e,r){return r||yn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ce.prototype.readInt16LE=function(e,r){r||yn(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ce.prototype.readInt16BE=function(e,r){r||yn(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ce.prototype.readInt32LE=function(e,r){return r||yn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ce.prototype.readInt32BE=function(e,r){return r||yn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ce.prototype.readFloatLE=function(e,r){return r||yn(e,4,this.length),s0(this,e,!0,23,4)};ce.prototype.readFloatBE=function(e,r){return r||yn(e,4,this.length),s0(this,e,!1,23,4)};ce.prototype.readDoubleLE=function(e,r){return r||yn(e,8,this.length),s0(this,e,!0,52,8)};ce.prototype.readDoubleBE=function(e,r){return r||yn(e,8,this.length),s0(this,e,!1,52,8)};function ci(t,e,r,n,i,o){if(!hs(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ce.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;ci(this,e,r,n,o,0)}var s=1,a=0;for(this[r]=e&255;++a<n&&(s*=256);)this[r+a]=e/s&255;return r+n};ce.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;ci(this,e,r,n,o,0)}var s=n-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+n};ce.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,1,255,0),ce.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};function a0(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}ce.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,2,65535,0),ce.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):a0(this,e,r,!0),r+2};ce.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,2,65535,0),ce.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):a0(this,e,r,!1),r+2};function l0(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>(n?i:3-i)*8&255}ce.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,4,4294967295,0),ce.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):l0(this,e,r,!0),r+4};ce.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,4,4294967295,0),ce.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):l0(this,e,r,!1),r+4};ce.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var o=Math.pow(2,8*n-1);ci(this,e,r,n,o-1,-o)}var s=0,a=1,l=0;for(this[r]=e&255;++s<n&&(a*=256);)e<0&&l===0&&this[r+s-1]!==0&&(l=1),this[r+s]=(e/a>>0)-l&255;return r+n};ce.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var o=Math.pow(2,8*n-1);ci(this,e,r,n,o-1,-o)}var s=n-1,a=1,l=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&l===0&&this[r+s+1]!==0&&(l=1),this[r+s]=(e/a>>0)-l&255;return r+n};ce.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,1,127,-128),ce.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};ce.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,2,32767,-32768),ce.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):a0(this,e,r,!0),r+2};ce.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,2,32767,-32768),ce.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):a0(this,e,r,!1),r+2};ce.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,4,2147483647,-2147483648),ce.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):l0(this,e,r,!0),r+4};ce.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||ci(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),ce.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):l0(this,e,r,!1),r+4};function JO(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function YO(t,e,r,n,i){return i||JO(t,e,r,4),WO(t,e,r,n,23,4),r+4}ce.prototype.writeFloatLE=function(e,r,n){return YO(this,e,r,!0,n)};ce.prototype.writeFloatBE=function(e,r,n){return YO(this,e,r,!1,n)};function KO(t,e,r,n,i){return i||JO(t,e,r,8),WO(t,e,r,n,52,8),r+8}ce.prototype.writeDoubleLE=function(e,r,n){return KO(this,e,r,!0,n)};ce.prototype.writeDoubleBE=function(e,r,n){return KO(this,e,r,!1,n)};ce.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o=i-n,s;if(this===e&&n<r&&r<i)for(s=o-1;s>=0;--s)e[s+r]=this[s+n];else if(o<1e3||!ce.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)e[s+r]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),r);return o};ce.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var o=e.charCodeAt(0);o<256&&(e=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ce.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var a=hs(e)?e:Fg(new ce(e,i).toString()),l=a.length;for(s=0;s<n-r;++s)this[s+r]=a[s%l]}return this};var Fz=/[^+\/0-9A-Za-z-_]/g;function Wz(t){if(t=qz(t).replace(Fz,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function qz(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Uz(t){return t<16?"0"+t.toString(16):t.toString(16)}function Fg(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function zz(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Vz(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function ZO(t){return wz(Wz(t))}function u0(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Hz(t){return t!==t}function qa(t){return t!=null&&(!!t._isBuffer||XO(t)||Qz(t))}function XO(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Qz(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&XO(t.slice(0,0))}var Gz;function nl(){}nl.prototype=Object.create(null);function $t(){$t.init.call(this)}$t.EventEmitter=$t;$t.usingDomains=!1;$t.prototype.domain=void 0;$t.prototype._events=void 0;$t.prototype._maxListeners=void 0;$t.defaultMaxListeners=10;$t.init=function(){this.domain=null,$t.usingDomains&&Gz.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new nl,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};$t.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};function e6(t){return t._maxListeners===void 0?$t.defaultMaxListeners:t._maxListeners}$t.prototype.getMaxListeners=function(){return e6(this)};function Jz(t,e,r){if(e)t.call(r);else for(var n=t.length,i=zp(t,n),o=0;o<n;++o)i[o].call(r)}function Yz(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,o=zp(t,i),s=0;s<i;++s)o[s].call(r,n)}function Kz(t,e,r,n,i){if(e)t.call(r,n,i);else for(var o=t.length,s=zp(t,o),a=0;a<o;++a)s[a].call(r,n,i)}function Zz(t,e,r,n,i,o){if(e)t.call(r,n,i,o);else for(var s=t.length,a=zp(t,s),l=0;l<s;++l)a[l].call(r,n,i,o)}function Xz(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,o=zp(t,i),s=0;s<i;++s)o[s].apply(r,n)}$t.prototype.emit=function(e){var r,n,i,o,s,a,l,u=e==="error";if(a=this._events,a)u=u&&a.error==null;else if(!u)return!1;if(l=this.domain,u){if(r=arguments[1],l)r||(r=new Error('Uncaught, unspecified "error" event')),r.domainEmitter=this,r.domain=l,r.domainThrown=!1,l.emit("error",r);else{if(r instanceof Error)throw r;var c=new Error('Uncaught, unspecified "error" event. ('+r+")");throw c.context=r,c}return!1}if(n=a[e],!n)return!1;var h=typeof n=="function";switch(i=arguments.length,i){case 1:Jz(n,h,this);break;case 2:Yz(n,h,this,arguments[1]);break;case 3:Kz(n,h,this,arguments[1],arguments[2]);break;case 4:Zz(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),s=1;s<i;s++)o[s-1]=arguments[s];Xz(n,h,this,o)}return!0};function t6(t,e,r,n){var i,o,s;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(o=t._events,o?(o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]):(o=t._events=new nl,t._eventsCount=0),!s)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=e6(t),i&&i>0&&s.length>i)){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,eV(a)}return t}function eV(t){typeof console.warn=="function"?console.warn(t):console.log(t)}$t.prototype.addListener=function(e,r){return t6(this,e,r,!1)};$t.prototype.on=$t.prototype.addListener;$t.prototype.prependListener=function(e,r){return t6(this,e,r,!0)};function r6(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}$t.prototype.once=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,r6(this,e,r)),this};$t.prototype.prependOnceListener=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,r6(this,e,r)),this};$t.prototype.removeListener=function(e,r){var n,i,o,s,a;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(n=i[e],!n)return this;if(n===r||n.listener&&n.listener===r)--this._eventsCount===0?this._events=new nl:(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length;s-- >0;)if(n[s]===r||n[s].listener&&n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount===0)return this._events=new nl,this;delete i[e]}else tV(n,o);i.removeListener&&this.emit("removeListener",e,a||r)}return this};$t.prototype.removeAllListeners=function(e){var r,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new nl,this._eventsCount=0):n[e]&&(--this._eventsCount===0?this._events=new nl:delete n[e]),this;if(arguments.length===0){for(var i=Object.keys(n),o=0,s;o<i.length;++o)s=i[o],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=new nl,this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r)do this.removeListener(e,r[r.length-1]);while(r[0]);return this};$t.prototype.listeners=function(e){var r,n,i=this._events;return i?(r=i[e],r?typeof r=="function"?n=[r.listener||r]:n=rV(r):n=[]):n=[],n};$t.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):n6.call(t,e)};$t.prototype.listenerCount=n6;function n6(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}$t.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function tV(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}function zp(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}function rV(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function i6(){throw new Error("setTimeout has not been defined")}function o6(){throw new Error("clearTimeout has not been defined")}var ya=i6,ga=o6;typeof kd.setTimeout=="function"&&(ya=setTimeout);typeof kd.clearTimeout=="function"&&(ga=clearTimeout);function s6(t){if(ya===setTimeout)return setTimeout(t,0);if((ya===i6||!ya)&&setTimeout)return ya=setTimeout,setTimeout(t,0);try{return ya(t,0)}catch{try{return ya.call(null,t,0)}catch{return ya.call(this,t,0)}}}function nV(t){if(ga===clearTimeout)return clearTimeout(t);if((ga===o6||!ga)&&clearTimeout)return ga=clearTimeout,clearTimeout(t);try{return ga(t)}catch{try{return ga.call(null,t)}catch{return ga.call(this,t)}}}var Ws=[],Fc=!1,Ql,dy=-1;function iV(){!Fc||!Ql||(Fc=!1,Ql.length?Ws=Ql.concat(Ws):dy=-1,Ws.length&&a6())}function a6(){if(!Fc){var t=s6(iV);Fc=!0;for(var e=Ws.length;e;){for(Ql=Ws,Ws=[];++dy<e;)Ql&&Ql[dy].run();dy=-1,e=Ws.length}Ql=null,Fc=!1,nV(t)}}function ji(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ws.push(new l6(t,e)),Ws.length===1&&!Fc&&s6(a6)}function l6(t,e){this.fun=t,this.array=e}l6.prototype.run=function(){this.fun.apply(null,this.array)};var oV="browser",sV="browser",aV=!0,lV={},uV=[],cV="",dV={},fV={},hV={};function Mu(){}var pV=Mu,mV=Mu,yV=Mu,gV=Mu,vV=Mu,wV=Mu,bV=Mu;function _V(t){throw new Error("process.binding is not supported")}function xV(){return"/"}function SV(t){throw new Error("process.chdir is not supported")}function EV(){return 0}var sc=kd.performance||{},NV=sc.now||sc.mozNow||sc.msNow||sc.oNow||sc.webkitNow||function(){return new Date().getTime()};function kV(t){var e=NV.call(sc)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}var CV=new Date;function TV(){var t=new Date,e=t-CV;return e/1e3}var fy={nextTick:ji,title:oV,browser:aV,env:lV,argv:uV,version:cV,versions:dV,on:pV,addListener:mV,once:yV,off:gV,removeListener:vV,removeAllListeners:wV,emit:bV,binding:_V,cwd:xV,chdir:SV,umask:EV,hrtime:kV,platform:sV,release:fV,config:hV,uptime:TV},zb;typeof Object.create=="function"?zb=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:zb=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};var Bu=zb,RV=/%[sdj%]/g;function sS(t){if(!d0(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Gs(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(t).replace(RV,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),s=n[r];r<i;s=n[++r])c0(s)||!zd(s)?o+=" "+s:o+=" "+Gs(s);return o}function aS(t,e){if(qs(kd.process))return function(){return aS(t,e).apply(this,arguments)};if(fy.noDeprecation===!0)return t;var r=!1;function n(){if(!r){if(fy.throwDeprecation)throw new Error(e);fy.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n}var $m={},Vw;function u6(t){if(qs(Vw)&&(Vw=fy.env.NODE_DEBUG||""),t=t.toUpperCase(),!$m[t])if(new RegExp("\\b"+t+"\\b","i").test(Vw)){var e=0;$m[t]=function(){var r=sS.apply(null,arguments);console.error("%s %d: %s",t,e,r)}}else $m[t]=function(){};return $m[t]}function Gs(t,e){var r={seen:[],stylize:AV};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),lS(e)?r.showHidden=e:e&&f6(r,e),qs(r.showHidden)&&(r.showHidden=!1),qs(r.depth)&&(r.depth=2),qs(r.colors)&&(r.colors=!1),qs(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=OV),Wg(r,t,r.depth)}Gs.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Gs.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function OV(t,e){var r=Gs.styles[e];return r?"\x1B["+Gs.colors[r][0]+"m"+t+"\x1B["+Gs.colors[r][1]+"m":t}function AV(t,e){return t}function IV(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function Wg(t,e,r){if(t.customInspect&&e&&my(e.inspect)&&e.inspect!==Gs&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return d0(n)||(n=Wg(t,n,r)),n}var i=PV(t,e);if(i)return i;var o=Object.keys(e),s=IV(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),py(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Hw(e);if(o.length===0){if(my(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(hy(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Hb(e))return t.stylize(Date.prototype.toString.call(e),"date");if(py(e))return Hw(e)}var l="",u=!1,c=["{","}"];if(c6(e)&&(u=!0,c=["[","]"]),my(e)){var h=e.name?": "+e.name:"";l=" [Function"+h+"]"}if(hy(e)&&(l=" "+RegExp.prototype.toString.call(e)),Hb(e)&&(l=" "+Date.prototype.toUTCString.call(e)),py(e)&&(l=" "+Hw(e)),o.length===0&&(!u||e.length==0))return c[0]+l+c[1];if(r<0)return hy(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var p;return u?p=$V(t,e,r,s,o):p=o.map(function(y){return Vb(t,e,r,s,y,u)}),t.seen.pop(),jV(p,l,c)}function PV(t,e){if(qs(e))return t.stylize("undefined","undefined");if(d0(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(d6(e))return t.stylize(""+e,"number");if(lS(e))return t.stylize(""+e,"boolean");if(c0(e))return t.stylize("null","null")}function Hw(t){return"["+Error.prototype.toString.call(t)+"]"}function $V(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)h6(e,String(s))?o.push(Vb(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(l){l.match(/^\d+$/)||o.push(Vb(t,e,r,n,l,!0))}),o}function Vb(t,e,r,n,i,o){var s,a,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?l.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),h6(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(c0(r)?a=Wg(t,l.value,null):a=Wg(t,l.value,r-1),a.indexOf(`
`)>-1&&(o?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=t.stylize("[Circular]","special")),qs(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function jV(t,e,r){var n=t.reduce(function(i,o){return o.indexOf(`
`)>=0,i+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function c6(t){return Array.isArray(t)}function lS(t){return typeof t=="boolean"}function c0(t){return t===null}function LV(t){return t==null}function d6(t){return typeof t=="number"}function d0(t){return typeof t=="string"}function DV(t){return typeof t=="symbol"}function qs(t){return t===void 0}function hy(t){return zd(t)&&uS(t)==="[object RegExp]"}function zd(t){return typeof t=="object"&&t!==null}function Hb(t){return zd(t)&&uS(t)==="[object Date]"}function py(t){return zd(t)&&(uS(t)==="[object Error]"||t instanceof Error)}function my(t){return typeof t=="function"}function MV(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function BV(t){return qa(t)}function uS(t){return Object.prototype.toString.call(t)}function Qw(t){return t<10?"0"+t.toString(10):t.toString(10)}var FV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function WV(){var t=new Date,e=[Qw(t.getHours()),Qw(t.getMinutes()),Qw(t.getSeconds())].join(":");return[t.getDate(),FV[t.getMonth()],e].join(" ")}function qV(){console.log("%s - %s",WV(),sS.apply(null,arguments))}function f6(t,e){if(!e||!zd(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function h6(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var p6={inherits:Bu,_extend:f6,log:qV,isBuffer:BV,isPrimitive:MV,isFunction:my,isError:py,isDate:Hb,isObject:zd,isRegExp:hy,isUndefined:qs,isSymbol:DV,isString:d0,isNumber:d6,isNullOrUndefined:LV,isNull:c0,isBoolean:lS,isArray:c6,inspect:Gs,deprecate:aS,format:sS,debuglog:u6};function Fu(){this.head=null,this.tail=null,this.length=0}Fu.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length};Fu.prototype.unshift=function(t){var e={data:t,next:this.head};this.length===0&&(this.tail=e),this.head=e,++this.length};Fu.prototype.shift=function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}};Fu.prototype.clear=function(){this.head=this.tail=null,this.length=0};Fu.prototype.join=function(t){if(this.length===0)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r};Fu.prototype.concat=function(t){if(this.length===0)return ce.alloc(0);if(this.length===1)return this.head.data;for(var e=ce.allocUnsafe(t>>>0),r=this.head,n=0;r;)r.data.copy(e,n),n+=r.data.length,r=r.next;return e};var UV=ce.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function zV(t){if(t&&!UV(t))throw new Error("Unknown encoding: "+t)}function Vp(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),zV(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=HV;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=QV;break;default:this.write=VV;return}this.charBuffer=new ce(6),this.charReceived=0,this.charLength=0}Vp.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";t=t.slice(r,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize,e="";continue}if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),e+=t.toString(this.encoding,0,n);var n=e.length-1,i=e.charCodeAt(n);if(i>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,n)}return e};Vp.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(e==1&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e};Vp.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e};function VV(t){return t.toString(this.encoding)}function HV(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function QV(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}Dr.ReadableState=m6;var Gt=u6("stream");Bu(Dr,$t);function GV(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function JV(t,e){return t.listeners(e).length}function m6(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof Zi&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Fu,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new Vp(t.encoding),this.encoding=t.encoding)}function Dr(t){if(!(this instanceof Dr))return new Dr(t);this._readableState=new m6(t,this),this.readable=!0,t&&typeof t.read=="function"&&(this._read=t.read),$t.call(this)}Dr.prototype.push=function(t,e){var r=this._readableState;return!r.objectMode&&typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=ce.from(t,e),e="")),y6(this,r,t,e,!1)};Dr.prototype.unshift=function(t){var e=this._readableState;return y6(this,e,t,"",!0)};Dr.prototype.isPaused=function(){return this._readableState.flowing===!1};function y6(t,e,r,n,i){var o=ZV(e,r);if(o)t.emit("error",o);else if(r===null)e.reading=!1,XV(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var l;e.decoder&&!i&&!n&&(r=e.decoder.write(r),l=!e.objectMode&&r.length===0),i||(e.reading=!1),l||(e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&f0(t))),eH(t,e)}else i||(e.reading=!1);return YV(e)}function YV(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Dr.prototype.setEncoding=function(t){return this._readableState.decoder=new Vp(t),this._readableState.encoding=t,this};var sk=8388608;function KV(t){return t>=sk?t=sk:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function ak(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=KV(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Dr.prototype.read=function(t){Gt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Gt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Gw(this):f0(this),null;if(t=ak(t,e),t===0&&e.ended)return e.length===0&&Gw(this),null;var n=e.needReadable;Gt("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Gt("length less than watermark",n)),e.ended||e.reading?(n=!1,Gt("reading or ended",n)):n&&(Gt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=ak(r,e)));var i;return t>0?i=g6(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Gw(this)),i!==null&&this.emit("data",i),i};function ZV(t,e){var r=null;return!qa(e)&&typeof e!="string"&&e!==null&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function XV(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,f0(t)}}function f0(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Gt("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?ji(lk,t):lk(t))}function lk(t){Gt("emit readable"),t.emit("readable"),cS(t)}function eH(t,e){e.readingMore||(e.readingMore=!0,ji(tH,t,e))}function tH(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Gt("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Dr.prototype._read=function(t){this.emit("error",new Error("not implemented"))};Dr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Gt("pipe count=%d opts=%j",n.pipesCount,e);var i=!e||e.end!==!1,o=i?a:c;n.endEmitted?ji(o):r.once("end",o),t.on("unpipe",s);function s(v){Gt("onunpipe"),v===r&&c()}function a(){Gt("onend"),t.end()}var l=rH(r);t.on("drain",l);var u=!1;function c(){Gt("cleanup"),t.removeListener("close",b),t.removeListener("finish",S),t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",c),r.removeListener("data",p),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}var h=!1;r.on("data",p);function p(v){Gt("ondata"),h=!1;var w=t.write(v);w===!1&&!h&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&v6(n.pipes,t)!==-1)&&!u&&(Gt("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function y(v){Gt("onerror",v),E(),t.removeListener("error",y),JV(t,"error")===0&&t.emit("error",v)}GV(t,"error",y);function b(){t.removeListener("finish",S),E()}t.once("close",b);function S(){Gt("onfinish"),t.removeListener("close",b),E()}t.once("finish",S);function E(){Gt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Gt("pipe resume"),r.resume()),t};function rH(t){return function(){var e=t._readableState;Gt("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&t.listeners("data").length&&(e.flowing=!0,cS(t))}}Dr.prototype.unpipe=function(t){var e=this._readableState;if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=v6(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)};Dr.prototype.on=function(t,e){var r=$t.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&f0(this):ji(nH,this))}return r};Dr.prototype.addListener=Dr.prototype.on;function nH(t){Gt("readable nexttick read 0"),t.read(0)}Dr.prototype.resume=function(){var t=this._readableState;return t.flowing||(Gt("resume"),t.flowing=!0,iH(this,t)),this};function iH(t,e){e.resumeScheduled||(e.resumeScheduled=!0,ji(oH,t,e))}function oH(t,e){e.reading||(Gt("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),cS(t),e.flowing&&!e.reading&&t.read(0)}Dr.prototype.pause=function(){return Gt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Gt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function cS(t){var e=t._readableState;for(Gt("flow",e.flowing);e.flowing&&t.read()!==null;);}Dr.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;t.on("end",function(){if(Gt("wrapped end"),e.decoder&&!e.ended){var s=e.decoder.end();s&&s.length&&n.push(s)}n.push(null)}),t.on("data",function(s){if(Gt("wrapped data"),e.decoder&&(s=e.decoder.write(s)),!(e.objectMode&&s==null)&&!(!e.objectMode&&(!s||!s.length))){var a=n.push(s);a||(r=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return cH(o,function(s){t.on(s,n.emit.bind(n,s))}),n._read=function(s){Gt("wrapped _read",s),r&&(r=!1,t.resume())},n};Dr._fromList=g6;function g6(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=sH(t,e.buffer,e.decoder),r}function sH(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?aH(t,e):lH(t,e),n}function aH(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),t-=s,t===0){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}function lH(t,e){var r=ce.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),t-=s,t===0){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}function Gw(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,ji(uH,e,t))}function uH(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function cH(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}function v6(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}Bn.WritableState=dS;Bu(Bn,$t);function dH(){}function fH(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function dS(t,e){Object.defineProperty(this,"buffer",{get:aS(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof Zi&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){wH(e,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new x6(this)}dS.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};function Bn(t){if(!(this instanceof Bn)&&!(this instanceof Zi))return new Bn(t);this._writableState=new dS(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev)),$t.call(this)}Bn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function hH(t,e){var r=new Error("write after end");t.emit("error",r),ji(e,r)}function pH(t,e,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):!ce.isBuffer(r)&&typeof r!="string"&&r!==void 0&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),ji(n,o),i=!1),i}Bn.prototype.write=function(t,e,r){var n=this._writableState,i=!1;return typeof e=="function"&&(r=e,e=null),ce.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=dH),n.ended?hH(this,r):pH(this,n,t,r)&&(n.pendingcb++,i=yH(this,n,t,e,r)),i};Bn.prototype.cork=function(){var t=this._writableState;t.corked++};Bn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&w6(this,t))};Bn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function mH(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=ce.from(e,r)),e}function yH(t,e,r,n,i){r=mH(e,r,n),ce.isBuffer(r)&&(n="buffer");var o=e.objectMode?1:r.length;e.length+=o;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new fH(r,n,i),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Qb(t,e,!1,o,r,n,i);return s}function Qb(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function gH(t,e,r,n,i){--e.pendingcb,r?ji(i,n):i(n),t._writableState.errorEmitted=!0,t.emit("error",n)}function vH(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function wH(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(vH(r),e)gH(t,r,n,e,i);else{var o=b6(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&w6(t,r),n?ji(uk,t,r,o,i):uk(t,r,o,i)}}function uk(t,e,r,n){r||bH(t,e),e.pendingcb--,n(),_6(t,e)}function bH(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function w6(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0;r;)i[s]=r,r=r.next,s+=1;Qb(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new x6(e)}else{for(;r;){var a=r.chunk,l=r.encoding,u=r.callback,c=e.objectMode?1:a.length;if(Qb(t,e,!1,c,a,l,u),r=r.next,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}Bn.prototype._write=function(t,e,r){r(new Error("not implemented"))};Bn.prototype._writev=null;Bn.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&_H(this,n,r)};function b6(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function ck(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function _6(t,e){var r=b6(e);return r&&(e.pendingcb===0?(ck(t,e),e.finished=!0,t.emit("finish")):ck(t,e)),r}function _H(t,e,r){e.ending=!0,_6(t,e),r&&(e.finished?ji(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function x6(t){var e=this;this.next=null,this.entry=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}Bu(Zi,Dr);var dk=Object.keys(Bn.prototype);for(var Jw=0;Jw<dk.length;Jw++){var Yw=dk[Jw];Zi.prototype[Yw]||(Zi.prototype[Yw]=Bn.prototype[Yw])}function Zi(t){if(!(this instanceof Zi))return new Zi(t);Dr.call(this,t),Bn.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",xH)}function xH(){this.allowHalfOpen||this._writableState.ended||ji(SH,this)}function SH(t){t.end()}Bu(ps,Zi);function EH(t){this.afterTransform=function(e,r){return NH(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function NH(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,r!=null&&t.push(r),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function ps(t){if(!(this instanceof ps))return new ps(t);Zi.call(this,t),this._transformState=new EH(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r){fk(e,r)}):fk(e)})}ps.prototype.push=function(t,e){return this._transformState.needTransform=!1,Zi.prototype.push.call(this,t,e)};ps.prototype._transform=function(t,e,r){throw new Error("Not implemented")};ps.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ps.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};function fk(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}Bu(Kh,ps);function Kh(t){if(!(this instanceof Kh))return new Kh(t);ps.call(this,t)}Kh.prototype._transform=function(t,e,r){r(null,t)};Bu(Ai,$t);Ai.Readable=Dr;Ai.Writable=Bn;Ai.Duplex=Zi;Ai.Transform=ps;Ai.PassThrough=Kh;Ai.Stream=Ai;function Ai(){$t.call(this)}Ai.prototype.pipe=function(t,e){var r=this;function n(c){t.writable&&t.write(c)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function l(c){if(u(),$t.listenerCount(this,"error")===0)throw c}r.on("error",l),t.on("error",l);function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t};const kH=t=>({start_time:t.duration?Date.now():null,fixed_size_buffer:"",count_written:0,count_created:0}),jm=function(t={}){return t.seed?t.seed=t.seed*Math.PI*100%100/100:Math.random()},hk={ascii:function({options:t}){const e=[],r=Math.ceil(jm(t)*t.maxWordLength);for(let n=0;n<r;n++){const i=Math.floor(jm(t)*32);e.push(String.fromCharCode(i+(i<16?65:81)))}return e.join("")},int:function({options:t}){return Math.floor(jm(t)*Math.pow(2,52))},bool:function({options:t}){return Math.floor(jm(t)*2)}},CH=function(t){return t.replace(/_([a-z])/gi,function(e,r){return r.toUpperCase()})},TH=t=>{t.object_mode&&(t.objectMode=t.object_mode),t.high_water_mark&&(t.highWaterMark=t.high_water_mark);const e={};for(const i in t)e[CH(i)]=t[i];const r={columns:8,delimiter:",",duration:null,encoding:null,end:null,eof:!1,fixedSize:!1,length:-1,maxWordLength:16,rowDelimiter:`
`,seed:!1,sleep:0};for(const i in r)e[i]===void 0&&(e[i]=r[i]);e.eof===!0&&(e.eof=e.rowDelimiter),typeof e.columns=="number"&&(e.columns=new Array(e.columns));const n=Object.keys(hk).filter(i=>!["super_","camelize"].includes(i));for(let i=0;i<e.columns.length;i++){const o=e.columns[i]||"ascii";if(typeof o=="string"){if(!n.includes(o))throw Error(`Invalid column type: got "${o}", default values are ${JSON.stringify(n)}`);e.columns[i]=hk[o]}}return e},RH=(t,e,r,n,i)=>{const o=[];let s=0;for(t.fixedSize&&(s=e.fixed_size_buffer.length,s!==0&&o.push(e.fixed_size_buffer));;){if(e.count_created===t.length||t.end&&Date.now()>t.end||t.duration&&Date.now()>e.start_time+t.duration){if(o.length){if(t.objectMode)for(const u of o)n(u);else n(o.join("")+(t.eof?t.eof:""));e.end=!0}else i();return}let a=[],l;for(const u of t.columns){const c=u({options:t,state:e}),h=typeof c;if(c!==null&&h!=="string"&&h!=="number"){i(Error(["INVALID_VALUE:","values returned by column function must be","a string, a number or null,",`got ${JSON.stringify(c)}`].join(" ")));return}a.push(c)}if(t.objectMode){l=0;for(const u of a)l+=u.length}else a=(e.count_created===0?"":t.rowDelimiter)+a.join(t.delimiter),l=a.length;if(e.count_created++,s+l>r){if(t.objectMode){o.push(a);for(const u of o)n(u)}else t.fixedSize?(e.fixed_size_buffer=a.substr(r-s),o.push(a.substr(0,r-s))):o.push(a),n(o.join(""));return}s+=l,o.push(a)}},Hp=function(t={}){return this.options=TH(t),Ai.Readable.call(this,this.options),this.state=kH(this.options),this};p6.inherits(Hp,Ai.Readable);Hp.prototype.end=function(){this.push(null)};Hp.prototype._read=function(t){setImmediate(()=>{this.__read(t)})};Hp.prototype.__read=function(t){RH(this.options,this.state,t,e=>{this.__push(e)},e=>{e?this.destroy(e):this.push(null)})};Hp.prototype.__push=function(t){const e=()=>{if(this.state.count_written++,this.push(t),this.state.end===!0)return this.push(null)};this.options.sleep>0?setTimeout(e,this.options.sleep):e()};ce.from([239,187,191]),ce.from([255,254]);const OH=46,AH=/\\(\\)?/g,IH=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),PH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$H=/^\w*$/,jH=function(t){return Object.prototype.toString.call(t)},S6=function(t){const e=typeof t;return e==="symbol"||e==="object"&&t&&jH(t)==="[object Symbol]"},LH=function(t,e){if(Array.isArray(t))return!1;const r=typeof t;return r==="number"||r==="symbol"||r==="boolean"||!t||S6(t)?!0:$H.test(t)||!PH.test(t)||e!=null&&t in Object(e)},DH=function(t){const e=[];return t.charCodeAt(0)===OH&&e.push(""),t.replace(IH,function(r,n,i,o){let s=r;i?s=o.replace(AH,"$1"):n&&(s=n.trim()),e.push(s)}),e},MH=function(t,e){return Array.isArray(t)?t:LH(t,e)?[t]:DH(t)},BH=function(t){if(typeof t=="string"||S6(t))return t;const e=`${t}`;return e=="0"&&1/t==-INFINITY?"-0":e},FH=function(t,e){e=MH(e,t);let r=0;const n=e.length;for(;t!=null&&r<n;)t=t[BH(e[r++])];return r&&r===n?t:void 0},WH=function(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)},E6=function(t){if(t==null)return[void 0,void 0];if(typeof t!="object")return[Error('Invalid option "columns": expect an array or an object')];if(Array.isArray(t)){const e=[];for(const r of t)if(typeof r=="string")e.push({key:r,header:r});else if(typeof r=="object"&&r!==null&&!Array.isArray(r)){if(!r.key)return[Error('Invalid column definition: property "key" is required')];r.header===void 0&&(r.header=r.key),e.push(r)}else return[Error("Invalid column definition: expect a string or an object")];t=e}else{const e=[];for(const r in t)e.push({key:r,header:t[r]});t=e}return[void 0,t]};class Nc extends Error{constructor(e,r,...n){Array.isArray(r)&&(r=r.join(" ")),super(r),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,Nc),this.code=e;for(const i of n)for(const o in i){const s=i[o];this[o]=qa(s)?s.toString():s==null?s:JSON.parse(JSON.stringify(s))}}}const qH=function(t){return t.replace(/([A-Z])/g,function(e,r){return"_"+r.toLowerCase()})},N6=function(t){const e={};for(const i in t)e[qH(i)]=t[i];if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)return[new Nc("CSV_OPTION_BOOLEAN_INVALID_TYPE",["option `bom` is optional and must be a boolean value,",`got ${JSON.stringify(e.bom)}`])];if(e.delimiter===void 0||e.delimiter===null)e.delimiter=",";else if(qa(e.delimiter))e.delimiter=e.delimiter.toString();else if(typeof e.delimiter!="string")return[new Nc("CSV_OPTION_DELIMITER_INVALID_TYPE",["option `delimiter` must be a buffer or a string,",`got ${JSON.stringify(e.delimiter)}`])];if(e.quote===void 0||e.quote===null)e.quote='"';else if(e.quote===!0)e.quote='"';else if(e.quote===!1)e.quote="";else if(qa(e.quote))e.quote=e.quote.toString();else if(typeof e.quote!="string")return[new Nc("CSV_OPTION_QUOTE_INVALID_TYPE",["option `quote` must be a boolean, a buffer or a string,",`got ${JSON.stringify(e.quote)}`])];if((e.quoted===void 0||e.quoted===null)&&(e.quoted=!1),e.escape_formulas===void 0||e.escape_formulas===null)e.escape_formulas=!1;else if(typeof e.escape_formulas!="boolean")return[new Nc("CSV_OPTION_ESCAPE_FORMULAS_INVALID_TYPE",["option `escape_formulas` must be a boolean,",`got ${JSON.stringify(e.escape_formulas)}`])];if((e.quoted_empty===void 0||e.quoted_empty===null)&&(e.quoted_empty=void 0),e.quoted_match===void 0||e.quoted_match===null||e.quoted_match===!1?e.quoted_match=null:Array.isArray(e.quoted_match)||(e.quoted_match=[e.quoted_match]),e.quoted_match)for(const i of e.quoted_match){const o=typeof i=="string",s=i instanceof RegExp;if(!o&&!s)return[Error(`Invalid Option: quoted_match must be a string or a regex, got ${JSON.stringify(i)}`)]}if((e.quoted_string===void 0||e.quoted_string===null)&&(e.quoted_string=!1),(e.eof===void 0||e.eof===null)&&(e.eof=!0),e.escape===void 0||e.escape===null)e.escape='"';else if(qa(e.escape))e.escape=e.escape.toString();else if(typeof e.escape!="string")return[Error(`Invalid Option: escape must be a buffer or a string, got ${JSON.stringify(e.escape)}`)];if(e.escape.length>1)return[Error(`Invalid Option: escape must be one character, got ${e.escape.length} characters`)];(e.header===void 0||e.header===null)&&(e.header=!1);const[r,n]=E6(e.columns);if(r!==void 0)return[r];if(e.columns=n,(e.quoted===void 0||e.quoted===null)&&(e.quoted=!1),(e.cast===void 0||e.cast===null)&&(e.cast={}),(e.cast.bigint===void 0||e.cast.bigint===null)&&(e.cast.bigint=i=>""+i),(e.cast.boolean===void 0||e.cast.boolean===null)&&(e.cast.boolean=i=>i?"1":""),(e.cast.date===void 0||e.cast.date===null)&&(e.cast.date=i=>""+i.getTime()),(e.cast.number===void 0||e.cast.number===null)&&(e.cast.number=i=>""+i),(e.cast.object===void 0||e.cast.object===null)&&(e.cast.object=i=>JSON.stringify(i)),(e.cast.string===void 0||e.cast.string===null)&&(e.cast.string=function(i){return i}),e.on_record!==void 0&&typeof e.on_record!="function")return[Error('Invalid Option: "on_record" must be a function.')];if(e.record_delimiter===void 0||e.record_delimiter===null)e.record_delimiter=`
`;else if(qa(e.record_delimiter))e.record_delimiter=e.record_delimiter.toString();else if(typeof e.record_delimiter!="string")return[Error(`Invalid Option: record_delimiter must be a buffer or a string, got ${JSON.stringify(e.record_delimiter)}`)];switch(e.record_delimiter){case"unix":e.record_delimiter=`
`;break;case"mac":e.record_delimiter="\r";break;case"windows":e.record_delimiter=`\r
`;break;case"ascii":e.record_delimiter="";break;case"unicode":e.record_delimiter="\u2028";break}return[void 0,e]},UH=ce.from([239,187,191]),zH=function(t,e,r){return{options:t,state:e,info:r,__transform:function(n,i){if(!Array.isArray(n)&&typeof n!="object")return Error(`Invalid Record: expect an array or an object, got ${JSON.stringify(n)}`);if(this.info.records===0){if(Array.isArray(n)){if(this.options.header===!0&&this.options.columns===void 0)return Error("Undiscoverable Columns: header option requires column option or object records")}else if(this.options.columns===void 0){const[a,l]=E6(Object.keys(n));if(a)return;this.options.columns=l}}if(this.info.records===0){this.bom(i);const a=this.headers(i);if(a)return a}try{this.options.on_record&&this.options.on_record(n,this.info.records)}catch(a){return a}let o,s;if(this.options.eof){if([o,s]=this.stringify(n),o)return o;if(s===void 0)return;s=s+this.options.record_delimiter}else{if([o,s]=this.stringify(n),o)return o;if(s===void 0)return;(this.options.header||this.info.records)&&(s=this.options.record_delimiter+s)}this.info.records++,i(s)},stringify:function(n,i=!1){if(typeof n!="object")return[void 0,n];const{columns:o}=this.options,s=[];if(Array.isArray(n)){o&&n.splice(o.length);for(let l=0;l<n.length;l++){const u=n[l],[c,h]=this.__cast(u,{index:l,column:l,records:this.info.records,header:i});if(c)return[c];s[l]=[h,u]}}else for(let l=0;l<o.length;l++){const u=FH(n,o[l].key),[c,h]=this.__cast(u,{index:l,column:o[l].key,records:this.info.records,header:i});if(c)return[c];s[l]=[h,u]}let a="";for(let l=0;l<s.length;l++){let u,c,[h,p]=s[l];if(typeof h=="string")u=this.options;else if(WH(h)){if(u=h,h=u.value,delete u.value,typeof h!="string"&&h!==void 0&&h!==null&&c)return[Error(`Invalid Casting Value: returned value must return a string, null or undefined, got ${JSON.stringify(h)}`)];if(u={...this.options,...u},[c,u]=N6(u),c!==void 0)return[c]}else if(h==null)u=this.options;else return[Error(`Invalid Casting Value: returned value must return a string, an object, null or undefined, got ${JSON.stringify(h)}`)];const{delimiter:y,escape:b,quote:S,quoted:E,quoted_empty:v,quoted_string:w,quoted_match:N,record_delimiter:I,escape_formulas:R}=u;if(h===""&&p===""){let k=N&&N.filter(j=>typeof j=="string"?h.indexOf(j)!==-1:j.test(h));k=k&&k.length>0,(k||v===!0||w===!0&&v!==!1)===!0&&(h=S+h+S),a+=h}else if(h){if(typeof h!="string")return[Error(`Formatter must return a string, null or undefined, got ${JSON.stringify(h)}`)];const k=y.length&&h.indexOf(y)>=0,L=S!==""&&h.indexOf(S)>=0,j=h.indexOf(b)>=0&&b!==S,Z=h.indexOf(I)>=0,H=w&&typeof p=="string";let te=N&&N.filter(Q=>typeof Q=="string"?h.indexOf(Q)!==-1:Q.test(h));if(te=te&&te.length>0,R)switch(h[0]){case"=":case"+":case"-":case"@":case"	":case"\r":case"":case"":case"":case"":h=`'${h}`;break}const re=L===!0||k||Z||E||H||te;if(re===!0&&j===!0){const Q=b==="\\"?new RegExp(b+b,"g"):new RegExp(b,"g");h=h.replace(Q,b+b)}if(L===!0){const Q=new RegExp(S,"g");h=h.replace(Q,b+S)}re===!0&&(h=S+h+S),a+=h}else(v===!0||p===""&&w===!0&&v!==!1)&&(a+=S+S);l!==s.length-1&&(a+=y)}return[void 0,a]},bom:function(n){this.options.bom===!0&&n(UH)},headers:function(n){if(this.options.header===!1||this.options.columns===void 0)return;let i,o=this.options.columns.map(s=>s.header);if(this.options.eof?([i,o]=this.stringify(o,!0),o+=this.options.record_delimiter):[i,o]=this.stringify(o),i)return i;n(o)},__cast:function(n,i){const o=typeof n;try{return o==="string"?[void 0,this.options.cast.string(n,i)]:o==="bigint"?[void 0,this.options.cast.bigint(n,i)]:o==="number"?[void 0,this.options.cast.number(n,i)]:o==="boolean"?[void 0,this.options.cast.boolean(n,i)]:n instanceof Date?[void 0,this.options.cast.date(n,i)]:o==="object"&&n!==null?[void 0,this.options.cast.object(n,i)]:[void 0,n,n]}catch(s){return[s]}}}},VH=function(t,e={}){const r=[],[n,i]=N6(e);if(n!==void 0)throw n;const a=zH(i,{stop:!1},{records:0});for(const l of t){const u=a.__transform(l,function(c){r.push(c)});if(u!==void 0)throw u}if(r.length===0){a.bom(u=>{r.push(u)});const l=a.headers(u=>{r.push(u)});if(l!==void 0)throw l}return r.join("")},h0=function(t={},e){return this.options=t,(t.consume===void 0||t.consume===null)&&(this.options.consume=!1),this.options.objectMode=!0,(t.parallel===void 0||t.parallel===null)&&(this.options.parallel=100),(t.params===void 0||t.params===null)&&(t.params=null),this.handler=e,Ai.Transform.call(this,this.options),this.state={running:0,started:0,finished:0,paused:!1},this};p6.inherits(h0,Ai.Transform);h0.prototype._transform=function(t,e,r){this.state.started++,this.state.running++,!this.state.paused&&this.state.running<this.options.parallel&&(r(),r=null);try{let n=this.handler.length;if(this.options.params!==null&&n--,n===1){const i=this.handler.call(this,t,this.options.params);i&&i.then?(i.then(o=>{this.__done(null,[o],r)}),i.catch(o=>{this.__done(o)})):this.__done(null,[i],r)}else if(n===2){const i=(o,...s)=>this.__done(o,s,r);this.handler.call(this,t,i,this.options.params)}else throw Error("Invalid handler arguments");return!1}catch(n){this.__done(n)}};h0.prototype._flush=function(t){this.state.running===0?t():this._ending=function(){t()}};h0.prototype.__done=function(t,e,r){if(this.state.running--,t)return this.destroy(t);this.state.finished++;for(let n of e)typeof n=="number"&&(n=`${n}`),n!=null&&n!==""&&(this.state.paused=!this.push(n));r&&r(),this._ending&&this.state.running===0&&this._ending()};const k6=t=>{const{id:e,label:r}=t,n=r??e,i=`/journal/transaction/${e}`;return g.jsx(pn,{component:Ln,to:i,children:n})},HH=t=>{const{entry:e,prev:r}=t,n=e.lines_debit.map((o,s)=>{const a=`${e.id}-debit-${o.code}`,l=s,u=s===0&&(r==null?void 0:r.date)!==e.date;return g.jsx(pk,{entry:e,lineIndex:l,code:o.code,displayDate:u,debit:o.debit},a)}),i=e.lines_credit.map((o,s)=>{const a=`${e.id}-debit-${o.code}`,l=!1,u=n.length+s;return g.jsx(pk,{entry:e,lineIndex:u,code:o.code,displayDate:l,credit:o.credit},a)});return g.jsxs(g.Fragment,{children:[...n,...i]})},pk=t=>{const{code:e,entry:r,lineIndex:n,displayDate:i,debit:o,credit:s}=t,a=Wh.safeValidate(r),l=a.isErr?a.error:null,u=n===0,c=n===1;return r.lines_debit.length+r.lines_credit.length,g.jsxs(K.Tr,{children:[g.jsx(K.Td,{children:i?g.jsx(gd,{children:r.date}):null}),g.jsxs(K.Td,{children:[u?g.jsx(k6,{id:r.id,label:r.brief}):null,c&&l?l.message:null]}),g.jsx(K.Td,{children:g.jsx(Zv,{code:e})}),g.jsx(K.Td,{children:o?g.jsx(sn,{amount:o}):null}),g.jsx(K.Td,{children:s?g.jsx(sn,{amount:s}):null})]})},fS=t=>{const{entries:e}=t,r=Bo(e,Nh(i=>i.lines_debit),Tr(i=>i.debit)),n=Bo(e,Nh(i=>i.lines_credit),Tr(i=>i.credit));return g.jsx(g.Fragment,{children:g.jsxs(K,{children:[g.jsx(K.Thead,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:"date"}),g.jsx(K.Th,{children:"brief"}),g.jsx(K.Th,{children:"code"}),g.jsx(K.Th,{children:"debit"}),g.jsx(K.Th,{children:"credit"})]})}),g.jsx(K.Tbody,{children:e.map((i,o)=>{const s=e[o-1];return g.jsx(HH,{prev:s,entry:i,order:o},i.id)})}),g.jsx(K.Tfoot,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:" "}),g.jsx(K.Th,{children:" "}),g.jsx(K.Th,{children:r!==n?"unbalanced!":null}),g.jsx(K.Th,{children:g.jsx(sn,{amount:r,fw:500})}),g.jsx(K.Th,{children:g.jsx(sn,{amount:n,fw:500})})]})})]})})},QH=t=>{const{onSubmit:e}=t,r=A.useContext(jp),{register:n,handleSubmit:i,watch:o,setValue:s,formState:{errors:a}}=Hv({defaultValues:t.defaultValue}),l=o(),c=Wh.safeValidate(l).isOk&&R9(a),h=()=>{const I=[...l.lines_debit,...l.lines_credit].map(L=>L.code),R=r.accounts.map(L=>L.code);return Sh(R,I,f4)[0]??101e3},p=()=>{const I={_tag:"debit",code:h(),debit:0},R=[...l.lines_debit,I];s("lines_debit",R)},y=()=>{const I={_tag:"credit",code:h(),credit:0},R=[...l.lines_credit,I];s("lines_credit",R)},b=()=>{const I=l.lines_credit.map(k=>({_tag:"debit",code:k.code,debit:k.credit})),R=l.lines_debit.map(k=>({_tag:"credit",code:k.code,credit:k.debit}));s("lines_debit",I),s("lines_credit",R)},S=()=>{s("brief",t.defaultValue.brief),s("lines_debit",t.defaultValue.lines_debit),s("lines_credit",t.defaultValue.lines_credit)},E=I=>{const R=l.lines_debit.filter(k=>k.code!==I);s("lines_debit",R)},v=I=>{const R=l.lines_credit.filter(k=>k.code!==I);s("lines_credit",R)},w=I=>{const R=Wh.toMat(I);return VH(R)},N=I=>{const R=[...l.lines_debit,...l.lines_credit].map(L=>L.code);return r.accounts.filter(L=>L.code===I.code?!0:!R.includes(L.code))};return g.jsxs(g.Fragment,{children:[g.jsxs("form",{onSubmit:i(e),children:[g.jsx(Jt.Wrapper,{label:"date",children:g.jsx(Jt,{type:"date",...n("date",{onChange:I=>{const k=I.target.value.split("-"),L=Number.parseInt(k[0],10)-2e3,j=k[1],Z=k[2],H=`${L}${j}${Z}_000000`;s("id",H)}})})}),g.jsxs(Jt.Wrapper,{label:"id",children:[g.jsx(Jt,{...n("id",{required:"id is required"})}),g.jsx(rk,{errors:a,name:"id",render:({message:I})=>g.jsx("p",{children:I})})]}),g.jsxs(Jt.Wrapper,{label:"brief",children:[g.jsx(Jt,{...n("brief",{required:"brief is required"}),autoComplete:"off"}),g.jsx(rk,{errors:a,name:"brief",render:({message:I})=>g.jsx("p",{children:I})})]}),g.jsxs(K,{color:"blue",children:[g.jsx(GH,{}),g.jsx(K.Tbody,{children:l.lines_debit.map((I,R)=>{const k=`${I._tag}-${I.code}`,L=N(I);return g.jsxs(K.Tr,{children:[g.jsx(K.Td,{children:g.jsx("select",{...n(`lines_debit.${R}.code`,{valueAsNumber:!0}),children:L.map(j=>g.jsxs("option",{value:j.code,children:["[",j.code,"] ",j.name]},j.code))})}),g.jsx(K.Td,{children:g.jsx(Jt,{type:"number",...n(`lines_debit.${R}.debit`,{valueAsNumber:!0})})}),g.jsx(K.Td,{children:g.jsx(Lr,{onClick:()=>E(I.code),variant:"light",color:"red",children:"del"})})]},k)})})]}),g.jsxs(K,{color:"red",children:[g.jsx(JH,{}),g.jsx(K.Tbody,{children:l.lines_credit.map((I,R)=>{const k=`${I._tag}-${I.code}`,L=N(I);return g.jsxs(K.Tr,{children:[g.jsx(K.Td,{children:g.jsx("select",{...n(`lines_credit.${R}.code`,{valueAsNumber:!0}),children:L.map(j=>g.jsxs("option",{value:j.code,children:["[",j.code,"] ",j.name]},j.code))})}),g.jsx(K.Td,{children:g.jsx(Jt,{type:"number",...n(`lines_credit.${R}.credit`,{valueAsNumber:!0})})}),g.jsx(K.Td,{children:g.jsx(Lr,{onClick:()=>v(I.code),variant:"light",color:"red",children:"del"})})]},k)})})]}),g.jsx(Jt.Wrapper,{children:g.jsx(YH,{debit:p,credit:y,swap:b,reset:S})}),g.jsx(Lr,{type:"submit",disabled:!c,children:"submit"})]}),g.jsx(fS,{entries:[l]}),c?g.jsx("pre",{children:w(l)}):null]})},GH=()=>g.jsx(K.Thead,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:"code"}),g.jsx(K.Th,{children:"debit"}),g.jsx(K.Th,{children:"actions"})]})}),JH=()=>g.jsx(K.Thead,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:"code"}),g.jsx(K.Th,{children:"credit"}),g.jsx(K.Th,{children:"actions"})]})}),YH=t=>g.jsxs(Lr.Group,{children:[g.jsx(Lr,{type:"button",onClick:t.debit,variant:"default",children:"debit"}),g.jsx(Lr,{type:"button",onClick:t.credit,variant:"default",children:"credit"}),g.jsx(Lr,{type:"button",onClick:t.swap,variant:"default",children:"swap"}),g.jsx(Lr,{type:"button",onClick:t.reset,color:"red",children:"reset"})]}),KH=()=>{const t=A.useContext(ku),[e,r]=A.useState(null),[n,i]=A.useState(null),o=new Date,s=v=>`${v}`.padStart(2,"0"),a=o.getFullYear(),l=s(o.getMonth()+1),u=s(o.getDate()),c=s(o.getHours()),h=s(o.getMinutes()),p=s(o.getSeconds()),y=`${a}-${l}-${u}`,b=`${a-2e3}${l}${u}_${c}${h}${p}`,S={brief:"",date:y,id:b,lines_debit:[{code:96e4,_tag:"debit",debit:0}],lines_credit:[{code:93e4,_tag:"credit",credit:0}]},E=async v=>{try{const w=`${Kv}/transaction`,I=await(await pz(t,w,v)).json();i(I),r(null)}catch(w){i(null),r(w)}};return g.jsxs(g.Fragment,{children:[g.jsx("h1",{children:"Journal: create"}),g.jsx(QH,{defaultValue:S,onSubmit:E}),e&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"error"}),g.jsx("pre",{children:e.message})]}),n&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"success"}),g.jsx("pre",{children:JSON.stringify(n,null,2)})]})]})},ZH=()=>g.jsx("div",{children:"TODO: edit"}),XH=()=>{const t=Rp(),e=yR.parse(t),r=new URLSearchParams(e),i=`${`${Kv}/list`}?${r}`,{data:o,error:s,isLoading:a}=Ld(i),l=o;return s?g.jsx("div",{children:"failed to load"}):a?g.jsx("div",{children:"loading..."}):g.jsx(eQ,{req:e,resp:l})},eQ=t=>{const{req:e,resp:r}=t,{startDate:n,endDate:i}=e,o=r;return g.jsxs(g.Fragment,{children:[g.jsx("h1",{children:"Journals"}),g.jsxs("h2",{children:[n," ~ ",i]}),g.jsx(fS,{entries:o})]})},tQ=()=>{const t=Rp(),e=gR.parse(t);new URLSearchParams(e);const r=`${Kv}/transaction/${e.id}`,{data:n,error:i,isLoading:o}=Ld(r),s=n;return i?g.jsx("div",{children:"failed to load"}):o?g.jsx("div",{children:"loading..."}):g.jsx(rQ,{req:e,resp:s})},rQ=t=>{const{req:e,resp:r}=t,{id:n}=e,i=r,o=Wh.safeValidate(i);return g.jsxs(g.Fragment,{children:[g.jsxs("h1",{children:["Journal Entry: ",n]}),o.isErr?g.jsxs("h2",{children:["error: ",o.error.message]}):null,g.jsx(fS,{entries:[i]}),g.jsx(pn,{component:Ln,to:`/journal/entry/${n}/edit`,children:"edit"})]})},nQ=()=>{const t=new Date,e=t.getFullYear(),r=O9(1,12).map(n=>{const i=wr.combine({year:e,month:n,day:1}),o=wr.setDayAsLastDayOfMonth(i);return{startDate:i,endDate:o}});return g.jsxs(Ri,{children:[g.jsx("h1",{children:"Journal"}),g.jsx(pn,{component:Ln,to:"/journal/action/create",children:"create"}),g.jsxs(K,{children:[g.jsx(K.Thead,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:"start date"}),g.jsx(K.Th,{children:"end date"}),g.jsx(K.Th,{children:"journal"})]})}),g.jsx(K.Tbody,{children:r.map((n,i)=>{const{startDate:o,endDate:s}=n,a=`/journal/list/${o}/${s}`;return o<=t.toISOString()&&t.toISOString()<s,g.jsxs(K.Tr,{children:[g.jsx(K.Td,{children:o}),g.jsx(K.Td,{children:s}),g.jsx(K.Td,{children:g.jsx(pn,{component:Ln,to:a,children:"journal"})})]},n.startDate)})})]})]})},iQ=()=>g.jsxs(Op,{children:[g.jsx(Vr,{index:!0,element:g.jsx(nQ,{})}),g.jsx(Vr,{path:"/list/:startDate/:endDate",element:g.jsx(XH,{})}),g.jsx(Vr,{path:"/action/create",element:g.jsx(KH,{})}),g.jsx(Vr,{path:"/transaction/:id",element:g.jsx(tQ,{})}),g.jsx(Vr,{path:"/transaction/:id/edit",element:g.jsx(ZH,{})})]}),oQ=()=>{const t=Rp(),e=wR.parse(t),r=new URLSearchParams;r.append("code",`${e.code}`),r.append("startDate",`${e.startDate}`),r.append("endDate",`${e.endDate}`);const n=`${xR}/list?${r}`,{data:i,error:o,isLoading:s}=Ld(n),a=i;return o?g.jsx("div",{children:"failed to load"}):s?g.jsx("div",{children:"loading..."}):g.jsx(sQ,{req:e,resp:a})},sQ=t=>{var u;const{req:e,resp:r}=t,{code:n,startDate:i,endDate:o}=e,{lines:s}=r,a=Tr(s,c=>c.debit),l=Tr(s,c=>c.credit);return g.jsxs(g.Fragment,{children:[g.jsx("h1",{children:g.jsx(Zv,{code:n,startDate:i,endDate:o})}),g.jsxs(K,{children:[g.jsx(K.Thead,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:""}),g.jsx(K.Th,{children:""}),g.jsx(K.Th,{children:"debit"}),g.jsx(K.Th,{children:"credit"}),g.jsx(K.Th,{children:"balance"})]})}),g.jsx(K.Tbody,{children:s.map((c,h)=>{const{debit:p,credit:y,balance:b}=c,S=s[h-1],E=c.date!==(S==null?void 0:S.date),v=c.id;return g.jsxs(K.Tr,{children:[g.jsx(K.Td,{children:E?c.date:null}),g.jsx(K.Td,{children:g.jsx(k6,{id:c.id,label:c.brief})}),g.jsx(K.Td,{children:p?g.jsx(sn,{amount:p}):null}),g.jsx(K.Td,{children:y?g.jsx(sn,{amount:y}):null}),g.jsx(K.Td,{children:g.jsx(sn,{amount:b})})]},v)})}),g.jsx(K.Tfoot,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:" "}),g.jsx(K.Th,{children:" "}),g.jsx(K.Th,{children:g.jsx(sn,{amount:a,fw:500})}),g.jsx(K.Th,{children:g.jsx(sn,{amount:l,fw:500})}),g.jsx(K.Th,{children:g.jsx(sn,{amount:((u=s[s.length-1])==null?void 0:u.balance)??0,fw:500})})]})})]})]})},aQ=()=>{const t=new Date,e=Bo(wr.fromDate(t),r=>wr.setDayAsLastDayOfMonth(r));return g.jsx(lQ,{date:e})},lQ=t=>{const{accountGroups:e,accounts:r}=A.useContext(jp),[n,i]=A.useState(t.date),o=new Map(e.map(a=>[a.code,a])),s=wr.setDay(n,1);return g.jsxs(Ri,{children:[g.jsx("h2",{children:"date"}),g.jsx("form",{children:g.jsx(Jt.Wrapper,{label:"date",children:g.jsx(Jt,{type:"date",value:n,onChange:a=>i(a.target.value)})})}),g.jsxs(K,{children:[g.jsx(K.Thead,{children:g.jsxs(K.Tr,{children:[g.jsx(K.Th,{children:""}),g.jsx(K.Th,{children:""}),g.jsx(K.Th,{children:""}),g.jsxs(K.Th,{children:[": ",s," ~ ",n]})]})}),g.jsx(K.Tbody,{children:r.map(a=>{const l=ju.toGroup(a.code),u=o.get(l);if(!u)throw new Error("tag not found");const c=Px.toKorean(u.major),h=u.minor,p=l*1e3===a.code;return g.jsxs(K.Tr,{children:[g.jsx(K.Td,{children:c}),g.jsx(K.Td,{children:h}),g.jsx(K.Td,{children:p?l:a.code}),g.jsx(K.Td,{children:g.jsx(Zv,{code:a.code,startDate:s,endDate:n})})]},a.code)})})]})]})},uQ=()=>g.jsxs(Op,{children:[g.jsx(Vr,{index:!0,element:g.jsx(aQ,{})}),g.jsx(Vr,{path:"/account/:code/:startDate/:endDate",element:g.jsx(oQ,{})})]}),cQ=()=>(Tp(),g.jsxs(g.Fragment,{children:[g.jsxs(Ri,{children:[g.jsx(pn,{component:Ln,to:"/",children:"yuuka"})," | ",g.jsx(pn,{component:Ln,to:"/account",children:"account"})," | ",g.jsx(pn,{component:Ln,to:"/journal",children:"journal"})," | ",g.jsx(pn,{component:Ln,to:"/ledger",children:"ledger"})," | ",g.jsx(pn,{component:Ln,to:"/balance",children:"balance"})," | ",g.jsx(pn,{component:Ln,to:"/book",children:"book"})]}),g.jsx("div",{style:{paddingBottom:"120px"},children:g.jsx(Ri,{fluid:!0,children:g.jsx(JL,{})})})]})),dQ=n9(zy(g.jsxs(Vr,{path:"/",element:g.jsx(cQ,{}),children:[g.jsx(Vr,{path:"/account/*",element:g.jsx(WB,{})}),g.jsx(Vr,{path:"/journal/*",element:g.jsx(iQ,{})}),g.jsx(Vr,{path:"/ledger/*",element:g.jsx(uQ,{})}),g.jsx(Vr,{path:"/balance/*",element:g.jsx(QB,{})}),g.jsx(Vr,{path:"/book/*",element:g.jsx(cz,{})})]})),{}),fQ=()=>g.jsx(f9,{router:dQ}),hQ=t=>{const{setDataSource:e,setError:r,session:n}=t,[i,o]=A.useState("http://127.0.0.1:3000"),s=async a=>(e({_tag:"api",endpoint:i,session:n}),a.preventDefault(),!1);return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"api server"}),g.jsxs("form",{onSubmit:s,children:[g.jsx(px,{type:"text",onChange:a=>o(a.target.value),value:i}),g.jsx(Lr,{type:"submit",disabled:i.length===0,children:"connect"})]})]})},hS=t=>{const e=new rR;return e.use("*",async(r,n)=>{r.env={db:t},await n()}),e.route(Ax,Ox),e.route(Kv,Md),e.route(xR,_R),e.route(SR,Ix),e},pQ=t=>{const{setDataSource:e,setError:r,session:n}=t,i=async()=>{try{const o=await Up(),s=Uint8Array.from([]),{sqlite:a,db:l}=jO(o,s,{});await HW(l);const u=hS(l);e({_tag:"sandbox",sqlite:a,db:l,app:u,session:n})}catch(o){r(o)}};return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"blank project"}),g.jsx(Lr,{type:"button",onClick:i,children:"start"})]})};var C6={exports:{}},Zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS=Symbol.for("react.element"),mS=Symbol.for("react.portal"),p0=Symbol.for("react.fragment"),m0=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),g0=Symbol.for("react.provider"),v0=Symbol.for("react.context"),mQ=Symbol.for("react.server_context"),w0=Symbol.for("react.forward_ref"),b0=Symbol.for("react.suspense"),_0=Symbol.for("react.suspense_list"),x0=Symbol.for("react.memo"),S0=Symbol.for("react.lazy"),yQ=Symbol.for("react.offscreen"),T6;T6=Symbol.for("react.module.reference");function to(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pS:switch(t=t.type,t){case p0:case y0:case m0:case b0:case _0:return t;default:switch(t=t&&t.$$typeof,t){case mQ:case v0:case w0:case S0:case x0:case g0:return t;default:return e}}case mS:return e}}}Zt.ContextConsumer=v0;Zt.ContextProvider=g0;Zt.Element=pS;Zt.ForwardRef=w0;Zt.Fragment=p0;Zt.Lazy=S0;Zt.Memo=x0;Zt.Portal=mS;Zt.Profiler=y0;Zt.StrictMode=m0;Zt.Suspense=b0;Zt.SuspenseList=_0;Zt.isAsyncMode=function(){return!1};Zt.isConcurrentMode=function(){return!1};Zt.isContextConsumer=function(t){return to(t)===v0};Zt.isContextProvider=function(t){return to(t)===g0};Zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pS};Zt.isForwardRef=function(t){return to(t)===w0};Zt.isFragment=function(t){return to(t)===p0};Zt.isLazy=function(t){return to(t)===S0};Zt.isMemo=function(t){return to(t)===x0};Zt.isPortal=function(t){return to(t)===mS};Zt.isProfiler=function(t){return to(t)===y0};Zt.isStrictMode=function(t){return to(t)===m0};Zt.isSuspense=function(t){return to(t)===b0};Zt.isSuspenseList=function(t){return to(t)===_0};Zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===p0||t===y0||t===m0||t===b0||t===_0||t===yQ||typeof t=="object"&&t!==null&&(t.$$typeof===S0||t.$$typeof===x0||t.$$typeof===g0||t.$$typeof===v0||t.$$typeof===w0||t.$$typeof===T6||t.getModuleId!==void 0)};Zt.typeOf=to;C6.exports=Zt;var R6=C6.exports;function gQ(t){function e(ue,_e,ve,Le,z){for(var Ve=0,oe=0,ct=0,ot=0,Ge,pe,me=0,Be=0,$e,pt=$e=Ge=0,it=0,$=0,W=0,G=0,Te=ve.length,xe=Te-1,he,ne="",De="",Rt="",Mt="",er;it<Te;){if(pe=ve.charCodeAt(it),it===xe&&oe+ot+ct+Ve!==0&&(oe!==0&&(pe=oe===47?10:47),ot=ct=Ve=0,Te++,xe++),oe+ot+ct+Ve===0){if(it===xe&&(0<$&&(ne=ne.replace(p,"")),0<ne.trim().length)){switch(pe){case 32:case 9:case 59:case 13:case 10:break;default:ne+=ve.charAt(it)}pe=59}switch(pe){case 123:for(ne=ne.trim(),Ge=ne.charCodeAt(0),$e=1,G=++it;it<Te;){switch(pe=ve.charCodeAt(it)){case 123:$e++;break;case 125:$e--;break;case 47:switch(pe=ve.charCodeAt(it+1)){case 42:case 47:e:{for(pt=it+1;pt<xe;++pt)switch(ve.charCodeAt(pt)){case 47:if(pe===42&&ve.charCodeAt(pt-1)===42&&it+2!==pt){it=pt+1;break e}break;case 10:if(pe===47){it=pt+1;break e}}it=pt}}break;case 91:pe++;case 40:pe++;case 34:case 39:for(;it++<xe&&ve.charCodeAt(it)!==pe;);}if($e===0)break;it++}switch($e=ve.substring(G,it),Ge===0&&(Ge=(ne=ne.replace(h,"").trim()).charCodeAt(0)),Ge){case 64:switch(0<$&&(ne=ne.replace(p,"")),pe=ne.charCodeAt(1),pe){case 100:case 109:case 115:case 45:$=_e;break;default:$=Fe}if($e=e(_e,$,$e,pe,z+1),G=$e.length,0<X&&($=r(Fe,ne,W),er=a(3,$e,$,_e,Q,re,G,pe,z,Le),ne=$.join(""),er!==void 0&&(G=($e=er.trim()).length)===0&&(pe=0,$e="")),0<G)switch(pe){case 115:ne=ne.replace(k,s);case 100:case 109:case 45:$e=ne+"{"+$e+"}";break;case 107:ne=ne.replace(w,"$1 $2"),$e=ne+"{"+$e+"}",$e=je===1||je===2&&o("@"+$e,3)?"@-webkit-"+$e+"@"+$e:"@"+$e;break;default:$e=ne+$e,Le===112&&($e=(De+=$e,""))}else $e="";break;default:$e=e(_e,r(_e,ne,W),$e,Le,z+1)}Rt+=$e,$e=W=$=pt=Ge=0,ne="",pe=ve.charCodeAt(++it);break;case 125:case 59:if(ne=(0<$?ne.replace(p,""):ne).trim(),1<(G=ne.length))switch(pt===0&&(Ge=ne.charCodeAt(0),Ge===45||96<Ge&&123>Ge)&&(G=(ne=ne.replace(" ",":")).length),0<X&&(er=a(1,ne,_e,ue,Q,re,De.length,Le,z,Le))!==void 0&&(G=(ne=er.trim()).length)===0&&(ne="\0\0"),Ge=ne.charCodeAt(0),pe=ne.charCodeAt(1),Ge){case 0:break;case 64:if(pe===105||pe===99){Mt+=ne+ve.charAt(it);break}default:ne.charCodeAt(G-1)!==58&&(De+=i(ne,Ge,pe,ne.charCodeAt(2)))}W=$=pt=Ge=0,ne="",pe=ve.charCodeAt(++it)}}switch(pe){case 13:case 10:oe===47?oe=0:1+Ge===0&&Le!==107&&0<ne.length&&($=1,ne+="\0"),0<X*Ce&&a(0,ne,_e,ue,Q,re,De.length,Le,z,Le),re=1,Q++;break;case 59:case 125:if(oe+ot+ct+Ve===0){re++;break}default:switch(re++,he=ve.charAt(it),pe){case 9:case 32:if(ot+Ve+oe===0)switch(me){case 44:case 58:case 9:case 32:he="";break;default:pe!==32&&(he=" ")}break;case 0:he="\\0";break;case 12:he="\\f";break;case 11:he="\\v";break;case 38:ot+oe+Ve===0&&($=W=1,he="\f"+he);break;case 108:if(ot+oe+Ve+fe===0&&0<pt)switch(it-pt){case 2:me===112&&ve.charCodeAt(it-3)===58&&(fe=me);case 8:Be===111&&(fe=Be)}break;case 58:ot+oe+Ve===0&&(pt=it);break;case 44:oe+ct+ot+Ve===0&&($=1,he+="\r");break;case 34:case 39:oe===0&&(ot=ot===pe?0:ot===0?pe:ot);break;case 91:ot+oe+ct===0&&Ve++;break;case 93:ot+oe+ct===0&&Ve--;break;case 41:ot+oe+Ve===0&&ct--;break;case 40:if(ot+oe+Ve===0){if(Ge===0)switch(2*me+3*Be){case 533:break;default:Ge=1}ct++}break;case 64:oe+ct+ot+Ve+pt+$e===0&&($e=1);break;case 42:case 47:if(!(0<ot+Ve+ct))switch(oe){case 0:switch(2*pe+3*ve.charCodeAt(it+1)){case 235:oe=47;break;case 220:G=it,oe=42}break;case 42:pe===47&&me===42&&G+2!==it&&(ve.charCodeAt(G+2)===33&&(De+=ve.substring(G,it+1)),he="",oe=0)}}oe===0&&(ne+=he)}Be=me,me=pe,it++}if(G=De.length,0<G){if($=_e,0<X&&(er=a(2,De,$,ue,Q,re,G,Le,z,Le),er!==void 0&&(De=er).length===0))return Mt+De+Rt;if(De=$.join(",")+"{"+De+"}",je*fe!==0){switch(je!==2||o(De,2)||(fe=0),fe){case 111:De=De.replace(I,":-moz-$1")+De;break;case 112:De=De.replace(N,"::-webkit-input-$1")+De.replace(N,"::-moz-$1")+De.replace(N,":-ms-input-$1")+De}fe=0}}return Mt+De+Rt}function r(ue,_e,ve){var Le=_e.trim().split(E);_e=Le;var z=Le.length,Ve=ue.length;switch(Ve){case 0:case 1:var oe=0;for(ue=Ve===0?"":ue[0]+" ";oe<z;++oe)_e[oe]=n(ue,_e[oe],ve).trim();break;default:var ct=oe=0;for(_e=[];oe<z;++oe)for(var ot=0;ot<Ve;++ot)_e[ct++]=n(ue[ot]+" ",Le[oe],ve).trim()}return _e}function n(ue,_e,ve){var Le=_e.charCodeAt(0);switch(33>Le&&(Le=(_e=_e.trim()).charCodeAt(0)),Le){case 38:return _e.replace(v,"$1"+ue.trim());case 58:return ue.trim()+_e.replace(v,"$1"+ue.trim());default:if(0<1*ve&&0<_e.indexOf("\f"))return _e.replace(v,(ue.charCodeAt(0)===58?"":"$1")+ue.trim())}return ue+_e}function i(ue,_e,ve,Le){var z=ue+";",Ve=2*_e+3*ve+4*Le;if(Ve===944){ue=z.indexOf(":",9)+1;var oe=z.substring(ue,z.length-1).trim();return oe=z.substring(0,ue).trim()+oe+";",je===1||je===2&&o(oe,1)?"-webkit-"+oe+oe:oe}if(je===0||je===2&&!o(z,1))return z;switch(Ve){case 1015:return z.charCodeAt(10)===97?"-webkit-"+z+z:z;case 951:return z.charCodeAt(3)===116?"-webkit-"+z+z:z;case 963:return z.charCodeAt(5)===110?"-webkit-"+z+z:z;case 1009:if(z.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+z+z;case 978:return"-webkit-"+z+"-moz-"+z+z;case 1019:case 983:return"-webkit-"+z+"-moz-"+z+"-ms-"+z+z;case 883:if(z.charCodeAt(8)===45)return"-webkit-"+z+z;if(0<z.indexOf("image-set(",11))return z.replace(te,"$1-webkit-$2")+z;break;case 932:if(z.charCodeAt(4)===45)switch(z.charCodeAt(5)){case 103:return"-webkit-box-"+z.replace("-grow","")+"-webkit-"+z+"-ms-"+z.replace("grow","positive")+z;case 115:return"-webkit-"+z+"-ms-"+z.replace("shrink","negative")+z;case 98:return"-webkit-"+z+"-ms-"+z.replace("basis","preferred-size")+z}return"-webkit-"+z+"-ms-"+z+z;case 964:return"-webkit-"+z+"-ms-flex-"+z+z;case 1023:if(z.charCodeAt(8)!==99)break;return oe=z.substring(z.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+oe+"-webkit-"+z+"-ms-flex-pack"+oe+z;case 1005:return b.test(z)?z.replace(y,":-webkit-")+z.replace(y,":-moz-")+z:z;case 1e3:switch(oe=z.substring(13).trim(),_e=oe.indexOf("-")+1,oe.charCodeAt(0)+oe.charCodeAt(_e)){case 226:oe=z.replace(R,"tb");break;case 232:oe=z.replace(R,"tb-rl");break;case 220:oe=z.replace(R,"lr");break;default:return z}return"-webkit-"+z+"-ms-"+oe+z;case 1017:if(z.indexOf("sticky",9)===-1)break;case 975:switch(_e=(z=ue).length-10,oe=(z.charCodeAt(_e)===33?z.substring(0,_e):z).substring(ue.indexOf(":",7)+1).trim(),Ve=oe.charCodeAt(0)+(oe.charCodeAt(7)|0)){case 203:if(111>oe.charCodeAt(8))break;case 115:z=z.replace(oe,"-webkit-"+oe)+";"+z;break;case 207:case 102:z=z.replace(oe,"-webkit-"+(102<Ve?"inline-":"")+"box")+";"+z.replace(oe,"-webkit-"+oe)+";"+z.replace(oe,"-ms-"+oe+"box")+";"+z}return z+";";case 938:if(z.charCodeAt(5)===45)switch(z.charCodeAt(6)){case 105:return oe=z.replace("-items",""),"-webkit-"+z+"-webkit-box-"+oe+"-ms-flex-"+oe+z;case 115:return"-webkit-"+z+"-ms-flex-item-"+z.replace(j,"")+z;default:return"-webkit-"+z+"-ms-flex-line-pack"+z.replace("align-content","").replace(j,"")+z}break;case 973:case 989:if(z.charCodeAt(3)!==45||z.charCodeAt(4)===122)break;case 931:case 953:if(H.test(ue)===!0)return(oe=ue.substring(ue.indexOf(":")+1)).charCodeAt(0)===115?i(ue.replace("stretch","fill-available"),_e,ve,Le).replace(":fill-available",":stretch"):z.replace(oe,"-webkit-"+oe)+z.replace(oe,"-moz-"+oe.replace("fill-",""))+z;break;case 962:if(z="-webkit-"+z+(z.charCodeAt(5)===102?"-ms-"+z:"")+z,ve+Le===211&&z.charCodeAt(13)===105&&0<z.indexOf("transform",10))return z.substring(0,z.indexOf(";",27)+1).replace(S,"$1-webkit-$2")+z}return z}function o(ue,_e){var ve=ue.indexOf(_e===1?":":"{"),Le=ue.substring(0,_e!==3?ve:10);return ve=ue.substring(ve+1,ue.length-1),ge(_e!==2?Le:Le.replace(Z,"$1"),ve,_e)}function s(ue,_e){var ve=i(_e,_e.charCodeAt(0),_e.charCodeAt(1),_e.charCodeAt(2));return ve!==_e+";"?ve.replace(L," or ($1)").substring(4):"("+_e+")"}function a(ue,_e,ve,Le,z,Ve,oe,ct,ot,Ge){for(var pe=0,me=_e,Be;pe<X;++pe)switch(Be=Pe[pe].call(c,ue,me,ve,Le,z,Ve,oe,ct,ot,Ge)){case void 0:case!1:case!0:case null:break;default:me=Be}if(me!==_e)return me}function l(ue){switch(ue){case void 0:case null:X=Pe.length=0;break;default:if(typeof ue=="function")Pe[X++]=ue;else if(typeof ue=="object")for(var _e=0,ve=ue.length;_e<ve;++_e)l(ue[_e]);else Ce=!!ue|0}return l}function u(ue){return ue=ue.prefix,ue!==void 0&&(ge=null,ue?typeof ue!="function"?je=1:(je=2,ge=ue):je=0),u}function c(ue,_e){var ve=ue;if(33>ve.charCodeAt(0)&&(ve=ve.trim()),Ae=ve,ve=[Ae],0<X){var Le=a(-1,_e,ve,ve,Q,re,0,0,0,0);Le!==void 0&&typeof Le=="string"&&(_e=Le)}var z=e(Fe,ve,_e,0,0);return 0<X&&(Le=a(-2,z,ve,ve,Q,re,z.length,0,0,0),Le!==void 0&&(z=Le)),Ae="",fe=0,re=Q=1,z}var h=/^\0+/g,p=/[\0\r\f]/g,y=/: */g,b=/zoo|gra/,S=/([,: ])(transform)/g,E=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,w=/@(k\w+)\s*(\S*)\s*/,N=/::(place)/g,I=/:(read-only)/g,R=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,L=/([\s\S]*?);/g,j=/-self|flex-/g,Z=/[^]*?(:[rp][el]a[\w-]+)[^]*/,H=/stretch|:\s*\w+\-(?:conte|avail)/,te=/([^-])(image-set\()/,re=1,Q=1,fe=0,je=1,Fe=[],Pe=[],X=0,ge=null,Ce=0,Ae="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var vQ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function wQ(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var bQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mk=wQ(function(t){return bQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),O6={exports:{}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gn=typeof Symbol=="function"&&Symbol.for,yS=gn?Symbol.for("react.element"):60103,gS=gn?Symbol.for("react.portal"):60106,E0=gn?Symbol.for("react.fragment"):60107,N0=gn?Symbol.for("react.strict_mode"):60108,k0=gn?Symbol.for("react.profiler"):60114,C0=gn?Symbol.for("react.provider"):60109,T0=gn?Symbol.for("react.context"):60110,vS=gn?Symbol.for("react.async_mode"):60111,R0=gn?Symbol.for("react.concurrent_mode"):60111,O0=gn?Symbol.for("react.forward_ref"):60112,A0=gn?Symbol.for("react.suspense"):60113,_Q=gn?Symbol.for("react.suspense_list"):60120,I0=gn?Symbol.for("react.memo"):60115,P0=gn?Symbol.for("react.lazy"):60116,xQ=gn?Symbol.for("react.block"):60121,SQ=gn?Symbol.for("react.fundamental"):60117,EQ=gn?Symbol.for("react.responder"):60118,NQ=gn?Symbol.for("react.scope"):60119;function Li(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yS:switch(t=t.type,t){case vS:case R0:case E0:case k0:case N0:case A0:return t;default:switch(t=t&&t.$$typeof,t){case T0:case O0:case P0:case I0:case C0:return t;default:return e}}case gS:return e}}}function A6(t){return Li(t)===R0}Xt.AsyncMode=vS;Xt.ConcurrentMode=R0;Xt.ContextConsumer=T0;Xt.ContextProvider=C0;Xt.Element=yS;Xt.ForwardRef=O0;Xt.Fragment=E0;Xt.Lazy=P0;Xt.Memo=I0;Xt.Portal=gS;Xt.Profiler=k0;Xt.StrictMode=N0;Xt.Suspense=A0;Xt.isAsyncMode=function(t){return A6(t)||Li(t)===vS};Xt.isConcurrentMode=A6;Xt.isContextConsumer=function(t){return Li(t)===T0};Xt.isContextProvider=function(t){return Li(t)===C0};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yS};Xt.isForwardRef=function(t){return Li(t)===O0};Xt.isFragment=function(t){return Li(t)===E0};Xt.isLazy=function(t){return Li(t)===P0};Xt.isMemo=function(t){return Li(t)===I0};Xt.isPortal=function(t){return Li(t)===gS};Xt.isProfiler=function(t){return Li(t)===k0};Xt.isStrictMode=function(t){return Li(t)===N0};Xt.isSuspense=function(t){return Li(t)===A0};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===E0||t===R0||t===k0||t===N0||t===A0||t===_Q||typeof t=="object"&&t!==null&&(t.$$typeof===P0||t.$$typeof===I0||t.$$typeof===C0||t.$$typeof===T0||t.$$typeof===O0||t.$$typeof===SQ||t.$$typeof===EQ||t.$$typeof===NQ||t.$$typeof===xQ)};Xt.typeOf=Li;O6.exports=Xt;var kQ=O6.exports,wS=kQ,CQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},TQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},RQ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},I6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bS={};bS[wS.ForwardRef]=RQ;bS[wS.Memo]=I6;function yk(t){return wS.isMemo(t)?I6:bS[t.$$typeof]||CQ}var OQ=Object.defineProperty,AQ=Object.getOwnPropertyNames,gk=Object.getOwnPropertySymbols,IQ=Object.getOwnPropertyDescriptor,PQ=Object.getPrototypeOf,vk=Object.prototype;function P6(t,e,r){if(typeof e!="string"){if(vk){var n=PQ(e);n&&n!==vk&&P6(t,n,r)}var i=AQ(e);gk&&(i=i.concat(gk(e)));for(var o=yk(t),s=yk(e),a=0;a<i.length;++a){var l=i[a];if(!TQ[l]&&!(r&&r[l])&&!(s&&s[l])&&!(o&&o[l])){var u=IQ(e,l);try{OQ(t,l,u)}catch{}}}}return t}var $Q=P6;const jQ=yp($Q);var zi={};function Us(){return(Us=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var wk=function(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r},Gb=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!R6.typeOf(t)},qg=Object.freeze([]),il=Object.freeze({});function Zh(t){return typeof t=="function"}function bk(t){return t.displayName||t.name||"Component"}function _S(t){return t&&typeof t.styledComponentId=="string"}var Cd=typeof process<"u"&&zi!==void 0&&(zi.REACT_APP_SC_ATTR||zi.SC_ATTR)||"data-styled",xS=typeof window<"u"&&"HTMLElement"in window,LQ=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&zi!==void 0&&(zi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&zi.REACT_APP_SC_DISABLE_SPEEDY!==""?zi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&zi.REACT_APP_SC_DISABLE_SPEEDY:zi.SC_DISABLE_SPEEDY!==void 0&&zi.SC_DISABLE_SPEEDY!==""&&zi.SC_DISABLE_SPEEDY!=="false"&&zi.SC_DISABLE_SPEEDY));function Qp(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var DQ=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var e=t.prototype;return e.indexOfGroup=function(r){for(var n=0,i=0;i<r;i++)n+=this.groupSizes[i];return n},e.insertRules=function(r,n){if(r>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,s=o;r>=s;)(s<<=1)<0&&Qp(16,""+r);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var a=o;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(r+1),u=0,c=n.length;u<c;u++)this.tag.insertRule(l,n[u])&&(this.groupSizes[r]++,l++)},e.clearGroup=function(r){if(r<this.length){var n=this.groupSizes[r],i=this.indexOfGroup(r),o=i+n;this.groupSizes[r]=0;for(var s=i;s<o;s++)this.tag.deleteRule(i)}},e.getGroup=function(r){var n="";if(r>=this.length||this.groupSizes[r]===0)return n;for(var i=this.groupSizes[r],o=this.indexOfGroup(r),s=o+i,a=o;a<s;a++)n+=this.tag.getRule(a)+`/*!sc*/
`;return n},t}(),yy=new Map,Ug=new Map,Gf=1,Lm=function(t){if(yy.has(t))return yy.get(t);for(;Ug.has(Gf);)Gf++;var e=Gf++;return yy.set(t,e),Ug.set(e,t),e},MQ=function(t){return Ug.get(t)},BQ=function(t,e){e>=Gf&&(Gf=e+1),yy.set(t,e),Ug.set(e,t)},FQ="style["+Cd+'][data-styled-version="5.3.11"]',WQ=new RegExp("^"+Cd+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),qQ=function(t,e,r){for(var n,i=r.split(","),o=0,s=i.length;o<s;o++)(n=i[o])&&t.registerName(e,n)},UQ=function(t,e){for(var r=(e.textContent||"").split(`/*!sc*/
`),n=[],i=0,o=r.length;i<o;i++){var s=r[i].trim();if(s){var a=s.match(WQ);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(BQ(u,l),qQ(t,u,a[3]),t.getTag().insertRules(l,n)),n.length=0}else n.push(s)}}},zQ=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},$6=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(Cd))return c}}(r),o=i!==void 0?i.nextSibling:null;n.setAttribute(Cd,"active"),n.setAttribute("data-styled-version","5.3.11");var s=zQ();return s&&n.setAttribute("nonce",s),r.insertBefore(n,o),n},VQ=function(){function t(r){var n=this.element=$6(r);n.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,s=0,a=o.length;s<a;s++){var l=o[s];if(l.ownerNode===i)return l}Qp(17)}(n),this.length=0}var e=t.prototype;return e.insertRule=function(r,n){try{return this.sheet.insertRule(n,r),this.length++,!0}catch{return!1}},e.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},e.getRule=function(r){var n=this.sheet.cssRules[r];return n!==void 0&&typeof n.cssText=="string"?n.cssText:""},t}(),HQ=function(){function t(r){var n=this.element=$6(r);this.nodes=n.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(r,n){if(r<=this.length&&r>=0){var i=document.createTextNode(n),o=this.nodes[r];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},e.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},e.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),QQ=function(){function t(r){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(r,n){return r<=this.length&&(this.rules.splice(r,0,n),this.length++,!0)},e.deleteRule=function(r){this.rules.splice(r,1),this.length--},e.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),_k=xS,GQ={isServer:!xS,useCSSOMInjection:!LQ},j6=function(){function t(r,n,i){r===void 0&&(r=il),n===void 0&&(n={}),this.options=Us({},GQ,{},r),this.gs=n,this.names=new Map(i),this.server=!!r.isServer,!this.server&&xS&&_k&&(_k=!1,function(o){for(var s=document.querySelectorAll(FQ),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(Cd)!=="active"&&(UQ(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(r){return Lm(r)};var e=t.prototype;return e.reconstructWithOptions=function(r,n){return n===void 0&&(n=!0),new t(Us({},this.options,{},r),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(n=this.options).isServer,o=n.useCSSOMInjection,s=n.target,r=i?new QQ(s):o?new VQ(s):new HQ(s),new DQ(r)));var r,n,i,o,s},e.hasNameForId=function(r,n){return this.names.has(r)&&this.names.get(r).has(n)},e.registerName=function(r,n){if(Lm(r),this.names.has(r))this.names.get(r).add(n);else{var i=new Set;i.add(n),this.names.set(r,i)}},e.insertRules=function(r,n,i){this.registerName(r,n),this.getTag().insertRules(Lm(r),i)},e.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},e.clearRules=function(r){this.getTag().clearGroup(Lm(r)),this.clearNames(r)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(r){for(var n=r.getTag(),i=n.length,o="",s=0;s<i;s++){var a=MQ(s);if(a!==void 0){var l=r.names.get(a),u=n.getGroup(s);if(l&&u&&l.size){var c=Cd+".g"+s+'[id="'+a+'"]',h="";l!==void 0&&l.forEach(function(p){p.length>0&&(h+=p+",")}),o+=""+u+c+'{content:"'+h+`"}/*!sc*/
`}}}return o}(this)},t}(),JQ=/(a)(d)/gi,xk=function(t){return String.fromCharCode(t+(t>25?39:97))};function Jb(t){var e,r="";for(e=Math.abs(t);e>52;e=e/52|0)r=xk(e%52)+r;return(xk(e%52)+r).replace(JQ,"$1-$2")}var kc=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},L6=function(t){return kc(5381,t)};function YQ(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Zh(r)&&!_S(r))return!1}return!0}var KQ=L6("5.3.11"),ZQ=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&YQ(e),this.componentId=r,this.baseHash=kc(KQ,r),this.baseStyle=n,j6.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,r,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var s=Td(this.rules,e,r,n).join(""),a=Jb(kc(this.baseHash,s)>>>0);if(!r.hasNameForId(i,a)){var l=n(s,"."+a,void 0,i);r.insertRules(i,a,l)}o.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=kc(this.baseHash,n.hash),h="",p=0;p<u;p++){var y=this.rules[p];if(typeof y=="string")h+=y;else if(y){var b=Td(y,e,r,n),S=Array.isArray(b)?b.join(""):b;c=kc(c,S+p),h+=S}}if(h){var E=Jb(c>>>0);if(!r.hasNameForId(i,E)){var v=n(h,"."+E,void 0,i);r.insertRules(i,E,v)}o.push(E)}}return o.join(" ")},t}(),XQ=/^\s*\/\/.*$/gm,eG=[":","[",".","#"];function tG(t){var e,r,n,i,o=t===void 0?il:t,s=o.options,a=s===void 0?il:s,l=o.plugins,u=l===void 0?qg:l,c=new gQ(a),h=[],p=function(S){function E(v){if(v)try{S(v+"}")}catch{}}return function(v,w,N,I,R,k,L,j,Z,H){switch(v){case 1:if(Z===0&&w.charCodeAt(0)===64)return S(w+";"),"";break;case 2:if(j===0)return w+"/*|*/";break;case 3:switch(j){case 102:case 112:return S(N[0]+w),"";default:return w+(H===0?"/*|*/":"")}case-2:w.split("/*|*/}").forEach(E)}}}(function(S){h.push(S)}),y=function(S,E,v){return E===0&&eG.indexOf(v[r.length])!==-1||v.match(i)?S:"."+e};function b(S,E,v,w){w===void 0&&(w="&");var N=S.replace(XQ,""),I=E&&v?v+" "+E+" { "+N+" }":N;return e=w,r=E,n=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),c(v||!E?"":E,I)}return c.use([].concat(u,[function(S,E,v){S===2&&v.length&&v[0].lastIndexOf(r)>0&&(v[0]=v[0].replace(n,y))},p,function(S){if(S===-2){var E=h;return h=[],E}}])),b.hash=u.length?u.reduce(function(S,E){return E.name||Qp(15),kc(S,E.name)},5381).toString():"",b}var D6=T.createContext();D6.Consumer;var M6=T.createContext(),rG=(M6.Consumer,new j6),Yb=tG();function nG(){return A.useContext(D6)||rG}function iG(){return A.useContext(M6)||Yb}var oG=function(){function t(e,r){var n=this;this.inject=function(i,o){o===void 0&&(o=Yb);var s=n.name+o.hash;i.hasNameForId(n.id,s)||i.insertRules(n.id,s,o(n.rules,s,"@keyframes"))},this.toString=function(){return Qp(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=r}return t.prototype.getName=function(e){return e===void 0&&(e=Yb),this.name+e.hash},t}(),sG=/([A-Z])/,aG=/([A-Z])/g,lG=/^ms-/,uG=function(t){return"-"+t.toLowerCase()};function Sk(t){return sG.test(t)?t.replace(aG,uG).replace(lG,"-ms-"):t}var Ek=function(t){return t==null||t===!1||t===""};function Td(t,e,r,n){if(Array.isArray(t)){for(var i,o=[],s=0,a=t.length;s<a;s+=1)(i=Td(t[s],e,r,n))!==""&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}if(Ek(t))return"";if(_S(t))return"."+t.styledComponentId;if(Zh(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return Td(l,e,r,n)}var u;return t instanceof oG?r?(t.inject(r,n),t.getName(n)):t:Gb(t)?function c(h,p){var y,b,S=[];for(var E in h)h.hasOwnProperty(E)&&!Ek(h[E])&&(Array.isArray(h[E])&&h[E].isCss||Zh(h[E])?S.push(Sk(E)+":",h[E],";"):Gb(h[E])?S.push.apply(S,c(h[E],E)):S.push(Sk(E)+": "+(y=E,(b=h[E])==null||typeof b=="boolean"||b===""?"":typeof b!="number"||b===0||y in vQ||y.startsWith("--")?String(b).trim():b+"px")+";"));return p?[p+" {"].concat(S,["}"]):S}(t):t.toString()}var Nk=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function B6(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Zh(t)||Gb(t)?Nk(Td(wk(qg,[t].concat(r)))):r.length===0&&t.length===1&&typeof t[0]=="string"?t:Nk(Td(wk(t,r)))}var cG=function(t,e,r){return r===void 0&&(r=il),t.theme!==r.theme&&t.theme||e||r.theme},dG=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,fG=/(^-|-$)/g;function Kw(t){return t.replace(dG,"-").replace(fG,"")}var hG=function(t){return Jb(L6(t)>>>0)};function Dm(t){return typeof t=="string"&&!0}var Kb=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},pG=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function mG(t,e,r){var n=t[r];Kb(e)&&Kb(n)?F6(n,e):t[r]=e}function F6(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var i=0,o=r;i<o.length;i++){var s=o[i];if(Kb(s))for(var a in s)pG(a)&&mG(t,s[a],a)}return t}var W6=T.createContext();W6.Consumer;var Zw={};function q6(t,e,r){var n=_S(t),i=!Dm(t),o=e.attrs,s=o===void 0?qg:o,a=e.componentId,l=a===void 0?function(w,N){var I=typeof w!="string"?"sc":Kw(w);Zw[I]=(Zw[I]||0)+1;var R=I+"-"+hG("5.3.11"+I+Zw[I]);return N?N+"-"+R:R}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(w){return Dm(w)?"styled."+w:"Styled("+bk(w)+")"}(t):u,h=e.displayName&&e.componentId?Kw(e.displayName)+"-"+e.componentId:e.componentId||l,p=n&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,y=e.shouldForwardProp;n&&t.shouldForwardProp&&(y=e.shouldForwardProp?function(w,N,I){return t.shouldForwardProp(w,N,I)&&e.shouldForwardProp(w,N,I)}:t.shouldForwardProp);var b,S=new ZQ(r,h,n?t.componentStyle:void 0),E=S.isStatic&&s.length===0,v=function(w,N){return function(I,R,k,L){var j=I.attrs,Z=I.componentStyle,H=I.defaultProps,te=I.foldedComponentIds,re=I.shouldForwardProp,Q=I.styledComponentId,fe=I.target,je=function(Le,z,Ve){Le===void 0&&(Le=il);var oe=Us({},z,{theme:Le}),ct={};return Ve.forEach(function(ot){var Ge,pe,me,Be=ot;for(Ge in Zh(Be)&&(Be=Be(oe)),Be)oe[Ge]=ct[Ge]=Ge==="className"?(pe=ct[Ge],me=Be[Ge],pe&&me?pe+" "+me:pe||me):Be[Ge]}),[oe,ct]}(cG(R,A.useContext(W6),H)||il,R,j),Fe=je[0],Pe=je[1],X=function(Le,z,Ve,oe){var ct=nG(),ot=iG(),Ge=z?Le.generateAndInjectStyles(il,ct,ot):Le.generateAndInjectStyles(Ve,ct,ot);return Ge}(Z,L,Fe),ge=k,Ce=Pe.$as||R.$as||Pe.as||R.as||fe,Ae=Dm(Ce),ue=Pe!==R?Us({},R,{},Pe):R,_e={};for(var ve in ue)ve[0]!=="$"&&ve!=="as"&&(ve==="forwardedAs"?_e.as=ue[ve]:(re?re(ve,mk,Ce):!Ae||mk(ve))&&(_e[ve]=ue[ve]));return R.style&&Pe.style!==R.style&&(_e.style=Us({},R.style,{},Pe.style)),_e.className=Array.prototype.concat(te,Q,X!==Q?X:null,R.className,Pe.className).filter(Boolean).join(" "),_e.ref=ge,A.createElement(Ce,_e)}(b,w,N,E)};return v.displayName=c,(b=T.forwardRef(v)).attrs=p,b.componentStyle=S,b.displayName=c,b.shouldForwardProp=y,b.foldedComponentIds=n?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):qg,b.styledComponentId=h,b.target=n?t.target:t,b.withComponent=function(w){var N=e.componentId,I=function(k,L){if(k==null)return{};var j,Z,H={},te=Object.keys(k);for(Z=0;Z<te.length;Z++)j=te[Z],L.indexOf(j)>=0||(H[j]=k[j]);return H}(e,["componentId"]),R=N&&N+"-"+(Dm(w)?w:Kw(bk(w)));return q6(w,Us({},I,{attrs:p,componentId:R}),r)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=n?F6({},t.defaultProps,w):w}}),Object.defineProperty(b,"toString",{value:function(){return"."+b.styledComponentId}}),i&&jQ(b,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}var Zb=function(t){return function e(r,n,i){if(i===void 0&&(i=il),!R6.isValidElementType(n))return Qp(1,String(n));var o=function(){return r(n,i,B6.apply(void 0,arguments))};return o.withConfig=function(s){return e(r,n,Us({},i,{},s))},o.attrs=function(s){return e(r,n,Us({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},o}(q6,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){Zb[t]=Zb(t)});const $0=Zb;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hu=function(){return hu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},hu.apply(this,arguments)};function Gp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var kk,Ck,Tk,Rk,Ok,yG=B6(kk||(kk=Gp([`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`],[`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`])),"#0658c2","#666","#666","#666","#666","#666"),gG=$0.label(Ck||(Ck=Gp([`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`],[`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`])),function(t){return t.overRide?"":yG}),vG=$0.div(Tk||(Tk=Gp([`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.5;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`],[`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.5;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`])),"#666","#999"),wG=$0.div(Rk||(Rk=Gp([`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`],[`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`])),function(t){return t.error?"red":"#666"}),bG=$0.span(Ok||(Ok=Gp([`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`],[`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`])),"#666"),Ak=function(t){return t/1e3/1e3},_G=function(t){return t===void 0?"":t.map(function(e){return".".concat(e.toLowerCase())}).join(",")};function xG(t){var e=t.types,r=t.minSize,n=t.maxSize;if(e){var i=e.toString(),o="";return n&&(o+="size >= ".concat(n,", ")),r&&(o+="size <= ".concat(r,", ")),g.jsx("span",hu({title:"".concat(o,"types: ").concat(i),className:"file-types"},{children:i}),void 0)}return null}function SG(){return g.jsxs("svg",hu({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[g.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),g.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),g.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var Xw=0,EG=function(t,e,r,n,i){return r?g.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):g.jsx(bG,{children:n?g.jsx("span",{children:"Upload disabled"},void 0):t||e?g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0):g.jsx(g.Fragment,{children:g.jsxs(g.Fragment,i?{children:[g.jsx("span",{children:i.split(" ")[0]},void 0)," ",i.substr(i.indexOf(" ")+1)]}:{children:[g.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},NG=function(t){var e=t.name,r=t.hoverTitle,n=t.types,i=t.handleChange,o=t.classes,s=t.children,a=t.maxSize,l=t.minSize,u=t.fileOrFiles,c=t.onSizeError,h=t.onTypeError,p=t.onSelect,y=t.onDrop,b=t.disabled,S=t.label,E=t.multiple,v=t.required,w=t.onDraggingStateChange,N=t.dropMessageStyle,I=A.useRef(null),R=A.useRef(null),k=A.useState(!1),L=k[0],j=k[1],Z=A.useState(null),H=Z[0],te=Z[1],re=A.useState(!1),Q=re[0],fe=re[1],je=function(X){return n&&!function(ge,Ce){var Ae=ge.name.split(".").pop();return Ce.map(function(ue){return ue.toLowerCase()}).includes(Ae.toLowerCase())}(X,n)?(fe(!0),h&&h("File type is not supported"),!1):a&&Ak(X.size)>a?(fe(!0),c&&c("File size is too big"),!1):!(l&&Ak(X.size)<l)||(fe(!0),c&&c("File size is too small"),!1)},Fe=function(X){var ge=!1;if(X){if(X instanceof File)ge=!je(X);else for(var Ce=0;Ce<X.length;Ce++){var Ae=X[Ce];ge=!je(Ae)||ge}return!ge&&(i&&i(X),te(X),j(!0),fe(!1),!0)}return!1},Pe=function(X){var ge=X.labelRef,Ce=X.inputRef,Ae=X.multiple,ue=X.handleChanges,_e=X.onDrop,ve=A.useState(!1),Le=ve[0],z=ve[1],Ve=A.useCallback(function(){Ce.current.click()},[Ce]),oe=A.useCallback(function(pe){pe.preventDefault(),pe.stopPropagation(),Xw++,pe.dataTransfer.items&&pe.dataTransfer.items.length!==0&&z(!0)},[]),ct=A.useCallback(function(pe){pe.preventDefault(),pe.stopPropagation(),--Xw>0||z(!1)},[]),ot=A.useCallback(function(pe){pe.preventDefault(),pe.stopPropagation()},[]),Ge=A.useCallback(function(pe){pe.preventDefault(),pe.stopPropagation(),z(!1),Xw=0;var me=pe.dataTransfer.files;if(me&&me.length>0){var Be=Ae?me:me[0],$e=ue(Be);_e&&$e&&_e(Be)}},[ue]);return A.useEffect(function(){var pe=ge.current;return pe.addEventListener("click",Ve),pe.addEventListener("dragenter",oe),pe.addEventListener("dragleave",ct),pe.addEventListener("dragover",ot),pe.addEventListener("drop",Ge),function(){pe.removeEventListener("click",Ve),pe.removeEventListener("dragenter",oe),pe.removeEventListener("dragleave",ct),pe.removeEventListener("dragover",ot),pe.removeEventListener("drop",Ge)}},[Ve,oe,ct,ot,Ge,ge]),Le}({labelRef:I,inputRef:R,multiple:E,handleChanges:Fe,onDrop:y});return A.useEffect(function(){w==null||w(Pe)},[Pe]),A.useEffect(function(){u?(j(!0),te(u)):(R.current&&(R.current.value=""),j(!1),te(null))},[u]),g.jsxs(gG,hu({overRide:s,className:"".concat(o||""," ").concat(b?"is-disabled":""),ref:I,htmlFor:e,onClick:function(X){X.preventDefault(),X.stopPropagation()}},{children:[g.jsx("input",{onClick:function(X){X.stopPropagation(),R&&R.current&&(R.current.value="",R.current.click())},onChange:function(X){var ge=X.target.files,Ce=E?ge:ge[0],Ae=Fe(Ce);p&&Ae&&p(Ce)},accept:_G(n),ref:R,type:"file",name:e,disabled:b,multiple:E,required:v},void 0),Pe&&g.jsx(vG,hu({style:N},{children:g.jsx("span",{children:r||"Drop Here"},void 0)}),void 0),!s&&g.jsxs(g.Fragment,{children:[g.jsx(SG,{},void 0),g.jsxs(wG,hu({error:Q},{children:[EG(H,L,Q,b,S),g.jsx(xG,{types:n,minSize:l,maxSize:a},void 0)]}),void 0)]},void 0),s]}),void 0)};const kG=t=>{const e=["sqlite","db"],{setDataSource:r,setError:n,session:i}=t,[o,s]=A.useState(null),a=async l=>{s(l);try{const u=await l.arrayBuffer(),c=new Uint8Array(u),h=await Up(),{sqlite:p,db:y}=jO(h,c,{}),b=hS(y);r({_tag:"sandbox",sqlite:p,db:y,app:b,session:i})}catch(u){n(u)}};return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"drag and drop"}),g.jsx(NG,{multiple:!1,handleChange:a,name:"file",types:e}),g.jsx("p",{children:o?`File name: ${o.name}`:"no files uploaded yet"})]})};function Mm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var U6={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,o){function s(u,c){if(!i[u]){if(!n[u]){var h=typeof Mm=="function"&&Mm;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var y=i[u]={exports:{}};n[u][0].call(y.exports,function(b){var S=n[u][1][b];return s(S||b)},y,y.exports,r,n,i,o)}return i[u].exports}for(var a=typeof Mm=="function"&&Mm,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(r,n,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,u=new s(b),c=o.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var h=new o.MessageChannel;h.port1.onmessage=b,a=function(){h.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var E=o.document.createElement("script");E.onreadystatechange=function(){b(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},o.document.documentElement.appendChild(E)}:a=function(){setTimeout(b,0)};var p,y=[];function b(){p=!0;for(var E,v,w=y.length;w;){for(v=y,y=[],E=-1;++E<w;)v[E]();w=y.length}p=!1}n.exports=S;function S(E){y.push(E)===1&&!p&&a()}}).call(this,typeof rm<"u"?rm:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var o=r(1);function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];n.exports=h;function h(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,R!==s&&S(this,R)}h.prototype.catch=function(R){return this.then(null,R)},h.prototype.then=function(R,k){if(typeof R!="function"&&this.state===u||typeof k!="function"&&this.state===l)return this;var L=new this.constructor(s);if(this.state!==c){var j=this.state===u?R:k;y(L,j,this.outcome)}else this.queue.push(new p(L,R,k));return L};function p(R,k,L){this.promise=R,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(R){a.resolve(this.promise,R)},p.prototype.otherCallFulfilled=function(R){y(this.promise,this.onFulfilled,R)},p.prototype.callRejected=function(R){a.reject(this.promise,R)},p.prototype.otherCallRejected=function(R){y(this.promise,this.onRejected,R)};function y(R,k,L){o(function(){var j;try{j=k(L)}catch(Z){return a.reject(R,Z)}j===R?a.reject(R,new TypeError("Cannot resolve promise with itself")):a.resolve(R,j)})}a.resolve=function(R,k){var L=E(b,k);if(L.status==="error")return a.reject(R,L.value);var j=L.value;if(j)S(R,j);else{R.state=u,R.outcome=k;for(var Z=-1,H=R.queue.length;++Z<H;)R.queue[Z].callFulfilled(k)}return R},a.reject=function(R,k){R.state=l,R.outcome=k;for(var L=-1,j=R.queue.length;++L<j;)R.queue[L].callRejected(k);return R};function b(R){var k=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof k=="function")return function(){k.apply(R,arguments)}}function S(R,k){var L=!1;function j(re){L||(L=!0,a.reject(R,re))}function Z(re){L||(L=!0,a.resolve(R,re))}function H(){k(Z,j)}var te=E(H);te.status==="error"&&j(te.value)}function E(R,k){var L={};try{L.value=R(k),L.status="success"}catch(j){L.status="error",L.value=j}return L}h.resolve=v;function v(R){return R instanceof this?R:a.resolve(new this(s),R)}h.reject=w;function w(R){var k=new this(s);return a.reject(k,R)}h.all=N;function N(R){var k=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=R.length,j=!1;if(!L)return this.resolve([]);for(var Z=new Array(L),H=0,te=-1,re=new this(s);++te<L;)Q(R[te],te);return re;function Q(fe,je){k.resolve(fe).then(Fe,function(Pe){j||(j=!0,a.reject(re,Pe))});function Fe(Pe){Z[je]=Pe,++H===L&&!j&&(j=!0,a.resolve(re,Z))}}}h.race=I;function I(R){var k=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=R.length,j=!1;if(!L)return this.resolve([]);for(var Z=-1,H=new this(s);++Z<L;)te(R[Z]);return H;function te(re){k.resolve(re).then(function(Q){j||(j=!0,a.resolve(H,Q))},function(Q){j||(j=!0,a.reject(H,Q))})}}},{1:1}],3:[function(r,n,i){(function(o){typeof o.Promise!="function"&&(o.Promise=r(2))}).call(this,typeof rm<"u"?rm:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function s(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),M=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||M)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(C,M){C=C||[],M=M||{};try{return new Blob(C,M)}catch(F){if(F.name!=="TypeError")throw F;for(var P=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,q=new P,B=0;B<C.length;B+=1)q.append(C[B]);return q.getBlob(M.type)}}typeof Promise>"u"&&r(3);var h=Promise;function p(C,M){M&&C.then(function(P){M(null,P)},function(P){M(P)})}function y(C,M,P){typeof M=="function"&&C.then(M),typeof P=="function"&&C.catch(P)}function b(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var E="local-forage-detect-blob-support",v=void 0,w={},N=Object.prototype.toString,I="readonly",R="readwrite";function k(C){for(var M=C.length,P=new ArrayBuffer(M),q=new Uint8Array(P),B=0;B<M;B++)q[B]=C.charCodeAt(B);return P}function L(C){return new h(function(M){var P=C.transaction(E,R),q=c([""]);P.objectStore(E).put(q,"key"),P.onabort=function(B){B.preventDefault(),B.stopPropagation(),M(!1)},P.oncomplete=function(){var B=navigator.userAgent.match(/Chrome\/(\d+)/),F=navigator.userAgent.match(/Edge\//);M(F||!B||parseInt(B[1],10)>=43)}}).catch(function(){return!1})}function j(C){return typeof v=="boolean"?h.resolve(v):L(C).then(function(M){return v=M,v})}function Z(C){var M=w[C.name],P={};P.promise=new h(function(q,B){P.resolve=q,P.reject=B}),M.deferredOperations.push(P),M.dbReady?M.dbReady=M.dbReady.then(function(){return P.promise}):M.dbReady=P.promise}function H(C){var M=w[C.name],P=M.deferredOperations.pop();if(P)return P.resolve(),P.promise}function te(C,M){var P=w[C.name],q=P.deferredOperations.pop();if(q)return q.reject(M),q.promise}function re(C,M){return new h(function(P,q){if(w[C.name]=w[C.name]||ue(),C.db)if(M)Z(C),C.db.close();else return P(C.db);var B=[C.name];M&&B.push(C.version);var F=l.open.apply(l,B);M&&(F.onupgradeneeded=function(le){var ye=F.result;try{ye.createObjectStore(C.storeName),le.oldVersion<=1&&ye.createObjectStore(E)}catch(Ee){if(Ee.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+le.oldVersion+" to version "+le.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw Ee}}),F.onerror=function(le){le.preventDefault(),q(F.error)},F.onsuccess=function(){var le=F.result;le.onversionchange=function(ye){ye.target.close()},P(le),H(C)}})}function Q(C){return re(C,!1)}function fe(C){return re(C,!0)}function je(C,M){if(!C.db)return!0;var P=!C.db.objectStoreNames.contains(C.storeName),q=C.version<C.db.version,B=C.version>C.db.version;if(q&&(C.version!==M&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),B||P){if(P){var F=C.db.version+1;F>C.version&&(C.version=F)}return!0}return!1}function Fe(C){return new h(function(M,P){var q=new FileReader;q.onerror=P,q.onloadend=function(B){var F=btoa(B.target.result||"");M({__local_forage_encoded_blob:!0,data:F,type:C.type})},q.readAsBinaryString(C)})}function Pe(C){var M=k(atob(C.data));return c([M],{type:C.type})}function X(C){return C&&C.__local_forage_encoded_blob}function ge(C){var M=this,P=M._initReady().then(function(){var q=w[M._dbInfo.name];if(q&&q.dbReady)return q.dbReady});return y(P,C,C),P}function Ce(C){Z(C);for(var M=w[C.name],P=M.forages,q=0;q<P.length;q++){var B=P[q];B._dbInfo.db&&(B._dbInfo.db.close(),B._dbInfo.db=null)}return C.db=null,Q(C).then(function(F){return C.db=F,je(C)?fe(C):F}).then(function(F){C.db=M.db=F;for(var le=0;le<P.length;le++)P[le]._dbInfo.db=F}).catch(function(F){throw te(C,F),F})}function Ae(C,M,P,q){q===void 0&&(q=1);try{var B=C.db.transaction(C.storeName,M);P(null,B)}catch(F){if(q>0&&(!C.db||F.name==="InvalidStateError"||F.name==="NotFoundError"))return h.resolve().then(function(){if(!C.db||F.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),fe(C)}).then(function(){return Ce(C).then(function(){Ae(C,M,P,q-1)})}).catch(P);P(F)}}function ue(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _e(C){var M=this,P={db:null};if(C)for(var q in C)P[q]=C[q];var B=w[P.name];B||(B=ue(),w[P.name]=B),B.forages.push(M),M._initReady||(M._initReady=M.ready,M.ready=ge);var F=[];function le(){return h.resolve()}for(var ye=0;ye<B.forages.length;ye++){var Ee=B.forages[ye];Ee!==M&&F.push(Ee._initReady().catch(le))}var Ne=B.forages.slice(0);return h.all(F).then(function(){return P.db=B.db,Q(P)}).then(function(Re){return P.db=Re,je(P,M._defaultConfig.version)?fe(P):Re}).then(function(Re){P.db=B.db=Re,M._dbInfo=P;for(var Ue=0;Ue<Ne.length;Ue++){var wt=Ne[Ue];wt!==M&&(wt._dbInfo.db=P.db,wt._dbInfo.version=P.version)}})}function ve(C,M){var P=this;C=b(C);var q=new h(function(B,F){P.ready().then(function(){Ae(P._dbInfo,I,function(le,ye){if(le)return F(le);try{var Ee=ye.objectStore(P._dbInfo.storeName),Ne=Ee.get(C);Ne.onsuccess=function(){var Re=Ne.result;Re===void 0&&(Re=null),X(Re)&&(Re=Pe(Re)),B(Re)},Ne.onerror=function(){F(Ne.error)}}catch(Re){F(Re)}})}).catch(F)});return p(q,M),q}function Le(C,M){var P=this,q=new h(function(B,F){P.ready().then(function(){Ae(P._dbInfo,I,function(le,ye){if(le)return F(le);try{var Ee=ye.objectStore(P._dbInfo.storeName),Ne=Ee.openCursor(),Re=1;Ne.onsuccess=function(){var Ue=Ne.result;if(Ue){var wt=Ue.value;X(wt)&&(wt=Pe(wt));var Bt=C(wt,Ue.key,Re++);Bt!==void 0?B(Bt):Ue.continue()}else B()},Ne.onerror=function(){F(Ne.error)}}catch(Ue){F(Ue)}})}).catch(F)});return p(q,M),q}function z(C,M,P){var q=this;C=b(C);var B=new h(function(F,le){var ye;q.ready().then(function(){return ye=q._dbInfo,N.call(M)==="[object Blob]"?j(ye.db).then(function(Ee){return Ee?M:Fe(M)}):M}).then(function(Ee){Ae(q._dbInfo,R,function(Ne,Re){if(Ne)return le(Ne);try{var Ue=Re.objectStore(q._dbInfo.storeName);Ee===null&&(Ee=void 0);var wt=Ue.put(Ee,C);Re.oncomplete=function(){Ee===void 0&&(Ee=null),F(Ee)},Re.onabort=Re.onerror=function(){var Bt=wt.error?wt.error:wt.transaction.error;le(Bt)}}catch(Bt){le(Bt)}})}).catch(le)});return p(B,P),B}function Ve(C,M){var P=this;C=b(C);var q=new h(function(B,F){P.ready().then(function(){Ae(P._dbInfo,R,function(le,ye){if(le)return F(le);try{var Ee=ye.objectStore(P._dbInfo.storeName),Ne=Ee.delete(C);ye.oncomplete=function(){B()},ye.onerror=function(){F(Ne.error)},ye.onabort=function(){var Re=Ne.error?Ne.error:Ne.transaction.error;F(Re)}}catch(Re){F(Re)}})}).catch(F)});return p(q,M),q}function oe(C){var M=this,P=new h(function(q,B){M.ready().then(function(){Ae(M._dbInfo,R,function(F,le){if(F)return B(F);try{var ye=le.objectStore(M._dbInfo.storeName),Ee=ye.clear();le.oncomplete=function(){q()},le.onabort=le.onerror=function(){var Ne=Ee.error?Ee.error:Ee.transaction.error;B(Ne)}}catch(Ne){B(Ne)}})}).catch(B)});return p(P,C),P}function ct(C){var M=this,P=new h(function(q,B){M.ready().then(function(){Ae(M._dbInfo,I,function(F,le){if(F)return B(F);try{var ye=le.objectStore(M._dbInfo.storeName),Ee=ye.count();Ee.onsuccess=function(){q(Ee.result)},Ee.onerror=function(){B(Ee.error)}}catch(Ne){B(Ne)}})}).catch(B)});return p(P,C),P}function ot(C,M){var P=this,q=new h(function(B,F){if(C<0){B(null);return}P.ready().then(function(){Ae(P._dbInfo,I,function(le,ye){if(le)return F(le);try{var Ee=ye.objectStore(P._dbInfo.storeName),Ne=!1,Re=Ee.openKeyCursor();Re.onsuccess=function(){var Ue=Re.result;if(!Ue){B(null);return}C===0||Ne?B(Ue.key):(Ne=!0,Ue.advance(C))},Re.onerror=function(){F(Re.error)}}catch(Ue){F(Ue)}})}).catch(F)});return p(q,M),q}function Ge(C){var M=this,P=new h(function(q,B){M.ready().then(function(){Ae(M._dbInfo,I,function(F,le){if(F)return B(F);try{var ye=le.objectStore(M._dbInfo.storeName),Ee=ye.openKeyCursor(),Ne=[];Ee.onsuccess=function(){var Re=Ee.result;if(!Re){q(Ne);return}Ne.push(Re.key),Re.continue()},Ee.onerror=function(){B(Ee.error)}}catch(Re){B(Re)}})}).catch(B)});return p(P,C),P}function pe(C,M){M=S.apply(this,arguments);var P=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||P.name,C.storeName=C.storeName||P.storeName);var q=this,B;if(!C.name)B=h.reject("Invalid arguments");else{var F=C.name===P.name&&q._dbInfo.db,le=F?h.resolve(q._dbInfo.db):Q(C).then(function(ye){var Ee=w[C.name],Ne=Ee.forages;Ee.db=ye;for(var Re=0;Re<Ne.length;Re++)Ne[Re]._dbInfo.db=ye;return ye});C.storeName?B=le.then(function(ye){if(ye.objectStoreNames.contains(C.storeName)){var Ee=ye.version+1;Z(C);var Ne=w[C.name],Re=Ne.forages;ye.close();for(var Ue=0;Ue<Re.length;Ue++){var wt=Re[Ue];wt._dbInfo.db=null,wt._dbInfo.version=Ee}var Bt=new h(function(Ft,mr){var yr=l.open(C.name,Ee);yr.onerror=function(On){var vs=yr.result;vs.close(),mr(On)},yr.onupgradeneeded=function(){var On=yr.result;On.deleteObjectStore(C.storeName)},yr.onsuccess=function(){var On=yr.result;On.close(),Ft(On)}});return Bt.then(function(Ft){Ne.db=Ft;for(var mr=0;mr<Re.length;mr++){var yr=Re[mr];yr._dbInfo.db=Ft,H(yr._dbInfo)}}).catch(function(Ft){throw(te(C,Ft)||h.resolve()).catch(function(){}),Ft})}}):B=le.then(function(ye){Z(C);var Ee=w[C.name],Ne=Ee.forages;ye.close();for(var Re=0;Re<Ne.length;Re++){var Ue=Ne[Re];Ue._dbInfo.db=null}var wt=new h(function(Bt,Ft){var mr=l.deleteDatabase(C.name);mr.onerror=function(){var yr=mr.result;yr&&yr.close(),Ft(mr.error)},mr.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},mr.onsuccess=function(){var yr=mr.result;yr&&yr.close(),Bt(yr)}});return wt.then(function(Bt){Ee.db=Bt;for(var Ft=0;Ft<Ne.length;Ft++){var mr=Ne[Ft];H(mr._dbInfo)}}).catch(function(Bt){throw(te(C,Bt)||h.resolve()).catch(function(){}),Bt})})}return p(B,M),B}var me={_driver:"asyncStorage",_initStorage:_e,_support:u(),iterate:Le,getItem:ve,setItem:z,removeItem:Ve,clear:oe,length:ct,key:ot,keys:Ge,dropInstance:pe};function Be(){return typeof openDatabase=="function"}var $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt="~~local_forage_type~",it=/^~~local_forage_type~([^~]+)~/,$="__lfsc__:",W=$.length,G="arbf",Te="blob",xe="si08",he="ui08",ne="uic8",De="si16",Rt="si32",Mt="ur16",er="ui32",Gr="fl32",Tn="fl64",Di=W+G.length,Wo=Object.prototype.toString;function qo(C){var M=C.length*.75,P=C.length,q,B=0,F,le,ye,Ee;C[C.length-1]==="="&&(M--,C[C.length-2]==="="&&M--);var Ne=new ArrayBuffer(M),Re=new Uint8Array(Ne);for(q=0;q<P;q+=4)F=$e.indexOf(C[q]),le=$e.indexOf(C[q+1]),ye=$e.indexOf(C[q+2]),Ee=$e.indexOf(C[q+3]),Re[B++]=F<<2|le>>4,Re[B++]=(le&15)<<4|ye>>2,Re[B++]=(ye&3)<<6|Ee&63;return Ne}function Uo(C){var M=new Uint8Array(C),P="",q;for(q=0;q<M.length;q+=3)P+=$e[M[q]>>2],P+=$e[(M[q]&3)<<4|M[q+1]>>4],P+=$e[(M[q+1]&15)<<2|M[q+2]>>6],P+=$e[M[q+2]&63];return M.length%3===2?P=P.substring(0,P.length-1)+"=":M.length%3===1&&(P=P.substring(0,P.length-2)+"=="),P}function ro(C,M){var P="";if(C&&(P=Wo.call(C)),C&&(P==="[object ArrayBuffer]"||C.buffer&&Wo.call(C.buffer)==="[object ArrayBuffer]")){var q,B=$;C instanceof ArrayBuffer?(q=C,B+=G):(q=C.buffer,P==="[object Int8Array]"?B+=xe:P==="[object Uint8Array]"?B+=he:P==="[object Uint8ClampedArray]"?B+=ne:P==="[object Int16Array]"?B+=De:P==="[object Uint16Array]"?B+=Mt:P==="[object Int32Array]"?B+=Rt:P==="[object Uint32Array]"?B+=er:P==="[object Float32Array]"?B+=Gr:P==="[object Float64Array]"?B+=Tn:M(new Error("Failed to get type for BinaryArray"))),M(B+Uo(q))}else if(P==="[object Blob]"){var F=new FileReader;F.onload=function(){var le=pt+C.type+"~"+Uo(this.result);M($+Te+le)},F.readAsArrayBuffer(C)}else try{M(JSON.stringify(C))}catch(le){console.error("Couldn't convert value into a JSON string: ",C),M(null,le)}}function Wu(C){if(C.substring(0,W)!==$)return JSON.parse(C);var M=C.substring(Di),P=C.substring(W,Di),q;if(P===Te&&it.test(M)){var B=M.match(it);q=B[1],M=M.substring(B[0].length)}var F=qo(M);switch(P){case G:return F;case Te:return c([F],{type:q});case xe:return new Int8Array(F);case he:return new Uint8Array(F);case ne:return new Uint8ClampedArray(F);case De:return new Int16Array(F);case Mt:return new Uint16Array(F);case Rt:return new Int32Array(F);case er:return new Uint32Array(F);case Gr:return new Float32Array(F);case Tn:return new Float64Array(F);default:throw new Error("Unkown type: "+P)}}var zo={serialize:ro,deserialize:Wu,stringToBuffer:qo,bufferToString:Uo};function gt(C,M,P,q){C.executeSql("CREATE TABLE IF NOT EXISTS "+M.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],P,q)}function bl(C){var M=this,P={db:null};if(C)for(var q in C)P[q]=typeof C[q]!="string"?C[q].toString():C[q];var B=new h(function(F,le){try{P.db=openDatabase(P.name,String(P.version),P.description,P.size)}catch(ye){return le(ye)}P.db.transaction(function(ye){gt(ye,P,function(){M._dbInfo=P,F()},function(Ee,Ne){le(Ne)})},le)});return P.serializer=zo,B}function ti(C,M,P,q,B,F){C.executeSql(P,q,B,function(le,ye){ye.code===ye.SYNTAX_ERR?le.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[M.storeName],function(Ee,Ne){Ne.rows.length?F(Ee,ye):gt(Ee,M,function(){Ee.executeSql(P,q,B,F)},F)},F):F(le,ye)},F)}function _l(C,M){var P=this;C=b(C);var q=new h(function(B,F){P.ready().then(function(){var le=P._dbInfo;le.db.transaction(function(ye){ti(ye,le,"SELECT * FROM "+le.storeName+" WHERE key = ? LIMIT 1",[C],function(Ee,Ne){var Re=Ne.rows.length?Ne.rows.item(0).value:null;Re&&(Re=le.serializer.deserialize(Re)),B(Re)},function(Ee,Ne){F(Ne)})})}).catch(F)});return p(q,M),q}function gs(C,M){var P=this,q=new h(function(B,F){P.ready().then(function(){var le=P._dbInfo;le.db.transaction(function(ye){ti(ye,le,"SELECT * FROM "+le.storeName,[],function(Ee,Ne){for(var Re=Ne.rows,Ue=Re.length,wt=0;wt<Ue;wt++){var Bt=Re.item(wt),Ft=Bt.value;if(Ft&&(Ft=le.serializer.deserialize(Ft)),Ft=C(Ft,Bt.key,wt+1),Ft!==void 0){B(Ft);return}}B()},function(Ee,Ne){F(Ne)})})}).catch(F)});return p(q,M),q}function U(C,M,P,q){var B=this;C=b(C);var F=new h(function(le,ye){B.ready().then(function(){M===void 0&&(M=null);var Ee=M,Ne=B._dbInfo;Ne.serializer.serialize(M,function(Re,Ue){Ue?ye(Ue):Ne.db.transaction(function(wt){ti(wt,Ne,"INSERT OR REPLACE INTO "+Ne.storeName+" (key, value) VALUES (?, ?)",[C,Re],function(){le(Ee)},function(Bt,Ft){ye(Ft)})},function(wt){if(wt.code===wt.QUOTA_ERR){if(q>0){le(U.apply(B,[C,Ee,P,q-1]));return}ye(wt)}})})}).catch(ye)});return p(F,P),F}function Y(C,M,P){return U.apply(this,[C,M,P,1])}function ae(C,M){var P=this;C=b(C);var q=new h(function(B,F){P.ready().then(function(){var le=P._dbInfo;le.db.transaction(function(ye){ti(ye,le,"DELETE FROM "+le.storeName+" WHERE key = ?",[C],function(){B()},function(Ee,Ne){F(Ne)})})}).catch(F)});return p(q,M),q}function V(C){var M=this,P=new h(function(q,B){M.ready().then(function(){var F=M._dbInfo;F.db.transaction(function(le){ti(le,F,"DELETE FROM "+F.storeName,[],function(){q()},function(ye,Ee){B(Ee)})})}).catch(B)});return p(P,C),P}function We(C){var M=this,P=new h(function(q,B){M.ready().then(function(){var F=M._dbInfo;F.db.transaction(function(le){ti(le,F,"SELECT COUNT(key) as c FROM "+F.storeName,[],function(ye,Ee){var Ne=Ee.rows.item(0).c;q(Ne)},function(ye,Ee){B(Ee)})})}).catch(B)});return p(P,C),P}function Ze(C,M){var P=this,q=new h(function(B,F){P.ready().then(function(){var le=P._dbInfo;le.db.transaction(function(ye){ti(ye,le,"SELECT key FROM "+le.storeName+" WHERE id = ? LIMIT 1",[C+1],function(Ee,Ne){var Re=Ne.rows.length?Ne.rows.item(0).key:null;B(Re)},function(Ee,Ne){F(Ne)})})}).catch(F)});return p(q,M),q}function et(C){var M=this,P=new h(function(q,B){M.ready().then(function(){var F=M._dbInfo;F.db.transaction(function(le){ti(le,F,"SELECT key FROM "+F.storeName,[],function(ye,Ee){for(var Ne=[],Re=0;Re<Ee.rows.length;Re++)Ne.push(Ee.rows.item(Re).key);q(Ne)},function(ye,Ee){B(Ee)})})}).catch(B)});return p(P,C),P}function Xe(C){return new h(function(M,P){C.transaction(function(q){q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(B,F){for(var le=[],ye=0;ye<F.rows.length;ye++)le.push(F.rows.item(ye).name);M({db:C,storeNames:le})},function(B,F){P(F)})},function(q){P(q)})})}function Je(C,M){M=S.apply(this,arguments);var P=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||P.name,C.storeName=C.storeName||P.storeName);var q=this,B;return C.name?B=new h(function(F){var le;C.name===P.name?le=q._dbInfo.db:le=openDatabase(C.name,"","",0),C.storeName?F({db:le,storeNames:[C.storeName]}):F(Xe(le))}).then(function(F){return new h(function(le,ye){F.db.transaction(function(Ee){function Ne(Bt){return new h(function(Ft,mr){Ee.executeSql("DROP TABLE IF EXISTS "+Bt,[],function(){Ft()},function(yr,On){mr(On)})})}for(var Re=[],Ue=0,wt=F.storeNames.length;Ue<wt;Ue++)Re.push(Ne(F.storeNames[Ue]));h.all(Re).then(function(){le()}).catch(function(Bt){ye(Bt)})},function(Ee){ye(Ee)})})}):B=h.reject("Invalid arguments"),p(B,M),B}var ft={_driver:"webSQLStorage",_initStorage:bl,_support:Be(),iterate:gs,getItem:_l,setItem:Y,removeItem:ae,clear:V,length:We,key:Ze,keys:et,dropInstance:Je};function _r(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ke(C,M){var P=C.name+"/";return C.storeName!==M.storeName&&(P+=C.storeName+"/"),P}function Ut(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function or(){return!Ut()||localStorage.length>0}function cn(C){var M=this,P={};if(C)for(var q in C)P[q]=C[q];return P.keyPrefix=Ke(C,M._defaultConfig),or()?(M._dbInfo=P,P.serializer=zo,h.resolve()):h.reject()}function xr(C){var M=this,P=M.ready().then(function(){for(var q=M._dbInfo.keyPrefix,B=localStorage.length-1;B>=0;B--){var F=localStorage.key(B);F.indexOf(q)===0&&localStorage.removeItem(F)}});return p(P,C),P}function Vo(C,M){var P=this;C=b(C);var q=P.ready().then(function(){var B=P._dbInfo,F=localStorage.getItem(B.keyPrefix+C);return F&&(F=B.serializer.deserialize(F)),F});return p(q,M),q}function Mr(C,M){var P=this,q=P.ready().then(function(){for(var B=P._dbInfo,F=B.keyPrefix,le=F.length,ye=localStorage.length,Ee=1,Ne=0;Ne<ye;Ne++){var Re=localStorage.key(Ne);if(Re.indexOf(F)===0){var Ue=localStorage.getItem(Re);if(Ue&&(Ue=B.serializer.deserialize(Ue)),Ue=C(Ue,Re.substring(le),Ee++),Ue!==void 0)return Ue}}});return p(q,M),q}function no(C,M){var P=this,q=P.ready().then(function(){var B=P._dbInfo,F;try{F=localStorage.key(C)}catch{F=null}return F&&(F=F.substring(B.keyPrefix.length)),F});return p(q,M),q}function Mi(C){var M=this,P=M.ready().then(function(){for(var q=M._dbInfo,B=localStorage.length,F=[],le=0;le<B;le++){var ye=localStorage.key(le);ye.indexOf(q.keyPrefix)===0&&F.push(ye.substring(q.keyPrefix.length))}return F});return p(P,C),P}function di(C){var M=this,P=M.keys().then(function(q){return q.length});return p(P,C),P}function la(C,M){var P=this;C=b(C);var q=P.ready().then(function(){var B=P._dbInfo;localStorage.removeItem(B.keyPrefix+C)});return p(q,M),q}function Bi(C,M,P){var q=this;C=b(C);var B=q.ready().then(function(){M===void 0&&(M=null);var F=M;return new h(function(le,ye){var Ee=q._dbInfo;Ee.serializer.serialize(M,function(Ne,Re){if(Re)ye(Re);else try{localStorage.setItem(Ee.keyPrefix+C,Ne),le(F)}catch(Ue){(Ue.name==="QuotaExceededError"||Ue.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ye(Ue),ye(Ue)}})})});return p(B,P),B}function Rn(C,M){if(M=S.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var P=this.config();C.name=C.name||P.name,C.storeName=C.storeName||P.storeName}var q=this,B;return C.name?B=new h(function(F){C.storeName?F(Ke(C,q._defaultConfig)):F(C.name+"/")}).then(function(F){for(var le=localStorage.length-1;le>=0;le--){var ye=localStorage.key(le);ye.indexOf(F)===0&&localStorage.removeItem(ye)}}):B=h.reject("Invalid arguments"),p(B,M),B}var fi={_driver:"localStorageWrapper",_initStorage:cn,_support:_r(),iterate:Mr,getItem:Vo,setItem:Bi,removeItem:la,clear:xr,length:di,key:no,keys:Mi,dropInstance:Rn},Ho=function(M,P){return M===P||typeof M=="number"&&typeof P=="number"&&isNaN(M)&&isNaN(P)},Ct=function(M,P){for(var q=M.length,B=0;B<q;){if(Ho(M[B],P))return!0;B++}return!1},It=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},Sr={},hi={},io={INDEXEDDB:me,WEBSQL:ft,LOCALSTORAGE:fi},qu=[io.INDEXEDDB._driver,io.WEBSQL._driver,io.LOCALSTORAGE._driver],xl=["dropInstance"],Qo=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(xl),Vd={description:"",driver:qu.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Jp(C,M){C[M]=function(){var P=arguments;return C.ready().then(function(){return C[M].apply(C,P)})}}function Uu(){for(var C=1;C<arguments.length;C++){var M=arguments[C];if(M)for(var P in M)M.hasOwnProperty(P)&&(It(M[P])?arguments[0][P]=M[P].slice():arguments[0][P]=M[P])}return arguments[0]}var Yp=function(){function C(M){s(this,C);for(var P in io)if(io.hasOwnProperty(P)){var q=io[P],B=q._driver;this[P]=B,Sr[B]||this.defineDriver(q)}this._defaultConfig=Uu({},Vd),this._config=Uu({},this._defaultConfig,M),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(P){if((typeof P>"u"?"undefined":o(P))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in P){if(q==="storeName"&&(P[q]=P[q].replace(/\W/g,"_")),q==="version"&&typeof P[q]!="number")return new Error("Database version must be a number.");this._config[q]=P[q]}return"driver"in P&&P.driver?this.setDriver(this._config.driver):!0}else return typeof P=="string"?this._config[P]:this._config},C.prototype.defineDriver=function(P,q,B){var F=new h(function(le,ye){try{var Ee=P._driver,Ne=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!P._driver){ye(Ne);return}for(var Re=Qo.concat("_initStorage"),Ue=0,wt=Re.length;Ue<wt;Ue++){var Bt=Re[Ue],Ft=!Ct(xl,Bt);if((Ft||P[Bt])&&typeof P[Bt]!="function"){ye(Ne);return}}var mr=function(){for(var vs=function(Qd){return function(){var oo=new Error("Method "+Qd+" is not implemented by the current driver"),ws=h.reject(oo);return p(ws,arguments[arguments.length-1]),ws}},Hd=0,zu=xl.length;Hd<zu;Hd++){var ua=xl[Hd];P[ua]||(P[ua]=vs(ua))}};mr();var yr=function(vs){Sr[Ee]&&console.info("Redefining LocalForage driver: "+Ee),Sr[Ee]=P,hi[Ee]=vs,le()};"_support"in P?P._support&&typeof P._support=="function"?P._support().then(yr,ye):yr(!!P._support):yr(!0)}catch(On){ye(On)}});return y(F,q,B),F},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(P,q,B){var F=Sr[P]?h.resolve(Sr[P]):h.reject(new Error("Driver not found."));return y(F,q,B),F},C.prototype.getSerializer=function(P){var q=h.resolve(zo);return y(q,P),q},C.prototype.ready=function(P){var q=this,B=q._driverSet.then(function(){return q._ready===null&&(q._ready=q._initDriver()),q._ready});return y(B,P,P),B},C.prototype.setDriver=function(P,q,B){var F=this;It(P)||(P=[P]);var le=this._getSupportedDrivers(P);function ye(){F._config.driver=F.driver()}function Ee(Ue){return F._extend(Ue),ye(),F._ready=F._initStorage(F._config),F._ready}function Ne(Ue){return function(){var wt=0;function Bt(){for(;wt<Ue.length;){var Ft=Ue[wt];return wt++,F._dbInfo=null,F._ready=null,F.getDriver(Ft).then(Ee).catch(Bt)}ye();var mr=new Error("No available storage method found.");return F._driverSet=h.reject(mr),F._driverSet}return Bt()}}var Re=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Re.then(function(){var Ue=le[0];return F._dbInfo=null,F._ready=null,F.getDriver(Ue).then(function(wt){F._driver=wt._driver,ye(),F._wrapLibraryMethodsWithReady(),F._initDriver=Ne(le)})}).catch(function(){ye();var Ue=new Error("No available storage method found.");return F._driverSet=h.reject(Ue),F._driverSet}),y(this._driverSet,q,B),this._driverSet},C.prototype.supports=function(P){return!!hi[P]},C.prototype._extend=function(P){Uu(this,P)},C.prototype._getSupportedDrivers=function(P){for(var q=[],B=0,F=P.length;B<F;B++){var le=P[B];this.supports(le)&&q.push(le)}return q},C.prototype._wrapLibraryMethodsWithReady=function(){for(var P=0,q=Qo.length;P<q;P++)Jp(this,Qo[P])},C.prototype.createInstance=function(P){return new C(P)},C}(),j0=new Yp;n.exports=j0},{3:3}]},{},[4])(4)})})(U6);var CG=U6.exports;const SS=yp(CG),ES="book.db",TG=async t=>{const e=t.export();await SS.setItem(ES,e)},RG=async()=>{const t=await SS.getItem(ES);if(t===null)throw new Error("file not found");return z6(t)},OG=async()=>{await SS.removeItem(ES)},AG=async()=>{const t=await Up();return new t.Database},z6=async t=>{const e=await Up();return new e.Database(new Uint8Array(t))},NS={load:RG,save:TG,del:OG,empty:AG,initial:z6},IG=async t=>{const e=await MO.download(t.user.id),r=rS(e,{});return await NS.save(e),{db:r,sqlite:e}},PG=async t=>{const e=await NS.load();return{db:rS(e,{}),sqlite:e}},Ik=t=>{const{setDataSource:e,setError:r,session:n}=t,[i,o]=A.useState(!1),s=async()=>{try{o(!0);const{db:a,sqlite:l}=await t.load(n);e({_tag:"supabase",sqlite:l,db:a,app:hS(a),session:n})}catch(a){r(a)}finally{o(!1)}};return g.jsx(Lr,{onClick:s,loading:i,children:t.children})},$G=t=>{const e=async()=>{await NS.del()};return g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:"supabase"}),g.jsxs(Lr.Group,{children:[g.jsx(Ik,{...t,load:IG,children:"remote"}),g.jsx(Ik,{...t,load:PG,children:"browser"}),g.jsx(Lr,{type:"button",onClick:e,color:"red",children:"delete"})]})]})},jG=t=>{const{session:e}=t,[r,n]=A.useState(null),[i,o]=A.useState(null);if(i)return console.error(i),g.jsxs(Ri,{children:[g.jsx("h1",{children:"yuuka"}),g.jsxs("p",{children:["error: ",i.name]}),g.jsx("p",{children:i.message}),g.jsx("p",{children:i.stack})]});if(r===null){const s={setDataSource:n,setError:o,session:e};return g.jsxs(Ri,{children:[g.jsx("h1",{children:"project: yuuka"}),g.jsx(Fv,{src:"/yuuka/yuuka-plain.jpg",alt:"yuuka"}),g.jsx($G,{...s}),g.jsx(hQ,{...s}),g.jsx(kG,{...s}),g.jsx(pQ,{...s}),g.jsx("hr",{}),g.jsx(PO,{}),g.jsx("hr",{}),g.jsx("footer",{children:g.jsx("p",{children:g.jsx("a",{href:"https://github.com/if1live/yuuka",children:"github"})})})]})}return r._tag==="api"?g.jsx(ku.Provider,{value:r,children:g.jsx(oN,{value:{fetcher:yz()},children:t.children})}):g.jsx(ku.Provider,{value:r,children:g.jsx(oN,{value:{fetcher:gz(r.app)},children:t.children})})},LG=t=>{const e=`${Ax}/list`,{data:r,error:n,isLoading:i}=Ld(e),o=r;if(n)return g.jsx("div",{children:"failed to load masterdata"});if(i)return g.jsx("div",{children:"loading..."});const s={accountGroups:o.accountGroups,accounts:o.accounts};return g.jsx(jp.Provider,{value:s,children:t.children})},DG=()=>{const[t,e]=A.useState(null);return A.useEffect(()=>{fu.auth.getSession().then(({data:{session:n}})=>{e(n)});const{data:{subscription:r}}=fu.auth.onAuthStateChange((n,i)=>{e(i)});return()=>r.unsubscribe()},[]),t?g.jsx(jG,{session:t,children:g.jsx(LG,{children:g.jsx(fQ,{})})}):g.jsxs(Ri,{children:[g.jsx("h1",{children:"project: yuuka"}),g.jsx(Fv,{src:"/yuuka/yuuka-plain.jpg"}),g.jsx(Pd,{supabaseClient:fu,appearance:{theme:l8},providers:[]})]})},MG=()=>g.jsx(lT,{children:g.jsx(DG,{})});e1.createRoot(document.getElementById("root")).render(g.jsx(MG,{}));export{yp as g};
