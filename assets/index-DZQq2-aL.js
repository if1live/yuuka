var E6=Object.defineProperty;var C6=(e,t,r)=>t in e?E6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var be=(e,t,r)=>(C6(e,typeof t!="symbol"?t+"":t,r),r),K1=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var d=(e,t,r)=>(K1(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},te=(e,t,r,n)=>(K1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var pt=(e,t,r)=>(K1(e,t,"access private method"),r);function qT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Vo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var UT={exports:{}},S0={},VT={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp=Symbol.for("react.element"),O6=Symbol.for("react.portal"),R6=Symbol.for("react.fragment"),P6=Symbol.for("react.strict_mode"),A6=Symbol.for("react.profiler"),I6=Symbol.for("react.provider"),$6=Symbol.for("react.context"),L6=Symbol.for("react.forward_ref"),D6=Symbol.for("react.suspense"),j6=Symbol.for("react.memo"),M6=Symbol.for("react.lazy"),cS=Symbol.iterator;function F6(e){return e===null||typeof e!="object"?null:(e=cS&&e[cS]||e["@@iterator"],typeof e=="function"?e:null)}var HT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GT=Object.assign,QT={};function zd(e,t,r){this.props=e,this.context=t,this.refs=QT,this.updater=r||HT}zd.prototype.isReactComponent={};zd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JT(){}JT.prototype=zd.prototype;function px(e,t,r){this.props=e,this.context=t,this.refs=QT,this.updater=r||HT}var mx=px.prototype=new JT;mx.constructor=px;GT(mx,zd.prototype);mx.isPureReactComponent=!0;var dS=Array.isArray,KT=Object.prototype.hasOwnProperty,gx={current:null},ZT={key:!0,ref:!0,__self:!0,__source:!0};function YT(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)KT.call(t,n)&&!ZT.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:zp,type:e,key:s,ref:o,props:i,_owner:gx.current}}function B6(e,t){return{$$typeof:zp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yx(e){return typeof e=="object"&&e!==null&&e.$$typeof===zp}function W6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hS=/\/+/g;function Z1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?W6(""+e.key):t.toString(36)}function Vg(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zp:case O6:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Z1(o,0):n,dS(i)?(r="",e!=null&&(r=e.replace(hS,"$&/")+"/"),Vg(i,t,r,"",function(u){return u})):i!=null&&(yx(i)&&(i=B6(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hS,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",dS(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+Z1(s,a);o+=Vg(s,t,r,l,i)}else if(l=F6(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+Z1(s,a++),o+=Vg(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cg(e,t,r){if(e==null)return e;var n=[],i=0;return Vg(e,n,"","",function(s){return t.call(r,s,i++)}),n}function z6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wn={current:null},Hg={transition:null},q6={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:Hg,ReactCurrentOwner:gx};_t.Children={map:cg,forEach:function(e,t,r){cg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cg(e,function(){t++}),t},toArray:function(e){return cg(e,function(t){return t})||[]},only:function(e){if(!yx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=zd;_t.Fragment=R6;_t.Profiler=A6;_t.PureComponent=px;_t.StrictMode=P6;_t.Suspense=D6;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q6;_t.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=GT({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=gx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)KT.call(t,l)&&!ZT.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:zp,type:e.type,key:i,ref:s,props:n,_owner:o}};_t.createContext=function(e){return e={$$typeof:$6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I6,_context:e},e.Consumer=e};_t.createElement=YT;_t.createFactory=function(e){var t=YT.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:L6,render:e}};_t.isValidElement=yx;_t.lazy=function(e){return{$$typeof:M6,_payload:{_status:-1,_result:e},_init:z6}};_t.memo=function(e,t){return{$$typeof:j6,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=Hg.transition;Hg.transition={};try{e()}finally{Hg.transition=t}};_t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_t.useCallback=function(e,t){return Wn.current.useCallback(e,t)};_t.useContext=function(e){return Wn.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return Wn.current.useDeferredValue(e)};_t.useEffect=function(e,t){return Wn.current.useEffect(e,t)};_t.useId=function(){return Wn.current.useId()};_t.useImperativeHandle=function(e,t,r){return Wn.current.useImperativeHandle(e,t,r)};_t.useInsertionEffect=function(e,t){return Wn.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return Wn.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return Wn.current.useMemo(e,t)};_t.useReducer=function(e,t,r){return Wn.current.useReducer(e,t,r)};_t.useRef=function(e){return Wn.current.useRef(e)};_t.useState=function(e){return Wn.current.useState(e)};_t.useSyncExternalStore=function(e,t,r){return Wn.current.useSyncExternalStore(e,t,r)};_t.useTransition=function(){return Wn.current.useTransition()};_t.version="18.2.0";VT.exports=_t;var k=VT.exports;const I=Vo(k),U6=qT({__proto__:null,default:I},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V6=k,H6=Symbol.for("react.element"),G6=Symbol.for("react.fragment"),Q6=Object.prototype.hasOwnProperty,J6=V6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K6={key:!0,ref:!0,__self:!0,__source:!0};function XT(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Q6.call(t,n)&&!K6.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:H6,type:e,key:s,ref:o,props:i,_owner:J6.current}}S0.Fragment=G6;S0.jsx=XT;S0.jsxs=XT;UT.exports=S0;var S=UT.exports,ub={},e3={exports:{}},bi={},t3={exports:{}},r3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,de){var pe=H.length;H.push(de);e:for(;0<pe;){var ke=pe-1>>>1,K=H[ke];if(0<i(K,de))H[ke]=de,H[pe]=K,pe=ke;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var de=H[0],pe=H.pop();if(pe!==de){H[0]=pe;e:for(var ke=0,K=H.length,fe=K>>>1;ke<fe;){var le=2*(ke+1)-1,Ce=H[le],j=le+1,Ee=H[j];if(0>i(Ce,pe))j<K&&0>i(Ee,Ce)?(H[ke]=Ee,H[j]=pe,ke=j):(H[ke]=Ce,H[le]=pe,ke=le);else if(j<K&&0>i(Ee,pe))H[ke]=Ee,H[j]=pe,ke=j;else break e}}return de}function i(H,de){var pe=H.sortIndex-de.sortIndex;return pe!==0?pe:H.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,w=!1,b=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var de=r(u);de!==null;){if(de.callback===null)n(u);else if(de.startTime<=H)n(u),de.sortIndex=de.expirationTime,t(l,de);else break;de=r(u)}}function O(H){if(x=!1,N(H),!b)if(r(l)!==null)b=!0,Se(R);else{var de=r(u);de!==null&&_e(O,de.startTime-H)}}function R(H,de){b=!1,x&&(x=!1,g(L),L=-1),w=!0;var pe=p;try{for(N(de),f=r(l);f!==null&&(!(f.expirationTime>de)||H&&!J());){var ke=f.callback;if(typeof ke=="function"){f.callback=null,p=f.priorityLevel;var K=ke(f.expirationTime<=de);de=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(l)&&n(l),N(de)}else n(l);f=r(l)}if(f!==null)var fe=!0;else{var le=r(u);le!==null&&_e(O,le.startTime-de),fe=!1}return fe}finally{f=null,p=pe,w=!1}}var C=!1,$=null,L=-1,G=5,F=-1;function J(){return!(e.unstable_now()-F<G)}function ee(){if($!==null){var H=e.unstable_now();F=H;var de=!0;try{de=$(!0,H)}finally{de?q():(C=!1,$=null)}}else C=!1}var q;if(typeof v=="function")q=function(){v(ee)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ve=ie.port2;ie.port1.onmessage=ee,q=function(){ve.postMessage(null)}}else q=function(){E(ee,0)};function Se(H){$=H,C||(C=!0,q())}function _e(H,de){L=E(function(){H(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,Se(R))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var de=3;break;default:de=p}var pe=p;p=de;try{return H()}finally{p=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,de){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pe=p;p=H;try{return de()}finally{p=pe}},e.unstable_scheduleCallback=function(H,de,pe){var ke=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ke+pe:ke):pe=ke,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=pe+K,H={id:c++,callback:de,priorityLevel:H,startTime:pe,expirationTime:K,sortIndex:-1},pe>ke?(H.sortIndex=pe,t(u,H),r(l)===null&&H===r(u)&&(x?(g(L),L=-1):x=!0,_e(O,pe-ke))):(H.sortIndex=K,t(l,H),b||w||(b=!0,Se(R))),H},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(H){var de=p;return function(){var pe=p;p=de;try{return H.apply(this,arguments)}finally{p=pe}}}})(r3);t3.exports=r3;var Z6=t3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3=k,yi=Z6;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i3=new Set,kf={};function Fu(e,t){_d(e,t),_d(e+"Capture",t)}function _d(e,t){for(kf[e]=t,e=0;e<t.length;e++)i3.add(t[e])}var Io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cb=Object.prototype.hasOwnProperty,Y6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fS={},pS={};function X6(e){return cb.call(pS,e)?!0:cb.call(fS,e)?!1:Y6.test(e)?pS[e]=!0:(fS[e]=!0,!1)}function e$(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function t$(e,t,r,n){if(t===null||typeof t>"u"||e$(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zn(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mn[e]=new zn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mn[t]=new zn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mn[e]=new zn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mn[e]=new zn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mn[e]=new zn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mn[e]=new zn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mn[e]=new zn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mn[e]=new zn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mn[e]=new zn(e,5,!1,e.toLowerCase(),null,!1,!1)});var vx=/[\-:]([a-z])/g;function wx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vx,wx);mn[t]=new zn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vx,wx);mn[t]=new zn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vx,wx);mn[t]=new zn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mn[e]=new zn(e,1,!1,e.toLowerCase(),null,!1,!1)});mn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mn[e]=new zn(e,1,!1,e.toLowerCase(),null,!0,!0)});function bx(e,t,r,n){var i=mn.hasOwnProperty(t)?mn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t$(t,r,i,n)&&(r=null),n||i===null?X6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ho=n3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dg=Symbol.for("react.element"),wc=Symbol.for("react.portal"),bc=Symbol.for("react.fragment"),_x=Symbol.for("react.strict_mode"),db=Symbol.for("react.profiler"),s3=Symbol.for("react.provider"),o3=Symbol.for("react.context"),xx=Symbol.for("react.forward_ref"),hb=Symbol.for("react.suspense"),fb=Symbol.for("react.suspense_list"),Nx=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),a3=Symbol.for("react.offscreen"),mS=Symbol.iterator;function vh(e){return e===null||typeof e!="object"?null:(e=mS&&e[mS]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,Y1;function Fh(e){if(Y1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Y1=t&&t[1]||""}return`
`+Y1+e}var X1=!1;function ew(e,t){if(!e||X1)return"";X1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{X1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fh(e):""}function r$(e){switch(e.tag){case 5:return Fh(e.type);case 16:return Fh("Lazy");case 13:return Fh("Suspense");case 19:return Fh("SuspenseList");case 0:case 2:case 15:return e=ew(e.type,!1),e;case 11:return e=ew(e.type.render,!1),e;case 1:return e=ew(e.type,!0),e;default:return""}}function pb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bc:return"Fragment";case wc:return"Portal";case db:return"Profiler";case _x:return"StrictMode";case hb:return"Suspense";case fb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case o3:return(e.displayName||"Context")+".Consumer";case s3:return(e._context.displayName||"Context")+".Provider";case xx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nx:return t=e.displayName||null,t!==null?t:pb(e.type)||"Memo";case ua:t=e._payload,e=e._init;try{return pb(e(t))}catch{}}return null}function n$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pb(t);case 8:return t===_x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ya(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function i$(e){var t=l3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hg(e){e._valueTracker||(e._valueTracker=i$(e))}function u3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=l3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function by(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mb(e,t){var r=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ya(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c3(e,t){t=t.checked,t!=null&&bx(e,"checked",t,!1)}function gb(e,t){c3(e,t);var r=Ya(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yb(e,t.type,r):t.hasOwnProperty("defaultValue")&&yb(e,t.type,Ya(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yb(e,t,r){(t!=="number"||by(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bh=Array.isArray;function zc(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ya(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(Bh(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ya(r)}}function d3(e,t){var r=Ya(t.value),n=Ya(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function wS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function h3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?h3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fg,f3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fg=fg||document.createElement("div"),fg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ef(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s$=["Webkit","ms","Moz","O"];Object.keys(Hh).forEach(function(e){s$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hh[t]=Hh[e]})});function p3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hh.hasOwnProperty(e)&&Hh[e]?(""+t).trim():t+"px"}function m3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=p3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var o$=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bb(e,t){if(t){if(o$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function _b(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xb=null;function Sx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nb=null,qc=null,Uc=null;function bS(e){if(e=Vp(e)){if(typeof Nb!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=O0(t),Nb(e.stateNode,e.type,t))}}function g3(e){qc?Uc?Uc.push(e):Uc=[e]:qc=e}function y3(){if(qc){var e=qc,t=Uc;if(Uc=qc=null,bS(e),t)for(e=0;e<t.length;e++)bS(t[e])}}function v3(e,t){return e(t)}function w3(){}var tw=!1;function b3(e,t,r){if(tw)return e(t,r);tw=!0;try{return v3(e,t,r)}finally{tw=!1,(qc!==null||Uc!==null)&&(w3(),y3())}}function Cf(e,t){var r=e.stateNode;if(r===null)return null;var n=O0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var Sb=!1;if(Io)try{var wh={};Object.defineProperty(wh,"passive",{get:function(){Sb=!0}}),window.addEventListener("test",wh,wh),window.removeEventListener("test",wh,wh)}catch{Sb=!1}function a$(e,t,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Gh=!1,_y=null,xy=!1,kb=null,l$={onError:function(e){Gh=!0,_y=e}};function u$(e,t,r,n,i,s,o,a,l){Gh=!1,_y=null,a$.apply(l$,arguments)}function c$(e,t,r,n,i,s,o,a,l){if(u$.apply(this,arguments),Gh){if(Gh){var u=_y;Gh=!1,_y=null}else throw Error(ge(198));xy||(xy=!0,kb=u)}}function Bu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _S(e){if(Bu(e)!==e)throw Error(ge(188))}function d$(e){var t=e.alternate;if(!t){if(t=Bu(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return _S(i),e;if(s===n)return _S(i),t;s=s.sibling}throw Error(ge(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function x3(e){return e=d$(e),e!==null?N3(e):null}function N3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=N3(e);if(t!==null)return t;e=e.sibling}return null}var S3=yi.unstable_scheduleCallback,xS=yi.unstable_cancelCallback,h$=yi.unstable_shouldYield,f$=yi.unstable_requestPaint,Pr=yi.unstable_now,p$=yi.unstable_getCurrentPriorityLevel,kx=yi.unstable_ImmediatePriority,k3=yi.unstable_UserBlockingPriority,Ny=yi.unstable_NormalPriority,m$=yi.unstable_LowPriority,E3=yi.unstable_IdlePriority,k0=null,Ms=null;function g$(e){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(k0,e,void 0,(e.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:w$,y$=Math.log,v$=Math.LN2;function w$(e){return e>>>=0,e===0?32:31-(y$(e)/v$|0)|0}var pg=64,mg=4194304;function Wh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Wh(a):(s&=o,s!==0&&(n=Wh(s)))}else o=r&~i,o!==0?n=Wh(o):s!==0&&(n=Wh(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-hs(t),i=1<<r,n|=e[r],t&=~i;return n}function b$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-hs(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=b$(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Eb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function C3(){var e=pg;return pg<<=1,!(pg&4194240)&&(pg=64),e}function rw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function qp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hs(t),e[t]=r}function x$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-hs(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Ex(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-hs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Wt=0;function T3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O3,Cx,R3,P3,A3,Cb=!1,gg=[],Ma=null,Fa=null,Ba=null,Tf=new Map,Of=new Map,ma=[],N$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NS(e,t){switch(e){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Tf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(t.pointerId)}}function bh(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Vp(t),t!==null&&Cx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function S$(e,t,r,n,i){switch(t){case"focusin":return Ma=bh(Ma,e,t,r,n,i),!0;case"dragenter":return Fa=bh(Fa,e,t,r,n,i),!0;case"mouseover":return Ba=bh(Ba,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Tf.set(s,bh(Tf.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Of.set(s,bh(Of.get(s)||null,e,t,r,n,i)),!0}return!1}function I3(e){var t=Ul(e.target);if(t!==null){var r=Bu(t);if(r!==null){if(t=r.tag,t===13){if(t=_3(r),t!==null){e.blockedOn=t,A3(e.priority,function(){R3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Tb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xb=n,r.target.dispatchEvent(n),xb=null}else return t=Vp(r),t!==null&&Cx(t),e.blockedOn=r,!1;t.shift()}return!0}function SS(e,t,r){Gg(e)&&r.delete(t)}function k$(){Cb=!1,Ma!==null&&Gg(Ma)&&(Ma=null),Fa!==null&&Gg(Fa)&&(Fa=null),Ba!==null&&Gg(Ba)&&(Ba=null),Tf.forEach(SS),Of.forEach(SS)}function _h(e,t){e.blockedOn===t&&(e.blockedOn=null,Cb||(Cb=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,k$)))}function Rf(e){function t(i){return _h(i,e)}if(0<gg.length){_h(gg[0],e);for(var r=1;r<gg.length;r++){var n=gg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ma!==null&&_h(Ma,e),Fa!==null&&_h(Fa,e),Ba!==null&&_h(Ba,e),Tf.forEach(t),Of.forEach(t),r=0;r<ma.length;r++)n=ma[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ma.length&&(r=ma[0],r.blockedOn===null);)I3(r),r.blockedOn===null&&ma.shift()}var Vc=Ho.ReactCurrentBatchConfig,ky=!0;function E$(e,t,r,n){var i=Wt,s=Vc.transition;Vc.transition=null;try{Wt=1,Tx(e,t,r,n)}finally{Wt=i,Vc.transition=s}}function C$(e,t,r,n){var i=Wt,s=Vc.transition;Vc.transition=null;try{Wt=4,Tx(e,t,r,n)}finally{Wt=i,Vc.transition=s}}function Tx(e,t,r,n){if(ky){var i=Tb(e,t,r,n);if(i===null)hw(e,t,n,Ey,r),NS(e,n);else if(S$(i,e,t,r,n))n.stopPropagation();else if(NS(e,n),t&4&&-1<N$.indexOf(e)){for(;i!==null;){var s=Vp(i);if(s!==null&&O3(s),s=Tb(e,t,r,n),s===null&&hw(e,t,n,Ey,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else hw(e,t,n,null,r)}}var Ey=null;function Tb(e,t,r,n){if(Ey=null,e=Sx(n),e=Ul(e),e!==null)if(t=Bu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ey=e,null}function $3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p$()){case kx:return 1;case k3:return 4;case Ny:case m$:return 16;case E3:return 536870912;default:return 16}default:return 16}}var Aa=null,Ox=null,Qg=null;function L3(){if(Qg)return Qg;var e,t=Ox,r=t.length,n,i="value"in Aa?Aa.value:Aa.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Qg=i.slice(e,1<n?1-n:void 0)}function Jg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yg(){return!0}function kS(){return!1}function _i(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yg:kS,this.isPropagationStopped=kS,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yg)},persist:function(){},isPersistent:yg}),t}var qd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rx=_i(qd),Up=mr({},qd,{view:0,detail:0}),T$=_i(Up),nw,iw,xh,E0=mr({},Up,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Px,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xh&&(xh&&e.type==="mousemove"?(nw=e.screenX-xh.screenX,iw=e.screenY-xh.screenY):iw=nw=0,xh=e),nw)},movementY:function(e){return"movementY"in e?e.movementY:iw}}),ES=_i(E0),O$=mr({},E0,{dataTransfer:0}),R$=_i(O$),P$=mr({},Up,{relatedTarget:0}),sw=_i(P$),A$=mr({},qd,{animationName:0,elapsedTime:0,pseudoElement:0}),I$=_i(A$),$$=mr({},qd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),L$=_i($$),D$=mr({},qd,{data:0}),CS=_i(D$),j$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F$[e])?!!t[e]:!1}function Px(){return B$}var W$=mr({},Up,{key:function(e){if(e.key){var t=j$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Px,charCode:function(e){return e.type==="keypress"?Jg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z$=_i(W$),q$=mr({},E0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TS=_i(q$),U$=mr({},Up,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Px}),V$=_i(U$),H$=mr({},qd,{propertyName:0,elapsedTime:0,pseudoElement:0}),G$=_i(H$),Q$=mr({},E0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J$=_i(Q$),K$=[9,13,27,32],Ax=Io&&"CompositionEvent"in window,Qh=null;Io&&"documentMode"in document&&(Qh=document.documentMode);var Z$=Io&&"TextEvent"in window&&!Qh,D3=Io&&(!Ax||Qh&&8<Qh&&11>=Qh),OS=" ",RS=!1;function j3(e,t){switch(e){case"keyup":return K$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _c=!1;function Y$(e,t){switch(e){case"compositionend":return M3(t);case"keypress":return t.which!==32?null:(RS=!0,OS);case"textInput":return e=t.data,e===OS&&RS?null:e;default:return null}}function X$(e,t){if(_c)return e==="compositionend"||!Ax&&j3(e,t)?(e=L3(),Qg=Ox=Aa=null,_c=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return D3&&t.locale!=="ko"?null:t.data;default:return null}}var e5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!e5[e.type]:t==="textarea"}function F3(e,t,r,n){g3(n),t=Cy(t,"onChange"),0<t.length&&(r=new Rx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jh=null,Pf=null;function t5(e){K3(e,0)}function C0(e){var t=Sc(e);if(u3(t))return e}function r5(e,t){if(e==="change")return t}var B3=!1;if(Io){var ow;if(Io){var aw="oninput"in document;if(!aw){var AS=document.createElement("div");AS.setAttribute("oninput","return;"),aw=typeof AS.oninput=="function"}ow=aw}else ow=!1;B3=ow&&(!document.documentMode||9<document.documentMode)}function IS(){Jh&&(Jh.detachEvent("onpropertychange",W3),Pf=Jh=null)}function W3(e){if(e.propertyName==="value"&&C0(Pf)){var t=[];F3(t,Pf,e,Sx(e)),b3(t5,t)}}function n5(e,t,r){e==="focusin"?(IS(),Jh=t,Pf=r,Jh.attachEvent("onpropertychange",W3)):e==="focusout"&&IS()}function i5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return C0(Pf)}function s5(e,t){if(e==="click")return C0(t)}function o5(e,t){if(e==="input"||e==="change")return C0(t)}function a5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gs=typeof Object.is=="function"?Object.is:a5;function Af(e,t){if(gs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!cb.call(t,i)||!gs(e[i],t[i]))return!1}return!0}function $S(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function LS(e,t){var r=$S(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$S(r)}}function z3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function q3(){for(var e=window,t=by();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=by(e.document)}return t}function Ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function l5(e){var t=q3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&z3(r.ownerDocument.documentElement,r)){if(n!==null&&Ix(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=LS(r,s);var o=LS(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u5=Io&&"documentMode"in document&&11>=document.documentMode,xc=null,Ob=null,Kh=null,Rb=!1;function DS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rb||xc==null||xc!==by(n)||(n=xc,"selectionStart"in n&&Ix(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kh&&Af(Kh,n)||(Kh=n,n=Cy(Ob,"onSelect"),0<n.length&&(t=new Rx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xc)))}function vg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nc={animationend:vg("Animation","AnimationEnd"),animationiteration:vg("Animation","AnimationIteration"),animationstart:vg("Animation","AnimationStart"),transitionend:vg("Transition","TransitionEnd")},lw={},U3={};Io&&(U3=document.createElement("div").style,"AnimationEvent"in window||(delete Nc.animationend.animation,delete Nc.animationiteration.animation,delete Nc.animationstart.animation),"TransitionEvent"in window||delete Nc.transitionend.transition);function T0(e){if(lw[e])return lw[e];if(!Nc[e])return e;var t=Nc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in U3)return lw[e]=t[r];return e}var V3=T0("animationend"),H3=T0("animationiteration"),G3=T0("animationstart"),Q3=T0("transitionend"),J3=new Map,jS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gl(e,t){J3.set(e,t),Fu(t,[e])}for(var uw=0;uw<jS.length;uw++){var cw=jS[uw],c5=cw.toLowerCase(),d5=cw[0].toUpperCase()+cw.slice(1);gl(c5,"on"+d5)}gl(V3,"onAnimationEnd");gl(H3,"onAnimationIteration");gl(G3,"onAnimationStart");gl("dblclick","onDoubleClick");gl("focusin","onFocus");gl("focusout","onBlur");gl(Q3,"onTransitionEnd");_d("onMouseEnter",["mouseout","mouseover"]);_d("onMouseLeave",["mouseout","mouseover"]);_d("onPointerEnter",["pointerout","pointerover"]);_d("onPointerLeave",["pointerout","pointerover"]);Fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h5=new Set("cancel close invalid load scroll toggle".split(" ").concat(zh));function MS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,c$(n,t,void 0,e),e.currentTarget=null}function K3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;MS(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;MS(i,a,u),s=l}}}if(xy)throw e=kb,xy=!1,kb=null,e}function tr(e,t){var r=t[Lb];r===void 0&&(r=t[Lb]=new Set);var n=e+"__bubble";r.has(n)||(Z3(t,e,2,!1),r.add(n))}function dw(e,t,r){var n=0;t&&(n|=4),Z3(r,e,n,t)}var wg="_reactListening"+Math.random().toString(36).slice(2);function If(e){if(!e[wg]){e[wg]=!0,i3.forEach(function(r){r!=="selectionchange"&&(h5.has(r)||dw(r,!1,e),dw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wg]||(t[wg]=!0,dw("selectionchange",!1,t))}}function Z3(e,t,r,n){switch($3(t)){case 1:var i=E$;break;case 4:i=C$;break;default:i=Tx}r=i.bind(null,t,r,e),i=void 0,!Sb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function hw(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ul(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}b3(function(){var u=s,c=Sx(r),f=[];e:{var p=J3.get(e);if(p!==void 0){var w=Rx,b=e;switch(e){case"keypress":if(Jg(r)===0)break e;case"keydown":case"keyup":w=z$;break;case"focusin":b="focus",w=sw;break;case"focusout":b="blur",w=sw;break;case"beforeblur":case"afterblur":w=sw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ES;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=R$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=V$;break;case V3:case H3:case G3:w=I$;break;case Q3:w=G$;break;case"scroll":w=T$;break;case"wheel":w=J$;break;case"copy":case"cut":case"paste":w=L$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=TS}var x=(t&4)!==0,E=!x&&e==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var v=u,N;v!==null;){N=v;var O=N.stateNode;if(N.tag===5&&O!==null&&(N=O,g!==null&&(O=Cf(v,g),O!=null&&x.push($f(v,O,N)))),E)break;v=v.return}0<x.length&&(p=new w(p,b,null,r,c),f.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",p&&r!==xb&&(b=r.relatedTarget||r.fromElement)&&(Ul(b)||b[$o]))break e;if((w||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,w?(b=r.relatedTarget||r.toElement,w=u,b=b?Ul(b):null,b!==null&&(E=Bu(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=u),w!==b)){if(x=ES,O="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=TS,O="onPointerLeave",g="onPointerEnter",v="pointer"),E=w==null?p:Sc(w),N=b==null?p:Sc(b),p=new x(O,v+"leave",w,r,c),p.target=E,p.relatedTarget=N,O=null,Ul(c)===u&&(x=new x(g,v+"enter",b,r,c),x.target=N,x.relatedTarget=E,O=x),E=O,w&&b)t:{for(x=w,g=b,v=0,N=x;N;N=nc(N))v++;for(N=0,O=g;O;O=nc(O))N++;for(;0<v-N;)x=nc(x),v--;for(;0<N-v;)g=nc(g),N--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=nc(x),g=nc(g)}x=null}else x=null;w!==null&&FS(f,p,w,x,!1),b!==null&&E!==null&&FS(f,E,b,x,!0)}}e:{if(p=u?Sc(u):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var R=r5;else if(PS(p))if(B3)R=o5;else{R=i5;var C=n5}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=s5);if(R&&(R=R(e,u))){F3(f,R,r,c);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&yb(p,"number",p.value)}switch(C=u?Sc(u):window,e){case"focusin":(PS(C)||C.contentEditable==="true")&&(xc=C,Ob=u,Kh=null);break;case"focusout":Kh=Ob=xc=null;break;case"mousedown":Rb=!0;break;case"contextmenu":case"mouseup":case"dragend":Rb=!1,DS(f,r,c);break;case"selectionchange":if(u5)break;case"keydown":case"keyup":DS(f,r,c)}var $;if(Ax)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else _c?j3(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(D3&&r.locale!=="ko"&&(_c||L!=="onCompositionStart"?L==="onCompositionEnd"&&_c&&($=L3()):(Aa=c,Ox="value"in Aa?Aa.value:Aa.textContent,_c=!0)),C=Cy(u,L),0<C.length&&(L=new CS(L,e,null,r,c),f.push({event:L,listeners:C}),$?L.data=$:($=M3(r),$!==null&&(L.data=$)))),($=Z$?Y$(e,r):X$(e,r))&&(u=Cy(u,"onBeforeInput"),0<u.length&&(c=new CS("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=$))}K3(f,t)})}function $f(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Cy(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cf(e,r),s!=null&&n.unshift($f(e,s,i)),s=Cf(e,t),s!=null&&n.push($f(e,s,i))),e=e.return}return n}function nc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FS(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Cf(r,s),l!=null&&o.unshift($f(r,l,a))):i||(l=Cf(r,s),l!=null&&o.push($f(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var f5=/\r\n?/g,p5=/\u0000|\uFFFD/g;function BS(e){return(typeof e=="string"?e:""+e).replace(f5,`
`).replace(p5,"")}function bg(e,t,r){if(t=BS(t),BS(e)!==t&&r)throw Error(ge(425))}function Ty(){}var Pb=null,Ab=null;function Ib(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $b=typeof setTimeout=="function"?setTimeout:void 0,m5=typeof clearTimeout=="function"?clearTimeout:void 0,WS=typeof Promise=="function"?Promise:void 0,g5=typeof queueMicrotask=="function"?queueMicrotask:typeof WS<"u"?function(e){return WS.resolve(null).then(e).catch(y5)}:$b;function y5(e){setTimeout(function(){throw e})}function fw(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Rf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rf(t)}function Wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ud=Math.random().toString(36).slice(2),As="__reactFiber$"+Ud,Lf="__reactProps$"+Ud,$o="__reactContainer$"+Ud,Lb="__reactEvents$"+Ud,v5="__reactListeners$"+Ud,w5="__reactHandles$"+Ud;function Ul(e){var t=e[As];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$o]||r[As]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zS(e);e!==null;){if(r=e[As])return r;e=zS(e)}return t}e=r,r=e.parentNode}return null}function Vp(e){return e=e[As]||e[$o],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function O0(e){return e[Lf]||null}var Db=[],kc=-1;function yl(e){return{current:e}}function ir(e){0>kc||(e.current=Db[kc],Db[kc]=null,kc--)}function Yt(e,t){kc++,Db[kc]=e.current,e.current=t}var Xa={},kn=yl(Xa),Jn=yl(!1),_u=Xa;function xd(e,t){var r=e.type.contextTypes;if(!r)return Xa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kn(e){return e=e.childContextTypes,e!=null}function Oy(){ir(Jn),ir(kn)}function qS(e,t,r){if(kn.current!==Xa)throw Error(ge(168));Yt(kn,t),Yt(Jn,r)}function Y3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ge(108,n$(e)||"Unknown",i));return mr({},r,n)}function Ry(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xa,_u=kn.current,Yt(kn,e),Yt(Jn,Jn.current),!0}function US(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=Y3(e,t,_u),n.__reactInternalMemoizedMergedChildContext=e,ir(Jn),ir(kn),Yt(kn,e)):ir(Jn),Yt(Jn,r)}var lo=null,R0=!1,pw=!1;function X3(e){lo===null?lo=[e]:lo.push(e)}function b5(e){R0=!0,X3(e)}function vl(){if(!pw&&lo!==null){pw=!0;var e=0,t=Wt;try{var r=lo;for(Wt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lo=null,R0=!1}catch(i){throw lo!==null&&(lo=lo.slice(e+1)),S3(kx,vl),i}finally{Wt=t,pw=!1}}return null}var Ec=[],Cc=0,Py=null,Ay=0,Ri=[],Pi=0,xu=null,xo=1,No="";function Pl(e,t){Ec[Cc++]=Ay,Ec[Cc++]=Py,Py=e,Ay=t}function eO(e,t,r){Ri[Pi++]=xo,Ri[Pi++]=No,Ri[Pi++]=xu,xu=e;var n=xo;e=No;var i=32-hs(n)-1;n&=~(1<<i),r+=1;var s=32-hs(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,xo=1<<32-hs(t)+i|r<<i|n,No=s+e}else xo=1<<s|r<<i|n,No=e}function $x(e){e.return!==null&&(Pl(e,1),eO(e,1,0))}function Lx(e){for(;e===Py;)Py=Ec[--Cc],Ec[Cc]=null,Ay=Ec[--Cc],Ec[Cc]=null;for(;e===xu;)xu=Ri[--Pi],Ri[Pi]=null,No=Ri[--Pi],Ri[Pi]=null,xo=Ri[--Pi],Ri[Pi]=null}var mi=null,pi=null,ar=!1,as=null;function tO(e,t){var r=Ai(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function VS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mi=e,pi=Wa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mi=e,pi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xu!==null?{id:xo,overflow:No}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ai(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mi=e,pi=null,!0):!1;default:return!1}}function jb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mb(e){if(ar){var t=pi;if(t){var r=t;if(!VS(e,t)){if(jb(e))throw Error(ge(418));t=Wa(r.nextSibling);var n=mi;t&&VS(e,t)?tO(n,r):(e.flags=e.flags&-4097|2,ar=!1,mi=e)}}else{if(jb(e))throw Error(ge(418));e.flags=e.flags&-4097|2,ar=!1,mi=e}}}function HS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mi=e}function _g(e){if(e!==mi)return!1;if(!ar)return HS(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ib(e.type,e.memoizedProps)),t&&(t=pi)){if(jb(e))throw rO(),Error(ge(418));for(;t;)tO(e,t),t=Wa(t.nextSibling)}if(HS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pi=Wa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pi=null}}else pi=mi?Wa(e.stateNode.nextSibling):null;return!0}function rO(){for(var e=pi;e;)e=Wa(e.nextSibling)}function Nd(){pi=mi=null,ar=!1}function Dx(e){as===null?as=[e]:as.push(e)}var _5=Ho.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Iy=yl(null),$y=null,Tc=null,jx=null;function Mx(){jx=Tc=$y=null}function Fx(e){var t=Iy.current;ir(Iy),e._currentValue=t}function Fb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hc(e,t){$y=e,jx=Tc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gn=!0),e.firstContext=null)}function Li(e){var t=e._currentValue;if(jx!==e)if(e={context:e,memoizedValue:t,next:null},Tc===null){if($y===null)throw Error(ge(308));Tc=e,$y.dependencies={lanes:0,firstContext:e}}else Tc=Tc.next=e;return t}var Vl=null;function Bx(e){Vl===null?Vl=[e]:Vl.push(e)}function nO(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Bx(t)):(r.next=i.next,i.next=r),t.interleaved=r,Lo(e,n)}function Lo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ca=!1;function Wx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Lo(e,r)}return i=n.interleaved,i===null?(t.next=t,Bx(n)):(t.next=i.next,i.next=t),n.interleaved=t,Lo(e,r)}function Kg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ex(e,r)}}function GS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ly(e,t,r,n){var i=e.updateQueue;ca=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,w=a.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,x=a;switch(p=t,w=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(w,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,p=typeof b=="function"?b.call(w,f,p):b,p==null)break e;f=mr({},f,p);break e;case 2:ca=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else w={eventTime:w,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=w,l=f):c=c.next=w,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Su|=o,e.lanes=o,e.memoizedState=f}}function QS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ge(191,i));i.call(n)}}}var sO=new n3.Component().refs;function Bb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var P0={isMounted:function(e){return(e=e._reactInternals)?Bu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mn(),i=Ua(e),s=Co(n,i);s.payload=t,r!=null&&(s.callback=r),t=za(e,s,i),t!==null&&(fs(t,e,i,n),Kg(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mn(),i=Ua(e),s=Co(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=za(e,s,i),t!==null&&(fs(t,e,i,n),Kg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mn(),n=Ua(e),i=Co(r,n);i.tag=2,t!=null&&(i.callback=t),t=za(e,i,n),t!==null&&(fs(t,e,n,r),Kg(t,e,n))}};function JS(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Af(r,n)||!Af(i,s):!0}function oO(e,t,r){var n=!1,i=Xa,s=t.contextType;return typeof s=="object"&&s!==null?s=Li(s):(i=Kn(t)?_u:kn.current,n=t.contextTypes,s=(n=n!=null)?xd(e,i):Xa),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=P0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function KS(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&P0.enqueueReplaceState(t,t.state,null)}function Wb(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=sO,Wx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Li(s):(s=Kn(t)?_u:kn.current,i.context=xd(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Bb(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&P0.enqueueReplaceState(i,i.state,null),Ly(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Nh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===sO&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function xg(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ZS(e){var t=e._init;return t(e._payload)}function aO(e){function t(g,v){if(e){var N=g.deletions;N===null?(g.deletions=[v],g.flags|=16):N.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Va(g,v),g.index=0,g.sibling=null,g}function s(g,v,N){return g.index=N,e?(N=g.alternate,N!==null?(N=N.index,N<v?(g.flags|=2,v):N):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,N,O){return v===null||v.tag!==6?(v=_w(N,g.mode,O),v.return=g,v):(v=i(v,N),v.return=g,v)}function l(g,v,N,O){var R=N.type;return R===bc?c(g,v,N.props.children,O,N.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ua&&ZS(R)===v.type)?(O=i(v,N.props),O.ref=Nh(g,v,N),O.return=g,O):(O=ry(N.type,N.key,N.props,null,g.mode,O),O.ref=Nh(g,v,N),O.return=g,O)}function u(g,v,N,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=xw(N,g.mode,O),v.return=g,v):(v=i(v,N.children||[]),v.return=g,v)}function c(g,v,N,O,R){return v===null||v.tag!==7?(v=fu(N,g.mode,O,R),v.return=g,v):(v=i(v,N),v.return=g,v)}function f(g,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=_w(""+v,g.mode,N),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dg:return N=ry(v.type,v.key,v.props,null,g.mode,N),N.ref=Nh(g,null,v),N.return=g,N;case wc:return v=xw(v,g.mode,N),v.return=g,v;case ua:var O=v._init;return f(g,O(v._payload),N)}if(Bh(v)||vh(v))return v=fu(v,g.mode,N,null),v.return=g,v;xg(g,v)}return null}function p(g,v,N,O){var R=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return R!==null?null:a(g,v,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case dg:return N.key===R?l(g,v,N,O):null;case wc:return N.key===R?u(g,v,N,O):null;case ua:return R=N._init,p(g,v,R(N._payload),O)}if(Bh(N)||vh(N))return R!==null?null:c(g,v,N,O,null);xg(g,N)}return null}function w(g,v,N,O,R){if(typeof O=="string"&&O!==""||typeof O=="number")return g=g.get(N)||null,a(v,g,""+O,R);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case dg:return g=g.get(O.key===null?N:O.key)||null,l(v,g,O,R);case wc:return g=g.get(O.key===null?N:O.key)||null,u(v,g,O,R);case ua:var C=O._init;return w(g,v,N,C(O._payload),R)}if(Bh(O)||vh(O))return g=g.get(N)||null,c(v,g,O,R,null);xg(v,O)}return null}function b(g,v,N,O){for(var R=null,C=null,$=v,L=v=0,G=null;$!==null&&L<N.length;L++){$.index>L?(G=$,$=null):G=$.sibling;var F=p(g,$,N[L],O);if(F===null){$===null&&($=G);break}e&&$&&F.alternate===null&&t(g,$),v=s(F,v,L),C===null?R=F:C.sibling=F,C=F,$=G}if(L===N.length)return r(g,$),ar&&Pl(g,L),R;if($===null){for(;L<N.length;L++)$=f(g,N[L],O),$!==null&&(v=s($,v,L),C===null?R=$:C.sibling=$,C=$);return ar&&Pl(g,L),R}for($=n(g,$);L<N.length;L++)G=w($,g,L,N[L],O),G!==null&&(e&&G.alternate!==null&&$.delete(G.key===null?L:G.key),v=s(G,v,L),C===null?R=G:C.sibling=G,C=G);return e&&$.forEach(function(J){return t(g,J)}),ar&&Pl(g,L),R}function x(g,v,N,O){var R=vh(N);if(typeof R!="function")throw Error(ge(150));if(N=R.call(N),N==null)throw Error(ge(151));for(var C=R=null,$=v,L=v=0,G=null,F=N.next();$!==null&&!F.done;L++,F=N.next()){$.index>L?(G=$,$=null):G=$.sibling;var J=p(g,$,F.value,O);if(J===null){$===null&&($=G);break}e&&$&&J.alternate===null&&t(g,$),v=s(J,v,L),C===null?R=J:C.sibling=J,C=J,$=G}if(F.done)return r(g,$),ar&&Pl(g,L),R;if($===null){for(;!F.done;L++,F=N.next())F=f(g,F.value,O),F!==null&&(v=s(F,v,L),C===null?R=F:C.sibling=F,C=F);return ar&&Pl(g,L),R}for($=n(g,$);!F.done;L++,F=N.next())F=w($,g,L,F.value,O),F!==null&&(e&&F.alternate!==null&&$.delete(F.key===null?L:F.key),v=s(F,v,L),C===null?R=F:C.sibling=F,C=F);return e&&$.forEach(function(ee){return t(g,ee)}),ar&&Pl(g,L),R}function E(g,v,N,O){if(typeof N=="object"&&N!==null&&N.type===bc&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case dg:e:{for(var R=N.key,C=v;C!==null;){if(C.key===R){if(R=N.type,R===bc){if(C.tag===7){r(g,C.sibling),v=i(C,N.props.children),v.return=g,g=v;break e}}else if(C.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ua&&ZS(R)===C.type){r(g,C.sibling),v=i(C,N.props),v.ref=Nh(g,C,N),v.return=g,g=v;break e}r(g,C);break}else t(g,C);C=C.sibling}N.type===bc?(v=fu(N.props.children,g.mode,O,N.key),v.return=g,g=v):(O=ry(N.type,N.key,N.props,null,g.mode,O),O.ref=Nh(g,v,N),O.return=g,g=O)}return o(g);case wc:e:{for(C=N.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){r(g,v.sibling),v=i(v,N.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=xw(N,g.mode,O),v.return=g,g=v}return o(g);case ua:return C=N._init,E(g,v,C(N._payload),O)}if(Bh(N))return b(g,v,N,O);if(vh(N))return x(g,v,N,O);xg(g,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,N),v.return=g,g=v):(r(g,v),v=_w(N,g.mode,O),v.return=g,g=v),o(g)):r(g,v)}return E}var Sd=aO(!0),lO=aO(!1),Hp={},Fs=yl(Hp),Df=yl(Hp),jf=yl(Hp);function Hl(e){if(e===Hp)throw Error(ge(174));return e}function zx(e,t){switch(Yt(jf,t),Yt(Df,e),Yt(Fs,Hp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wb(t,e)}ir(Fs),Yt(Fs,t)}function kd(){ir(Fs),ir(Df),ir(jf)}function uO(e){Hl(jf.current);var t=Hl(Fs.current),r=wb(t,e.type);t!==r&&(Yt(Df,e),Yt(Fs,r))}function qx(e){Df.current===e&&(ir(Fs),ir(Df))}var fr=yl(0);function Dy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mw=[];function Ux(){for(var e=0;e<mw.length;e++)mw[e]._workInProgressVersionPrimary=null;mw.length=0}var Zg=Ho.ReactCurrentDispatcher,gw=Ho.ReactCurrentBatchConfig,Nu=0,pr=null,Ur=null,Xr=null,jy=!1,Zh=!1,Mf=0,x5=0;function bn(){throw Error(ge(321))}function Vx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gs(e[r],t[r]))return!1;return!0}function Hx(e,t,r,n,i,s){if(Nu=s,pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zg.current=e===null||e.memoizedState===null?E5:C5,e=r(n,i),Zh){s=0;do{if(Zh=!1,Mf=0,25<=s)throw Error(ge(301));s+=1,Xr=Ur=null,t.updateQueue=null,Zg.current=T5,e=r(n,i)}while(Zh)}if(Zg.current=My,t=Ur!==null&&Ur.next!==null,Nu=0,Xr=Ur=pr=null,jy=!1,t)throw Error(ge(300));return e}function Gx(){var e=Mf!==0;return Mf=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?pr.memoizedState=Xr=e:Xr=Xr.next=e,Xr}function Di(){if(Ur===null){var e=pr.alternate;e=e!==null?e.memoizedState:null}else e=Ur.next;var t=Xr===null?pr.memoizedState:Xr.next;if(t!==null)Xr=t,Ur=e;else{if(e===null)throw Error(ge(310));Ur=e,e={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},Xr===null?pr.memoizedState=Xr=e:Xr=Xr.next=e}return Xr}function Ff(e,t){return typeof t=="function"?t(e):t}function yw(e){var t=Di(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=Ur,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Nu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,pr.lanes|=c,Su|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,gs(n,t.memoizedState)||(Gn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,pr.lanes|=s,Su|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vw(e){var t=Di(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);gs(s,t.memoizedState)||(Gn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function cO(){}function dO(e,t){var r=pr,n=Di(),i=t(),s=!gs(n.memoizedState,i);if(s&&(n.memoizedState=i,Gn=!0),n=n.queue,Qx(pO.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Xr!==null&&Xr.memoizedState.tag&1){if(r.flags|=2048,Bf(9,fO.bind(null,r,n,i,t),void 0,null),tn===null)throw Error(ge(349));Nu&30||hO(r,t,i)}return i}function hO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fO(e,t,r,n){t.value=r,t.getSnapshot=n,mO(t)&&gO(e)}function pO(e,t,r){return r(function(){mO(t)&&gO(e)})}function mO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gs(e,r)}catch{return!0}}function gO(e){var t=Lo(e,1);t!==null&&fs(t,e,1,-1)}function YS(e){var t=Cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:e},t.queue=e,e=e.dispatch=k5.bind(null,pr,e),[t.memoizedState,e]}function Bf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yO(){return Di().memoizedState}function Yg(e,t,r,n){var i=Cs();pr.flags|=e,i.memoizedState=Bf(1|t,r,void 0,n===void 0?null:n)}function A0(e,t,r,n){var i=Di();n=n===void 0?null:n;var s=void 0;if(Ur!==null){var o=Ur.memoizedState;if(s=o.destroy,n!==null&&Vx(n,o.deps)){i.memoizedState=Bf(t,r,s,n);return}}pr.flags|=e,i.memoizedState=Bf(1|t,r,s,n)}function XS(e,t){return Yg(8390656,8,e,t)}function Qx(e,t){return A0(2048,8,e,t)}function vO(e,t){return A0(4,2,e,t)}function wO(e,t){return A0(4,4,e,t)}function bO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _O(e,t,r){return r=r!=null?r.concat([e]):null,A0(4,4,bO.bind(null,t,e),r)}function Jx(){}function xO(e,t){var r=Di();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function NO(e,t){var r=Di();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function SO(e,t,r){return Nu&21?(gs(r,t)||(r=C3(),pr.lanes|=r,Su|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gn=!0),e.memoizedState=r)}function N5(e,t){var r=Wt;Wt=r!==0&&4>r?r:4,e(!0);var n=gw.transition;gw.transition={};try{e(!1),t()}finally{Wt=r,gw.transition=n}}function kO(){return Di().memoizedState}function S5(e,t,r){var n=Ua(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},EO(e))CO(t,r);else if(r=nO(e,t,r,n),r!==null){var i=Mn();fs(r,e,n,i),TO(r,t,n)}}function k5(e,t,r){var n=Ua(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(EO(e))CO(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,gs(a,o)){var l=t.interleaved;l===null?(i.next=i,Bx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=nO(e,t,i,n),r!==null&&(i=Mn(),fs(r,e,n,i),TO(r,t,n))}}function EO(e){var t=e.alternate;return e===pr||t!==null&&t===pr}function CO(e,t){Zh=jy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function TO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ex(e,r)}}var My={readContext:Li,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},E5={readContext:Li,useCallback:function(e,t){return Cs().memoizedState=[e,t===void 0?null:t],e},useContext:Li,useEffect:XS,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yg(4194308,4,bO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yg(4,2,e,t)},useMemo:function(e,t){var r=Cs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Cs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=S5.bind(null,pr,e),[n.memoizedState,e]},useRef:function(e){var t=Cs();return e={current:e},t.memoizedState=e},useState:YS,useDebugValue:Jx,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=YS(!1),t=e[0];return e=N5.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pr,i=Cs();if(ar){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),tn===null)throw Error(ge(349));Nu&30||hO(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,XS(pO.bind(null,n,s,e),[e]),n.flags|=2048,Bf(9,fO.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Cs(),t=tn.identifierPrefix;if(ar){var r=No,n=xo;r=(n&~(1<<32-hs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=x5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},C5={readContext:Li,useCallback:xO,useContext:Li,useEffect:Qx,useImperativeHandle:_O,useInsertionEffect:vO,useLayoutEffect:wO,useMemo:NO,useReducer:yw,useRef:yO,useState:function(){return yw(Ff)},useDebugValue:Jx,useDeferredValue:function(e){var t=Di();return SO(t,Ur.memoizedState,e)},useTransition:function(){var e=yw(Ff)[0],t=Di().memoizedState;return[e,t]},useMutableSource:cO,useSyncExternalStore:dO,useId:kO,unstable_isNewReconciler:!1},T5={readContext:Li,useCallback:xO,useContext:Li,useEffect:Qx,useImperativeHandle:_O,useInsertionEffect:vO,useLayoutEffect:wO,useMemo:NO,useReducer:vw,useRef:yO,useState:function(){return vw(Ff)},useDebugValue:Jx,useDeferredValue:function(e){var t=Di();return Ur===null?t.memoizedState=e:SO(t,Ur.memoizedState,e)},useTransition:function(){var e=vw(Ff)[0],t=Di().memoizedState;return[e,t]},useMutableSource:cO,useSyncExternalStore:dO,useId:kO,unstable_isNewReconciler:!1};function Ed(e,t){try{var r="",n=t;do r+=r$(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ww(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var O5=typeof WeakMap=="function"?WeakMap:Map;function OO(e,t,r){r=Co(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){By||(By=!0,Yb=n),zb(e,t)},r}function RO(e,t,r){r=Co(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){zb(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){zb(e,t),typeof n!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ek(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new O5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=q5.bind(null,e,t,r),t.then(e,e))}function tk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rk(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Co(-1,1),t.tag=2,za(r,t,1))),r.lanes|=1),e)}var R5=Ho.ReactCurrentOwner,Gn=!1;function An(e,t,r,n){t.child=e===null?lO(t,null,r,n):Sd(t,e.child,r,n)}function nk(e,t,r,n,i){r=r.render;var s=t.ref;return Hc(t,i),n=Hx(e,t,r,n,s,i),r=Gx(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Do(e,t,i)):(ar&&r&&$x(t),t.flags|=1,An(e,t,n,i),t.child)}function ik(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!nN(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,PO(e,t,s,n,i)):(e=ry(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Af,r(o,n)&&e.ref===t.ref)return Do(e,t,i)}return t.flags|=1,e=Va(s,n),e.ref=t.ref,e.return=t,t.child=e}function PO(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Af(s,n)&&e.ref===t.ref)if(Gn=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Gn=!0);else return t.lanes=e.lanes,Do(e,t,i)}return qb(e,t,r,n,i)}function AO(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(Rc,di),di|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(Rc,di),di|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Yt(Rc,di),di|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Yt(Rc,di),di|=n;return An(e,t,i,r),t.child}function IO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qb(e,t,r,n,i){var s=Kn(r)?_u:kn.current;return s=xd(t,s),Hc(t,i),r=Hx(e,t,r,n,s,i),n=Gx(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Do(e,t,i)):(ar&&n&&$x(t),t.flags|=1,An(e,t,r,i),t.child)}function sk(e,t,r,n,i){if(Kn(r)){var s=!0;Ry(t)}else s=!1;if(Hc(t,i),t.stateNode===null)Xg(e,t),oO(t,r,n),Wb(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Li(u):(u=Kn(r)?_u:kn.current,u=xd(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&KS(t,o,n,u),ca=!1;var p=t.memoizedState;o.state=p,Ly(t,n,o,i),l=t.memoizedState,a!==n||p!==l||Jn.current||ca?(typeof c=="function"&&(Bb(t,r,c,n),l=t.memoizedState),(a=ca||JS(t,r,a,n,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,iO(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Hi(t.type,a),o.props=u,f=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Li(l):(l=Kn(r)?_u:kn.current,l=xd(t,l));var w=r.getDerivedStateFromProps;(c=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&KS(t,o,n,l),ca=!1,p=t.memoizedState,o.state=p,Ly(t,n,o,i);var b=t.memoizedState;a!==f||p!==b||Jn.current||ca?(typeof w=="function"&&(Bb(t,r,w,n),b=t.memoizedState),(u=ca||JS(t,r,u,n,p,b,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Ub(e,t,r,n,s,i)}function Ub(e,t,r,n,i,s){IO(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&US(t,r,!1),Do(e,t,s);n=t.stateNode,R5.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Sd(t,e.child,null,s),t.child=Sd(t,null,a,s)):An(e,t,a,s),t.memoizedState=n.state,i&&US(t,r,!0),t.child}function $O(e){var t=e.stateNode;t.pendingContext?qS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qS(e,t.context,!1),zx(e,t.containerInfo)}function ok(e,t,r,n,i){return Nd(),Dx(i),t.flags|=256,An(e,t,r,n),t.child}var Vb={dehydrated:null,treeContext:null,retryLane:0};function Hb(e){return{baseLanes:e,cachePool:null,transitions:null}}function LO(e,t,r){var n=t.pendingProps,i=fr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Yt(fr,i&1),e===null)return Mb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=L0(o,n,0,null),e=fu(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Hb(r),t.memoizedState=Vb,e):Kx(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return P5(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Va(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Va(a,s):(s=fu(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Hb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Vb,n}return s=e.child,e=s.sibling,n=Va(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kx(e,t){return t=L0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ng(e,t,r,n){return n!==null&&Dx(n),Sd(t,e.child,null,r),e=Kx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P5(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=ww(Error(ge(422))),Ng(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=L0({mode:"visible",children:n.children},i,0,null),s=fu(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Sd(t,e.child,null,o),t.child.memoizedState=Hb(o),t.memoizedState=Vb,s);if(!(t.mode&1))return Ng(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ge(419)),n=ww(s,n,void 0),Ng(e,t,o,n)}if(a=(o&e.childLanes)!==0,Gn||a){if(n=tn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),fs(n,e,i,-1))}return rN(),n=ww(Error(ge(421))),Ng(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=U5.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,pi=Wa(i.nextSibling),mi=t,ar=!0,as=null,e!==null&&(Ri[Pi++]=xo,Ri[Pi++]=No,Ri[Pi++]=xu,xo=e.id,No=e.overflow,xu=t),t=Kx(t,n.children),t.flags|=4096,t)}function ak(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fb(e.return,t,r)}function bw(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function DO(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(An(e,t,n.children,r),n=fr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ak(e,r,t);else if(e.tag===19)ak(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Yt(fr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Dy(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),bw(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dy(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}bw(t,!0,r,null,s);break;case"together":bw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Do(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Su|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=Va(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Va(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function A5(e,t,r){switch(t.tag){case 3:$O(t),Nd();break;case 5:uO(t);break;case 1:Kn(t.type)&&Ry(t);break;case 4:zx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Yt(Iy,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Yt(fr,fr.current&1),t.flags|=128,null):r&t.child.childLanes?LO(e,t,r):(Yt(fr,fr.current&1),e=Do(e,t,r),e!==null?e.sibling:null);Yt(fr,fr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return DO(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yt(fr,fr.current),n)break;return null;case 22:case 23:return t.lanes=0,AO(e,t,r)}return Do(e,t,r)}var jO,Gb,MO,FO;jO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gb=function(){};MO=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Hl(Fs.current);var s=null;switch(r){case"input":i=mb(e,i),n=mb(e,n),s=[];break;case"select":i=mr({},i,{value:void 0}),n=mr({},n,{value:void 0}),s=[];break;case"textarea":i=vb(e,i),n=vb(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ty)}bb(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tr("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};FO=function(e,t,r,n){r!==n&&(t.flags|=4)};function Sh(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _n(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function I5(e,t,r){var n=t.pendingProps;switch(Lx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(t),null;case 1:return Kn(t.type)&&Oy(),_n(t),null;case 3:return n=t.stateNode,kd(),ir(Jn),ir(kn),Ux(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_g(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,as!==null&&(t_(as),as=null))),Gb(e,t),_n(t),null;case 5:qx(t);var i=Hl(jf.current);if(r=t.type,e!==null&&t.stateNode!=null)MO(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return _n(t),null}if(e=Hl(Fs.current),_g(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[As]=t,n[Lf]=s,e=(t.mode&1)!==0,r){case"dialog":tr("cancel",n),tr("close",n);break;case"iframe":case"object":case"embed":tr("load",n);break;case"video":case"audio":for(i=0;i<zh.length;i++)tr(zh[i],n);break;case"source":tr("error",n);break;case"img":case"image":case"link":tr("error",n),tr("load",n);break;case"details":tr("toggle",n);break;case"input":gS(n,s),tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},tr("invalid",n);break;case"textarea":vS(n,s),tr("invalid",n)}bb(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&bg(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bg(n.textContent,a,e),i=["children",""+a]):kf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tr("scroll",n)}switch(r){case"input":hg(n),yS(n,s,!0);break;case"textarea":hg(n),wS(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ty)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=h3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[As]=t,e[Lf]=n,jO(e,t,!1,!1),t.stateNode=e;e:{switch(o=_b(r,n),r){case"dialog":tr("cancel",e),tr("close",e),i=n;break;case"iframe":case"object":case"embed":tr("load",e),i=n;break;case"video":case"audio":for(i=0;i<zh.length;i++)tr(zh[i],e);i=n;break;case"source":tr("error",e),i=n;break;case"img":case"image":case"link":tr("error",e),tr("load",e),i=n;break;case"details":tr("toggle",e),i=n;break;case"input":gS(e,n),i=mb(e,n),tr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=mr({},n,{value:void 0}),tr("invalid",e);break;case"textarea":vS(e,n),i=vb(e,n),tr("invalid",e);break;default:i=n}bb(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?m3(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&f3(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ef(e,l):typeof l=="number"&&Ef(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tr("scroll",e):l!=null&&bx(e,s,l,o))}switch(r){case"input":hg(e),yS(e,n,!1);break;case"textarea":hg(e),wS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ya(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?zc(e,!!n.multiple,s,!1):n.defaultValue!=null&&zc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ty)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _n(t),null;case 6:if(e&&t.stateNode!=null)FO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=Hl(jf.current),Hl(Fs.current),_g(t)){if(n=t.stateNode,r=t.memoizedProps,n[As]=t,(s=n.nodeValue!==r)&&(e=mi,e!==null))switch(e.tag){case 3:bg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bg(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[As]=t,t.stateNode=n}return _n(t),null;case 13:if(ir(fr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&pi!==null&&t.mode&1&&!(t.flags&128))rO(),Nd(),t.flags|=98560,s=!1;else if(s=_g(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ge(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ge(317));s[As]=t}else Nd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_n(t),s=!1}else as!==null&&(t_(as),as=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||fr.current&1?Gr===0&&(Gr=3):rN())),t.updateQueue!==null&&(t.flags|=4),_n(t),null);case 4:return kd(),Gb(e,t),e===null&&If(t.stateNode.containerInfo),_n(t),null;case 10:return Fx(t.type._context),_n(t),null;case 17:return Kn(t.type)&&Oy(),_n(t),null;case 19:if(ir(fr),s=t.memoizedState,s===null)return _n(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Sh(s,!1);else{if(Gr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dy(e),o!==null){for(t.flags|=128,Sh(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Yt(fr,fr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Pr()>Cd&&(t.flags|=128,n=!0,Sh(s,!1),t.lanes=4194304)}else{if(!n)if(e=Dy(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Sh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ar)return _n(t),null}else 2*Pr()-s.renderingStartTime>Cd&&r!==1073741824&&(t.flags|=128,n=!0,Sh(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Pr(),t.sibling=null,r=fr.current,Yt(fr,n?r&1|2:r&1),t):(_n(t),null);case 22:case 23:return tN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?di&1073741824&&(_n(t),t.subtreeFlags&6&&(t.flags|=8192)):_n(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function $5(e,t){switch(Lx(t),t.tag){case 1:return Kn(t.type)&&Oy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kd(),ir(Jn),ir(kn),Ux(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qx(t),null;case 13:if(ir(fr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));Nd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(fr),null;case 4:return kd(),null;case 10:return Fx(t.type._context),null;case 22:case 23:return tN(),null;case 24:return null;default:return null}}var Sg=!1,Sn=!1,L5=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Oc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){br(e,t,n)}else r.current=null}function Qb(e,t,r){try{r()}catch(n){br(e,t,n)}}var lk=!1;function D5(e,t){if(Pb=ky,e=q3(),Ix(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var w;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)p=f,f=w;for(;;){if(f===e)break t;if(p===r&&++u===i&&(a=o),p===s&&++c===n&&(l=o),(w=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=w}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ab={focusedElem:e,selectionRange:r},ky=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,E=b.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Hi(t.type,x),E);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(O){br(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return b=lk,lk=!1,b}function Yh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qb(t,r,s)}i=i.next}while(i!==n)}}function I0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Jb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function BO(e){var t=e.alternate;t!==null&&(e.alternate=null,BO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[As],delete t[Lf],delete t[Lb],delete t[v5],delete t[w5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function WO(e){return e.tag===5||e.tag===3||e.tag===4}function uk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||WO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ty));else if(n!==4&&(e=e.child,e!==null))for(Kb(e,t,r),e=e.sibling;e!==null;)Kb(e,t,r),e=e.sibling}function Zb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Zb(e,t,r),e=e.sibling;e!==null;)Zb(e,t,r),e=e.sibling}var dn=null,is=!1;function sa(e,t,r){for(r=r.child;r!==null;)zO(e,t,r),r=r.sibling}function zO(e,t,r){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(k0,r)}catch{}switch(r.tag){case 5:Sn||Oc(r,t);case 6:var n=dn,i=is;dn=null,sa(e,t,r),dn=n,is=i,dn!==null&&(is?(e=dn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dn.removeChild(r.stateNode));break;case 18:dn!==null&&(is?(e=dn,r=r.stateNode,e.nodeType===8?fw(e.parentNode,r):e.nodeType===1&&fw(e,r),Rf(e)):fw(dn,r.stateNode));break;case 4:n=dn,i=is,dn=r.stateNode.containerInfo,is=!0,sa(e,t,r),dn=n,is=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qb(r,t,o),i=i.next}while(i!==n)}sa(e,t,r);break;case 1:if(!Sn&&(Oc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){br(r,t,a)}sa(e,t,r);break;case 21:sa(e,t,r);break;case 22:r.mode&1?(Sn=(n=Sn)||r.memoizedState!==null,sa(e,t,r),Sn=n):sa(e,t,r);break;default:sa(e,t,r)}}function ck(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new L5),t.forEach(function(n){var i=V5.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function qi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:dn=a.stateNode,is=!1;break e;case 3:dn=a.stateNode.containerInfo,is=!0;break e;case 4:dn=a.stateNode.containerInfo,is=!0;break e}a=a.return}if(dn===null)throw Error(ge(160));zO(s,o,i),dn=null,is=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){br(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qO(t,e),t=t.sibling}function qO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qi(t,e),Es(e),n&4){try{Yh(3,e,e.return),I0(3,e)}catch(x){br(e,e.return,x)}try{Yh(5,e,e.return)}catch(x){br(e,e.return,x)}}break;case 1:qi(t,e),Es(e),n&512&&r!==null&&Oc(r,r.return);break;case 5:if(qi(t,e),Es(e),n&512&&r!==null&&Oc(r,r.return),e.flags&32){var i=e.stateNode;try{Ef(i,"")}catch(x){br(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&c3(i,s),_b(a,o);var u=_b(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?m3(i,f):c==="dangerouslySetInnerHTML"?f3(i,f):c==="children"?Ef(i,f):bx(i,c,f,u)}switch(a){case"input":gb(i,s);break;case"textarea":d3(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?zc(i,!!s.multiple,w,!1):p!==!!s.multiple&&(s.defaultValue!=null?zc(i,!!s.multiple,s.defaultValue,!0):zc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lf]=s}catch(x){br(e,e.return,x)}}break;case 6:if(qi(t,e),Es(e),n&4){if(e.stateNode===null)throw Error(ge(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){br(e,e.return,x)}}break;case 3:if(qi(t,e),Es(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rf(t.containerInfo)}catch(x){br(e,e.return,x)}break;case 4:qi(t,e),Es(e);break;case 13:qi(t,e),Es(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xx=Pr())),n&4&&ck(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Sn=(u=Sn)||c,qi(t,e),Sn=u):qi(t,e),Es(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Ie=e,c=e.child;c!==null;){for(f=Ie=c;Ie!==null;){switch(p=Ie,w=p.child,p.tag){case 0:case 11:case 14:case 15:Yh(4,p,p.return);break;case 1:Oc(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){br(n,r,x)}}break;case 5:Oc(p,p.return);break;case 22:if(p.memoizedState!==null){hk(f);continue}}w!==null?(w.return=p,Ie=w):hk(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=p3("display",o))}catch(x){br(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){br(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qi(t,e),Es(e),n&4&&ck(e);break;case 21:break;default:qi(t,e),Es(e)}}function Es(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(WO(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ef(i,""),n.flags&=-33);var s=uk(e);Zb(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=uk(e);Kb(e,a,o);break;default:throw Error(ge(161))}}catch(l){br(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function j5(e,t,r){Ie=e,UO(e)}function UO(e,t,r){for(var n=(e.mode&1)!==0;Ie!==null;){var i=Ie,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Sg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Sn;a=Sg;var u=Sn;if(Sg=o,(Sn=l)&&!u)for(Ie=i;Ie!==null;)o=Ie,l=o.child,o.tag===22&&o.memoizedState!==null?fk(i):l!==null?(l.return=o,Ie=l):fk(i);for(;s!==null;)Ie=s,UO(s),s=s.sibling;Ie=i,Sg=a,Sn=u}dk(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ie=s):dk(e)}}function dk(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sn||I0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Sn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Hi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&QS(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}QS(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Rf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}Sn||t.flags&512&&Jb(t)}catch(p){br(t,t.return,p)}}if(t===e){Ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function hk(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function fk(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{I0(4,t)}catch(l){br(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){br(t,i,l)}}var s=t.return;try{Jb(t)}catch(l){br(t,s,l)}break;case 5:var o=t.return;try{Jb(t)}catch(l){br(t,o,l)}}}catch(l){br(t,t.return,l)}if(t===e){Ie=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ie=a;break}Ie=t.return}}var M5=Math.ceil,Fy=Ho.ReactCurrentDispatcher,Zx=Ho.ReactCurrentOwner,$i=Ho.ReactCurrentBatchConfig,Ct=0,tn=null,Mr=null,pn=0,di=0,Rc=yl(0),Gr=0,Wf=null,Su=0,$0=0,Yx=0,Xh=null,Vn=null,Xx=0,Cd=1/0,oo=null,By=!1,Yb=null,qa=null,kg=!1,Ia=null,Wy=0,ef=0,Xb=null,ey=-1,ty=0;function Mn(){return Ct&6?Pr():ey!==-1?ey:ey=Pr()}function Ua(e){return e.mode&1?Ct&2&&pn!==0?pn&-pn:_5.transition!==null?(ty===0&&(ty=C3()),ty):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:$3(e.type)),e):1}function fs(e,t,r,n){if(50<ef)throw ef=0,Xb=null,Error(ge(185));qp(e,r,n),(!(Ct&2)||e!==tn)&&(e===tn&&(!(Ct&2)&&($0|=r),Gr===4&&ga(e,pn)),Zn(e,n),r===1&&Ct===0&&!(t.mode&1)&&(Cd=Pr()+500,R0&&vl()))}function Zn(e,t){var r=e.callbackNode;_$(e,t);var n=Sy(e,e===tn?pn:0);if(n===0)r!==null&&xS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xS(r),t===1)e.tag===0?b5(pk.bind(null,e)):X3(pk.bind(null,e)),g5(function(){!(Ct&6)&&vl()}),r=null;else{switch(T3(n)){case 1:r=kx;break;case 4:r=k3;break;case 16:r=Ny;break;case 536870912:r=E3;break;default:r=Ny}r=YO(r,VO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function VO(e,t){if(ey=-1,ty=0,Ct&6)throw Error(ge(327));var r=e.callbackNode;if(Gc()&&e.callbackNode!==r)return null;var n=Sy(e,e===tn?pn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zy(e,n);else{t=n;var i=Ct;Ct|=2;var s=GO();(tn!==e||pn!==t)&&(oo=null,Cd=Pr()+500,hu(e,t));do try{W5();break}catch(a){HO(e,a)}while(!0);Mx(),Fy.current=s,Ct=i,Mr!==null?t=0:(tn=null,pn=0,t=Gr)}if(t!==0){if(t===2&&(i=Eb(e),i!==0&&(n=i,t=e_(e,i))),t===1)throw r=Wf,hu(e,0),ga(e,n),Zn(e,Pr()),r;if(t===6)ga(e,n);else{if(i=e.current.alternate,!(n&30)&&!F5(i)&&(t=zy(e,n),t===2&&(s=Eb(e),s!==0&&(n=s,t=e_(e,s))),t===1))throw r=Wf,hu(e,0),ga(e,n),Zn(e,Pr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:Al(e,Vn,oo);break;case 3:if(ga(e,n),(n&130023424)===n&&(t=Xx+500-Pr(),10<t)){if(Sy(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Mn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$b(Al.bind(null,e,Vn,oo),t);break}Al(e,Vn,oo);break;case 4:if(ga(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-hs(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*M5(n/1960))-n,10<n){e.timeoutHandle=$b(Al.bind(null,e,Vn,oo),n);break}Al(e,Vn,oo);break;case 5:Al(e,Vn,oo);break;default:throw Error(ge(329))}}}return Zn(e,Pr()),e.callbackNode===r?VO.bind(null,e):null}function e_(e,t){var r=Xh;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),e=zy(e,t),e!==2&&(t=Vn,Vn=r,t!==null&&t_(t)),e}function t_(e){Vn===null?Vn=e:Vn.push.apply(Vn,e)}function F5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!gs(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ga(e,t){for(t&=~Yx,t&=~$0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-hs(t),n=1<<r;e[r]=-1,t&=~n}}function pk(e){if(Ct&6)throw Error(ge(327));Gc();var t=Sy(e,0);if(!(t&1))return Zn(e,Pr()),null;var r=zy(e,t);if(e.tag!==0&&r===2){var n=Eb(e);n!==0&&(t=n,r=e_(e,n))}if(r===1)throw r=Wf,hu(e,0),ga(e,t),Zn(e,Pr()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e,Vn,oo),Zn(e,Pr()),null}function eN(e,t){var r=Ct;Ct|=1;try{return e(t)}finally{Ct=r,Ct===0&&(Cd=Pr()+500,R0&&vl())}}function ku(e){Ia!==null&&Ia.tag===0&&!(Ct&6)&&Gc();var t=Ct;Ct|=1;var r=$i.transition,n=Wt;try{if($i.transition=null,Wt=1,e)return e()}finally{Wt=n,$i.transition=r,Ct=t,!(Ct&6)&&vl()}}function tN(){di=Rc.current,ir(Rc)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,m5(r)),Mr!==null)for(r=Mr.return;r!==null;){var n=r;switch(Lx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oy();break;case 3:kd(),ir(Jn),ir(kn),Ux();break;case 5:qx(n);break;case 4:kd();break;case 13:ir(fr);break;case 19:ir(fr);break;case 10:Fx(n.type._context);break;case 22:case 23:tN()}r=r.return}if(tn=e,Mr=e=Va(e.current,null),pn=di=t,Gr=0,Wf=null,Yx=$0=Su=0,Vn=Xh=null,Vl!==null){for(t=0;t<Vl.length;t++)if(r=Vl[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Vl=null}return e}function HO(e,t){do{var r=Mr;try{if(Mx(),Zg.current=My,jy){for(var n=pr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}jy=!1}if(Nu=0,Xr=Ur=pr=null,Zh=!1,Mf=0,Zx.current=null,r===null||r.return===null){Gr=1,Wf=t,Mr=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=pn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var w=tk(o);if(w!==null){w.flags&=-257,rk(w,o,a,s,t),w.mode&1&&ek(s,u,t),t=w,l=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(l),t.updateQueue=x}else b.add(l);break e}else{if(!(t&1)){ek(s,u,t),rN();break e}l=Error(ge(426))}}else if(ar&&a.mode&1){var E=tk(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),rk(E,o,a,s,t),Dx(Ed(l,a));break e}}s=l=Ed(l,a),Gr!==4&&(Gr=2),Xh===null?Xh=[s]:Xh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=OO(s,l,t);GS(s,g);break e;case 1:a=l;var v=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(qa===null||!qa.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var O=RO(s,a,t);GS(s,O);break e}}s=s.return}while(s!==null)}JO(r)}catch(R){t=R,Mr===r&&r!==null&&(Mr=r=r.return);continue}break}while(!0)}function GO(){var e=Fy.current;return Fy.current=My,e===null?My:e}function rN(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),tn===null||!(Su&268435455)&&!($0&268435455)||ga(tn,pn)}function zy(e,t){var r=Ct;Ct|=2;var n=GO();(tn!==e||pn!==t)&&(oo=null,hu(e,t));do try{B5();break}catch(i){HO(e,i)}while(!0);if(Mx(),Ct=r,Fy.current=n,Mr!==null)throw Error(ge(261));return tn=null,pn=0,Gr}function B5(){for(;Mr!==null;)QO(Mr)}function W5(){for(;Mr!==null&&!h$();)QO(Mr)}function QO(e){var t=ZO(e.alternate,e,di);e.memoizedProps=e.pendingProps,t===null?JO(e):Mr=t,Zx.current=null}function JO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$5(r,t),r!==null){r.flags&=32767,Mr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gr=6,Mr=null;return}}else if(r=I5(r,t,di),r!==null){Mr=r;return}if(t=t.sibling,t!==null){Mr=t;return}Mr=t=e}while(t!==null);Gr===0&&(Gr=5)}function Al(e,t,r){var n=Wt,i=$i.transition;try{$i.transition=null,Wt=1,z5(e,t,r,n)}finally{$i.transition=i,Wt=n}return null}function z5(e,t,r,n){do Gc();while(Ia!==null);if(Ct&6)throw Error(ge(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(x$(e,s),e===tn&&(Mr=tn=null,pn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||kg||(kg=!0,YO(Ny,function(){return Gc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=$i.transition,$i.transition=null;var o=Wt;Wt=1;var a=Ct;Ct|=4,Zx.current=null,D5(e,r),qO(r,e),l5(Ab),ky=!!Pb,Ab=Pb=null,e.current=r,j5(r),f$(),Ct=a,Wt=o,$i.transition=s}else e.current=r;if(kg&&(kg=!1,Ia=e,Wy=i),s=e.pendingLanes,s===0&&(qa=null),g$(r.stateNode),Zn(e,Pr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(By)throw By=!1,e=Yb,Yb=null,e;return Wy&1&&e.tag!==0&&Gc(),s=e.pendingLanes,s&1?e===Xb?ef++:(ef=0,Xb=e):ef=0,vl(),null}function Gc(){if(Ia!==null){var e=T3(Wy),t=$i.transition,r=Wt;try{if($i.transition=null,Wt=16>e?16:e,Ia===null)var n=!1;else{if(e=Ia,Ia=null,Wy=0,Ct&6)throw Error(ge(331));var i=Ct;for(Ct|=4,Ie=e.current;Ie!==null;){var s=Ie,o=s.child;if(Ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ie=u;Ie!==null;){var c=Ie;switch(c.tag){case 0:case 11:case 15:Yh(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ie=f;else for(;Ie!==null;){c=Ie;var p=c.sibling,w=c.return;if(BO(c),c===u){Ie=null;break}if(p!==null){p.return=w,Ie=p;break}Ie=w}}}var b=s.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}Ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ie=o;else e:for(;Ie!==null;){if(s=Ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yh(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ie=g;break e}Ie=s.return}}var v=e.current;for(Ie=v;Ie!==null;){o=Ie;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Ie=N;else e:for(o=v;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:I0(9,a)}}catch(R){br(a,a.return,R)}if(a===o){Ie=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,Ie=O;break e}Ie=a.return}}if(Ct=i,vl(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(k0,e)}catch{}n=!0}return n}finally{Wt=r,$i.transition=t}}return!1}function mk(e,t,r){t=Ed(r,t),t=OO(e,t,1),e=za(e,t,1),t=Mn(),e!==null&&(qp(e,1,t),Zn(e,t))}function br(e,t,r){if(e.tag===3)mk(e,e,r);else for(;t!==null;){if(t.tag===3){mk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qa===null||!qa.has(n))){e=Ed(r,e),e=RO(t,e,1),t=za(t,e,1),e=Mn(),t!==null&&(qp(t,1,e),Zn(t,e));break}}t=t.return}}function q5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mn(),e.pingedLanes|=e.suspendedLanes&r,tn===e&&(pn&r)===r&&(Gr===4||Gr===3&&(pn&130023424)===pn&&500>Pr()-Xx?hu(e,0):Yx|=r),Zn(e,t)}function KO(e,t){t===0&&(e.mode&1?(t=mg,mg<<=1,!(mg&130023424)&&(mg=4194304)):t=1);var r=Mn();e=Lo(e,t),e!==null&&(qp(e,t,r),Zn(e,r))}function U5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KO(e,r)}function V5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),KO(e,r)}var ZO;ZO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jn.current)Gn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gn=!1,A5(e,t,r);Gn=!!(e.flags&131072)}else Gn=!1,ar&&t.flags&1048576&&eO(t,Ay,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xg(e,t),e=t.pendingProps;var i=xd(t,kn.current);Hc(t,r),i=Hx(null,t,n,e,i,r);var s=Gx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kn(n)?(s=!0,Ry(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wx(t),i.updater=P0,t.stateNode=i,i._reactInternals=t,Wb(t,n,e,r),t=Ub(null,t,n,!0,s,r)):(t.tag=0,ar&&s&&$x(t),An(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xg(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=G5(n),e=Hi(n,e),i){case 0:t=qb(null,t,n,e,r);break e;case 1:t=sk(null,t,n,e,r);break e;case 11:t=nk(null,t,n,e,r);break e;case 14:t=ik(null,t,n,Hi(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hi(n,i),qb(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hi(n,i),sk(e,t,n,i,r);case 3:e:{if($O(t),e===null)throw Error(ge(387));n=t.pendingProps,s=t.memoizedState,i=s.element,iO(e,t),Ly(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ed(Error(ge(423)),t),t=ok(e,t,n,r,i);break e}else if(n!==i){i=Ed(Error(ge(424)),t),t=ok(e,t,n,r,i);break e}else for(pi=Wa(t.stateNode.containerInfo.firstChild),mi=t,ar=!0,as=null,r=lO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nd(),n===i){t=Do(e,t,r);break e}An(e,t,n,r)}t=t.child}return t;case 5:return uO(t),e===null&&Mb(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ib(n,i)?o=null:s!==null&&Ib(n,s)&&(t.flags|=32),IO(e,t),An(e,t,o,r),t.child;case 6:return e===null&&Mb(t),null;case 13:return LO(e,t,r);case 4:return zx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Sd(t,null,n,r):An(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hi(n,i),nk(e,t,n,i,r);case 7:return An(e,t,t.pendingProps,r),t.child;case 8:return An(e,t,t.pendingProps.children,r),t.child;case 12:return An(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Yt(Iy,n._currentValue),n._currentValue=o,s!==null)if(gs(s.value,o)){if(s.children===i.children&&!Jn.current){t=Do(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Co(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Fb(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ge(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Fb(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}An(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Hc(t,r),i=Li(i),n=n(i),t.flags|=1,An(e,t,n,r),t.child;case 14:return n=t.type,i=Hi(n,t.pendingProps),i=Hi(n.type,i),ik(e,t,n,i,r);case 15:return PO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Hi(n,i),Xg(e,t),t.tag=1,Kn(n)?(e=!0,Ry(t)):e=!1,Hc(t,r),oO(t,n,i),Wb(t,n,i,r),Ub(null,t,n,!0,e,r);case 19:return DO(e,t,r);case 22:return AO(e,t,r)}throw Error(ge(156,t.tag))};function YO(e,t){return S3(e,t)}function H5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(e,t,r,n){return new H5(e,t,r,n)}function nN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function G5(e){if(typeof e=="function")return nN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xx)return 11;if(e===Nx)return 14}return 2}function Va(e,t){var r=e.alternate;return r===null?(r=Ai(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ry(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")nN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case bc:return fu(r.children,i,s,t);case _x:o=8,i|=8;break;case db:return e=Ai(12,r,t,i|2),e.elementType=db,e.lanes=s,e;case hb:return e=Ai(13,r,t,i),e.elementType=hb,e.lanes=s,e;case fb:return e=Ai(19,r,t,i),e.elementType=fb,e.lanes=s,e;case a3:return L0(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s3:o=10;break e;case o3:o=9;break e;case xx:o=11;break e;case Nx:o=14;break e;case ua:o=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Ai(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function fu(e,t,r,n){return e=Ai(7,e,n,t),e.lanes=r,e}function L0(e,t,r,n){return e=Ai(22,e,n,t),e.elementType=a3,e.lanes=r,e.stateNode={isHidden:!1},e}function _w(e,t,r){return e=Ai(6,e,null,t),e.lanes=r,e}function xw(e,t,r){return t=Ai(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Q5(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rw(0),this.expirationTimes=rw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iN(e,t,r,n,i,s,o,a,l){return e=new Q5(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ai(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wx(s),e}function J5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function XO(e){if(!e)return Xa;e=e._reactInternals;e:{if(Bu(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(Kn(r))return Y3(e,r,t)}return t}function e4(e,t,r,n,i,s,o,a,l){return e=iN(r,n,!0,e,i,s,o,a,l),e.context=XO(null),r=e.current,n=Mn(),i=Ua(r),s=Co(n,i),s.callback=t??null,za(r,s,i),e.current.lanes=i,qp(e,i,n),Zn(e,n),e}function D0(e,t,r,n){var i=t.current,s=Mn(),o=Ua(i);return r=XO(r),t.context===null?t.context=r:t.pendingContext=r,t=Co(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=za(i,t,o),e!==null&&(fs(e,i,o,s),Kg(e,i,o)),o}function qy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sN(e,t){gk(e,t),(e=e.alternate)&&gk(e,t)}function K5(){return null}var t4=typeof reportError=="function"?reportError:function(e){console.error(e)};function oN(e){this._internalRoot=e}j0.prototype.render=oN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));D0(e,t,null,null)};j0.prototype.unmount=oN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ku(function(){D0(null,e,null,null)}),t[$o]=null}};function j0(e){this._internalRoot=e}j0.prototype.unstable_scheduleHydration=function(e){if(e){var t=P3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ma.length&&t!==0&&t<ma[r].priority;r++);ma.splice(r,0,e),r===0&&I3(e)}};function aN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function M0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yk(){}function Z5(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=qy(o);s.call(u)}}var o=e4(t,n,e,0,null,!1,!1,"",yk);return e._reactRootContainer=o,e[$o]=o.current,If(e.nodeType===8?e.parentNode:e),ku(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=qy(l);a.call(u)}}var l=iN(e,0,!1,null,null,!1,!1,"",yk);return e._reactRootContainer=l,e[$o]=l.current,If(e.nodeType===8?e.parentNode:e),ku(function(){D0(t,l,r,n)}),l}function F0(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=qy(o);a.call(l)}}D0(t,o,e,i)}else o=Z5(r,t,e,i,n);return qy(o)}O3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wh(t.pendingLanes);r!==0&&(Ex(t,r|1),Zn(t,Pr()),!(Ct&6)&&(Cd=Pr()+500,vl()))}break;case 13:ku(function(){var n=Lo(e,1);if(n!==null){var i=Mn();fs(n,e,1,i)}}),sN(e,1)}};Cx=function(e){if(e.tag===13){var t=Lo(e,134217728);if(t!==null){var r=Mn();fs(t,e,134217728,r)}sN(e,134217728)}};R3=function(e){if(e.tag===13){var t=Ua(e),r=Lo(e,t);if(r!==null){var n=Mn();fs(r,e,t,n)}sN(e,t)}};P3=function(){return Wt};A3=function(e,t){var r=Wt;try{return Wt=e,t()}finally{Wt=r}};Nb=function(e,t,r){switch(t){case"input":if(gb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=O0(n);if(!i)throw Error(ge(90));u3(n),gb(n,i)}}}break;case"textarea":d3(e,r);break;case"select":t=r.value,t!=null&&zc(e,!!r.multiple,t,!1)}};v3=eN;w3=ku;var Y5={usingClientEntryPoint:!1,Events:[Vp,Sc,O0,g3,y3,eN]},kh={findFiberByHostInstance:Ul,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},X5={bundleType:kh.bundleType,version:kh.version,rendererPackageName:kh.rendererPackageName,rendererConfig:kh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=x3(e),e===null?null:e.stateNode},findFiberByHostInstance:kh.findFiberByHostInstance||K5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eg.isDisabled&&Eg.supportsFiber)try{k0=Eg.inject(X5),Ms=Eg}catch{}}bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y5;bi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aN(t))throw Error(ge(200));return J5(e,t,null,r)};bi.createRoot=function(e,t){if(!aN(e))throw Error(ge(299));var r=!1,n="",i=t4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=iN(e,1,!1,null,null,r,!1,n,i),e[$o]=t.current,If(e.nodeType===8?e.parentNode:e),new oN(t)};bi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=x3(t),e=e===null?null:e.stateNode,e};bi.flushSync=function(e){return ku(e)};bi.hydrate=function(e,t,r){if(!M0(t))throw Error(ge(200));return F0(null,e,t,!0,r)};bi.hydrateRoot=function(e,t,r){if(!aN(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=t4;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=e4(t,null,e,1,r??null,i,!1,s,o),e[$o]=t.current,If(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new j0(t)};bi.render=function(e,t,r){if(!M0(t))throw Error(ge(200));return F0(null,e,t,!1,r)};bi.unmountComponentAtNode=function(e){if(!M0(e))throw Error(ge(40));return e._reactRootContainer?(ku(function(){F0(null,null,e,!1,function(){e._reactRootContainer=null,e[$o]=null})}),!0):!1};bi.unstable_batchedUpdates=eN;bi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!M0(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return F0(e,t,r,!1,n)};bi.version="18.2.0-next-9e3b772b8-20220608";function r4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r4)}catch(e){console.error(e)}}r4(),e3.exports=bi;var B0=e3.exports;const eL=Vo(B0),tL=qT({__proto__:null,default:eL},[B0]);var vk=B0;ub.createRoot=vk.createRoot,ub.hydrateRoot=vk.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_r.apply(this,arguments)}var Tr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tr||(Tr={}));const wk="popstate";function rL(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=Zs(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),zf("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:Cu(s))}function n(i,s){Eu(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return iL(t,r,n,e)}function mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Eu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nL(){return Math.random().toString(36).substr(2,8)}function bk(e,t){return{usr:e.state,key:e.key,idx:t}}function zf(e,t,r,n){return r===void 0&&(r=null),_r({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zs(t):t,{state:r,key:t&&t.key||n||nL()})}function Cu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function iL(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Tr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(_r({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Tr.Pop;let E=c(),g=E==null?null:E-u;u=E,l&&l({action:a,location:x.location,delta:g})}function p(E,g){a=Tr.Push;let v=zf(x.location,E,g);r&&r(v,E),u=c()+1;let N=bk(v,u),O=x.createHref(v);try{o.pushState(N,"",O)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(O)}s&&l&&l({action:a,location:x.location,delta:1})}function w(E,g){a=Tr.Replace;let v=zf(x.location,E,g);r&&r(v,E),u=c();let N=bk(v,u),O=x.createHref(v);o.replaceState(N,"",O),s&&l&&l({action:a,location:x.location,delta:0})}function b(E){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof E=="string"?E:Cu(E);return v=v.replace(/ $/,"%20"),mt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let x={get action(){return a},get location(){return e(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wk,f),l=E,()=>{i.removeEventListener(wk,f),l=null}},createHref(E){return t(i,E)},createURL:b,encodeLocation(E){let g=b(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:w,go(E){return o.go(E)}};return x}var vr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vr||(vr={}));const sL=new Set(["lazy","caseSensitive","path","id","index","children"]);function oL(e){return e.index===!0}function r_(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((i,s)=>{let o=[...r,s],a=typeof i.id=="string"?i.id:o.join("-");if(mt(i.index!==!0||!i.children,"Cannot specify children on an index route"),mt(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),oL(i)){let l=_r({},i,t(i),{id:a});return n[a]=l,l}else{let l=_r({},i,t(i),{id:a,children:void 0});return n[a]=l,i.children&&(l.children=r_(i.children,t,o,n)),l}})}function Pc(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Zs(t):t,i=Vd(n.pathname||"/",r);if(i==null)return null;let s=n4(e);lL(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=bL(i);o=yL(s[a],l)}return o}function aL(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function n4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=To([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),n4(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:mL(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of i4(s.path))i(s,o,l)}),t}function i4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=i4(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function lL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uL=/^:[\w-]+$/,cL=3,dL=2,hL=1,fL=10,pL=-2,_k=e=>e==="*";function mL(e,t){let r=e.split("/"),n=r.length;return r.some(_k)&&(n+=pL),t&&(n+=dL),r.filter(i=>!_k(i)).reduce((i,s)=>i+(uL.test(s)?cL:s===""?hL:fL),n)}function gL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function yL(e,t){let{routesMeta:r}=e,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],l=o===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=vL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);let f=a.route;s.push({params:n,pathname:To([i,c.pathname]),pathnameBase:NL(To([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=To([i,c.pathnameBase]))}return s}function vL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:p,isOptional:w}=c;if(p==="*"){let x=a[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[f];return w&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function wL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Eu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function bL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Eu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _L(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Zs(e):e;return{pathname:r?r.startsWith("/")?r:xL(r,t):t,search:SL(n),hash:kL(i)}}function xL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Nw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lN(e,t){let r=s4(e);return t?r.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uN(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Zs(e):(i=_r({},e),mt(!i.pathname||!i.pathname.includes("?"),Nw("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),Nw("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),Nw("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=_L(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const To=e=>e.join("/").replace(/\/\/+/g,"/"),NL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class cN{constructor(t,r,n,i){i===void 0&&(i=!1),this.status=t,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function o4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const a4=["post","put","patch","delete"],EL=new Set(a4),CL=["get",...a4],TL=new Set(CL),OL=new Set([301,302,303,307,308]),RL=new Set([307,308]),Sw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Eh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},l4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AL=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),u4="remix-router-transitions";function IL(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;mt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let M=e.detectErrorBoundary;i=V=>({hasErrorBoundary:M(V)})}else i=AL;let s={},o=r_(e.routes,i,void 0,s),a,l=e.basename||"/",u=_r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),c=null,f=new Set,p=null,w=null,b=null,x=e.hydrationData!=null,E=Pc(o,e.history.location,l),g=null;if(E==null){let M=Oi(404,{pathname:e.history.location.pathname}),{matches:V,route:re}=Ok(o);E=V,g={[re.id]:M}}let v,N=E.some(M=>M.route.lazy),O=E.some(M=>M.route.loader);if(N)v=!1;else if(!O)v=!0;else if(u.v7_partialHydration){let M=e.hydrationData?e.hydrationData.loaderData:null,V=e.hydrationData?e.hydrationData.errors:null,re=B=>B.route.loader?B.route.loader.hydrate===!0?!1:M&&M[B.route.id]!==void 0||V&&V[B.route.id]!==void 0:!0;if(V){let B=E.findIndex($e=>V[$e.route.id]!==void 0);v=E.slice(0,B+1).every(re)}else v=E.every(re)}else v=e.hydrationData!=null;let R,C={historyAction:e.history.action,location:e.history.location,matches:E,initialized:v,navigation:Sw,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},$=Tr.Pop,L=!1,G,F=!1,J=new Map,ee=null,q=!1,ie=!1,ve=[],Se=[],_e=new Map,H=0,de=-1,pe=new Map,ke=new Set,K=new Map,fe=new Map,le=new Set,Ce=new Map,j=new Map,Ee=!1;function Z(){if(c=e.history.listen(M=>{let{action:V,location:re,delta:B}=M;if(Ee){Ee=!1;return}Eu(j.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $e=Zm({currentLocation:C.location,nextLocation:re,historyAction:V});if($e&&B!=null){Ee=!0,e.history.go(B*-1),eo($e,{state:"blocked",location:re,proceed(){eo($e,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),e.history.go(B)},reset(){let Ue=new Map(C.blockers);Ue.set($e,Eh),xe({blockers:Ue})}});return}return Te(V,re)}),r){UL(t,J);let M=()=>VL(t,J);t.addEventListener("pagehide",M),ee=()=>t.removeEventListener("pagehide",M)}return C.initialized||Te(Tr.Pop,C.location,{initialHydration:!0}),R}function je(){c&&c(),ee&&ee(),f.clear(),G&&G.abort(),C.fetchers.forEach((M,V)=>jt(V)),C.blockers.forEach((M,V)=>Yu(V))}function Pe(M){return f.add(M),()=>f.delete(M)}function xe(M,V){V===void 0&&(V={}),C=_r({},C,M);let re=[],B=[];u.v7_fetcherPersist&&C.fetchers.forEach(($e,Ue)=>{$e.state==="idle"&&(le.has(Ue)?B.push(Ue):re.push(Ue))}),[...f].forEach($e=>$e(C,{deletedFetchers:B,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),u.v7_fetcherPersist&&(re.forEach($e=>C.fetchers.delete($e)),B.forEach($e=>jt($e)))}function se(M,V,re){var B,$e;let{flushSync:Ue}=re===void 0?{}:re,Qe=C.actionData!=null&&C.navigation.formMethod!=null&&ss(C.navigation.formMethod)&&C.navigation.state==="loading"&&((B=M.state)==null?void 0:B._isRedirect)!==!0,Ve;V.actionData?Object.keys(V.actionData).length>0?Ve=V.actionData:Ve=null:Qe?Ve=C.actionData:Ve=null;let We=V.loaderData?Tk(C.loaderData,V.loaderData,V.matches||[],V.errors):C.loaderData,ut=C.blockers;ut.size>0&&(ut=new Map(ut),ut.forEach((Mt,sr)=>ut.set(sr,Eh)));let Sr=L===!0||C.navigation.formMethod!=null&&ss(C.navigation.formMethod)&&(($e=M.state)==null?void 0:$e._isRedirect)!==!0;a&&(o=a,a=void 0),q||$===Tr.Pop||($===Tr.Push?e.history.push(M,M.state):$===Tr.Replace&&e.history.replace(M,M.state));let He;if($===Tr.Pop){let Mt=J.get(C.location.pathname);Mt&&Mt.has(M.pathname)?He={currentLocation:C.location,nextLocation:M}:J.has(M.pathname)&&(He={currentLocation:M,nextLocation:C.location})}else if(F){let Mt=J.get(C.location.pathname);Mt?Mt.add(M.pathname):(Mt=new Set([M.pathname]),J.set(C.location.pathname,Mt)),He={currentLocation:C.location,nextLocation:M}}xe(_r({},V,{actionData:Ve,loaderData:We,historyAction:$,location:M,initialized:!0,navigation:Sw,revalidation:"idle",restoreScrollPosition:hh(M,V.matches||C.matches),preventScrollReset:Sr,blockers:ut}),{viewTransitionOpts:He,flushSync:Ue===!0}),$=Tr.Pop,L=!1,F=!1,q=!1,ie=!1,ve=[],Se=[]}async function oe(M,V){if(typeof M=="number"){e.history.go(M);return}let re=n_(C.location,C.matches,l,u.v7_prependBasename,M,u.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:B,submission:$e,error:Ue}=xk(u.v7_normalizeFormMethod,!1,re,V),Qe=C.location,Ve=zf(C.location,B,V&&V.state);Ve=_r({},Ve,e.history.encodeLocation(Ve));let We=V&&V.replace!=null?V.replace:void 0,ut=Tr.Push;We===!0?ut=Tr.Replace:We===!1||$e!=null&&ss($e.formMethod)&&$e.formAction===C.location.pathname+C.location.search&&(ut=Tr.Replace);let Sr=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,He=(V&&V.unstable_flushSync)===!0,Mt=Zm({currentLocation:Qe,nextLocation:Ve,historyAction:ut});if(Mt){eo(Mt,{state:"blocked",location:Ve,proceed(){eo(Mt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),oe(M,V)},reset(){let sr=new Map(C.blockers);sr.set(Mt,Eh),xe({blockers:sr})}});return}return await Te(ut,Ve,{submission:$e,pendingError:Ue,preventScrollReset:Sr,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:He})}function De(){if(ae(),xe({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Te(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Te($||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation})}}async function Te(M,V,re){G&&G.abort(),G=null,$=M,q=(re&&re.startUninterruptedRevalidation)===!0,dh(C.location,C.matches),L=(re&&re.preventScrollReset)===!0,F=(re&&re.enableViewTransition)===!0;let B=a||o,$e=re&&re.overrideNavigation,Ue=Pc(B,V,l),Qe=(re&&re.flushSync)===!0;if(!Ue){let sr=Oi(404,{pathname:V.pathname}),{matches:wn,route:kr}=Ok(B);Xu(),se(V,{matches:wn,loaderData:{},errors:{[kr.id]:sr}},{flushSync:Qe});return}if(C.initialized&&!ie&&ML(C.location,V)&&!(re&&re.submission&&ss(re.submission.formMethod))){se(V,{matches:Ue},{flushSync:Qe});return}G=new AbortController;let Ve=Th(e.history,V,G.signal,re&&re.submission),We,ut;if(re&&re.pendingError)ut={[tf(Ue).route.id]:re.pendingError};else if(re&&re.submission&&ss(re.submission.formMethod)){let sr=await dt(Ve,V,re.submission,Ue,{replace:re.replace,flushSync:Qe});if(sr.shortCircuited)return;We=sr.pendingActionData,ut=sr.pendingActionError,$e=kw(V,re.submission),Qe=!1,Ve=new Request(Ve.url,{signal:Ve.signal})}let{shortCircuited:Sr,loaderData:He,errors:Mt}=await rt(Ve,V,Ue,$e,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,Qe,We,ut);Sr||(G=null,se(V,_r({matches:Ue},We?{actionData:We}:{},{loaderData:He,errors:Mt})))}async function dt(M,V,re,B,$e){$e===void 0&&($e={}),ae();let Ue=zL(V,re);xe({navigation:Ue},{flushSync:$e.flushSync===!0});let Qe,Ve=s_(B,V);if(!Ve.route.action&&!Ve.route.lazy)Qe={type:vr.error,error:Oi(405,{method:M.method,pathname:V.pathname,routeId:Ve.route.id})};else if(Qe=await Ch("action",M,Ve,B,s,i,l,u.v7_relativeSplatPath),M.signal.aborted)return{shortCircuited:!0};if(Ql(Qe)){let We;return $e&&$e.replace!=null?We=$e.replace:We=Qe.location===C.location.pathname+C.location.search,await we(C,Qe,{submission:re,replace:We}),{shortCircuited:!0}}if(Ac(Qe)){let We=tf(B,Ve.route.id);return($e&&$e.replace)!==!0&&($=Tr.Push),{pendingActionData:{},pendingActionError:{[We.route.id]:Qe.error}}}if(Gl(Qe))throw Oi(400,{type:"defer-action"});return{pendingActionData:{[Ve.route.id]:Qe.data}}}async function rt(M,V,re,B,$e,Ue,Qe,Ve,We,ut,Sr){let He=B||kw(V,$e),Mt=$e||Ue||Ak(He),sr=a||o,[wn,kr]=Nk(e.history,C,re,Mt,V,u.v7_partialHydration&&Ve===!0,ie,ve,Se,le,K,ke,sr,l,ut,Sr);if(Xu(St=>!(re&&re.some(It=>It.route.id===St))||wn&&wn.some(It=>It.route.id===St)),de=++H,wn.length===0&&kr.length===0){let St=Xs();return se(V,_r({matches:re,loaderData:{},errors:Sr||null},ut?{actionData:ut}:{},St?{fetchers:new Map(C.fetchers)}:{}),{flushSync:We}),{shortCircuited:!0}}if(!q&&(!u.v7_partialHydration||!Ve)){kr.forEach(It=>{let an=C.fetchers.get(It.key),ks=Oh(void 0,an?an.data:void 0);C.fetchers.set(It.key,ks)});let St=ut||C.actionData;xe(_r({navigation:He},St?Object.keys(St).length===0?{actionData:null}:{actionData:St}:{},kr.length>0?{fetchers:new Map(C.fetchers)}:{}),{flushSync:We})}kr.forEach(St=>{_e.has(St.key)&&on(St.key),St.controller&&_e.set(St.key,St.controller)});let ra=()=>kr.forEach(St=>on(St.key));G&&G.signal.addEventListener("abort",ra);let{results:Fr,loaderResults:to,fetcherResults:Ns}=await me(C.matches,re,wn,kr,M);if(M.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",ra),kr.forEach(St=>_e.delete(St.key));let Fi=Rk(Fr);if(Fi){if(Fi.idx>=wn.length){let St=kr[Fi.idx-wn.length].key;ke.add(St)}return await we(C,Fi.result,{replace:Qe}),{shortCircuited:!0}}let{loaderData:ec,errors:Ss}=Ck(C,re,wn,to,Sr,kr,Ns,Ce);Ce.forEach((St,It)=>{St.subscribe(an=>{(an||St.done)&&Ce.delete(It)})}),u.v7_partialHydration&&Ve&&C.errors&&Object.entries(C.errors).filter(St=>{let[It]=St;return!wn.some(an=>an.route.id===It)}).forEach(St=>{let[It,an]=St;Ss=Object.assign(Ss||{},{[It]:an})});let qn=Xs(),Bi=Nl(de),na=qn||Bi||kr.length>0;return _r({loaderData:ec,errors:Ss},na?{fetchers:new Map(C.fetchers)}:{})}function P(M,V,re,B){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");_e.has(M)&&on(M);let $e=(B&&B.unstable_flushSync)===!0,Ue=a||o,Qe=n_(C.location,C.matches,l,u.v7_prependBasename,re,u.v7_relativeSplatPath,V,B==null?void 0:B.relative),Ve=Pc(Ue,Qe,l);if(!Ve){Oe(M,V,Oi(404,{pathname:Qe}),{flushSync:$e});return}let{path:We,submission:ut,error:Sr}=xk(u.v7_normalizeFormMethod,!0,Qe,B);if(Sr){Oe(M,V,Sr,{flushSync:$e});return}let He=s_(Ve,We);if(L=(B&&B.preventScrollReset)===!0,ut&&ss(ut.formMethod)){D(M,V,We,He,Ve,$e,ut);return}K.set(M,{routeId:V,path:We}),U(M,V,We,He,Ve,$e,ut)}async function D(M,V,re,B,$e,Ue,Qe){if(ae(),K.delete(M),!B.route.action&&!B.route.lazy){let It=Oi(405,{method:Qe.formMethod,pathname:re,routeId:V});Oe(M,V,It,{flushSync:Ue});return}let Ve=C.fetchers.get(M);X(M,qL(Qe,Ve),{flushSync:Ue});let We=new AbortController,ut=Th(e.history,re,We.signal,Qe);_e.set(M,We);let Sr=H,He=await Ch("action",ut,B,$e,s,i,l,u.v7_relativeSplatPath);if(ut.signal.aborted){_e.get(M)===We&&_e.delete(M);return}if(u.v7_fetcherPersist&&le.has(M)){if(Ql(He)||Ac(He)){X(M,aa(void 0));return}}else{if(Ql(He))if(_e.delete(M),de>Sr){X(M,aa(void 0));return}else return ke.add(M),X(M,Oh(Qe)),we(C,He,{fetcherSubmission:Qe});if(Ac(He)){Oe(M,V,He.error);return}}if(Gl(He))throw Oi(400,{type:"defer-action"});let Mt=C.navigation.location||C.location,sr=Th(e.history,Mt,We.signal),wn=a||o,kr=C.navigation.state!=="idle"?Pc(wn,C.navigation.location,l):C.matches;mt(kr,"Didn't find any matches after fetcher action");let ra=++H;pe.set(M,ra);let Fr=Oh(Qe,He.data);C.fetchers.set(M,Fr);let[to,Ns]=Nk(e.history,C,kr,Qe,Mt,!1,ie,ve,Se,le,K,ke,wn,l,{[B.route.id]:He.data},void 0);Ns.filter(It=>It.key!==M).forEach(It=>{let an=It.key,ks=C.fetchers.get(an),Ym=Oh(void 0,ks?ks.data:void 0);C.fetchers.set(an,Ym),_e.has(an)&&on(an),It.controller&&_e.set(an,It.controller)}),xe({fetchers:new Map(C.fetchers)});let Fi=()=>Ns.forEach(It=>on(It.key));We.signal.addEventListener("abort",Fi);let{results:ec,loaderResults:Ss,fetcherResults:qn}=await me(C.matches,kr,to,Ns,sr);if(We.signal.aborted)return;We.signal.removeEventListener("abort",Fi),pe.delete(M),_e.delete(M),Ns.forEach(It=>_e.delete(It.key));let Bi=Rk(ec);if(Bi){if(Bi.idx>=to.length){let It=Ns[Bi.idx-to.length].key;ke.add(It)}return we(C,Bi.result)}let{loaderData:na,errors:St}=Ck(C,C.matches,to,Ss,void 0,Ns,qn,Ce);if(C.fetchers.has(M)){let It=aa(He.data);C.fetchers.set(M,It)}Nl(ra),C.navigation.state==="loading"&&ra>de?(mt($,"Expected pending action"),G&&G.abort(),se(C.navigation.location,{matches:kr,loaderData:na,errors:St,fetchers:new Map(C.fetchers)})):(xe({errors:St,loaderData:Tk(C.loaderData,na,kr,St),fetchers:new Map(C.fetchers)}),ie=!1)}async function U(M,V,re,B,$e,Ue,Qe){let Ve=C.fetchers.get(M);X(M,Oh(Qe,Ve?Ve.data:void 0),{flushSync:Ue});let We=new AbortController,ut=Th(e.history,re,We.signal);_e.set(M,We);let Sr=H,He=await Ch("loader",ut,B,$e,s,i,l,u.v7_relativeSplatPath);if(Gl(He)&&(He=await h4(He,ut.signal,!0)||He),_e.get(M)===We&&_e.delete(M),!ut.signal.aborted){if(le.has(M)){X(M,aa(void 0));return}if(Ql(He))if(de>Sr){X(M,aa(void 0));return}else{ke.add(M),await we(C,He);return}if(Ac(He)){Oe(M,V,He.error);return}mt(!Gl(He),"Unhandled fetcher deferred data"),X(M,aa(He.data))}}async function we(M,V,re){let{submission:B,fetcherSubmission:$e,replace:Ue}=re===void 0?{}:re;V.revalidate&&(ie=!0);let Qe=zf(M.location,V.location,{_isRedirect:!0});if(mt(Qe,"Expected a location on the redirect navigation"),r){let Mt=!1;if(V.reloadDocument)Mt=!0;else if(l4.test(V.location)){const sr=e.history.createURL(V.location);Mt=sr.origin!==t.location.origin||Vd(sr.pathname,l)==null}if(Mt){Ue?t.location.replace(V.location):t.location.assign(V.location);return}}G=null;let Ve=Ue===!0?Tr.Replace:Tr.Push,{formMethod:We,formAction:ut,formEncType:Sr}=M.navigation;!B&&!$e&&We&&ut&&Sr&&(B=Ak(M.navigation));let He=B||$e;if(RL.has(V.status)&&He&&ss(He.formMethod))await Te(Ve,Qe,{submission:_r({},He,{formAction:V.location}),preventScrollReset:L});else{let Mt=kw(Qe,B);await Te(Ve,Qe,{overrideNavigation:Mt,fetcherSubmission:$e,preventScrollReset:L})}}async function me(M,V,re,B,$e){let Ue=await Promise.all([...re.map(We=>Ch("loader",$e,We,V,s,i,l,u.v7_relativeSplatPath)),...B.map(We=>We.matches&&We.match&&We.controller?Ch("loader",Th(e.history,We.path,We.controller.signal),We.match,We.matches,s,i,l,u.v7_relativeSplatPath):{type:vr.error,error:Oi(404,{pathname:We.path})})]),Qe=Ue.slice(0,re.length),Ve=Ue.slice(re.length);return await Promise.all([Pk(M,re,Qe,Qe.map(()=>$e.signal),!1,C.loaderData),Pk(M,B.map(We=>We.match),Ve,B.map(We=>We.controller?We.controller.signal:null),!0)]),{results:Ue,loaderResults:Qe,fetcherResults:Ve}}function ae(){ie=!0,ve.push(...Xu()),K.forEach((M,V)=>{_e.has(V)&&(Se.push(V),on(V))})}function X(M,V,re){re===void 0&&(re={}),C.fetchers.set(M,V),xe({fetchers:new Map(C.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function Oe(M,V,re,B){B===void 0&&(B={});let $e=tf(C.matches,V);jt(M),xe({errors:{[$e.route.id]:re},fetchers:new Map(C.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Tt(M){return u.v7_fetcherPersist&&(fe.set(M,(fe.get(M)||0)+1),le.has(M)&&le.delete(M)),C.fetchers.get(M)||PL}function jt(M){let V=C.fetchers.get(M);_e.has(M)&&!(V&&V.state==="loading"&&pe.has(M))&&on(M),K.delete(M),pe.delete(M),ke.delete(M),le.delete(M),C.fetchers.delete(M)}function Xt(M){if(u.v7_fetcherPersist){let V=(fe.get(M)||0)-1;V<=0?(fe.delete(M),le.add(M)):fe.set(M,V)}else jt(M);xe({fetchers:new Map(C.fetchers)})}function on(M){let V=_e.get(M);mt(V,"Expected fetch controller: "+M),V.abort(),_e.delete(M)}function ti(M){for(let V of M){let re=Tt(V),B=aa(re.data);C.fetchers.set(V,B)}}function Xs(){let M=[],V=!1;for(let re of ke){let B=C.fetchers.get(re);mt(B,"Expected fetcher: "+re),B.state==="loading"&&(ke.delete(re),M.push(re),V=!0)}return ti(M),V}function Nl(M){let V=[];for(let[re,B]of pe)if(B<M){let $e=C.fetchers.get(re);mt($e,"Expected fetcher: "+re),$e.state==="loading"&&(on(re),pe.delete(re),V.push(re))}return ti(V),V.length>0}function Sl(M,V){let re=C.blockers.get(M)||Eh;return j.get(M)!==V&&j.set(M,V),re}function Yu(M){C.blockers.delete(M),j.delete(M)}function eo(M,V){let re=C.blockers.get(M)||Eh;mt(re.state==="unblocked"&&V.state==="blocked"||re.state==="blocked"&&V.state==="blocked"||re.state==="blocked"&&V.state==="proceeding"||re.state==="blocked"&&V.state==="unblocked"||re.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+re.state+" -> "+V.state);let B=new Map(C.blockers);B.set(M,V),xe({blockers:B})}function Zm(M){let{currentLocation:V,nextLocation:re,historyAction:B}=M;if(j.size===0)return;j.size>1&&Eu(!1,"A router only supports one blocker at a time");let $e=Array.from(j.entries()),[Ue,Qe]=$e[$e.length-1],Ve=C.blockers.get(Ue);if(!(Ve&&Ve.state==="proceeding")&&Qe({currentLocation:V,nextLocation:re,historyAction:B}))return Ue}function Xu(M){let V=[];return Ce.forEach((re,B)=>{(!M||M(B))&&(re.cancel(),V.push(B),Ce.delete(B))}),V}function ht(M,V,re){if(p=M,b=V,w=re||null,!x&&C.navigation===Sw){x=!0;let B=hh(C.location,C.matches);B!=null&&xe({restoreScrollPosition:B})}return()=>{p=null,b=null,w=null}}function ch(M,V){return w&&w(M,V.map(B=>aL(B,C.loaderData)))||M.key}function dh(M,V){if(p&&b){let re=ch(M,V);p[re]=b()}}function hh(M,V){if(p){let re=ch(M,V),B=p[re];if(typeof B=="number")return B}return null}function kl(M){s={},a=r_(M,i,void 0,s)}return R={get basename(){return l},get future(){return u},get state(){return C},get routes(){return o},get window(){return t},initialize:Z,subscribe:Pe,enableScrollRestoration:ht,navigate:oe,fetch:P,revalidate:De,createHref:M=>e.history.createHref(M),encodeLocation:M=>e.history.encodeLocation(M),getFetcher:Tt,deleteFetcher:Xt,dispose:je,getBlocker:Sl,deleteBlocker:Yu,_internalFetchControllers:_e,_internalActiveDeferreds:Ce,_internalSetRoutes:kl},R}function $L(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function n_(e,t,r,n,i,s,o,a){let l,u;if(o){l=[];for(let f of t)if(l.push(f),f.route.id===o){u=f;break}}else l=t,u=t[t.length-1];let c=uN(i||".",lN(l,s),Vd(e.pathname,r)||e.pathname,a==="path");return i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!dN(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:To([r,c.pathname])),Cu(c)}function xk(e,t,r,n){if(!n||!$L(n))return{path:r};if(n.formMethod&&!WL(n.formMethod))return{path:r,error:Oi(405,{method:n.formMethod})};let i=()=>({path:r,error:Oi(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=d4(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ss(o))return i();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,b)=>{let[x,E]=b;return""+w+x+"="+E+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!ss(o))return i();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}mt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=i_(n.formData),u=n.formData;else if(n.body instanceof FormData)l=i_(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=Ek(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=Ek(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ss(c.formMethod))return{path:r,submission:c};let f=Zs(r);return t&&f.search&&dN(f.search)&&l.append("index",""),f.search="?"+l,{path:Cu(f),submission:c}}function LL(e,t){let r=e;if(t){let n=e.findIndex(i=>i.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Nk(e,t,r,n,i,s,o,a,l,u,c,f,p,w,b,x){let E=x?Object.values(x)[0]:b?Object.values(b)[0]:void 0,g=e.createURL(t.location),v=e.createURL(i),N=x?Object.keys(x)[0]:void 0,R=LL(r,N).filter(($,L)=>{let{route:G}=$;if(G.lazy)return!0;if(G.loader==null)return!1;if(s)return G.loader.hydrate?!0:t.loaderData[G.id]===void 0&&(!t.errors||t.errors[G.id]===void 0);if(DL(t.loaderData,t.matches[L],$)||a.some(ee=>ee===$.route.id))return!0;let F=t.matches[L],J=$;return Sk($,_r({currentUrl:g,currentParams:F.params,nextUrl:v,nextParams:J.params},n,{actionResult:E,defaultShouldRevalidate:o||g.pathname+g.search===v.pathname+v.search||g.search!==v.search||c4(F,J)}))}),C=[];return c.forEach(($,L)=>{if(s||!r.some(q=>q.route.id===$.routeId)||u.has(L))return;let G=Pc(p,$.path,w);if(!G){C.push({key:L,routeId:$.routeId,path:$.path,matches:null,match:null,controller:null});return}let F=t.fetchers.get(L),J=s_(G,$.path),ee=!1;f.has(L)?ee=!1:l.includes(L)?ee=!0:F&&F.state!=="idle"&&F.data===void 0?ee=o:ee=Sk(J,_r({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:E,defaultShouldRevalidate:o})),ee&&C.push({key:L,routeId:$.routeId,path:$.path,matches:G,match:J,controller:new AbortController})}),[R,C]}function DL(e,t,r){let n=!t||r.route.id!==t.route.id,i=e[r.route.id]===void 0;return n||i}function c4(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Sk(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function kk(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];mt(i,"No route found in manifest");let s={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Eu(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!sL.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,_r({},t(i),{lazy:void 0}))}async function Ch(e,t,r,n,i,s,o,a,l){l===void 0&&(l={});let u,c,f,p=x=>{let E,g=new Promise((v,N)=>E=N);return f=()=>E(),t.signal.addEventListener("abort",f),Promise.race([x({request:t,params:r.params,context:l.requestContext}),g])};try{let x=r.route[e];if(r.route.lazy)if(x){let E,g=await Promise.all([p(x).catch(v=>{E=v}),kk(r.route,s,i)]);if(E)throw E;c=g[0]}else if(await kk(r.route,s,i),x=r.route[e],x)c=await p(x);else if(e==="action"){let E=new URL(t.url),g=E.pathname+E.search;throw Oi(405,{method:t.method,pathname:g,routeId:r.route.id})}else return{type:vr.data,data:void 0};else if(x)c=await p(x);else{let E=new URL(t.url),g=E.pathname+E.search;throw Oi(404,{pathname:g})}mt(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(x){u=vr.error,c=x}finally{f&&t.signal.removeEventListener("abort",f)}if(BL(c)){let x=c.status;if(OL.has(x)){let g=c.headers.get("Location");if(mt(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!l4.test(g))g=n_(new URL(t.url),n.slice(0,n.indexOf(r)+1),o,!0,g,a);else if(!l.isStaticRequest){let v=new URL(t.url),N=g.startsWith("//")?new URL(v.protocol+g):new URL(g),O=Vd(N.pathname,o)!=null;N.origin===v.origin&&O&&(g=N.pathname+N.search+N.hash)}if(l.isStaticRequest)throw c.headers.set("Location",g),c;return{type:vr.redirect,status:x,location:g,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===vr.error?vr.error:vr.data,response:c};let E;try{let g=c.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?c.body==null?E=null:E=await c.json():E=await c.text()}catch(g){return{type:vr.error,error:g}}return u===vr.error?{type:u,error:new cN(x,c.statusText,E),headers:c.headers}:{type:vr.data,data:E,statusCode:c.status,headers:c.headers}}if(u===vr.error)return{type:u,error:c};if(FL(c)){var w,b;return{type:vr.deferred,deferredData:c,statusCode:(w=c.init)==null?void 0:w.status,headers:((b=c.init)==null?void 0:b.headers)&&new Headers(c.init.headers)}}return{type:vr.data,data:c}}function Th(e,t,r,n){let i=e.createURL(d4(t)).toString(),s={signal:r};if(n&&ss(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=i_(n.formData):s.body=n.formData}return new Request(i,s)}function i_(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Ek(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function jL(e,t,r,n,i){let s={},o=null,a,l=!1,u={};return r.forEach((c,f)=>{let p=t[f].route.id;if(mt(!Ql(c),"Cannot handle redirect results in processLoaderData"),Ac(c)){let w=tf(e,p),b=c.error;n&&(b=Object.values(n)[0],n=void 0),o=o||{},o[w.route.id]==null&&(o[w.route.id]=b),s[p]=void 0,l||(l=!0,a=o4(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else Gl(c)?(i.set(p,c.deferredData),s[p]=c.deferredData.data):s[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[p]=c.headers)}),n&&(o=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Ck(e,t,r,n,i,s,o,a){let{loaderData:l,errors:u}=jL(t,r,n,i,a);for(let c=0;c<s.length;c++){let{key:f,match:p,controller:w}=s[c];mt(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let b=o[c];if(!(w&&w.signal.aborted))if(Ac(b)){let x=tf(e.matches,p==null?void 0:p.route.id);u&&u[x.route.id]||(u=_r({},u,{[x.route.id]:b.error})),e.fetchers.delete(f)}else if(Ql(b))mt(!1,"Unhandled fetcher revalidation redirect");else if(Gl(b))mt(!1,"Unhandled fetcher deferred data");else{let x=aa(b.data);e.fetchers.set(f,x)}}return{loaderData:l,errors:u}}function Tk(e,t,r,n){let i=_r({},t);for(let s of r){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),n&&n.hasOwnProperty(o))break}return i}function tf(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Ok(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Oi(e,t){let{pathname:r,routeId:n,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):e===404?(o="Not Found",a='No route matches URL "'+r+'"'):e===405&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new cN(e||500,o,new Error(a),!0)}function Rk(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Ql(r))return{result:r,idx:t}}}function d4(e){let t=typeof e=="string"?Zs(e):e;return Cu(_r({},t,{hash:""}))}function ML(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Gl(e){return e.type===vr.deferred}function Ac(e){return e.type===vr.error}function Ql(e){return(e&&e.type)===vr.redirect}function FL(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function BL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function WL(e){return TL.has(e.toLowerCase())}function ss(e){return EL.has(e.toLowerCase())}async function Pk(e,t,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],l=t[o];if(!l)continue;let u=e.find(f=>f.route.id===l.route.id),c=u!=null&&!c4(u,l)&&(s&&s[l.route.id])!==void 0;if(Gl(a)&&(i||c)){let f=n[o];mt(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await h4(a,f,i).then(p=>{p&&(r[o]=p||r[o])})}}}async function h4(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:vr.data,data:e.deferredData.unwrappedData}}catch(i){return{type:vr.error,error:i}}return{type:vr.data,data:e.deferredData.data}}}function dN(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function s_(e,t){let r=typeof t=="string"?Zs(t).search:t.search;if(e[e.length-1].route.index&&dN(r||""))return e[e.length-1];let n=s4(e);return n[n.length-1]}function Ak(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:s,json:o}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function kw(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zL(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Oh(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qL(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function aa(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function UL(e,t){try{let r=e.sessionStorage.getItem(u4);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function VL(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(u4,JSON.stringify(r))}catch(n){Eu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(this,arguments)}const W0=k.createContext(null),f4=k.createContext(null),Wu=k.createContext(null),z0=k.createContext(null),Go=k.createContext({outlet:null,matches:[],isDataRoute:!1}),p4=k.createContext(null);function HL(e,t){let{relative:r}=t===void 0?{}:t;Gp()||mt(!1);let{basename:n,navigator:i}=k.useContext(Wu),{hash:s,pathname:o,search:a}=g4(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:To([n,o])),i.createHref({pathname:l,search:a,hash:s})}function Gp(){return k.useContext(z0)!=null}function Qp(){return Gp()||mt(!1),k.useContext(z0).location}function m4(e){k.useContext(Wu).static||k.useLayoutEffect(e)}function GL(){let{isDataRoute:e}=k.useContext(Go);return e?aD():QL()}function QL(){Gp()||mt(!1);let e=k.useContext(W0),{basename:t,future:r,navigator:n}=k.useContext(Wu),{matches:i}=k.useContext(Go),{pathname:s}=Qp(),o=JSON.stringify(lN(i,r.v7_relativeSplatPath)),a=k.useRef(!1);return m4(()=>{a.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=uN(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:To([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,o,s,e])}const JL=k.createContext(null);function KL(e){let t=k.useContext(Go).outlet;return t&&k.createElement(JL.Provider,{value:e},t)}function hN(){let{matches:e}=k.useContext(Go),t=e[e.length-1];return t?t.params:{}}function g4(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Wu),{matches:i}=k.useContext(Go),{pathname:s}=Qp(),o=JSON.stringify(lN(i,n.v7_relativeSplatPath));return k.useMemo(()=>uN(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function ZL(e,t){return y4(e,t)}function y4(e,t,r,n){Gp()||mt(!1);let{navigator:i}=k.useContext(Wu),{matches:s}=k.useContext(Go),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Qp(),c;if(t){var f;let E=typeof t=="string"?Zs(t):t;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||mt(!1),c=E}else c=u;let p=c.pathname||"/",w=p;if(l!=="/"){let E=l.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=Pc(e,{pathname:w}),x=rD(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:To([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:To([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,r,n);return t&&x?k.createElement(z0.Provider,{value:{location:qf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Tr.Pop}},x):x}function YL(){let e=oD(),t=o4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:i},r):null,null)}const XL=k.createElement(YL,null);class eD extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Go.Provider,{value:this.props.routeContext},k.createElement(p4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tD(e){let{routeContext:t,match:r,children:n}=e,i=k.useContext(W0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Go.Provider,{value:t},n)}function rD(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if((s=r)!=null&&s.errors)e=r.matches;else return null}let o=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||mt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:w}=r,b=f.route.loader&&p[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let w,b=!1,x=null,E=null;r&&(w=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||XL,l&&(u<0&&p===0?(lD("route-fallback",!1),b=!0,E=null):u===p&&(b=!0,E=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,p+1)),v=()=>{let N;return w?N=x:b?N=E:f.route.Component?N=k.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=c,k.createElement(tD,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?k.createElement(eD,{location:r.location,revalidation:r.revalidation,component:x,error:w,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var v4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(v4||{}),Uy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Uy||{});function nD(e){let t=k.useContext(W0);return t||mt(!1),t}function iD(e){let t=k.useContext(f4);return t||mt(!1),t}function sD(e){let t=k.useContext(Go);return t||mt(!1),t}function w4(e){let t=sD(),r=t.matches[t.matches.length-1];return r.route.id||mt(!1),r.route.id}function oD(){var e;let t=k.useContext(p4),r=iD(Uy.UseRouteError),n=w4(Uy.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function aD(){let{router:e}=nD(v4.UseNavigateStable),t=w4(Uy.UseNavigateStable),r=k.useRef(!1);return m4(()=>{r.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,qf({fromRouteId:t},s)))},[e,t])}const Ik={};function lD(e,t,r){!t&&!Ik[e]&&(Ik[e]=!0)}function uD(e){return KL(e.context)}function jn(e){mt(!1)}function cD(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Tr.Pop,navigator:s,static:o=!1,future:a}=e;Gp()&&mt(!1);let l=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:qf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Zs(n));let{pathname:c="/",search:f="",hash:p="",state:w=null,key:b="default"}=n,x=k.useMemo(()=>{let E=Vd(c,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:w,key:b},navigationType:i}},[l,c,f,p,w,b,i]);return x==null?null:k.createElement(Wu.Provider,{value:u},k.createElement(z0.Provider,{children:r,value:x}))}function q0(e){let{children:t,location:r}=e;return ZL(Vy(t),r)}new Promise(()=>{});function Vy(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,i)=>{if(!k.isValidElement(n))return;let s=[...t,i];if(n.type===k.Fragment){r.push.apply(r,Vy(n.props.children,s));return}n.type!==jn&&mt(!1),!n.props.index||!n.props.children||mt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Vy(n.props.children,s)),r.push(o)}),r}function dD(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:k.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:k.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:k.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uf.apply(this,arguments)}function hD(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function fD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pD(e,t){return e.button===0&&(!t||t==="_self")&&!fD(e)}const mD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],gD="6";try{window.__reactRouterVersion=gD}catch{}function yD(e,t){return IL({basename:t==null?void 0:t.basename,future:Uf({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:rL({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||vD(),routes:e,mapRouteProperties:dD,window:t==null?void 0:t.window}).initialize()}function vD(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Uf({},t,{errors:wD(t.errors)})),t}function wD(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new cN(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const bD=k.createContext({isTransitioning:!1}),_D=k.createContext(new Map),xD="startTransition",$k=U6[xD],ND="flushSync",Lk=tL[ND];function SD(e){$k?$k(e):e()}function Rh(e){Lk?Lk(e):e()}let kD=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function ED(e){let{fallbackElement:t,router:r,future:n}=e,[i,s]=k.useState(r.state),[o,a]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[c,f]=k.useState(),[p,w]=k.useState(),[b,x]=k.useState(),E=k.useRef(new Map),{v7_startTransition:g}=n||{},v=k.useCallback($=>{g?SD($):$()},[g]),N=k.useCallback(($,L)=>{let{deletedFetchers:G,unstable_flushSync:F,unstable_viewTransitionOpts:J}=L;G.forEach(q=>E.current.delete(q)),$.fetchers.forEach((q,ie)=>{q.data!==void 0&&E.current.set(ie,q.data)});let ee=r.window==null||typeof r.window.document.startViewTransition!="function";if(!J||ee){F?Rh(()=>s($)):v(()=>s($));return}if(F){Rh(()=>{p&&(c&&c.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let q=r.window.document.startViewTransition(()=>{Rh(()=>s($))});q.finished.finally(()=>{Rh(()=>{f(void 0),w(void 0),a(void 0),u({isTransitioning:!1})})}),Rh(()=>w(q));return}p?(c&&c.resolve(),p.skipTransition(),x({state:$,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(a($),u({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[r.window,p,c,E,v]);k.useLayoutEffect(()=>r.subscribe(N),[r,N]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new kD)},[l]),k.useEffect(()=>{if(c&&o&&r.window){let $=o,L=c.promise,G=r.window.document.startViewTransition(async()=>{v(()=>s($)),await L});G.finished.finally(()=>{f(void 0),w(void 0),a(void 0),u({isTransitioning:!1})}),w(G)}},[v,o,c,r.window]),k.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,p,i.location,o]),k.useEffect(()=>{!l.isTransitioning&&b&&(a(b.state),u({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),x(void 0))},[l.isTransitioning,b]),k.useEffect(()=>{},[]);let O=k.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:$=>r.navigate($),push:($,L,G)=>r.navigate($,{state:L,preventScrollReset:G==null?void 0:G.preventScrollReset}),replace:($,L,G)=>r.navigate($,{replace:!0,state:L,preventScrollReset:G==null?void 0:G.preventScrollReset})}),[r]),R=r.basename||"/",C=k.useMemo(()=>({router:r,navigator:O,static:!1,basename:R}),[r,O,R]);return k.createElement(k.Fragment,null,k.createElement(W0.Provider,{value:C},k.createElement(f4.Provider,{value:i},k.createElement(_D.Provider,{value:E.current},k.createElement(bD.Provider,{value:l},k.createElement(cD,{basename:R,location:i.location,navigationType:i.historyAction,navigator:O,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?k.createElement(CD,{routes:r.routes,future:r.future,state:i}):t))))),null)}function CD(e){let{routes:t,future:r,state:n}=e;return y4(t,void 0,n,r)}const TD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Is=k.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=t,p=hD(t,mD),{basename:w}=k.useContext(Wu),b,x=!1;if(typeof u=="string"&&OD.test(u)&&(b=u,TD))try{let N=new URL(window.location.href),O=u.startsWith("//")?new URL(N.protocol+u):new URL(u),R=Vd(O.pathname,w);O.origin===N.origin&&R!=null?u=R+O.search+O.hash:x=!0}catch{}let E=HL(u,{relative:i}),g=RD(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function v(N){n&&n(N),N.defaultPrevented||g(N)}return k.createElement("a",Uf({},p,{href:b||E,onClick:x||s?n:v,ref:r,target:l}))});var Dk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dk||(Dk={}));var jk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jk||(jk={}));function RD(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=GL(),u=Qp(),c=g4(e,{relative:o});return k.useCallback(f=>{if(pD(f,r)){f.preventDefault();let p=n!==void 0?n:Cu(u)===Cu(c);l(e,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,n,i,r,e,s,o,a])}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(this,arguments)}var Qr=Array.isArray,b4=typeof global=="object"&&global&&global.Object===Object&&global,PD=typeof self=="object"&&self&&self.Object===Object&&self,Qo=b4||PD||Function("return this")(),Ws=Qo.Symbol,_4=Object.prototype,AD=_4.hasOwnProperty,ID=_4.toString,Ph=Ws?Ws.toStringTag:void 0;function $D(e){var t=AD.call(e,Ph),r=e[Ph];try{e[Ph]=void 0;var n=!0}catch{}var i=ID.call(e);return n&&(t?e[Ph]=r:delete e[Ph]),i}var LD=Object.prototype,DD=LD.toString;function jD(e){return DD.call(e)}var MD="[object Null]",FD="[object Undefined]",Mk=Ws?Ws.toStringTag:void 0;function Ys(e){return e==null?e===void 0?FD:MD:Mk&&Mk in Object(e)?$D(e):jD(e)}function ys(e){return e!=null&&typeof e=="object"}var BD="[object Symbol]";function U0(e){return typeof e=="symbol"||ys(e)&&Ys(e)==BD}var WD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zD=/^\w*$/;function fN(e,t){if(Qr(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||U0(e)?!0:zD.test(e)||!WD.test(e)||t!=null&&e in Object(t)}function el(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qD="[object AsyncFunction]",UD="[object Function]",VD="[object GeneratorFunction]",HD="[object Proxy]";function Td(e){if(!el(e))return!1;var t=Ys(e);return t==UD||t==VD||t==qD||t==HD}var Ew=Qo["__core-js_shared__"],Fk=function(){var e=/[^.]+$/.exec(Ew&&Ew.keys&&Ew.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function GD(e){return!!Fk&&Fk in e}var QD=Function.prototype,JD=QD.toString;function zu(e){if(e!=null){try{return JD.call(e)}catch{}try{return e+""}catch{}}return""}var KD=/[\\^$.*+?()[\]{}|]/g,ZD=/^\[object .+?Constructor\]$/,YD=Function.prototype,XD=Object.prototype,e9=YD.toString,t9=XD.hasOwnProperty,r9=RegExp("^"+e9.call(t9).replace(KD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n9(e){if(!el(e)||GD(e))return!1;var t=Td(e)?r9:ZD;return t.test(zu(e))}function i9(e,t){return e==null?void 0:e[t]}function qu(e,t){var r=i9(e,t);return n9(r)?r:void 0}var Vf=qu(Object,"create");function s9(){this.__data__=Vf?Vf(null):{},this.size=0}function o9(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var a9="__lodash_hash_undefined__",l9=Object.prototype,u9=l9.hasOwnProperty;function c9(e){var t=this.__data__;if(Vf){var r=t[e];return r===a9?void 0:r}return u9.call(t,e)?t[e]:void 0}var d9=Object.prototype,h9=d9.hasOwnProperty;function f9(e){var t=this.__data__;return Vf?t[e]!==void 0:h9.call(t,e)}var p9="__lodash_hash_undefined__";function m9(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Vf&&t===void 0?p9:t,this}function Tu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tu.prototype.clear=s9;Tu.prototype.delete=o9;Tu.prototype.get=c9;Tu.prototype.has=f9;Tu.prototype.set=m9;function g9(){this.__data__=[],this.size=0}function V0(e,t){return e===t||e!==e&&t!==t}function H0(e,t){for(var r=e.length;r--;)if(V0(e[r][0],t))return r;return-1}var y9=Array.prototype,v9=y9.splice;function w9(e){var t=this.__data__,r=H0(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():v9.call(t,r,1),--this.size,!0}function b9(e){var t=this.__data__,r=H0(t,e);return r<0?void 0:t[r][1]}function _9(e){return H0(this.__data__,e)>-1}function x9(e,t){var r=this.__data__,n=H0(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Jo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jo.prototype.clear=g9;Jo.prototype.delete=w9;Jo.prototype.get=b9;Jo.prototype.has=_9;Jo.prototype.set=x9;var Hf=qu(Qo,"Map");function N9(){this.size=0,this.__data__={hash:new Tu,map:new(Hf||Jo),string:new Tu}}function S9(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function G0(e,t){var r=e.__data__;return S9(t)?r[typeof t=="string"?"string":"hash"]:r.map}function k9(e){var t=G0(this,e).delete(e);return this.size-=t?1:0,t}function E9(e){return G0(this,e).get(e)}function C9(e){return G0(this,e).has(e)}function T9(e,t){var r=G0(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Ko(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ko.prototype.clear=N9;Ko.prototype.delete=k9;Ko.prototype.get=E9;Ko.prototype.has=C9;Ko.prototype.set=T9;var O9="Expected a function";function pN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(O9);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(pN.Cache||Ko),r}pN.Cache=Ko;var R9=500;function P9(e){var t=pN(e,function(n){return r.size===R9&&r.clear(),n}),r=t.cache;return t}var A9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I9=/\\(\\)?/g,$9=P9(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(A9,function(r,n,i,s){t.push(i?s.replace(I9,"$1"):n||r)}),t});function Q0(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var L9=1/0,Bk=Ws?Ws.prototype:void 0,Wk=Bk?Bk.toString:void 0;function x4(e){if(typeof e=="string")return e;if(Qr(e))return Q0(e,x4)+"";if(U0(e))return Wk?Wk.call(e):"";var t=e+"";return t=="0"&&1/e==-L9?"-0":t}function Jp(e){return e==null?"":x4(e)}function Kp(e,t){return Qr(e)?e:fN(e,t)?[e]:$9(Jp(e))}var D9="[object Arguments]";function zk(e){return ys(e)&&Ys(e)==D9}var N4=Object.prototype,j9=N4.hasOwnProperty,M9=N4.propertyIsEnumerable,J0=zk(function(){return arguments}())?zk:function(e){return ys(e)&&j9.call(e,"callee")&&!M9.call(e,"callee")},F9=9007199254740991,B9=/^(?:0|[1-9]\d*)$/;function K0(e,t){var r=typeof e;return t=t??F9,!!t&&(r=="number"||r!="symbol"&&B9.test(e))&&e>-1&&e%1==0&&e<t}var W9=9007199254740991;function mN(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=W9}var z9=1/0;function Hd(e){if(typeof e=="string"||U0(e))return e;var t=e+"";return t=="0"&&1/e==-z9?"-0":t}function q9(e,t,r){t=Kp(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=Hd(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&mN(i)&&K0(o,i)&&(Qr(e)||J0(e)))}function S4(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function U9(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Z0(e,t){t=Kp(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Hd(t[r++])];return r&&r==n?e:void 0}function gN(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}function V9(e,t){return t.length<2?e:Z0(e,gN(t,0,-1))}function H9(e,t,r){t=Kp(t,e),e=V9(e,t);var n=e==null?e:e[Hd(U9(t))];return n==null?void 0:S4(n,e,r)}function Y0(e){return e}var qk=Math.max;function k4(e,t,r){return t=qk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=qk(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),S4(e,this,a)}}function G9(e){return function(){return e}}var Hy=function(){try{var e=qu(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Q9=Hy?function(e,t){return Hy(e,"toString",{configurable:!0,enumerable:!1,value:G9(t),writable:!0})}:Y0;const J9=Q9;var K9=800,Z9=16,Y9=Date.now;function X9(e){var t=0,r=0;return function(){var n=Y9(),i=Z9-(n-r);if(r=n,i>0){if(++t>=K9)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var E4=X9(J9);function X0(e,t){return E4(k4(e,t,Y0),e+"")}var Fe=X0(H9),C4={exports:{}},ej="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tj=ej,rj=tj;function T4(){}function O4(){}O4.resetWarningCache=T4;var nj=function(){function e(n,i,s,o,a,l){if(l!==rj){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:O4,resetWarningCache:T4};return r.PropTypes=r,r};C4.exports=nj();var ij=C4.exports;const Cg=Vo(ij);function sj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o_(e,t){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o_(e,t)}function R4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o_(e,t)}function yN(e){return e===void 0}var oj=/\s/;function aj(e){for(var t=e.length;t--&&oj.test(e.charAt(t)););return t}var lj=/^\s+/;function uj(e){return e&&e.slice(0,aj(e)+1).replace(lj,"")}var Uk=NaN,cj=/^[-+]0x[0-9a-f]+$/i,dj=/^0b[01]+$/i,hj=/^0o[0-7]+$/i,fj=parseInt;function P4(e){if(typeof e=="number")return e;if(U0(e))return Uk;if(el(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=el(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=uj(e);var r=dj.test(e);return r||hj.test(e)?fj(e.slice(2),r?2:8):cj.test(e)?Uk:+e}var Vk=1/0,pj=17976931348623157e292;function a_(e){if(!e)return e===0?e:0;if(e=P4(e),e===Vk||e===-Vk){var t=e<0?-1:1;return t*pj}return e===e?e:0}function vN(e){var t=a_(e),r=t%1;return t===t?r?t-r:t:0}function A4(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function mj(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[e?a:++i];if(r(s[l],l,s)===!1)break}return t}}var gj=mj();const yj=gj;function vj(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function wj(){return!1}var I4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Hk=I4&&typeof module=="object"&&module&&!module.nodeType&&module,bj=Hk&&Hk.exports===I4,Gk=bj?Qo.Buffer:void 0,_j=Gk?Gk.isBuffer:void 0,Gy=_j||wj,xj="[object Arguments]",Nj="[object Array]",Sj="[object Boolean]",kj="[object Date]",Ej="[object Error]",Cj="[object Function]",Tj="[object Map]",Oj="[object Number]",Rj="[object Object]",Pj="[object RegExp]",Aj="[object Set]",Ij="[object String]",$j="[object WeakMap]",Lj="[object ArrayBuffer]",Dj="[object DataView]",jj="[object Float32Array]",Mj="[object Float64Array]",Fj="[object Int8Array]",Bj="[object Int16Array]",Wj="[object Int32Array]",zj="[object Uint8Array]",qj="[object Uint8ClampedArray]",Uj="[object Uint16Array]",Vj="[object Uint32Array]",nr={};nr[jj]=nr[Mj]=nr[Fj]=nr[Bj]=nr[Wj]=nr[zj]=nr[qj]=nr[Uj]=nr[Vj]=!0;nr[xj]=nr[Nj]=nr[Lj]=nr[Sj]=nr[Dj]=nr[kj]=nr[Ej]=nr[Cj]=nr[Tj]=nr[Oj]=nr[Rj]=nr[Pj]=nr[Aj]=nr[Ij]=nr[$j]=!1;function Hj(e){return ys(e)&&mN(e.length)&&!!nr[Ys(e)]}function $4(e){return function(t){return e(t)}}var L4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rf=L4&&typeof module=="object"&&module&&!module.nodeType&&module,Gj=rf&&rf.exports===L4,Cw=Gj&&b4.process,Qk=function(){try{var e=rf&&rf.require&&rf.require("util").types;return e||Cw&&Cw.binding&&Cw.binding("util")}catch{}}(),Jk=Qk&&Qk.isTypedArray,wN=Jk?$4(Jk):Hj,Qj=Object.prototype,Jj=Qj.hasOwnProperty;function Kj(e,t){var r=Qr(e),n=!r&&J0(e),i=!r&&!n&&Gy(e),s=!r&&!n&&!i&&wN(e),o=r||n||i||s,a=o?vj(e.length,String):[],l=a.length;for(var u in e)(t||Jj.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||K0(u,l)))&&a.push(u);return a}var Zj=Object.prototype;function D4(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Zj;return e===r}function j4(e,t){return function(r){return e(t(r))}}var Yj=j4(Object.keys,Object),Xj=Object.prototype,e8=Xj.hasOwnProperty;function bN(e){if(!D4(e))return Yj(e);var t=[];for(var r in Object(e))e8.call(e,r)&&r!="constructor"&&t.push(r);return t}function Zo(e){return e!=null&&mN(e.length)&&!Td(e)}function Zp(e){return Zo(e)?Kj(e):bN(e)}function t8(e,t){return e&&yj(e,t,Zp)}function r8(e,t){return function(r,n){if(r==null)return r;if(!Zo(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var n8=r8(t8);const Gd=n8;function i8(e,t){var r=[];return Gd(e,function(n,i,s){t(n,i,s)&&r.push(n)}),r}function s8(){this.__data__=new Jo,this.size=0}function o8(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function a8(e){return this.__data__.get(e)}function l8(e){return this.__data__.has(e)}var u8=200;function c8(e,t){var r=this.__data__;if(r instanceof Jo){var n=r.__data__;if(!Hf||n.length<u8-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ko(n)}return r.set(e,t),this.size=r.size,this}function Oo(e){var t=this.__data__=new Jo(e);this.size=t.size}Oo.prototype.clear=s8;Oo.prototype.delete=o8;Oo.prototype.get=a8;Oo.prototype.has=l8;Oo.prototype.set=c8;var d8="__lodash_hash_undefined__";function h8(e){return this.__data__.set(e,d8),this}function f8(e){return this.__data__.has(e)}function Od(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ko;++t<r;)this.add(e[t])}Od.prototype.add=Od.prototype.push=h8;Od.prototype.has=f8;function M4(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function _N(e,t){return e.has(t)}var p8=1,m8=2;function F4(e,t,r,n,i,s){var o=r&p8,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var f=-1,p=!0,w=r&m8?new Od:void 0;for(s.set(e,t),s.set(t,e);++f<a;){var b=e[f],x=t[f];if(n)var E=o?n(x,b,f,t,e,s):n(b,x,f,e,t,s);if(E!==void 0){if(E)continue;p=!1;break}if(w){if(!M4(t,function(g,v){if(!_N(w,v)&&(b===g||i(b,g,r,n,s)))return w.push(v)})){p=!1;break}}else if(!(b===x||i(b,x,r,n,s))){p=!1;break}}return s.delete(e),s.delete(t),p}var g8=Qo.Uint8Array;const Kk=g8;function y8(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function xN(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var v8=1,w8=2,b8="[object Boolean]",_8="[object Date]",x8="[object Error]",N8="[object Map]",S8="[object Number]",k8="[object RegExp]",E8="[object Set]",C8="[object String]",T8="[object Symbol]",O8="[object ArrayBuffer]",R8="[object DataView]",Zk=Ws?Ws.prototype:void 0,Tw=Zk?Zk.valueOf:void 0;function P8(e,t,r,n,i,s,o){switch(r){case R8:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O8:return!(e.byteLength!=t.byteLength||!s(new Kk(e),new Kk(t)));case b8:case _8:case S8:return V0(+e,+t);case x8:return e.name==t.name&&e.message==t.message;case k8:case C8:return e==t+"";case N8:var a=y8;case E8:var l=n&v8;if(a||(a=xN),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=w8,o.set(e,t);var c=F4(a(e),a(t),n,i,s,o);return o.delete(e),c;case T8:if(Tw)return Tw.call(e)==Tw.call(t)}return!1}function B4(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function A8(e,t,r){var n=t(e);return Qr(e)?n:B4(n,r(e))}function I8(){return[]}var $8=Object.prototype,L8=$8.propertyIsEnumerable,Yk=Object.getOwnPropertySymbols,D8=Yk?function(e){return e==null?[]:(e=Object(e),A4(Yk(e),function(t){return L8.call(e,t)}))}:I8;const j8=D8;function Xk(e){return A8(e,Zp,j8)}var M8=1,F8=Object.prototype,B8=F8.hasOwnProperty;function W8(e,t,r,n,i,s){var o=r&M8,a=Xk(e),l=a.length,u=Xk(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var p=a[f];if(!(o?p in t:B8.call(t,p)))return!1}var w=s.get(e),b=s.get(t);if(w&&b)return w==t&&b==e;var x=!0;s.set(e,t),s.set(t,e);for(var E=o;++f<l;){p=a[f];var g=e[p],v=t[p];if(n)var N=o?n(v,g,p,t,e,s):n(g,v,p,e,t,s);if(!(N===void 0?g===v||i(g,v,r,n,s):N)){x=!1;break}E||(E=p=="constructor")}if(x&&!E){var O=e.constructor,R=t.constructor;O!=R&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof R=="function"&&R instanceof R)&&(x=!1)}return s.delete(e),s.delete(t),x}var l_=qu(Qo,"DataView"),u_=qu(Qo,"Promise"),Qc=qu(Qo,"Set"),c_=qu(Qo,"WeakMap"),eE="[object Map]",z8="[object Object]",tE="[object Promise]",rE="[object Set]",nE="[object WeakMap]",iE="[object DataView]",q8=zu(l_),U8=zu(Hf),V8=zu(u_),H8=zu(Qc),G8=zu(c_),Il=Ys;(l_&&Il(new l_(new ArrayBuffer(1)))!=iE||Hf&&Il(new Hf)!=eE||u_&&Il(u_.resolve())!=tE||Qc&&Il(new Qc)!=rE||c_&&Il(new c_)!=nE)&&(Il=function(e){var t=Ys(e),r=t==z8?e.constructor:void 0,n=r?zu(r):"";if(n)switch(n){case q8:return iE;case U8:return eE;case V8:return tE;case H8:return rE;case G8:return nE}return t});const Qy=Il;var Q8=1,sE="[object Arguments]",oE="[object Array]",Tg="[object Object]",J8=Object.prototype,aE=J8.hasOwnProperty;function K8(e,t,r,n,i,s){var o=Qr(e),a=Qr(t),l=o?oE:Qy(e),u=a?oE:Qy(t);l=l==sE?Tg:l,u=u==sE?Tg:u;var c=l==Tg,f=u==Tg,p=l==u;if(p&&Gy(e)){if(!Gy(t))return!1;o=!0,c=!1}if(p&&!c)return s||(s=new Oo),o||wN(e)?F4(e,t,r,n,i,s):P8(e,t,l,r,n,i,s);if(!(r&Q8)){var w=c&&aE.call(e,"__wrapped__"),b=f&&aE.call(t,"__wrapped__");if(w||b){var x=w?e.value():e,E=b?t.value():t;return s||(s=new Oo),i(x,E,r,n,s)}}return p?(s||(s=new Oo),W8(e,t,r,n,i,s)):!1}function e1(e,t,r,n,i){return e===t?!0:e==null||t==null||!ys(e)&&!ys(t)?e!==e&&t!==t:K8(e,t,r,n,e1,i)}var Z8=1,Y8=2;function X8(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var a=r[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=r[i];var l=a[0],u=e[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in e))return!1}else{var f=new Oo;if(n)var p=n(u,c,l,e,t,f);if(!(p===void 0?e1(c,u,Z8|Y8,n,f):p))return!1}}return!0}function W4(e){return e===e&&!el(e)}function eM(e){for(var t=Zp(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,W4(i)]}return t}function z4(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function tM(e){var t=eM(e);return t.length==1&&t[0][2]?z4(t[0][0],t[0][1]):function(r){return r===e||X8(r,e,t)}}function $s(e,t,r){var n=e==null?void 0:Z0(e,t);return n===void 0?r:n}function rM(e,t){return e!=null&&t in Object(e)}function q4(e,t){return e!=null&&q9(e,t,rM)}var nM=1,iM=2;function sM(e,t){return fN(e)&&W4(t)?z4(Hd(e),t):function(r){var n=$s(r,e);return n===void 0&&n===t?q4(r,e):e1(t,n,nM|iM)}}function U4(e){return function(t){return t==null?void 0:t[e]}}function oM(e){return function(t){return Z0(t,e)}}function aM(e){return fN(e)?U4(Hd(e)):oM(e)}function Uu(e){return typeof e=="function"?e:e==null?Y0:typeof e=="object"?Qr(e)?sM(e[0],e[1]):tM(e):aM(e)}function lE(e,t){var r=Qr(e)?A4:i8;return r(e,Uu(t))}var lM="[object Map]",uM="[object Set]",cM=Object.prototype,dM=cM.hasOwnProperty;function Og(e){if(e==null)return!0;if(Zo(e)&&(Qr(e)||typeof e=="string"||typeof e.splice=="function"||Gy(e)||wN(e)||J0(e)))return!e.length;var t=Qy(e);if(t==lM||t==uM)return!e.size;if(D4(e))return!bN(e).length;for(var r in e)if(dM.call(e,r))return!1;return!0}function V4(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function hM(e){return e!==e}function fM(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function H4(e,t,r){return t===t?fM(e,t,r):V4(e,hM,r)}function G4(e,t){var r=e==null?0:e.length;return!!r&&H4(e,t,0)>-1}function Q4(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Jy(e){return ys(e)&&Zo(e)}function pM(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function mM(e){return typeof e=="function"?e:Y0}function gM(e,t){var r=Qr(e)?pM:Gd;return r(e,mM(t))}var yM=function(t){return"default"+(t[0].toUpperCase()+t.slice(1))},vM=function(t,r,n,i){i===void 0&&(i=!1);var s=r[t];if(s!==void 0)return s;if(i){var o=r[yM(t)];if(o!==void 0)return o;if(n){var a=n[t];if(a!==void 0)return a}}if(t==="checked")return!1;if(t==="value")return r.multiple?[]:""},wM=function(e){R4(t,e);function t(){for(var r,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];r=e.call.apply(e,[this].concat(i))||this;var o=r.constructor,a=o.autoControlledProps,l=o.getAutoControlledStateFromProps,u=Fe(sj(r),"getInitialAutoControlledState",r.props)||{},c=a.reduce(function(f,p){return f[p]=vM(p,r.props,u,!0),f},{});return r.state=ue({},u,c,{autoControlledProps:a,getAutoControlledStateFromProps:l}),r}return t.getDerivedStateFromProps=function(n,i){var s=i.autoControlledProps,o=i.getAutoControlledStateFromProps,a=s.reduce(function(u,c){var f=!yN(n[c]);return f&&(u[c]=n[c]),u},{});if(o){var l=o(n,ue({},i,a),i);return ue({},a,l)}return a},t.getAutoControlledStateFromProps=function(){return null},t}(k.Component);function bM(e){return function(t,r,n){var i=Object(t);if(!Zo(t)){var s=Uu(r);t=Zp(t),r=function(a){return s(i[a],a,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var _M=Math.max;function d_(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:vN(r);return i<0&&(i=_M(n+i,0)),V4(e,Uu(t),i)}var J4=bM(d_);function xM(e,t){var r;return Gd(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}function K4(e,t,r){if(!el(r))return!1;var n=typeof t;return(n=="number"?Zo(r)&&K0(t,r.length):n=="string"&&t in r)?V0(r[t],e):!1}function nf(e,t,r){var n=Qr(e)?M4:xM;return r&&K4(e,t,r)&&(t=void 0),n(e,Uu(t))}var NM=function(t,r){return nf(k.Children.toArray(t),{type:r})},At=function(t){return t==null||Array.isArray(t)&&t.length===0},SM={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function uE(e){var t=typeof e;return t==="string"||t==="number"?SM[e]||e:""}var W=function(t,r){return t&&r},gi=function(t,r){return t&&t!==!0&&t+" "+r},en=function(t,r){return t&&(t===!0?r:t+" "+r)},t1=function(t){return t==="justified"?"justified":gi(t,"aligned")},Yp=function(t){return gi(t,"aligned")},Vu=function(t,r,n){if(r===void 0&&(r=""),n===void 0&&(n=!1),n&&t==="equal")return"equal width";var i=typeof t;return(i==="string"||i==="number")&&r?uE(t)+" "+r:uE(t)},kM=200;function Z4(e,t,r,n){var i=-1,s=G4,o=!0,a=e.length,l=[],u=t.length;if(!a)return l;r&&(t=Q0(t,$4(r))),n?(s=Q4,o=!1):t.length>=kM&&(s=_N,o=!1,t=new Od(t));e:for(;++i<a;){var c=e[i],f=r==null?c:r(c);if(c=n||c!==0?c:0,o&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;l.push(c)}else s(t,f,n)||l.push(c)}return l}var cE=Ws?Ws.isConcatSpreadable:void 0;function EM(e){return Qr(e)||J0(e)||!!(cE&&e&&e[cE])}function r1(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=EM),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?r1(a,t-1,r,n,i):B4(i,a):n||(i[i.length]=a)}return i}var dE=X0(function(e,t){return Jy(e)?Z4(e,r1(t,1,Jy,!0)):[]});function CM(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:gN(e,t,r)}function TM(e){return e.split("")}var OM="\\ud800-\\udfff",RM="\\u0300-\\u036f",PM="\\ufe20-\\ufe2f",AM="\\u20d0-\\u20ff",IM=RM+PM+AM,$M="\\ufe0e\\ufe0f",LM="\\u200d",DM=RegExp("["+LM+OM+IM+$M+"]");function NN(e){return DM.test(e)}var Y4="\\ud800-\\udfff",jM="\\u0300-\\u036f",MM="\\ufe20-\\ufe2f",FM="\\u20d0-\\u20ff",BM=jM+MM+FM,WM="\\ufe0e\\ufe0f",zM="["+Y4+"]",h_="["+BM+"]",f_="\\ud83c[\\udffb-\\udfff]",qM="(?:"+h_+"|"+f_+")",X4="[^"+Y4+"]",eR="(?:\\ud83c[\\udde6-\\uddff]){2}",tR="[\\ud800-\\udbff][\\udc00-\\udfff]",UM="\\u200d",rR=qM+"?",nR="["+WM+"]?",VM="(?:"+UM+"(?:"+[X4,eR,tR].join("|")+")"+nR+rR+")*",HM=nR+rR+VM,GM="(?:"+[X4+h_+"?",h_,eR,tR,zM].join("|")+")",QM=RegExp(f_+"(?="+f_+")|"+GM+HM,"g");function JM(e){return e.match(QM)||[]}function KM(e){return NN(e)?JM(e):TM(e)}function ZM(e,t,r){t=="__proto__"&&Hy?Hy(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var YM=Object.prototype,XM=YM.hasOwnProperty;function e7(e,t,r){var n=e[t];(!(XM.call(e,t)&&V0(n,r))||r===void 0&&!(t in e))&&ZM(e,t,r)}function t7(e,t,r,n){if(!el(e))return e;t=Kp(t,e);for(var i=-1,s=t.length,o=s-1,a=e;a!=null&&++i<s;){var l=Hd(t[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var c=a[l];u=n?n(c,l,a):void 0,u===void 0&&(u=el(c)?c:K0(t[i+1])?[]:{})}e7(a,l,u),a=a[l]}return e}function r7(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var o=t[n],a=Z0(e,o);r(a,o)&&t7(s,Kp(o,e),a)}return s}function n7(e,t){return r7(e,t,function(r,n){return q4(e,n)})}function i7(e){var t=e==null?0:e.length;return t?r1(e,1):[]}function s7(e){return E4(k4(e,void 0,i7),e+"")}var o7=s7(function(e,t){return e==null?{}:n7(e,t)}),a7=j4(Object.getPrototypeOf,Object),l7="[object Object]",u7=Function.prototype,c7=Object.prototype,iR=u7.toString,d7=c7.hasOwnProperty,h7=iR.call(Object);function f7(e){if(!ys(e)||Ys(e)!=l7)return!1;var t=a7(e);if(t===null)return!0;var r=d7.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&iR.call(r)==h7}function Pt(e){return e==null}function p7(e,t){var r=-1,n=Zo(e)?Array(e.length):[];return Gd(e,function(i,s,o){n[++r]=t(i,s,o)}),n}function Ro(e,t){var r=Qr(e)?Q0:p7;return r(e,Uu(t))}var SN={exports:{}},Ky={},sR={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=r:window.ExecutionEnvironment=r})()})(sR);var m7=sR.exports;Object.defineProperty(Ky,"__esModule",{value:!0});var hE=m7,g7=k;function oR(e){return(oR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function em(e,t,r){return t&&fE(e.prototype,t),r&&fE(e,r),e}function Ii(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lR(e,t)}function aR(e){return(aR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function lR(e,t){return(lR=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(e,t)}function v7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w7(e,t){return!t||typeof t!="object"&&typeof t!="function"?v7(e):t}var uR=function(){function e(t){Xp(this,e),Ii(this,"handlers",void 0),this.handlers=t.slice(0)}return em(e,[{key:"addHandlers",value:function(t){for(var r=this.handlers.slice(0),n=t.length,i=0;i<n;i+=1)r.push(t[i]);return new e(r)}},{key:"dispatchEvent",value:function(t,r){var n=this.handlers.length-1;if(r){for(var i=n;i>=0;i-=1)this.handlers[i].called||(this.handlers[i].called=!0,this.handlers[i](t));for(var s=n;s>=0;s-=1)this.handlers[s].called=!1}else(0,this.handlers[n])(t)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var r=[],n=this.handlers.length,i=0;i<n;i+=1){var s=this.handlers[i];t.indexOf(s)===-1&&r.push(s)}return new e(r)}}]),e}();function pE(e){var t=new Map;return e.forEach(function(r,n){t.set(n,r)}),t}function mE(e){return Array.isArray(e)?e:[e]}var b7=function(e){return e!==null&&oR(e)==="object"&&e.hasOwnProperty("current")};function gE(e){return e==="document"?document:e==="window"?window:b7(e)?e.current||document:e||document}var p_=function(){function e(t,r){Xp(this,e),Ii(this,"handlerSets",void 0),Ii(this,"poolName",void 0),this.handlerSets=r,this.poolName=t}return em(e,[{key:"addHandlers",value:function(t,r){var n=pE(this.handlerSets);if(n.has(t)){var i=n.get(t);n.set(t,i.addHandlers(r))}else n.set(t,new uR(r));return new e(this.poolName,n)}},{key:"dispatchEvent",value:function(t,r){var n=this.handlerSets.get(t),i=this.poolName==="default";n&&n.dispatchEvent(r,i)}},{key:"hasHandlers",value:function(t){if(!t)return this.handlerSets.size>0;var r=this.handlerSets.get(t);return!!r&&r.hasHandlers()}},{key:"removeHandlers",value:function(t,r){var n=pE(this.handlerSets);if(!n.has(t))return new e(this.poolName,n);var i=n.get(t).removeHandlers(r);return i.hasHandlers()?n.set(t,i):n.delete(t),new e(this.poolName,n)}}]),e}();Ii(p_,"createByType",function(e,t,r){var n=new Map;return n.set(t,new uR(r)),new p_(e,n)});var _7=function(){function e(t){var r=this;Xp(this,e),Ii(this,"handlers",new Map),Ii(this,"pools",new Map),Ii(this,"target",void 0),Ii(this,"createEmitter",function(n){return function(i){r.pools.forEach(function(s){s.dispatchEvent(n,i)})}}),this.target=t}return em(e,[{key:"addHandlers",value:function(t,r,n){if(this.pools.has(t)){var i=this.pools.get(t);this.pools.set(t,i.addHandlers(r,n))}else this.pools.set(t,p_.createByType(t,r,n));this.handlers.has(r)||this.addTargetHandler(r)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(t,r,n){if(this.pools.has(t)){var i=this.pools.get(t).removeHandlers(r,n);i.hasHandlers()?this.pools.set(t,i):this.pools.delete(t);var s=!1;this.pools.forEach(function(o){return s=s||o.hasHandlers(r)}),s||this.removeTargetHandler(r)}}},{key:"addTargetHandler",value:function(t){var r=this.createEmitter(t);this.handlers.set(t,r),this.target.addEventListener(t,r,!0)}},{key:"removeTargetHandler",value:function(t){this.handlers.has(t)&&(this.target.removeEventListener(t,this.handlers.get(t),!0),this.handlers.delete(t))}}]),e}(),x7=function(){function e(){var t=this;Xp(this,e),Ii(this,"targets",new Map),Ii(this,"getTarget",function(r){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=gE(r);if(t.targets.has(i))return t.targets.get(i);if(!n)return null;var s=new _7(i);return t.targets.set(i,s),s}),Ii(this,"removeTarget",function(r){t.targets.delete(gE(r))})}return em(e,[{key:"sub",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(hE.canUseDOM){var i=n.target,s=i===void 0?document:i,o=n.pool,a=o===void 0?"default":o;this.getTarget(s).addHandlers(a,t,mE(r))}}},{key:"unsub",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(hE.canUseDOM){var i=n.target,s=i===void 0?document:i,o=n.pool,a=o===void 0?"default":o,l=this.getTarget(s,!1);l&&(l.removeHandlers(a,t,mE(r)),l.hasHandlers()||this.removeTarget(s))}}}]),e}(),m_=new x7,Ow=function(e){function t(){return Xp(this,t),w7(this,aR(t).apply(this,arguments))}return y7(t,g7.PureComponent),em(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(r){this.unsubscribe(r),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(r){var n=r.name,i=r.on,s=r.pool,o=r.target;m_.sub(n,i,{pool:s,target:o})}},{key:"unsubscribe",value:function(r){var n=r.name,i=r.on,s=r.pool,o=r.target;m_.unsub(n,i,{pool:s,target:o})}},{key:"render",value:function(){return null}}]),t}();Ii(Ow,"defaultProps",{pool:"default",target:"document"}),Ow.propTypes={},Ky.instance=m_,Ky.default=Ow;var kN;kN=Ky;SN.exports=kN.default;SN.exports.instance=kN.instance;var N7=SN.exports;const ya=Vo(N7);function cR(){}var S7=1/0,k7=Qc&&1/xN(new Qc([,-0]))[1]==S7?function(e){return new Qc(e)}:cR,E7=200;function dR(e,t,r){var n=-1,i=G4,s=e.length,o=!0,a=[],l=a;if(r)o=!1,i=Q4;else if(s>=E7){var u=t?null:k7(e);if(u)return xN(u);o=!1,i=_N,l=new Od}else l=t?[]:a;e:for(;++n<s;){var c=e[n],f=t?t(c):c;if(c=r||c!==0?c:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),a.push(c)}else i(l,f,r)||(l!==a&&l.push(f),a.push(c))}return a}function C7(e){return e&&e.length?dR(e):[]}var T7="[object Number]";function O7(e){return typeof e=="number"||ys(e)&&Ys(e)==T7}var R7="[object String]";function EN(e){return typeof e=="string"||!Qr(e)&&ys(e)&&Ys(e)==R7}var P7="[object Boolean]";function A7(e){return e===!0||e===!1||ys(e)&&Ys(e)==P7}function hR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=hR(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function et(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=hR(e))&&(n&&(n+=" "),n+=t);return n}var fR={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN=Symbol.for("react.element"),TN=Symbol.for("react.portal"),n1=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),s1=Symbol.for("react.profiler"),o1=Symbol.for("react.provider"),a1=Symbol.for("react.context"),I7=Symbol.for("react.server_context"),l1=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),c1=Symbol.for("react.suspense_list"),d1=Symbol.for("react.memo"),h1=Symbol.for("react.lazy"),$7=Symbol.for("react.offscreen"),pR;pR=Symbol.for("react.module.reference");function ji(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case CN:switch(e=e.type,e){case n1:case s1:case i1:case u1:case c1:return e;default:switch(e=e&&e.$$typeof,e){case I7:case a1:case l1:case h1:case d1:case o1:return e;default:return t}}case TN:return t}}}zt.ContextConsumer=a1;zt.ContextProvider=o1;zt.Element=CN;zt.ForwardRef=l1;zt.Fragment=n1;zt.Lazy=h1;zt.Memo=d1;zt.Portal=TN;zt.Profiler=s1;zt.StrictMode=i1;zt.Suspense=u1;zt.SuspenseList=c1;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(e){return ji(e)===a1};zt.isContextProvider=function(e){return ji(e)===o1};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===CN};zt.isForwardRef=function(e){return ji(e)===l1};zt.isFragment=function(e){return ji(e)===n1};zt.isLazy=function(e){return ji(e)===h1};zt.isMemo=function(e){return ji(e)===d1};zt.isPortal=function(e){return ji(e)===TN};zt.isProfiler=function(e){return ji(e)===s1};zt.isStrictMode=function(e){return ji(e)===i1};zt.isSuspense=function(e){return ji(e)===u1};zt.isSuspenseList=function(e){return ji(e)===c1};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===n1||e===s1||e===i1||e===u1||e===c1||e===$7||typeof e=="object"&&e!==null&&(e.$$typeof===h1||e.$$typeof===d1||e.$$typeof===o1||e.$$typeof===a1||e.$$typeof===l1||e.$$typeof===pR||e.getModuleId!==void 0)};zt.typeOf=ji;fR.exports=zt;var tm=fR.exports;const L7=Vo(tm);function g_(e,t,r,n){if(n===void 0&&(n={}),!tm.isValidElementType(e))throw new Error("createShorthand(): Component should be a valid element type.");if(Pt(r)||A7(r))return null;var i=EN(r),s=O7(r),o=Td(r),a=k.isValidElement(r),l=f7(r),u=i||s||Qr(r);if(!o&&!a&&!l&&!u)return null;var c=n,f=c.defaultProps,p=f===void 0?{}:f,w=a&&r.props||l&&r||u&&t(r),b=n,x=b.overrideProps,E=x===void 0?{}:x;E=Td(E)?E(ue({},p,w)):E;var g=ue({},p,w,E);if(p.className||E.className||w.className){var v=et(p.className,E.className,w.className);g.className=C7(v.split(" ")).join(" ")}if((p.style||E.style||w.style)&&(g.style=ue({},p.style,w.style,E.style)),Pt(g.key)){var N=g.childKey,O=n,R=O.autoGenerateKey,C=R===void 0?!0:R;Pt(N)?C&&(i||s)&&(g.key=r):(g.key=typeof N=="function"?N(g):N,delete g.childKey)}if(a)return k.cloneElement(r,g);if(typeof g.children=="function")return g.children(e,ue({},g,{children:void 0}));if(u||l)return k.createElement(e,g);if(o)return r(e,g,g.children)}function nn(e,t){if(!tm.isValidElementType(e))throw new Error("createShorthandFactory(): Component should be a valid element type.");return function(r,n){return g_(e,t,r,n)}}var D7=nn("input",function(e){return{type:e}}),y_=nn("label",function(e){return{children:e}});function lt(e,t){t===void 0&&(t={});var r=t,n=r.defaultAs,i=r.getDefault;if(e.as&&e.as!==n)return e.as;if(i){var s=i();if(s)return s}return e.href?"a":n||"div"}var Ze=function(t,r){var n=t.handledProps,i=n===void 0?[]:n;return Object.keys(r).reduce(function(s,o){return o==="childKey"||o==="innerRef"||i.indexOf(o)===-1&&(s[o]=r[o]),s},{})};function j7(e,t){return Q0(t,function(r){return e[r]})}function M7(e){return e==null?[]:j7(e,Zp(e))}var F7=Math.max;function rm(e,t,r,n){e=Zo(e)?e:M7(e),r=r&&!n?vN(r):0;var i=e.length;return r<0&&(r=F7(i+r,0)),EN(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&H4(e,t,r)>-1}var mR=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],B7=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],W7=[].concat(mR,B7),z7=["alt","height","src","srcSet","width","loading"],ON=function(t,r){r===void 0&&(r={});var n=r,i=n.htmlProps,s=i===void 0?W7:i,o=n.includeAria,a=o===void 0?!0:o,l={},u={};return gM(t,function(c,f){var p=a&&(/^aria-.*$/.test(f)||f==="role"),w=rm(s,f)||p?l:u;w[f]=c}),[l,u]},q7=typeof document=="object"&&document!==null,U7=typeof window=="object"&&window!==null&&window.self===window,Zy=function e(){return Pt(e.override)?q7&&U7:e.override},V7=Math.max,H7=Math.min;function G7(e,t,r){return e>=H7(t,r)&&e<V7(t,r)}function yE(e,t,r){return t=a_(t),r===void 0?(r=t,t=0):r=a_(r),e=P4(e),G7(e,t,r)}function Q7(e){return e&&e.length?e[0]:void 0}var J7=function(t,r){if(nf([r,t],Pt))return!1;if(r.target&&(Fe(r.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")&&(Fe(r.target,"removeAttribute","data-suir-click-target"),typeof t.contains=="function")))return t.contains(r.target);var n=r.clientX,i=r.clientY;if(nf([n,i],Pt)||typeof t.getClientRects!="function")return!1;var s=t.getClientRects();if(!t.offsetWidth||!t.offsetHeight||!s||!s.length)return!1;var o=Q7(s),a=o.top,l=o.bottom,u=o.left,c=o.right;return nf([a,l,u,c],Pt)?!1:yE(i,a,l+.001)&&yE(n,u,c+.001)};const sf=J7;function K7(e,t){return e1(e,t)}function Yy(e){var t=typeof e.defaultState>"u"?e.initialState:e.defaultState,r=k.useState(t),n=r[0],i=r[1],s=typeof e.state>"u"?n:e.state,o=k.useRef(s);k.useEffect(function(){o.current=s},[s]);var a=k.useCallback(function(l){typeof l=="function"?o.current=l(o.current):o.current=l,i(o.current)},[]);return[s,a]}var RN=Zy()?k.useLayoutEffect:k.useEffect;function Gf(e){var t=k.useRef(function(){});return RN(function(){t.current=e},[e]),k.useCallback(function(){var r=t.current;return r.apply(void 0,arguments)},[t])}function Qf(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Qd(e,t){var r=k.useCallback(function(n){r.current=n,Qf(e,n),Qf(t,n)},[e,t]);return r}var Z7=X0(function(e,t){return Jy(e)?Z4(e,t):[]});const Y7=Z7;var nm=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=e.size,o=et(s,"icons",n),a=Ze(nm,e),l=lt(e,{defaultAs:"i"});return k.createElement(l,ue({},a,{className:o,ref:t}),At(r)?i:r)});nm.handledProps=["as","children","className","content","size"];nm.displayName="IconGroup";nm.propTypes={};const X7=nm;function eF(e){var t={},r=e["aria-label"],n=e["aria-hidden"];return Pt(r)?t["aria-hidden"]="true":t["aria-label"]=r,Pt(n)||(t["aria-hidden"]=n),t}var im=k.forwardRef(function(e,t){var r=e.bordered,n=e.circular,i=e.className,s=e.color,o=e.corner,a=e.disabled,l=e.fitted,u=e.flipped,c=e.inverted,f=e.link,p=e.loading,w=e.name,b=e.rotated,x=e.size,E=et(s,w,x,W(r,"bordered"),W(n,"circular"),W(a,"disabled"),W(l,"fitted"),W(c,"inverted"),W(f,"link"),W(p,"loading"),en(o,"corner"),gi(u,"flipped"),gi(b,"rotated"),"icon",i),g=Ze(im,e),v=lt(e,{defaultAs:"i"}),N=eF(e),O=Gf(function(R){if(a){R.preventDefault();return}Fe(e,"onClick",R,e)});return k.createElement(v,ue({},g,N,{className:E,onClick:O,ref:t}))});im.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"];im.displayName="Icon";im.propTypes={};var vi=k.memo(im);vi.Group=X7;vi.create=nn(vi,function(e){return{name:e}});var vE=function(t){return t!==null&&!Array.isArray(t)&&typeof t=="object"},Xy={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(var Rg=0;Rg<24;Rg+=1)Xy[112+Rg]="F"+(Rg+1);for(var Rw=0;Rw<26;Rw+=1){var Pw=Rw+65;Xy[Pw]=[String.fromCharCode(Pw+32),String.fromCharCode(Pw)]}var Ne={codes:Xy,getCode:function(t){return vE(t)?t.keyCode||t.which||this[t.key]:this[t]},getKey:function(t){var r=vE(t);if(r&&t.key)return t.key;var n=Xy[r?t.keyCode||t.which:t];return Array.isArray(n)&&(r?n=n[t.shiftKey?1:0]:n=n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};Ne.Spacebar=Ne[" "];Ne.Digit0=Ne[0];Ne.Digit1=Ne[1];Ne.Digit2=Ne[2];Ne.Digit3=Ne[3];Ne.Digit4=Ne[4];Ne.Digit5=Ne[5];Ne.Digit6=Ne[6];Ne.Digit7=Ne[7];Ne.Digit8=Ne[8];Ne.Digit9=Ne[9];Ne.Tilde=Ne["~"];Ne.GraveAccent=Ne["`"];Ne.ExclamationPoint=Ne["!"];Ne.AtSign=Ne["@"];Ne.PoundSign=Ne["#"];Ne.PercentSign=Ne["%"];Ne.Caret=Ne["^"];Ne.Ampersand=Ne["&"];Ne.PlusSign=Ne["+"];Ne.MinusSign=Ne["-"];Ne.EqualsSign=Ne["="];Ne.DivisionSign=Ne["/"];Ne.MultiplicationSign=Ne["*"];Ne.Comma=Ne[","];Ne.Decimal=Ne["."];Ne.Colon=Ne[":"];Ne.Semicolon=Ne[";"];Ne.Pipe=Ne["|"];Ne.BackSlash=Ne["\\"];Ne.QuestionMark=Ne["?"];Ne.SingleQuote=Ne["'"];Ne.DoubleQuote=Ne['"'];Ne.LeftCurlyBrace=Ne["{"];Ne.RightCurlyBrace=Ne["}"];Ne.LeftParenthesis=Ne["("];Ne.RightParenthesis=Ne[")"];Ne.LeftAngleBracket=Ne["<"];Ne.RightAngleBracket=Ne[">"];Ne.LeftSquareBracket=Ne["["];Ne.RightSquareBracket=Ne["]"];var tF=Ne;const Zr=Vo(tF);function rF(e,t){var r=Qd(e==null?void 0:e.ref,t);return e?[r,k.cloneElement(e,{ref:r})]:[r,null]}function gR(e,t){var r=Qd(e.ref,t);if(k.isValidElement(e)){if(L7.isForwardRef(e))return k.cloneElement(e,{ref:r});if(typeof e.type=="string")return k.cloneElement(e,{ref:r})}return k.createElement("div",{"data-suir-portal":"true",ref:r},e)}gR.handledProps=[];var f1=k.forwardRef(function(e,t){var r=Gf(function(){return Fe(e,"onMount",null,e)}),n=Gf(function(){return Fe(e,"onUnmount",null,e)}),i=gR(e.children,t);return k.useEffect(function(){return r(),function(){n()}},[]),Zy()?B0.createPortal(i,e.mountNode||document.body):null});f1.handledProps=["children","mountNode","onMount","onUnmount"];f1.displayName="PortalInner";f1.propTypes={children:Cg.node.isRequired,mountNode:Cg.any,onMount:Cg.func,onUnmount:Cg.func};const yR=f1;function sm(e){var t=e.children,r=e.closeOnDocumentClick,n=r===void 0?!0:r,i=e.closeOnEscape,s=i===void 0?!0:i,o=e.closeOnPortalMouseLeave,a=e.closeOnTriggerBlur,l=e.closeOnTriggerClick,u=e.closeOnTriggerMouseLeave,c=e.eventPool,f=c===void 0?"default":c,p=e.mountNode,w=e.mouseEnterDelay,b=e.mouseLeaveDelay,x=e.openOnTriggerClick,E=x===void 0?!0:x,g=e.openOnTriggerFocus,v=e.openOnTriggerMouseEnter,N=Yy({state:e.open,defaultState:e.defaultOpen,initialState:!1}),O=N[0],R=N[1],C=k.useRef(),$=rF(e.trigger,e.triggerRef),L=$[0],G=$[1],F=k.useRef(),J=k.useRef(),ee=k.useRef(),q=function(Z){R(!0),Fe(e,"onOpen",Z,ue({},e,{open:!0}))},ie=function(Z,je){var Pe=ue({},Z);return setTimeout(function(){return q(Pe)},je||0)},ve=function(Z){R(!1),Fe(e,"onClose",Z,ue({},e,{open:!1}))},Se=function(Z,je){var Pe=ue({},Z);return setTimeout(function(){return ve(Pe)},je||0)};k.useEffect(function(){clearTimeout(F.current),clearTimeout(J.current)},[]);var _e=function(Z){ee.current=Z},H=function(Z){var je,Pe=ee.current;ee.current=null;var xe=sf(L.current,Z),se=Pe&&sf(C.current,Pe),oe=sf(C.current,Z);!((je=C.current)!=null&&je.contains)||xe||se||oe||n&&ve(Z)},de=function(Z){s&&Zr.getCode(Z)===Zr.Escape&&ve(Z)},pe=function(Z){o&&Z.target===C.current&&(J.current=Se(Z,b))},ke=function(){o&&clearTimeout(J.current)},K=function(Z){for(var je=arguments.length,Pe=new Array(je>1?je-1:0),xe=1;xe<je;xe++)Pe[xe-1]=arguments[xe];Fe.apply(void 0,[G,"props.onBlur",Z].concat(Pe));var se=Z.relatedTarget||document.activeElement,oe=Fe(C.current,"contains",se);!a||oe||ve(Z)},fe=function(Z){for(var je=arguments.length,Pe=new Array(je>1?je-1:0),xe=1;xe<je;xe++)Pe[xe-1]=arguments[xe];Fe.apply(void 0,[G,"props.onClick",Z].concat(Pe)),O&&l?ve(Z):!O&&E&&q(Z)},le=function(Z){for(var je=arguments.length,Pe=new Array(je>1?je-1:0),xe=1;xe<je;xe++)Pe[xe-1]=arguments[xe];Fe.apply(void 0,[G,"props.onFocus",Z].concat(Pe)),g&&q(Z)},Ce=function(Z){clearTimeout(F.current);for(var je=arguments.length,Pe=new Array(je>1?je-1:0),xe=1;xe<je;xe++)Pe[xe-1]=arguments[xe];Fe.apply(void 0,[G,"props.onMouseLeave",Z].concat(Pe)),u&&(J.current=Se(Z,b))},j=function(Z){clearTimeout(J.current);for(var je=arguments.length,Pe=new Array(je>1?je-1:0),xe=1;xe<je;xe++)Pe[xe-1]=arguments[xe];Fe.apply(void 0,[G,"props.onMouseEnter",Z].concat(Pe)),v&&(F.current=ie(Z,w))};return k.createElement(k.Fragment,null,O&&k.createElement(k.Fragment,null,k.createElement(yR,{mountNode:p,onMount:function(){return Fe(e,"onMount",null,e)},onUnmount:function(){return Fe(e,"onUnmount",null,e)},ref:C},t),k.createElement(ya,{name:"mouseleave",on:pe,pool:f,target:C}),k.createElement(ya,{name:"mouseenter",on:ke,pool:f,target:C}),k.createElement(ya,{name:"mousedown",on:_e,pool:f}),k.createElement(ya,{name:"click",on:H,pool:f}),k.createElement(ya,{name:"keydown",on:de,pool:f})),G&&k.cloneElement(G,{onBlur:K,onClick:fe,onFocus:le,onMouseLeave:Ce,onMouseEnter:j,ref:L}))}sm.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"];sm.displayName="Portal";sm.propTypes={};sm.Inner=yR;var om=k.forwardRef(function(e,t){var r=e.blurring,n=e.className,i=e.children,s=e.content,o=e.dimmed,a=et(W(r,"blurring"),W(o,"dimmed"),"dimmable",n),l=Ze(om,e),u=lt(e);return k.createElement(u,ue({},l,{className:a,ref:t}),At(i)?s:i)});om.handledProps=["as","blurring","children","className","content","dimmed"];om.displayName="DimmerDimmable";om.propTypes={};const nF=om;var am=k.forwardRef(function(e,t){var r=e.active,n=e.children,i=e.className,s=e.content,o=e.disabled,a=e.inverted,l=e.page,u=e.simple,c=e.verticalAlign,f=Qd(t,k.useRef()),p=k.useRef();RN(function(){var v;(v=f.current)!=null&&v.style&&(r?f.current.style.setProperty("display","flex","important"):f.current.style.removeProperty("display"))},[r]);var w=function(N){Fe(e,"onClick",N,e),!(p.current!==N.target&&sf(p.current,N))&&Fe(e,"onClickOutside",N,e)},b=et("ui",W(r,"active transition visible"),W(o,"disabled"),W(a,"inverted"),W(l,"page"),W(u,"simple"),Yp(c),"dimmer",i),x=Ze(am,e),E=lt(e),g=At(n)?s:n;return k.createElement(E,ue({},x,{className:b,onClick:w,ref:f}),g&&k.createElement("div",{className:"content",ref:p},g))});am.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"];am.displayName="DimmerInner";am.propTypes={};const v_=am;var jo=k.forwardRef(function(e,t){var r=e.active,n=e.page,i=Ze(jo,e);if(n){var s=function(){Zy()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},o=function(){Zy()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))};return k.createElement(sm,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:s,onUnmount:o,open:r,openOnTriggerClick:!1},k.createElement(v_,ue({},i,{active:r,page:n,ref:t})))}return k.createElement(v_,ue({},i,{active:r,page:n,ref:t}))});jo.handledProps=["active","page"];jo.displayName="Dimmer";jo.propTypes={};jo.Dimmable=nF;jo.Inner=v_;jo.create=nn(jo,function(e){return{content:e}});var lm=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=e.size,o=et("ui",s,n,"images"),a=Ze(lm,e),l=lt(e);return k.createElement(l,ue({},a,{className:o,ref:t}),At(r)?i:r)});lm.handledProps=["as","children","className","content","size"];lm.displayName="ImageGroup";lm.propTypes={};const iF=lm;var tl=k.forwardRef(function(e,t){var r=e.avatar,n=e.bordered,i=e.centered,s=e.children,o=e.circular,a=e.className,l=e.content,u=e.dimmer,c=e.disabled,f=e.floated,p=e.fluid,w=e.hidden,b=e.href,x=e.inline,E=e.label,g=e.rounded,v=e.size,N=e.spaced,O=e.verticalAlign,R=e.wrapped,C=e.ui,$=C===void 0?!0:C,L=et(W($,"ui"),v,W(r,"avatar"),W(n,"bordered"),W(o,"circular"),W(i,"centered"),W(c,"disabled"),W(p,"fluid"),W(w,"hidden"),W(x,"inline"),W(g,"rounded"),en(N,"spaced"),gi(f,"floated"),Yp(O),"image",a),G=Ze(tl,e),F=ON(G,{htmlProps:z7}),J=F[0],ee=F[1],q=lt(e,{defaultAs:"img",getDefault:function(){if(!Pt(u)||!Pt(E)||!Pt(R)||!At(s))return"div"}});return At(s)?At(l)?q==="img"?k.createElement(q,ue({},ee,J,{className:L,ref:t})):k.createElement(q,ue({},ee,{className:L,href:b}),jo.create(u,{autoGenerateKey:!1}),Yn.create(E,{autoGenerateKey:!1}),k.createElement("img",ue({},J,{ref:t}))):k.createElement(q,ue({},G,{className:L,ref:t}),l):k.createElement(q,ue({},G,{className:L,ref:t}),s)});tl.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"];tl.Group=iF;tl.displayName="Image";tl.propTypes={};tl.create=nn(tl,function(e){return{src:e}});const p1=tl;var rl=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=et("detail",n),o=Ze(rl,e),a=lt(e);return k.createElement(a,ue({},o,{className:s,ref:t}),At(r)?i:r)});rl.handledProps=["as","children","className","content"];rl.displayName="LabelDetail";rl.propTypes={};rl.create=nn(rl,function(e){return{content:e}});var um=k.forwardRef(function(e,t){var r=e.children,n=e.circular,i=e.className,s=e.color,o=e.content,a=e.size,l=e.tag,u=et("ui",s,a,W(n,"circular"),W(l,"tag"),"labels",i),c=Ze(um,e),f=lt(e);return k.createElement(f,ue({},c,{className:u,ref:t}),At(r)?o:r)});um.handledProps=["as","children","circular","className","color","content","size","tag"];um.displayName="LabelGroup";um.propTypes={};const sF=um;var Yn=k.forwardRef(function(e,t){var r=e.active,n=e.attached,i=e.basic,s=e.children,o=e.circular,a=e.className,l=e.color,u=e.content,c=e.corner,f=e.detail,p=e.empty,w=e.floating,b=e.horizontal,x=e.icon,E=e.image,g=e.onRemove,v=e.pointing,N=e.prompt,O=e.removeIcon,R=e.ribbon,C=e.size,$=e.tag,L=v===!0&&"pointing"||(v==="left"||v==="right")&&v+" pointing"||(v==="above"||v==="below")&&"pointing "+v,G=et("ui",l,L,C,W(r,"active"),W(i,"basic"),W(o,"circular"),W(p,"empty"),W(w,"floating"),W(b,"horizontal"),W(E===!0,"image"),W(N,"prompt"),W($,"tag"),en(c,"corner"),en(R,"ribbon"),gi(n,"attached"),"label",a),F=Ze(Yn,e),J=lt(e),ee=Gf(function(ie){Fe(e,"onClick",ie,e)});if(!At(s))return k.createElement(J,ue({},F,{className:G,onClick:ee,ref:t}),s);var q=yN(O)?"delete":O;return k.createElement(J,ue({},F,{className:G,onClick:ee,ref:t}),vi.create(x,{autoGenerateKey:!1}),typeof E!="boolean"&&p1.create(E,{autoGenerateKey:!1}),u,rl.create(f,{autoGenerateKey:!1}),g&&vi.create(q,{autoGenerateKey:!1,overrideProps:function(ve){return{onClick:function(_e){Fe(ve,"onClick",_e),Fe(e,"onRemove",_e,e)}}}}))});Yn.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"];Yn.displayName="Label";Yn.propTypes={};Yn.Detail=rl;Yn.Group=sF;Yn.create=nn(Yn,function(e){return{content:e}});var cm=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=e.hidden,o=e.visible,a=et(W(o,"visible"),W(s,"hidden"),"content",n),l=Ze(cm,e),u=lt(e);return k.createElement(u,ue({},l,{className:a,ref:t}),At(r)?i:r)});cm.handledProps=["as","children","className","content","hidden","visible"];cm.displayName="ButtonContent";cm.propTypes={};const oF=cm;var dm=k.forwardRef(function(e,t){var r=e.attached,n=e.basic,i=e.buttons,s=e.children,o=e.className,a=e.color,l=e.compact,u=e.content,c=e.floated,f=e.fluid,p=e.icon,w=e.inverted,b=e.labeled,x=e.negative,E=e.positive,g=e.primary,v=e.secondary,N=e.size,O=e.toggle,R=e.vertical,C=e.widths,$=et("ui",a,N,W(n,"basic"),W(l,"compact"),W(f,"fluid"),W(p,"icon"),W(w,"inverted"),W(b,"labeled"),W(x,"negative"),W(E,"positive"),W(g,"primary"),W(v,"secondary"),W(O,"toggle"),W(R,"vertical"),en(r,"attached"),gi(c,"floated"),Vu(C),"buttons",o),L=Ze(dm,e),G=lt(e);return Pt(i)?k.createElement(G,ue({},L,{className:$,ref:t}),At(s)?u:s):k.createElement(G,ue({},L,{className:$,ref:t}),Ro(i,function(F){return xr.create(F)}))});dm.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"];dm.displayName="ButtonGroup";dm.propTypes={};const PN=dm;var hm=k.forwardRef(function(e,t){var r=e.className,n=e.text,i=et("or",r),s=Ze(hm,e),o=lt(e);return k.createElement(o,ue({},s,{className:i,"data-text":n,ref:t}))});hm.handledProps=["as","className","text"];hm.displayName="ButtonOr";hm.propTypes={};const pu=hm;function aF(e,t){if(!Pt(t))return t;if(e!=="button")return"button"}function lF(e,t,r){if(!Pt(r))return r;if(t)return-1;if(e==="div")return 0}function uF(e){var t=e.children,r=e.content,n=e.icon,i=e.labelPosition;if(n===!0)return!0;if(n)return i||At(t)&&Pt(r)}var zs=k.forwardRef(function(e,t){var r=e.active,n=e.animated,i=e.attached,s=e.basic,o=e.children,a=e.circular,l=e.className,u=e.color,c=e.compact,f=e.content,p=e.disabled,w=e.floated,b=e.fluid,x=e.icon,E=e.inverted,g=e.label,v=e.labelPosition,N=e.loading,O=e.negative,R=e.positive,C=e.primary,$=e.secondary,L=e.size,G=e.toggle,F=e.type,J=Qd(t,k.useRef()),ee=et(u,L,W(r,"active"),W(s,"basic"),W(a,"circular"),W(c,"compact"),W(b,"fluid"),W(uF(e),"icon"),W(E,"inverted"),W(N,"loading"),W(O,"negative"),W(R,"positive"),W(C,"primary"),W($,"secondary"),W(G,"toggle"),en(n,"animated"),en(i,"attached")),q=et(en(v||!!g,"labeled")),ie=et(W(p,"disabled"),gi(w,"floated")),ve=Ze(zs,e),Se=lt(e,{defaultAs:"button",getDefault:function(){if(!Pt(i)||!Pt(g))return"div"}}),_e=lF(Se,p,e.tabIndex),H=function(j){if(p){j.preventDefault();return}Fe(e,"onClick",j,e)};if(!Pt(g)){var de=et("ui",ee,"button",l),pe=et("ui",q,"button",l,ie),ke=Yn.create(g,{defaultProps:{basic:!0,pointing:v==="left"?"right":"left"},autoGenerateKey:!1});return k.createElement(Se,ue({},ve,{className:pe,onClick:H}),v==="left"&&ke,k.createElement("button",{className:de,"aria-pressed":G?!!r:void 0,disabled:p,tabIndex:_e,type:F,ref:J},vi.create(x,{autoGenerateKey:!1})," ",f),(v==="right"||!v)&&ke)}var K=et("ui",ee,ie,q,"button",l),fe=!At(o),le=aF(Se,e.role);return k.createElement(Se,ue({},ve,{className:K,"aria-pressed":G?!!r:void 0,disabled:p&&Se==="button"||void 0,onClick:H,role:le,tabIndex:_e,type:F,ref:J}),fe&&o,!fe&&vi.create(x,{autoGenerateKey:!1}),!fe&&f)});zs.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"];zs.displayName="Button";zs.propTypes={};zs.Content=oF;zs.Group=PN;zs.Or=pu;zs.create=nn(zs,function(e){return{content:e}});const xr=zs;function vR(e,t,r,n){var i=-1,s=e==null?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function cF(e,t,r,n,i){return i(e,function(s,o,a){r=n?(n=!1,s):t(r,s,o,a)}),r}function dF(e,t,r){var n=Qr(e)?vR:cF,i=arguments.length<3;return n(e,Uu(t),r,i,Gd)}var hF=function(t,r,n,i){var s=n?n.call(i,t,r):void 0;if(s!==void 0)return!!s;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),a=Object.keys(r);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var c=o[u];if(!l(c))return!1;var f=t[c],p=r[c];if(s=n?n.call(i,f,p,c):void 0,s===!1||s===void 0&&f!==p)return!1}return!0};const Aw=Vo(hF);var fm=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=et("header",n),o=Ze(fm,e),a=lt(e);return k.createElement(a,ue({},o,{className:s,ref:t}),At(r)?i:r)});fm.handledProps=["as","children","className","content"];fm.displayName="MenuHeader";fm.propTypes={};const fF=fm;function pF(e){return function(t){return e==null?void 0:e[t]}}var mF={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},gF=pF(mF);const yF=gF;var vF=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wF="\\u0300-\\u036f",bF="\\ufe20-\\ufe2f",_F="\\u20d0-\\u20ff",xF=wF+bF+_F,NF="["+xF+"]",SF=RegExp(NF,"g");function w_(e){return e=Jp(e),e&&e.replace(vF,yF).replace(SF,"")}var kF=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function EF(e){return e.match(kF)||[]}var CF=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function TF(e){return CF.test(e)}var wR="\\ud800-\\udfff",OF="\\u0300-\\u036f",RF="\\ufe20-\\ufe2f",PF="\\u20d0-\\u20ff",AF=OF+RF+PF,bR="\\u2700-\\u27bf",_R="a-z\\xdf-\\xf6\\xf8-\\xff",IF="\\xac\\xb1\\xd7\\xf7",$F="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",LF="\\u2000-\\u206f",DF=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xR="A-Z\\xc0-\\xd6\\xd8-\\xde",jF="\\ufe0e\\ufe0f",NR=IF+$F+LF+DF,SR="[']",wE="["+NR+"]",MF="["+AF+"]",kR="\\d+",FF="["+bR+"]",ER="["+_R+"]",CR="[^"+wR+NR+kR+bR+_R+xR+"]",BF="\\ud83c[\\udffb-\\udfff]",WF="(?:"+MF+"|"+BF+")",zF="[^"+wR+"]",TR="(?:\\ud83c[\\udde6-\\uddff]){2}",OR="[\\ud800-\\udbff][\\udc00-\\udfff]",hc="["+xR+"]",qF="\\u200d",bE="(?:"+ER+"|"+CR+")",UF="(?:"+hc+"|"+CR+")",_E="(?:"+SR+"(?:d|ll|m|re|s|t|ve))?",xE="(?:"+SR+"(?:D|LL|M|RE|S|T|VE))?",RR=WF+"?",PR="["+jF+"]?",VF="(?:"+qF+"(?:"+[zF,TR,OR].join("|")+")"+PR+RR+")*",HF="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",GF="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",QF=PR+RR+VF,JF="(?:"+[FF,TR,OR].join("|")+")"+QF,KF=RegExp([hc+"?"+ER+"+"+_E+"(?="+[wE,hc,"$"].join("|")+")",UF+"+"+xE+"(?="+[wE,hc+bE,"$"].join("|")+")",hc+"?"+bE+"+"+_E,hc+"+"+xE,GF,HF,kR,JF].join("|"),"g");function ZF(e){return e.match(KF)||[]}function YF(e,t,r){return e=Jp(e),t=r?void 0:t,t===void 0?TF(e)?ZF(e):EF(e):e.match(t)||[]}var XF="[']",eB=RegExp(XF,"g");function tB(e){return function(t){return vR(YF(w_(t).replace(eB,"")),e,"")}}function rB(e){return function(t){t=Jp(t);var r=NN(t)?KM(t):void 0,n=r?r[0]:t.charAt(0),i=r?CM(r,1).join(""):t.slice(1);return n[e]()+i}}var nB=rB("toUpperCase"),iB=tB(function(e,t,r){return e+(r?" ":"")+nB(t)}),Ou=k.forwardRef(function(e,t){var r=e.active,n=e.children,i=e.className,s=e.color,o=e.content,a=e.disabled,l=e.fitted,u=e.header,c=e.icon,f=e.link,p=e.name,w=e.onClick,b=e.position,x=et(s,b,W(r,"active"),W(a,"disabled"),W(c===!0||c&&!(p||o),"icon"),W(u,"header"),W(f,"link"),en(l,"fitted"),"item",i),E=lt(e,{getDefault:function(){if(w)return"a"}}),g=Ze(Ou,e),v=Gf(function(N){a||Fe(e,"onClick",N,e)});return At(n)?k.createElement(E,ue({},g,{className:x,onClick:v,ref:t}),vi.create(c,{autoGenerateKey:!1}),At(o)?iB(p):o):k.createElement(E,ue({},g,{className:x,onClick:v,ref:t}),n)});Ou.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"];Ou.displayName="MenuItem";Ou.propTypes={};Ou.create=nn(Ou,function(e){return{content:e,name:e}});const AR=Ou;var pm=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=e.position,o=et(s,"menu",n),a=Ze(pm,e),l=lt(e);return k.createElement(l,ue({},a,{className:o,ref:t}),At(r)?i:r)});pm.handledProps=["as","children","className","content","position"];pm.displayName="MenuMenu";pm.propTypes={};const IR=pm;var qs=k.forwardRef(function(e,t){var r=e.attached,n=e.borderless,i=e.children,s=e.className,o=e.color,a=e.compact,l=e.fixed,u=e.floated,c=e.fluid,f=e.icon,p=e.inverted,w=e.items,b=e.pagination,x=e.pointing,E=e.secondary,g=e.size,v=e.stackable,N=e.tabular,O=e.text,R=e.vertical,C=e.widths,$=Yy({state:e.activeIndex,defaultState:e.defaultActiveIndex,initialState:-1}),L=$[0],G=$[1],F=et("ui",o,g,W(n,"borderless"),W(a,"compact"),W(c,"fluid"),W(p,"inverted"),W(b,"pagination"),W(x,"pointing"),W(E,"secondary"),W(v,"stackable"),W(O,"text"),W(R,"vertical"),en(r,"attached"),en(u,"floated"),en(f,"icon"),en(N,"tabular"),gi(l,"fixed"),Vu(C,"item"),s,"menu"),J=Ze(qs,e),ee=lt(e);return At(i)?k.createElement(ee,ue({},J,{className:F,ref:t}),Ro(w,function(q,ie){return AR.create(q,{defaultProps:{active:parseInt(L,10)===ie,index:ie},overrideProps:function(Se){return{onClick:function(H,de){var pe=de.index;G(pe),Fe(Se,"onClick",H,de),Fe(e,"onItemClick",H,de)}}}})})):k.createElement(ee,ue({},J,{className:F,ref:t}),i)});qs.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"];qs.displayName="Menu";qs.propTypes={};qs.Header=fF;qs.Item=AR;qs.Menu=IR;qs.create=nn(qs,function(e){return{items:e}});const Ol=qs;var mm=k.forwardRef(function(e,t){var r=e.className,n=e.disabled,i=e.label,s=e.id,o=e.name,a=e.radio,l=e.readOnly,u=e.slider,c=e.tabIndex,f=e.toggle,p=e.type,w=p===void 0?"checkbox":p,b=e.value,x=Yy({state:e.checked,defaultState:e.defaultChecked,initialState:!1}),E=x[0],g=x[1],v=Yy({state:e.indeterminate,defaultState:e.defaultIndeterminate,initialState:!1}),N=v[0],O=v[1],R=Qd(k.useRef(),t),C=k.useRef(),$=k.useRef();RN(function(){R.current&&(R.current.indeterminate=!!N)});var L=function(){return!n&&!l&&!(a&&E)},G=function(){return Pt(c)?n?-1:0:c},F=function(K){L()&&(Fe(e,"onChange",K,ue({},e,{checked:!E,indeterminate:!1})),g(!E),O(!1))},J=function(K){var fe=Fe(R.current,"contains",K.target),le=Fe(C.current,"contains",K.target),Ce=!le&&!fe,j=!Pt(s),Ee=le&&j;Ee||Fe(e,"onClick",K,ue({},e,{checked:!E,indeterminate:!!N})),$.current&&($.current=!1,le&&!j&&F(K),Ce&&F(K),le&&j&&K.stopPropagation())},ee=function(K){Fe(e,"onMouseDown",K,ue({},e,{checked:!!E,indeterminate:!!N})),K.defaultPrevented||Fe(R.current,"focus"),K.preventDefault()},q=function(K){$.current=!0,Fe(e,"onMouseUp",K,ue({},e,{checked:!!E,indeterminate:!!N}))},ie=et("ui",W(E,"checked"),W(n,"disabled"),W(N,"indeterminate"),W(Pt(i),"fitted"),W(a,"radio"),W(l,"read-only"),W(u,"slider"),W(f,"toggle"),"checkbox",r),ve=Ze(mm,e),Se=lt(e),_e=ON(ve,{htmlProps:mR}),H=_e[0],de=_e[1],pe=y_(i,{defaultProps:{htmlFor:s},autoGenerateKey:!1})||k.createElement("label",{htmlFor:s});return k.createElement(Se,ue({},de,{className:ie,onClick:J,onChange:F,onMouseDown:ee,onMouseUp:q}),k.createElement("input",ue({},H,{checked:E,className:"hidden",disabled:n,id:s,name:o,readOnly:!0,ref:R,tabIndex:G(),type:w,value:b})),k.cloneElement(pe,{ref:C}))});mm.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"];mm.displayName="Checkbox";mm.propTypes={};const AN=mm;var gm=k.forwardRef(function(e,t){var r=e.slider,n=e.toggle,i=e.type,s=i===void 0?"radio":i,o=Ze(gm,e),a=!(r||n)||void 0;return k.createElement(AN,ue({},o,{type:s,radio:a,slider:r,toggle:n,ref:t}))});gm.handledProps=["slider","toggle","type"];gm.displayName="Radio";gm.propTypes={};const $R=gm;function sB(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function oB(e){for(var t=-1,r=e==null?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i}function aB(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function lB(e,t){var r=!0;return Gd(e,function(n,i,s){return r=!!t(n,i,s),r}),r}function uB(e,t,r){var n=Qr(e)?aB:lB;return r&&K4(e,t,r)&&(t=void 0),n(e,Uu(t))}function cB(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:vN(t),t=n-t,gN(e,0,t<0?0:t)):[]}var dB=U4("length"),LR="\\ud800-\\udfff",hB="\\u0300-\\u036f",fB="\\ufe20-\\ufe2f",pB="\\u20d0-\\u20ff",mB=hB+fB+pB,gB="\\ufe0e\\ufe0f",yB="["+LR+"]",b_="["+mB+"]",__="\\ud83c[\\udffb-\\udfff]",vB="(?:"+b_+"|"+__+")",DR="[^"+LR+"]",jR="(?:\\ud83c[\\udde6-\\uddff]){2}",MR="[\\ud800-\\udbff][\\udc00-\\udfff]",wB="\\u200d",FR=vB+"?",BR="["+gB+"]?",bB="(?:"+wB+"(?:"+[DR,jR,MR].join("|")+")"+BR+FR+")*",_B=BR+FR+bB,xB="(?:"+[DR+b_+"?",b_,jR,MR,yB].join("|")+")",NE=RegExp(__+"(?="+__+")|"+xB+_B,"g");function NB(e){for(var t=NE.lastIndex=0;NE.test(e);)++t;return t}function SB(e){return NN(e)?NB(e):dB(e)}var kB="[object Map]",EB="[object Set]";function CB(e){if(e==null)return 0;if(Zo(e))return EN(e)?SB(e):e.length;var t=Qy(e);return t==kB||t==EB?e.size:bN(e).length}var SE=X0(function(e){return dR(r1(e,1,Jy,!0))}),ym=k.forwardRef(function(e,t){var r=e.className,n=e.name,i=et(n,"flag",r),s=Ze(ym,e),o=lt(e,{defaultAs:"i"});return k.createElement(o,ue({},s,{className:i,ref:t}))});ym.handledProps=["as","className","name"];ym.displayName="Flag";ym.propTypes={};var ev=k.memo(ym);ev.create=nn(ev,function(e){return{name:e}});var vm=k.forwardRef(function(e,t){var r=e.className,n=et("divider",r),i=Ze(vm,e),s=lt(e);return k.createElement(s,ue({},i,{className:n,ref:t}))});vm.handledProps=["as","className"];vm.displayName="DropdownDivider";vm.propTypes={};const TB=vm;var nl=k.forwardRef(function(e,t){var r=e.active,n=e.children,i=e.className,s=e.content,o=e.disabled,a=e.description,l=e.flag,u=e.icon,c=e.image,f=e.label,p=e.selected,w=e.text,b=function(J){Fe(e,"onClick",J,e)},x=et(W(r,"active"),W(o,"disabled"),W(p,"selected"),"item",i),E=Pt(u)?NM(n,"DropdownMenu")&&"dropdown":u,g=Ze(nl,e),v=lt(e),N={role:"option","aria-disabled":o,"aria-checked":r,"aria-selected":p};if(!At(n))return k.createElement(v,ue({},g,N,{className:x,onClick:b,ref:t}),n);var O=ev.create(l,{autoGenerateKey:!1}),R=vi.create(E,{autoGenerateKey:!1}),C=p1.create(c,{autoGenerateKey:!1}),$=Yn.create(f,{autoGenerateKey:!1}),L=g_("span",function(F){return{children:F}},a,{defaultProps:{className:"description"},autoGenerateKey:!1}),G=g_("span",function(F){return{children:F}},At(s)?w:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return k.createElement(v,ue({},g,N,{className:x,onClick:b,ref:t}),C,R,O,$,L,G)});nl.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"];nl.displayName="DropdownItem";nl.propTypes={};nl.create=nn(nl,function(e){return e});var il=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=e.icon,o=et("header",n),a=Ze(il,e),l=lt(e);return At(r)?k.createElement(l,ue({},a,{className:o,ref:t}),vi.create(s,{autoGenerateKey:!1}),i):k.createElement(l,ue({},a,{className:o,ref:t}),r)});il.handledProps=["as","children","className","content","icon"];il.displayName="DropdownHeader";il.propTypes={};il.create=nn(il,function(e){return{content:e}});var wm=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=e.direction,o=e.open,a=e.scrolling,l=et(s,W(o,"visible"),W(a,"scrolling"),"menu transition",n),u=Ze(wm,e),c=lt(e);return k.createElement(c,ue({},u,{className:l,ref:t}),At(r)?i:r)});wm.handledProps=["as","children","className","content","direction","open","scrolling"];wm.displayName="DropdownMenu";wm.propTypes={};const WR=wm;var sl=k.forwardRef(function(e,t){var r=e.autoComplete,n=r===void 0?"off":r,i=e.className,s=e.tabIndex,o=e.type,a=o===void 0?"text":o,l=e.value,u=function(b){var x=$s(b,"target.value");Fe(e,"onChange",b,ue({},e,{value:x}))},c=et("search",i),f=lt(e,{defaultAs:"input"}),p=Ze(sl,e);return k.createElement(f,ue({"aria-autocomplete":"list"},p,{autoComplete:n,className:c,onChange:u,ref:t,tabIndex:s,type:a,value:l}))});sl.handledProps=["as","autoComplete","className","tabIndex","type","value"];sl.displayName="DropdownSearchInput";sl.propTypes={};sl.create=nn(sl,function(e){return{type:e}});var ol=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=et("divider",n),o=Ze(ol,e),a=lt(e);return k.createElement(a,ue({"aria-atomic":!0,"aria-live":"polite",role:"alert"},o,{className:s,ref:t}),At(r)?i:r)});ol.handledProps=["as","children","className","content"];ol.displayName="DropdownText";ol.propTypes={};ol.create=nn(ol,function(e){return{content:e}});var zR=/[\\^$.*+?()[\]{}|]/g,OB=RegExp(zR.source);function RB(e){return e=Jp(e),e&&OB.test(e)?e.replace(zR,"\\$&"):e}function Ic(e){var t=e.additionLabel,r=e.additionPosition,n=e.allowAdditions,i=e.deburr,s=e.multiple,o=e.options,a=e.search,l=e.searchQuery,u=e.value,c=o;if(s&&(c=lE(c,function(x){return!rm(u,x.value)})),a&&l)if(Td(a))c=a(c,l);else{var f=i?w_(l):l,p=new RegExp(RB(f),"i");c=lE(c,function(x){return p.test(i?w_(x.text):x.text)})}if(n&&a&&l&&!nf(c,{text:l})){var w=k.isValidElement(t)?k.cloneElement(t,{key:"addition-label"}):t||"",b={key:"addition",text:[w,k.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};r==="top"?c.unshift(b):c.push(b)}return c}Ic.handledProps=[];function kE(e){var t=e.additionLabel,r=e.additionPosition,n=e.allowAdditions,i=e.deburr,s=e.multiple,o=e.options,a=e.search,l=e.searchQuery,u=e.selectedIndex,c=e.value,f=Ic({value:c,options:o,searchQuery:l,additionLabel:t,additionPosition:r,allowAdditions:n,deburr:i,multiple:s,search:a}),p=dF(f,function(E,g,v){return g.disabled||E.push(v),E},[]),w;if(!u||u<0){var b=p[0];w=s?b:d_(f,["value",c])||p[0]}else if(s)w=J4(p,function(E){return E>=u}),u>=f.length-1&&(w=p[p.length-1]);else{var x=d_(f,["value",c]);w=rm(p,x)?x:void 0}return(!w||w<0)&&(w=p[0]),w}var PB=["additionLabel","additionPosition","closeOnBlur","closeOnEscape","deburr","icon","minCharacters","noResultsMessage","openOnFocus","renderLabel","searchInput","selectOnBlur","selectOnNavigation","wrapSelection"],EE=function(t,r){return Pt(t)?r:t},CE=function(t){return t&&t.map(function(r){return o7(r,["key","value"])})};function qR(e){var t=e.flag,r=e.image,n=e.text;return Td(n)?n:{content:I.createElement(I.Fragment,null,ev.create(t),p1.create(r),n)}}var bs=I.forwardRef(function(e,t){var r=e.additionLabel,n=r===void 0?"Add ":r,i=e.additionPosition,s=i===void 0?"top":i,o=e.closeOnBlur,a=o===void 0?!0:o,l=e.closeOnEscape,u=l===void 0?!0:l,c=e.deburr,f=c===void 0?!1:c,p=e.icon,w=p===void 0?"dropdown":p,b=e.minCharacters,x=b===void 0?1:b,E=e.noResultsMessage,g=E===void 0?"No results found.":E,v=e.openOnFocus,N=v===void 0?!0:v,O=e.renderLabel,R=O===void 0?qR:O,C=e.searchInput,$=C===void 0?"text":C,L=e.selectOnBlur,G=L===void 0?!0:L,F=e.selectOnNavigation,J=F===void 0?!0:F,ee=e.wrapSelection,q=ee===void 0?!0:ee,ie=sB(e,PB);return I.createElement(IN,ue({additionLabel:n,additionPosition:s,closeOnBlur:a,closeOnEscape:u,deburr:f,icon:w,minCharacters:x,noResultsMessage:g,openOnFocus:N,renderLabel:R,searchInput:$,selectOnBlur:G,selectOnNavigation:J,wrapSelection:q},ie,{innerRef:t}))});bs.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"];var IN=function(e){R4(t,e);function t(){for(var n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=e.call.apply(e,[this].concat(s))||this,n.searchRef=k.createRef(),n.sizerRef=k.createRef(),n.ref=k.createRef(),n.handleRef=function(a){n.ref.current=a,Qf(n.props.innerRef,a)},n.handleChange=function(a,l){Fe(n.props,"onChange",a,ue({},n.props,{value:l}))},n.closeOnChange=function(a){var l=n.props,u=l.closeOnChange,c=l.multiple,f=yN(u)?!c:u;f&&n.close(a,cR)},n.closeOnEscape=function(a){n.props.closeOnEscape&&Zr.getCode(a)===Zr.Escape&&(a.preventDefault(),n.close(a))},n.moveSelectionOnKeyDown=function(a){var l,u=n.props,c=u.multiple,f=u.selectOnNavigation,p=n.state.open;if(p){var w=(l={},l[Zr.ArrowDown]=1,l[Zr.ArrowUp]=-1,l),b=w[Zr.getCode(a)];if(b!==void 0){a.preventDefault();var x=n.getSelectedIndexAfterMove(b);!c&&f&&n.makeSelectedItemActive(a,x),n.setState({selectedIndex:x})}}},n.openOnSpace=function(a){var l,u,c,f=n.state.focus&&!n.state.open&&Zr.getCode(a)===Zr.Spacebar,p=((l=a.target)==null?void 0:l.tagName)!=="INPUT"&&((u=a.target)==null?void 0:u.tagName)!=="TEXTAREA"&&((c=a.target)==null?void 0:c.isContentEditable)!==!0;f&&(p&&a.preventDefault(),n.open(a))},n.openOnArrow=function(a){var l=n.state,u=l.focus,c=l.open;if(u&&!c){var f=Zr.getCode(a);(f===Zr.ArrowDown||f===Zr.ArrowUp)&&(a.preventDefault(),n.open(a))}},n.makeSelectedItemActive=function(a,l){var u=n.state,c=u.open,f=u.value,p=n.props.multiple,w=n.getSelectedItem(l),b=$s(w,"value"),x=$s(w,"disabled");if(Pt(b)||!c||x)return f;var E=p?SE(f,[b]):b,g=p?!!dE(E,f).length:E!==f;return g&&(n.setState({value:E}),n.handleChange(a,E),w["data-additional"]&&Fe(n.props,"onAddItem",a,ue({},n.props,{value:b}))),f},n.selectItemOnEnter=function(a){var l=n.props.search,u=n.state,c=u.open,f=u.selectedIndex;if(c){var p=Zr.getCode(a)===Zr.Enter||!l&&Zr.getCode(a)===Zr.Spacebar;if(p){a.preventDefault();var w=CB(Ic({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search}));if(!(l&&w===0)){var b=n.makeSelectedItemActive(a,f);n.setState({selectedIndex:kE({additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search,selectedIndex:f,value:b,options:n.props.options,searchQuery:""})}),n.closeOnChange(a),n.clearSearchQuery(),l&&Fe(n.searchRef.current,"focus")}}}},n.removeItemOnBackspace=function(a){var l=n.props,u=l.multiple,c=l.search,f=n.state,p=f.searchQuery,w=f.value;if(Zr.getCode(a)===Zr.Backspace&&!(p||!c||!u||Og(w))){a.preventDefault();var b=cB(w);n.setState({value:b}),n.handleChange(a,b)}},n.closeOnDocumentClick=function(a){n.props.closeOnBlur&&(n.ref.current&&sf(n.ref.current,a)||n.close())},n.handleMouseDown=function(a){n.isMouseDown=!0,Fe(n.props,"onMouseDown",a,n.props),document.addEventListener("mouseup",n.handleDocumentMouseUp)},n.handleDocumentMouseUp=function(){n.isMouseDown=!1,document.removeEventListener("mouseup",n.handleDocumentMouseUp)},n.handleClick=function(a){var l=n.props,u=l.minCharacters,c=l.search,f=n.state,p=f.open,w=f.searchQuery;if(Fe(n.props,"onClick",a,n.props),a.stopPropagation(),!c)return n.toggle(a);if(p){Fe(n.searchRef.current,"focus");return}if(w.length>=u||u===1){n.open(a);return}Fe(n.searchRef.current,"focus")},n.handleIconClick=function(a){var l=n.props.clearable,u=n.hasValue();Fe(n.props,"onClick",a,n.props),a.stopPropagation(),l&&u?n.clearValue(a):n.toggle(a)},n.handleItemClick=function(a,l){var u=n.props,c=u.multiple,f=u.search,p=n.state.value,w=l.value;if(a.stopPropagation(),(c||l.disabled)&&a.nativeEvent.stopImmediatePropagation(),!l.disabled){var b=l["data-additional"],x=c?SE(n.state.value,[w]):w,E=c?!!dE(x,p).length:x!==p;E&&(n.setState({value:x}),n.handleChange(a,x)),n.clearSearchQuery(),Fe(f?n.searchRef.current:n.ref.current,"focus"),n.closeOnChange(a),b&&Fe(n.props,"onAddItem",a,ue({},n.props,{value:w}))}},n.handleFocus=function(a){var l=n.state.focus;l||(Fe(n.props,"onFocus",a,n.props),n.setState({focus:!0}))},n.handleBlur=function(a){var l=$s(a,"currentTarget");if(!(l&&l.contains(document.activeElement))){var u=n.props,c=u.closeOnBlur,f=u.multiple,p=u.selectOnBlur;n.isMouseDown||(Fe(n.props,"onBlur",a,n.props),p&&!f&&(n.makeSelectedItemActive(a,n.state.selectedIndex),c&&n.close()),n.setState({focus:!1}),n.clearSearchQuery())}},n.handleSearchChange=function(a,l){var u=l.value;a.stopPropagation();var c=n.props.minCharacters,f=n.state.open,p=u;if(Fe(n.props,"onSearchChange",a,ue({},n.props,{searchQuery:p})),n.setState({searchQuery:p,selectedIndex:0}),!f&&p.length>=c){n.open();return}f&&c!==1&&p.length<c&&n.close()},n.handleKeyDown=function(a){n.moveSelectionOnKeyDown(a),n.openOnArrow(a),n.openOnSpace(a),n.selectItemOnEnter(a),Fe(n.props,"onKeyDown",a)},n.getSelectedItem=function(a){var l=Ic({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});return $s(l,"["+a+"]")},n.getItemByValue=function(a){var l=n.props.options;return J4(l,{value:a})},n.getDropdownAriaOptions=function(){var a=n.props,l=a.loading,u=a.disabled,c=a.search,f=a.multiple,p=n.state.open,w={role:c?"combobox":"listbox","aria-busy":l,"aria-disabled":u,"aria-expanded":!!p};return w.role==="listbox"&&(w["aria-multiselectable"]=f),w},n.clearSearchQuery=function(){var a=n.state.searchQuery;a===void 0||a===""||n.setState({searchQuery:""})},n.handleLabelClick=function(a,l){a.stopPropagation(),n.setState({selectedLabel:l.value}),Fe(n.props,"onLabelClick",a,l)},n.handleLabelRemove=function(a,l){a.stopPropagation();var u=n.state.value,c=Y7(u,l.value);n.setState({value:c}),n.handleChange(a,c)},n.getSelectedIndexAfterMove=function(a,l){l===void 0&&(l=n.state.selectedIndex);var u=Ic({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(!(u===void 0||uB(u,"disabled"))){var c=u.length-1,f=n.props.wrapSelection,p=l+a;return!f&&(p>c||p<0)?p=l:p>c?p=0:p<0&&(p=c),u[p].disabled?n.getSelectedIndexAfterMove(a,p):p}},n.handleIconOverrides=function(a){var l=n.props.clearable,u=et(l&&n.hasValue()&&"clear",a.className);return{className:u,onClick:function(f){Fe(a,"onClick",f,a),n.handleIconClick(f)}}},n.clearValue=function(a){var l=n.props.multiple,u=l?[]:"";n.setState({value:u}),n.handleChange(a,u)},n.computeSearchInputTabIndex=function(){var a=n.props,l=a.disabled,u=a.tabIndex;return Pt(u)?l?-1:0:u},n.computeSearchInputWidth=function(){var a=n.state.searchQuery;if(n.sizerRef.current&&a){n.sizerRef.current.style.display="inline",n.sizerRef.current.textContent=a;var l=Math.ceil(n.sizerRef.current.getBoundingClientRect().width);return n.sizerRef.current.style.removeProperty("display"),l}},n.computeTabIndex=function(){var a=n.props,l=a.disabled,u=a.search,c=a.tabIndex;if(!u)return l?-1:Pt(c)?0:c},n.handleSearchInputOverrides=function(a){return{onChange:function(u,c){Fe(a,"onChange",u,c),n.handleSearchChange(u,c)},ref:n.searchRef}},n.hasValue=function(){var a=n.props.multiple,l=n.state.value;return a?!Og(l):!Pt(l)&&l!==""},n.scrollSelectedItemIntoView=function(){if(n.ref.current){var a=n.ref.current.querySelector(".menu.visible");if(a){var l=a.querySelector(".item.selected");if(l){var u=l.offsetTop<a.scrollTop,c=l.offsetTop+l.clientHeight>a.scrollTop+a.clientHeight;u?a.scrollTop=l.offsetTop:c&&(a.scrollTop=l.offsetTop+l.clientHeight-a.clientHeight)}}}},n.setOpenDirection=function(){if(n.ref.current){var a=n.ref.current.querySelector(".menu.visible");if(a){var l=n.ref.current.getBoundingClientRect(),u=a.clientHeight,c=document.documentElement.clientHeight-l.top-l.height-u,f=l.top-u,p=c<0&&f>c;!p!=!n.state.upward&&n.setState({upward:p})}}},n.open=function(a,l){a===void 0&&(a=null),l===void 0&&(l=!0);var u=n.props,c=u.disabled,f=u.search;c||(f&&Fe(n.searchRef.current,"focus"),Fe(n.props,"onOpen",a,n.props),l&&n.setState({open:!0}),n.scrollSelectedItemIntoView())},n.close=function(a,l){l===void 0&&(l=n.handleClose),n.state.open&&(Fe(n.props,"onClose",a,n.props),n.setState({open:!1},l))},n.handleClose=function(){var a=document.activeElement===n.searchRef.current;!a&&n.ref.current&&n.ref.current.blur();var l=document.activeElement===n.ref.current,u=a||l;n.setState({focus:u})},n.toggle=function(a){return n.state.open?n.close(a):n.open(a)},n.renderText=function(){var a=n.props,l=a.multiple,u=a.placeholder,c=a.search,f=a.text,p=n.state,w=p.searchQuery,b=p.selectedIndex,x=p.value,E=p.open,g=n.hasValue(),v=et(u&&!g&&"default","text",c&&w&&"filtered"),N=u,O;return f?N=f:E&&!l?O=n.getSelectedItem(b):g&&(O=n.getItemByValue(x)),ol.create(O?qR(O):N,{defaultProps:{className:v}})},n.renderSearchInput=function(){var a=n.props,l=a.search,u=a.searchInput,c=n.state.searchQuery;return l&&sl.create(u,{defaultProps:{style:{width:n.computeSearchInputWidth()},tabIndex:n.computeSearchInputTabIndex(),value:c},overrideProps:n.handleSearchInputOverrides})},n.renderSearchSizer=function(){var a=n.props,l=a.search,u=a.multiple;return l&&u&&I.createElement("span",{className:"sizer",ref:n.sizerRef})},n.renderLabels=function(){var a=n.props,l=a.multiple,u=a.renderLabel,c=n.state,f=c.selectedLabel,p=c.value;if(!(!l||Og(p))){var w=Ro(p,n.getItemByValue);return Ro(oB(w),function(b,x){var E={active:b.value===f,as:"a",key:EE(b.key,b.value),onClick:n.handleLabelClick,onRemove:n.handleLabelRemove,value:b.value};return Yn.create(u(b,x,E),{defaultProps:E})})}},n.renderOptions=function(){var a=n.props,l=a.lazyLoad,u=a.multiple,c=a.search,f=a.noResultsMessage,p=n.state,w=p.open,b=p.selectedIndex,x=p.value;if(l&&!w)return null;var E=Ic({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(f!==null&&c&&Og(E))return I.createElement("div",{className:"message"},f);var g=u?function(v){return rm(x,v)}:function(v){return v===x};return Ro(E,function(v,N){return nl.create(ue({active:g(v.value),selected:b===N},v,{key:EE(v.key,v.value),style:ue({},v.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(R){return{onClick:function($,L){R.onClick==null||R.onClick($,L),n.handleItemClick($,L)}}}})})},n.renderMenu=function(){var a=n.props,l=a.children,u=a.direction,c=a.header,f=n.state.open,p=n.getDropdownMenuAriaOptions();if(!At(l)){var w=k.Children.only(l),b=et(u,W(f,"visible"),w.props.className);return k.cloneElement(w,ue({className:b},p))}return I.createElement(WR,ue({},p,{direction:u,open:f}),il.create(c,{autoGenerateKey:!1}),n.renderOptions())},n}var r=t.prototype;return r.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(i,s,o){var a={__options:i.options,__value:s.value},l=!Aw(o.__value,s.value)||!K7(CE(i.options),CE(o.__options));return l&&(a.selectedIndex=kE({additionLabel:i.additionLabel,additionPosition:i.additionPosition,allowAdditions:i.allowAdditions,deburr:i.deburr,multiple:i.multiple,search:i.search,selectedIndex:s.selectedIndex,value:s.value,options:i.options,searchQuery:s.searchQuery})),a},r.componentDidMount=function(){var i=this.state.open;i&&this.open(null,!1)},r.shouldComponentUpdate=function(i,s){return!Aw(i,this.props)||!Aw(s,this.state)},r.componentDidUpdate=function(i,s){var o=this.props,a=o.closeOnBlur,l=o.minCharacters,u=o.openOnFocus,c=o.search;if(!s.focus&&this.state.focus){if(!this.isMouseDown){var f=!c||c&&l===1&&!this.state.open;u&&f&&this.open()}}else s.focus&&!this.state.focus&&!this.isMouseDown&&a&&this.close();!s.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):s.open&&this.state.open,s.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},r.getDropdownMenuAriaOptions=function(){var i=this.props,s=i.search,o=i.multiple,a={};return s&&(a["aria-multiselectable"]=o,a.role="listbox"),a},r.render=function(){var i=this.props,s=i.basic,o=i.button,a=i.className,l=i.compact,u=i.disabled,c=i.error,f=i.fluid,p=i.floating,w=i.icon,b=i.inline,x=i.item,E=i.labeled,g=i.loading,v=i.multiple,N=i.pointing,O=i.search,R=i.selection,C=i.scrolling,$=i.simple,L=i.trigger,G=this.state,F=G.focus,J=G.open,ee=G.upward,q=et("ui",W(J,"active visible"),W(u,"disabled"),W(c,"error"),W(g,"loading"),W(s,"basic"),W(o,"button"),W(l,"compact"),W(f,"fluid"),W(p,"floating"),W(b,"inline"),W(E,"labeled"),W(x,"item"),W(v,"multiple"),W(O,"search"),W(R,"selection"),W($,"simple"),W(C,"scrolling"),W(ee,"upward"),en(N,"pointing"),"dropdown",a),ie=Ze(bs,this.props),ve=lt(this.props),Se=this.getDropdownAriaOptions(ve,this.props);return I.createElement(ve,ue({},ie,Se,{className:q,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex(),ref:this.handleRef}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),L||this.renderText(),vi.create(w,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),J&&I.createElement(ya,{name:"keydown",on:this.closeOnEscape}),J&&I.createElement(ya,{name:"click",on:this.closeOnDocumentClick}),F&&I.createElement(ya,{name:"keydown",on:this.removeItemOnBackspace}))},t}(wM);IN.handledProps=[];bs.propTypes={};bs.displayName="Dropdown";IN.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"];bs.Divider=TB;bs.Header=il;bs.Item=nl;bs.Menu=WR;bs.SearchInput=sl;bs.Text=ol;const Jd=bs;var wl=k.forwardRef(function(e,t){return k.createElement(Jd,ue({},e,{selection:!0,ref:t}))});wl.handledProps=["options"];wl.displayName="Select";wl.propTypes={};wl.Divider=Jd.Divider;wl.Header=Jd.Header;wl.Item=Jd.Item;wl.Menu=Jd.Menu;const AB=wl;var bm=k.forwardRef(function(e,t){var r=e.rows,n=r===void 0?3:r,i=e.value,s=Qd(t,k.useRef()),o=function(f){var p=$s(f,"target.value");Fe(e,"onChange",f,ue({},e,{value:p}))},a=function(f){var p=$s(f,"target.value");Fe(e,"onInput",f,ue({},e,{value:p}))},l=Ze(bm,e),u=lt(e,{defaultAs:"textarea"});return k.createElement(u,ue({},l,{onChange:o,onInput:a,ref:s,rows:n,value:i}))});bm.handledProps=["as","onChange","onInput","rows","value"];bm.displayName="TextArea";bm.propTypes={};const IB=bm;var _m=I.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=e.control,o=e.disabled,a=e.error,l=e.inline,u=e.label,c=e.required,f=e.type,p=e.width,w=e.id,b=et(W(o,"disabled"),W(a,"error"),W(l,"inline"),W(c,"required"),Vu(p,"wide"),"field",n),x=Ze(_m,e),E=lt(e),g=$s(a,"pointing","above"),v=Yn.create(a,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:g,id:w?w+"-error-message":void 0,role:"alert","aria-atomic":!0}}),N=(g==="below"||g==="right")&&v,O=(g==="above"||g==="left")&&v;if(Pt(s))return Pt(u)?I.createElement(E,ue({},x,{className:b,id:w,ref:t}),At(r)?i:r):I.createElement(E,ue({},x,{className:b,id:w,ref:t}),N,y_(u,{autoGenerateKey:!1}),O);var R=w&&a?w+"-error-message":null,C={"aria-describedby":R,"aria-invalid":a?!0:void 0},$=ue({},x,{content:i,children:r,disabled:o,required:c,type:f,id:w,ref:t});return s==="input"&&(f==="checkbox"||f==="radio")?I.createElement(E,{className:b},I.createElement("label",null,N,k.createElement(s,ue({},C,$))," ",u,O)):s===AN||s===$R?I.createElement(E,{className:b},N,k.createElement(s,ue({},C,$,{label:u})),O):I.createElement(E,{className:b},y_(u,{defaultProps:{htmlFor:w},autoGenerateKey:!1}),N,k.createElement(s,ue({},C,$)),O)});_m.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"];_m.displayName="FormField";_m.propTypes={};const Vr=_m;var xm=k.forwardRef(function(e,t){var r=e.control,n=r===void 0?xr:r,i=Ze(xm,e),s=lt(e,{defaultAs:Vr});return k.createElement(s,ue({},i,{control:n,ref:t}))});xm.handledProps=["as","control"];xm.displayName="FormButton";xm.propTypes={};const $B=xm;var Nm=k.forwardRef(function(e,t){var r=e.control,n=r===void 0?AN:r,i=Ze(Nm,e),s=lt(e,{defaultAs:Vr});return k.createElement(s,ue({},i,{control:n,ref:t}))});Nm.handledProps=["as","control"];Nm.displayName="FormCheckbox";Nm.propTypes={};const LB=Nm;var Sm=k.forwardRef(function(e,t){var r=e.control,n=r===void 0?Jd:r,i=Ze(Sm,e),s=lt(e,{defaultAs:Vr});return k.createElement(s,ue({},i,{control:n,ref:t}))});Sm.handledProps=["as","control"];Sm.displayName="FormDropdown";Sm.propTypes={};const DB=Sm;var km=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.disabled,s=e.error,o=e.grouped,a=e.inline,l=e.unstackable,u=e.widths,c=et(W(s,"error"),W(i,"disabled"),W(o,"grouped"),W(a,"inline"),W(l,"unstackable"),Vu(u,null,!0),"fields",n),f=Ze(km,e),p=lt(e);return k.createElement(p,ue({},f,{className:c,ref:t}),r)});km.handledProps=["as","children","className","disabled","error","grouped","inline","unstackable","widths"];km.displayName="FormGroup";km.propTypes={};const jB=km;var Ru=k.forwardRef(function(e,t){var r=e.action,n=e.actionPosition,i=e.children,s=e.className,o=e.disabled,a=e.error,l=e.fluid,u=e.focus,c=e.icon,f=e.iconPosition,p=e.input,w=e.inverted,b=e.label,x=e.labelPosition,E=e.loading,g=e.size,v=e.tabIndex,N=e.transparent,O=e.type,R=O===void 0?"text":O,C=function(){if(!Pt(c))return c;if(E)return"spinner"},$=function(){if(!Pt(v))return v;if(o)return-1},L=function(de){var pe=$s(de,"target.value");Fe(e,"onChange",de,ue({},e,{value:pe}))},G=function(){var de=Ze(Ru,e),pe=ON(de),ke=pe[0],K=pe[1];return[ue({},ke,{disabled:o,type:R,tabIndex:$(),onChange:L,ref:t}),K]},F=et("ui",g,W(o,"disabled"),W(a,"error"),W(l,"fluid"),W(u,"focus"),W(w,"inverted"),W(E,"loading"),W(N,"transparent"),gi(n,"action")||W(r,"action"),gi(f,"icon")||W(c||E,"icon"),gi(x,"labeled")||W(b,"labeled"),"input",s),J=lt(e),ee=G(),q=ee[0],ie=ee[1];if(!At(i)){var ve=Ro(k.Children.toArray(i),function(H){return H.type==="input"?k.cloneElement(H,ue({},q,H.props,{ref:function(pe){Qf(H.ref,pe),Qf(t,pe)}})):H});return k.createElement(J,ue({},ie,{className:F}),ve)}var Se=xr.create(r,{autoGenerateKey:!1}),_e=Yn.create(b,{defaultProps:{className:et("label",rm(x,"corner")&&x)},autoGenerateKey:!1});return k.createElement(J,ue({},ie,{className:F}),n==="left"&&Se,x!=="right"&&_e,D7(p||R,{defaultProps:q,autoGenerateKey:!1}),vi.create(C(),{autoGenerateKey:!1}),n!=="left"&&Se,x==="right"&&_e)});Ru.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"];Ru.displayName="Input";Ru.propTypes={};Ru.create=nn(Ru,function(e){return{type:e}});const MB=Ru;var Em=k.forwardRef(function(e,t){var r=e.control,n=r===void 0?MB:r,i=Ze(Em,e),s=lt(e,{defaultAs:Vr});return k.createElement(s,ue({},i,{control:n,ref:t}))});Em.handledProps=["as","control"];Em.displayName="FormInput";Em.propTypes={};const FB=Em;var Cm=k.forwardRef(function(e,t){var r=e.control,n=r===void 0?$R:r,i=Ze(Cm,e),s=lt(e,{defaultAs:Vr});return k.createElement(s,ue({},i,{control:n,ref:t}))});Cm.handledProps=["as","control"];Cm.displayName="FormRadio";Cm.propTypes={};const BB=Cm;var Tm=k.forwardRef(function(e,t){var r=e.control,n=r===void 0?AB:r,i=e.options,s=Ze(Tm,e),o=lt(e,{defaultAs:Vr});return k.createElement(o,ue({},s,{control:n,options:i,ref:t}))});Tm.handledProps=["as","control","options"];Tm.displayName="FormSelect";Tm.propTypes={};const WB=Tm;var Om=k.forwardRef(function(e,t){var r=e.control,n=r===void 0?IB:r,i=Ze(Om,e),s=lt(e,{defaultAs:Vr});return k.createElement(s,ue({},i,{control:n,ref:t}))});Om.handledProps=["as","control"];Om.displayName="FormTextArea";Om.propTypes={};const zB=Om;var Xn=k.forwardRef(function(e,t){var r=e.action,n=e.children,i=e.className,s=e.error,o=e.inverted,a=e.loading,l=e.reply,u=e.size,c=e.success,f=e.unstackable,p=e.warning,w=e.widths,b=function(N){typeof r!="string"&&Fe(N,"preventDefault");for(var O=arguments.length,R=new Array(O>1?O-1:0),C=1;C<O;C++)R[C-1]=arguments[C];Fe.apply(void 0,[e,"onSubmit",N,e].concat(R))},x=et("ui",u,W(s,"error"),W(o,"inverted"),W(a,"loading"),W(l,"reply"),W(c,"success"),W(f,"unstackable"),W(p,"warning"),Vu(w,null,!0),"form",i),E=Ze(Xn,e),g=lt(e,{defaultAs:"form"});return k.createElement(g,ue({},E,{action:r,className:x,onSubmit:b,ref:t}),n)});Xn.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"];Xn.displayName="Form";Xn.propTypes={};Xn.Field=Vr;Xn.Button=$B;Xn.Checkbox=LB;Xn.Dropdown=DB;Xn.Group=jB;Xn.Input=FB;Xn.Radio=BB;Xn.Select=WB;Xn.TextArea=zB;const m1=Xn;var Rm=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=et(n),s=Ze(Rm,e),o=lt(e,{defaultAs:"tbody"});return k.createElement(o,ue({},s,{className:i,ref:t}),r)});Rm.handledProps=["as","children","className"];Rm.displayName="TableBody";Rm.propTypes={};const al=Rm;var Pu=k.forwardRef(function(e,t){var r=e.active,n=e.children,i=e.className,s=e.collapsing,o=e.content,a=e.disabled,l=e.error,u=e.icon,c=e.negative,f=e.positive,p=e.selectable,w=e.singleLine,b=e.textAlign,x=e.verticalAlign,E=e.warning,g=e.width,v=et(W(r,"active"),W(s,"collapsing"),W(a,"disabled"),W(l,"error"),W(c,"negative"),W(f,"positive"),W(p,"selectable"),W(w,"single line"),W(E,"warning"),t1(b),Yp(x),Vu(g,"wide"),i),N=Ze(Pu,e),O=lt(e,{defaultAs:"td"});return At(n)?k.createElement(O,ue({},N,{className:v,ref:t}),vi.create(u),o):k.createElement(O,ue({},N,{className:v,ref:t}),n)});Pu.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"];Pu.displayName="TableCell";Pu.propTypes={};Pu.create=nn(Pu,function(e){return{content:e}});const fn=Pu;var Pm=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=e.fullWidth,o=et(W(s,"full-width"),n),a=Ze(Pm,e),l=lt(e,{defaultAs:"thead"});return k.createElement(l,ue({},a,{className:o,ref:t}),At(r)?i:r)});Pm.handledProps=["as","children","className","content","fullWidth"];Pm.displayName="TableHeader";Pm.propTypes={};const Yo=Pm;var Am=k.forwardRef(function(e,t){var r=e.as,n=r===void 0?"tfoot":r,i=Ze(Am,e);return k.createElement(Yo,ue({},i,{as:n,ref:t}))});Am.handledProps=["as"];Am.displayName="TableFooter";Am.propTypes={};const g1=Am;var Im=k.forwardRef(function(e,t){var r=e.as,n=r===void 0?"th":r,i=e.className,s=e.sorted,o=et(gi(s,"sorted"),i),a=Ze(Im,e);return k.createElement(fn,ue({},a,{as:n,className:o,ref:t}))});Im.handledProps=["as","className","sorted"];Im.displayName="TableHeaderCell";Im.propTypes={};const wt=Im;var Au=k.forwardRef(function(e,t){var r=e.active,n=e.cellAs,i=n===void 0?"td":n,s=e.cells,o=e.children,a=e.className,l=e.disabled,u=e.error,c=e.negative,f=e.positive,p=e.textAlign,w=e.verticalAlign,b=e.warning,x=et(W(r,"active"),W(l,"disabled"),W(u,"error"),W(c,"negative"),W(f,"positive"),W(b,"warning"),t1(p),Yp(w),a),E=Ze(Au,e),g=lt(e,{defaultAs:"tr"});return At(o)?k.createElement(g,ue({},E,{className:x,ref:t}),Ro(s,function(v){return fn.create(v,{defaultProps:{as:i}})})):k.createElement(g,ue({},E,{className:x,ref:t}),o)});Au.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"];Au.displayName="TableRow";Au.propTypes={};Au.create=nn(Au,function(e){return{cells:e}});const Hr=Au;var _s=k.forwardRef(function(e,t){var r=e.attached,n=e.basic,i=e.celled,s=e.children,o=e.className,a=e.collapsing,l=e.color,u=e.columns,c=e.compact,f=e.definition,p=e.fixed,w=e.footerRow,b=e.headerRow,x=e.headerRows,E=e.inverted,g=e.padded,v=e.renderBodyRow,N=e.selectable,O=e.singleLine,R=e.size,C=e.sortable,$=e.stackable,L=e.striped,G=e.structured,F=e.tableData,J=e.textAlign,ee=e.unstackable,q=e.verticalAlign,ie=et("ui",l,R,W(i,"celled"),W(a,"collapsing"),W(f,"definition"),W(p,"fixed"),W(E,"inverted"),W(N,"selectable"),W(O,"single line"),W(C,"sortable"),W($,"stackable"),W(L,"striped"),W(G,"structured"),W(ee,"unstackable"),en(r,"attached"),en(n,"basic"),en(c,"compact"),en(g,"padded"),t1(J),Yp(q),Vu(u,"column"),"table",o),ve=Ze(_s,e),Se=lt(e,{defaultAs:"table"});if(!At(s))return k.createElement(Se,ue({},ve,{className:ie,ref:t}),s);var _e=b||x,H={defaultProps:{cellAs:"th"}},de=_e&&k.createElement(Yo,null,Hr.create(b,H),Ro(x,function(pe){return Hr.create(pe,H)}));return k.createElement(Se,ue({},ve,{className:ie,ref:t}),de,k.createElement(al,null,v&&Ro(F,function(pe,ke){return Hr.create(v(pe,ke))})),w&&k.createElement(g1,null,Hr.create(w)))});_s.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"];_s.displayName="Table";_s.propTypes={};_s.Body=al;_s.Cell=fn;_s.Footer=g1;_s.Header=Yo;_s.HeaderCell=wt;_s.Row=Hr;const wr=_s;var $m=k.forwardRef(function(e,t){var r=e.children,n=e.className,i=e.content,s=e.fluid,o=e.text,a=e.textAlign,l=et("ui",W(o,"text"),W(s,"fluid"),t1(a),"container",n),u=Ze($m,e),c=lt(e);return k.createElement(c,ue({},u,{className:l,ref:t}),At(r)?i:r)});$m.handledProps=["as","children","className","content","fluid","text","textAlign"];$m.displayName="Container";$m.propTypes={};const tv=$m;var UR={exports:{}},VR={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=k;function qB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UB=typeof Object.is=="function"?Object.is:qB,VB=Rd.useState,HB=Rd.useEffect,GB=Rd.useLayoutEffect,QB=Rd.useDebugValue;function JB(e,t){var r=t(),n=VB({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return GB(function(){i.value=r,i.getSnapshot=t,Iw(i)&&s({inst:i})},[e,r,t]),HB(function(){return Iw(i)&&s({inst:i}),e(function(){Iw(i)&&s({inst:i})})},[e]),QB(r),r}function Iw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!UB(e,r)}catch{return!0}}function KB(e,t){return t()}var ZB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KB:JB;VR.useSyncExternalStore=Rd.useSyncExternalStore!==void 0?Rd.useSyncExternalStore:ZB;UR.exports=VR;var YB=UR.exports;const $a=()=>{},Ln=$a(),ny=Object,Ot=e=>e===Ln,ls=e=>typeof e=="function",Mo=(e,t)=>({...e,...t}),XB=e=>ls(e.then),Pg=new WeakMap;let eW=0;const Jf=e=>{const t=typeof e,r=e&&e.constructor,n=r==Date;let i,s;if(ny(e)===e&&!n&&r!=RegExp){if(i=Pg.get(e),i)return i;if(i=++eW+"~",Pg.set(e,i),r==Array){for(i="@",s=0;s<e.length;s++)i+=Jf(e[s])+",";Pg.set(e,i)}if(r==ny){i="#";const o=ny.keys(e).sort();for(;!Ot(s=o.pop());)Ot(e[s])||(i+=s+":"+Jf(e[s])+",");Pg.set(e,i)}}else i=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},_o=new WeakMap,$w={},Ag={},$N="undefined",y1=typeof window!=$N,x_=typeof document!=$N,tW=()=>y1&&typeof window.requestAnimationFrame!=$N,HR=(e,t)=>{const r=_o.get(e);return[()=>!Ot(t)&&e.get(t)||$w,n=>{if(!Ot(t)){const i=e.get(t);t in Ag||(Ag[t]=i),r[5](t,Mo(i,n),i||$w)}},r[6],()=>!Ot(t)&&t in Ag?Ag[t]:!Ot(t)&&e.get(t)||$w]};let N_=!0;const rW=()=>N_,[S_,k_]=y1&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[$a,$a],nW=()=>{const e=x_&&document.visibilityState;return Ot(e)||e!=="hidden"},iW=e=>(x_&&document.addEventListener("visibilitychange",e),S_("focus",e),()=>{x_&&document.removeEventListener("visibilitychange",e),k_("focus",e)}),sW=e=>{const t=()=>{N_=!0,e()},r=()=>{N_=!1};return S_("online",t),S_("offline",r),()=>{k_("online",t),k_("offline",r)}},oW={isOnline:rW,isVisible:nW},aW={initFocus:iW,initReconnect:sW},TE=!I.useId,Kf=!y1||"Deno"in window,lW=e=>tW()?window.requestAnimationFrame(e):setTimeout(e,1),iy=Kf?k.useEffect:k.useLayoutEffect,Lw=typeof navigator<"u"&&navigator.connection,OE=!Kf&&Lw&&(["slow-2g","2g"].includes(Lw.effectiveType)||Lw.saveData),LN=e=>{if(ls(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Jf(e):"",[e,t]};let uW=0;const E_=()=>++uW,GR=0,QR=1,JR=2,cW=3;var Ah={__proto__:null,ERROR_REVALIDATE_EVENT:cW,FOCUS_EVENT:GR,MUTATE_EVENT:JR,RECONNECT_EVENT:QR};async function KR(...e){const[t,r,n,i]=e,s=Mo({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const a=s.rollbackOnError;let l=s.optimisticData;const u=p=>typeof a=="function"?a(p):a!==!1,c=s.throwOnError;if(ls(r)){const p=r,w=[],b=t.keys();for(const x of b)!/^\$(inf|sub)\$/.test(x)&&p(t.get(x)._k)&&w.push(x);return Promise.all(w.map(f))}return f(r);async function f(p){const[w]=LN(p);if(!w)return;const[b,x]=HR(t,w),[E,g,v,N]=_o.get(t),O=()=>{const q=E[w];return(ls(s.revalidate)?s.revalidate(b().data,p):s.revalidate!==!1)&&(delete v[w],delete N[w],q&&q[0])?q[0](JR).then(()=>b().data):b().data};if(e.length<3)return O();let R=n,C;const $=E_();g[w]=[$,0];const L=!Ot(l),G=b(),F=G.data,J=G._c,ee=Ot(J)?F:J;if(L&&(l=ls(l)?l(ee,F):l,x({data:l,_c:ee})),ls(R))try{R=R(ee)}catch(q){C=q}if(R&&XB(R))if(R=await R.catch(q=>{C=q}),$!==g[w][0]){if(C)throw C;return R}else C&&L&&u(C)&&(o=!0,x({data:ee,_c:Ln}));if(o&&!C)if(ls(o)){const q=o(R,ee);x({data:q,error:Ln,_c:Ln})}else x({data:R,error:Ln,_c:Ln});if(g[w][1]=E_(),Promise.resolve(O()).then(()=>{x({_c:Ln})}),C){if(c)throw C;return}return R}}const RE=(e,t)=>{for(const r in e)e[r][0]&&e[r][0](t)},ZR=(e,t)=>{if(!_o.has(e)){const r=Mo(aW,t),n={},i=KR.bind(Ln,e);let s=$a;const o={},a=(c,f)=>{const p=o[c]||[];return o[c]=p,p.push(f),()=>p.splice(p.indexOf(f),1)},l=(c,f,p)=>{e.set(c,f);const w=o[c];if(w)for(const b of w)b(f,p)},u=()=>{if(!_o.has(e)&&(_o.set(e,[n,{},{},{},i,l,a]),!Kf)){const c=r.initFocus(setTimeout.bind(Ln,RE.bind(Ln,n,GR))),f=r.initReconnect(setTimeout.bind(Ln,RE.bind(Ln,n,QR)));s=()=>{c&&c(),f&&f(),_o.delete(e)}}};return u(),[e,i,u,s]}return[e,_o.get(e)[4]]},dW=(e,t,r,n,i)=>{const s=r.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;!Ot(s)&&o>s||setTimeout(n,a,i)},hW=(e,t)=>Jf(e)==Jf(t),[DN,fW]=ZR(new Map),YR=Mo({onLoadingSlow:$a,onSuccess:$a,onError:$a,onErrorRetry:dW,onDiscarded:$a,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:OE?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:OE?5e3:3e3,compare:hW,isPaused:()=>!1,cache:DN,mutate:fW,fallback:{}},oW),XR=(e,t)=>{const r=Mo(e,t);if(t){const{use:n,fallback:i}=e,{use:s,fallback:o}=t;n&&s&&(r.use=n.concat(s)),i&&o&&(r.fallback=Mo(i,o))}return r},C_=k.createContext({}),pW=e=>{const{value:t}=e,r=k.useContext(C_),n=ls(t),i=k.useMemo(()=>n?t(r):t,[n,r,t]),s=k.useMemo(()=>n?i:XR(r,i),[n,r,i]),o=i&&i.provider,a=k.useRef(Ln);o&&!a.current&&(a.current=ZR(o(s.cache||DN),i));const l=a.current;return l&&(s.cache=l[0],s.mutate=l[1]),iy(()=>{if(l)return l[2]&&l[2](),l[3]},[]),k.createElement(C_.Provider,Mo(e,{value:s}))},mW="$inf$",eP=y1&&window.__SWR_DEVTOOLS_USE__,gW=eP?window.__SWR_DEVTOOLS_USE__:[],yW=()=>{eP&&(window.__SWR_DEVTOOLS_REACT__=I)},vW=e=>ls(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],wW=()=>Mo(YR,k.useContext(C_)),bW=e=>(t,r,n)=>e(t,r&&((...s)=>{const[o]=LN(t),[,,,a]=_o.get(DN);if(o.startsWith(mW))return r(...s);const l=a[o];return Ot(l)?r(...s):(delete a[o],l)}),n),_W=gW.concat(bW),xW=e=>function(...r){const n=wW(),[i,s,o]=vW(r),a=XR(n,o);let l=e;const{use:u}=a,c=(u||[]).concat(_W);for(let f=c.length;f--;)l=c[f](l);return l(i,s||a.fetcher||null,a)},NW=(e,t,r)=>{const n=t[e]||(t[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i>=0&&(n[i]=n[n.length-1],n.pop())}};yW();const PE=I.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),Dw={dedupe:!0},SW=(e,t,r)=>{const{cache:n,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:c,refreshWhenOffline:f,keepPreviousData:p}=r,[w,b,x,E]=_o.get(n),[g,v]=LN(e),N=k.useRef(!1),O=k.useRef(!1),R=k.useRef(g),C=k.useRef(t),$=k.useRef(r),L=()=>$.current,G=()=>L().isVisible()&&L().isOnline(),[F,J,ee,q]=HR(n,g),ie=k.useRef({}).current,ve=Ot(o)?r.fallback[g]:o,Se=(se,oe)=>{for(const De in ie){const Te=De;if(Te==="data"){if(!i(se[Te],oe[Te])&&(!Ot(se[Te])||!i(Ce,oe[Te])))return!1}else if(oe[Te]!==se[Te])return!1}return!0},_e=k.useMemo(()=>{const se=!g||!t?!1:Ot(a)?L().isPaused()||s?!1:Ot(l)?!0:l:a,oe=D=>{const U=Mo(D);return delete U._k,se?{isValidating:!0,isLoading:!0,...U}:U},De=F(),Te=q(),dt=oe(De),rt=De===Te?dt:oe(Te);let P=dt;return[()=>{const D=oe(F());return Se(D,P)?(P.data=D.data,P.isLoading=D.isLoading,P.isValidating=D.isValidating,P.error=D.error,P):(P=D,D)},()=>rt]},[n,g]),H=YB.useSyncExternalStore(k.useCallback(se=>ee(g,(oe,De)=>{Se(De,oe)||se()}),[n,g]),_e[0],_e[1]),de=!N.current,pe=w[g]&&w[g].length>0,ke=H.data,K=Ot(ke)?ve:ke,fe=H.error,le=k.useRef(K),Ce=p?Ot(ke)?le.current:ke:K,j=pe&&!Ot(fe)?!1:de&&!Ot(a)?a:L().isPaused()?!1:s?Ot(K)?!1:l:Ot(K)||l,Ee=!!(g&&t&&de&&j),Z=Ot(H.isValidating)?Ee:H.isValidating,je=Ot(H.isLoading)?Ee:H.isLoading,Pe=k.useCallback(async se=>{const oe=C.current;if(!g||!oe||O.current||L().isPaused())return!1;let De,Te,dt=!0;const rt=se||{},P=!x[g]||!rt.dedupe,D=()=>TE?!O.current&&g===R.current&&N.current:g===R.current,U={isValidating:!1,isLoading:!1},we=()=>{J(U)},me=()=>{const X=x[g];X&&X[1]===Te&&delete x[g]},ae={isValidating:!0};Ot(F().data)&&(ae.isLoading=!0);try{if(P&&(J(ae),r.loadingTimeout&&Ot(F().data)&&setTimeout(()=>{dt&&D()&&L().onLoadingSlow(g,r)},r.loadingTimeout),x[g]=[oe(v),E_()]),[De,Te]=x[g],De=await De,P&&setTimeout(me,r.dedupingInterval),!x[g]||x[g][1]!==Te)return P&&D()&&L().onDiscarded(g),!1;U.error=Ln;const X=b[g];if(!Ot(X)&&(Te<=X[0]||Te<=X[1]||X[1]===0))return we(),P&&D()&&L().onDiscarded(g),!1;const Oe=F().data;U.data=i(Oe,De)?Oe:De,P&&D()&&L().onSuccess(De,g,r)}catch(X){me();const Oe=L(),{shouldRetryOnError:Tt}=Oe;Oe.isPaused()||(U.error=X,P&&D()&&(Oe.onError(X,g,Oe),(Tt===!0||ls(Tt)&&Tt(X))&&(!L().revalidateOnFocus||!L().revalidateOnReconnect||G())&&Oe.onErrorRetry(X,g,Oe,jt=>{const Xt=w[g];Xt&&Xt[0]&&Xt[0](Ah.ERROR_REVALIDATE_EVENT,jt)},{retryCount:(rt.retryCount||0)+1,dedupe:!0})))}return dt=!1,we(),!0},[g,n]),xe=k.useCallback((...se)=>KR(n,R.current,...se),[]);if(iy(()=>{C.current=t,$.current=r,Ot(ke)||(le.current=ke)}),iy(()=>{if(!g)return;const se=Pe.bind(Ln,Dw);let oe=0;const Te=NW(g,w,(dt,rt={})=>{if(dt==Ah.FOCUS_EVENT){const P=Date.now();L().revalidateOnFocus&&P>oe&&G()&&(oe=P+L().focusThrottleInterval,se())}else if(dt==Ah.RECONNECT_EVENT)L().revalidateOnReconnect&&G()&&se();else{if(dt==Ah.MUTATE_EVENT)return Pe();if(dt==Ah.ERROR_REVALIDATE_EVENT)return Pe(rt)}});return O.current=!1,R.current=g,N.current=!0,J({_k:v}),j&&(Ot(K)||Kf?se():lW(se)),()=>{O.current=!0,Te()}},[g]),iy(()=>{let se;function oe(){const Te=ls(u)?u(F().data):u;Te&&se!==-1&&(se=setTimeout(De,Te))}function De(){!F().error&&(c||L().isVisible())&&(f||L().isOnline())?Pe(Dw).then(oe):oe()}return oe(),()=>{se&&(clearTimeout(se),se=-1)}},[u,c,f,g]),k.useDebugValue(Ce),s&&Ot(K)&&g){if(!TE&&Kf)throw new Error("Fallback data is required when using suspense in SSR.");C.current=t,$.current=r,O.current=!1;const se=E[g];if(!Ot(se)){const oe=xe(se);PE(oe)}if(Ot(fe)){const oe=Pe(Dw);Ot(Ce)||(oe.status="fulfilled",oe.value=!0),PE(oe)}else throw fe}return{mutate:xe,get data(){return ie.data=!0,Ce},get error(){return ie.error=!0,fe},get isValidating(){return ie.isValidating=!0,Z},get isLoading(){return ie.isLoading=!0,je}}},AE=ny.defineProperty(pW,"defaultValue",{value:YR}),v1=xW(SW);function Ha(e){return typeof e>"u"||e===void 0}function wi(e){return typeof e=="string"}function w1(e){return typeof e=="number"}function rv(e){return typeof e=="boolean"}function jN(e){return e===null}function tP(e){return e instanceof Date}function MN(e){return typeof e=="bigint"}function kW(e){return typeof Buffer<"u"&&Buffer.isBuffer(e)}function xi(e){return typeof e=="function"}function us(e){return typeof e=="object"&&e!==null}function EW(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}function CW(e){return us(e)&&!Array.isArray(e)&&!tP(e)&&!kW(e)&&!EW(e)}function _(e){return Object.freeze(e)}function Ig(e){return Fo(e)?e:[e]}function Fo(e){return Array.isArray(e)}function Ga(e){return e}const Vt=_({is(e){return e.kind==="AlterTableNode"},create(e){return _({kind:"AlterTableNode",table:e})},cloneWithTableProps(e,t){return _({...e,...t})},cloneWithColumnAlteration(e,t){return _({...e,columnAlterations:e.columnAlterations?[...e.columnAlterations,t]:[t]})}}),lr=_({is(e){return e.kind==="IdentifierNode"},create(e){return _({kind:"IdentifierNode",name:e})}}),so=_({is(e){return e.kind==="CreateIndexNode"},create(e){return _({kind:"CreateIndexNode",name:lr.create(e)})},cloneWith(e,t){return _({...e,...t})},cloneWithColumns(e,t){return _({...e,columns:[...e.columns||[],...t]})}}),rP=_({is(e){return e.kind==="CreateSchemaNode"},create(e,t){return _({kind:"CreateSchemaNode",schema:lr.create(e),...t})},cloneWith(e,t){return _({...e,...t})}}),TW=["preserve rows","delete rows","drop"],ni=_({is(e){return e.kind==="CreateTableNode"},create(e){return _({kind:"CreateTableNode",table:e,columns:_([])})},cloneWithColumn(e,t){return _({...e,columns:_([...e.columns,t])})},cloneWithConstraint(e,t){return _({...e,constraints:e.constraints?_([...e.constraints,t]):_([t])})},cloneWithFrontModifier(e,t){return _({...e,frontModifiers:e.frontModifiers?_([...e.frontModifiers,t]):_([t])})},cloneWithEndModifier(e,t){return _({...e,endModifiers:e.endModifiers?_([...e.endModifiers,t]):_([t])})},cloneWith(e,t){return _({...e,...t})}}),ll=_({is(e){return e.kind==="SchemableIdentifierNode"},create(e){return _({kind:"SchemableIdentifierNode",identifier:lr.create(e)})},createWithSchema(e,t){return _({kind:"SchemableIdentifierNode",schema:lr.create(e),identifier:lr.create(t)})}}),of=_({is(e){return e.kind==="DropIndexNode"},create(e,t){return _({kind:"DropIndexNode",name:ll.create(e),...t})},cloneWith(e,t){return _({...e,...t})}}),T_=_({is(e){return e.kind==="DropSchemaNode"},create(e,t){return _({kind:"DropSchemaNode",schema:lr.create(e),...t})},cloneWith(e,t){return _({...e,...t})}}),O_=_({is(e){return e.kind==="DropTableNode"},create(e,t){return _({kind:"DropTableNode",table:e,...t})},cloneWith(e,t){return _({...e,...t})}}),bl=_({is(e){return e.kind==="AliasNode"},create(e,t){return _({kind:"AliasNode",node:e,alias:t})}}),Qa=_({is(e){return e.kind==="TableNode"},create(e){return _({kind:"TableNode",table:ll.create(e)})},createWithSchema(e,t){return _({kind:"TableNode",table:ll.createWithSchema(e,t)})}});function ei(e){return us(e)&&xi(e.toOperationNode)}function OW(e){return us(e)&&"expressionType"in e&&ei(e)}function RW(e){return us(e)&&"expression"in e&&wi(e.alias)&&ei(e)}const no=_({is(e){return e.kind==="SelectModifierNode"},create(e,t){return _({kind:"SelectModifierNode",modifier:e,of:t})},createWithExpression(e){return _({kind:"SelectModifierNode",rawModifier:e})}}),ul=_({is(e){return e.kind==="AndNode"},create(e,t){return _({kind:"AndNode",left:e,right:t})}}),Kd=_({is(e){return e.kind==="OrNode"},create(e,t){return _({kind:"OrNode",left:e,right:t})}}),jw=_({is(e){return e.kind==="OnNode"},create(e){return _({kind:"OnNode",on:e})},cloneWithOperation(e,t,r){return _({...e,on:t==="And"?ul.create(e.on,r):Kd.create(e.on,r)})}}),af=_({is(e){return e.kind==="JoinNode"},create(e,t){return _({kind:"JoinNode",joinType:e,table:t,on:void 0})},createWithOn(e,t,r){return _({kind:"JoinNode",joinType:e,table:t,on:jw.create(r)})},cloneWithOn(e,t){return _({...e,on:e.on?jw.cloneWithOperation(e.on,"And",t):jw.create(t)})}}),Pd=_({is(e){return e.kind==="BinaryOperationNode"},create(e,t,r){return _({kind:"BinaryOperationNode",leftOperand:e,operator:t,rightOperand:r})}}),PW=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","&&","?","?&","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],AW=["+","-","*","/","%","^","&","|","#","<<",">>"],nP=["->","->>"],IW=[...PW,...AW,"&&","||"],$W=["exists","not exists"],LW=["not","-",...$W],DW=[...IW,...nP,...LW,"between","between symmetric"],cl=_({is(e){return e.kind==="OperatorNode"},create(e){return _({kind:"OperatorNode",operator:e})}});function IE(e){return wi(e)&&nP.includes(e)}const Ir=_({is(e){return e.kind==="ColumnNode"},create(e){return _({kind:"ColumnNode",column:lr.create(e)})}}),FN=_({is(e){return e.kind==="SelectAllNode"},create(){return _({kind:"SelectAllNode"})}}),b1=_({is(e){return e.kind==="ReferenceNode"},create(e,t){return _({kind:"ReferenceNode",table:t,column:e})},createSelectAll(e){return _({kind:"ReferenceNode",table:e,column:FN.create()})}});var Xc;class jW{constructor(t){Y(this,Xc,void 0);te(this,Xc,t)}get dynamicReference(){return d(this,Xc)}get refType(){}toOperationNode(){return lP(d(this,Xc))}}Xc=new WeakMap;function iP(e){return us(e)&&ei(e)&&wi(e.dynamicReference)}const R_=_({is(e){return e.kind==="OrderByItemNode"},create(e,t){return _({kind:"OrderByItemNode",orderBy:e,direction:t})}}),hn=_({is(e){return e.kind==="RawNode"},create(e,t){return _({kind:"RawNode",sqlFragments:_(e),parameters:_(t)})},createWithSql(e){return hn.create([e],[])},createWithChild(e){return hn.create(["",""],[e])},createWithChildren(e){return hn.create(new Array(e.length+1).fill(""),e)}});function sP(e){return e==="asc"||e==="desc"}function _1(e){if(e.length===2)return[Mw(e[0],e[1])];if(e.length===1){const[t]=e;return Array.isArray(t)?t.map(r=>Mw(r)):[Mw(t)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${e.length}`)}function Mw(e,t){const r=MW(e);if(R_.is(r)){if(t)throw new Error("Cannot specify direction twice!");return r}return R_.create(r,oP(t))}function MW(e){if(Bm(e))return Hu(e);if(iP(e))return e.toOperationNode();const[t,r]=e.split(" ");if(r){if(!sP(r))throw new Error(`Invalid order by direction: ${r}`);return R_.create(Bo(t),oP(r))}return Bo(e)}function oP(e){if(e)return e==="asc"||e==="desc"?hn.createWithSql(e):e.toOperationNode()}const nv=_({is(e){return e.kind==="JSONReferenceNode"},create(e,t){return _({kind:"JSONReferenceNode",reference:e,traversal:t})},cloneWithTraversal(e,t){return _({...e,traversal:t})}}),aP=_({is(e){return e.kind==="JSONOperatorChainNode"},create(e){return _({kind:"JSONOperatorChainNode",operator:e,values:_([])})},cloneWithValue(e,t){return _({...e,values:_([...e.values,t])})}}),lf=_({is(e){return e.kind==="JSONPathNode"},create(e){return _({kind:"JSONPathNode",inOperator:e,pathLegs:_([])})},cloneWithLeg(e,t){return _({...e,pathLegs:_([...e.pathLegs,t])})}});function lP(e){return wi(e)?Bo(e):e.toOperationNode()}function Zf(e){return Fo(e)?e.map(t=>fi(t)):[fi(e)]}function fi(e){return Bm(e)?Hu(e):lP(e)}function FW(e,t){const r=Bo(e);if(IE(t))return nv.create(r,aP.create(cl.create(t)));const n=t.slice(0,-1);if(IE(n))return nv.create(r,lf.create(cl.create(n)));throw new Error(`Invalid JSON operator: ${t}`)}function Bo(e){const t=".";if(!e.includes(t))return b1.create(Ir.create(e));const r=e.split(t).map(BN);if(r.length===3)return WW(r);if(r.length===2)return zW(r);throw new Error(`invalid column reference ${e}`)}function BW(e){const t=" as ";if(e.includes(t)){const[r,n]=e.split(t).map(BN);return bl.create(Bo(r),lr.create(n))}else return Bo(e)}function uP(e){return Ir.create(e)}function iv(e){const t=" ";if(e.includes(t)){const[r,n]=e.split(t).map(BN);if(!sP(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return _1([r,n])[0]}else return uP(e)}function WW(e){const[t,r,n]=e;return b1.create(Ir.create(n),Qa.createWithSchema(t,r))}function zW(e){const[t,r]=e;return b1.create(Ir.create(r),Qa.create(t))}function BN(e){return e.trim()}const cP=_({is(e){return e.kind==="PrimitiveValueListNode"},create(e){return _({kind:"PrimitiveValueListNode",values:_([...e])})}}),WN=_({is(e){return e.kind==="ValueListNode"},create(e){return _({kind:"ValueListNode",values:_(e)})}}),Us=_({is(e){return e.kind==="ValueNode"},create(e){return _({kind:"ValueNode",value:e})},createImmediate(e){return _({kind:"ValueNode",value:e,immediate:!0})}});function qW(e){return Fo(e)?UW(e):jr(e)}function jr(e){return Bm(e)?Hu(e):Us.create(e)}function zN(e){return w1(e)||rv(e)||jN(e)}function qN(e){if(!zN(e))throw new Error(`unsafe immediate value ${JSON.stringify(e)}`);return Us.createImmediate(e)}function UW(e){return e.some(Bm)?WN.create(e.map(t=>jr(t))):cP.create(e)}const Ad=_({is(e){return e.kind==="ParensNode"},create(e){return _({kind:"ParensNode",node:e})}});function gn(e){if(e.length===3)return UN(e[0],e[1],e[2]);if(e.length===1)return jr(e[0]);throw new Error(`invalid arguments: ${JSON.stringify(e)}`)}function UN(e,t,r){return VW(t)&&dP(r)?Pd.create(fi(e),P_(t),Us.createImmediate(r)):Pd.create(fi(e),P_(t),qW(r))}function Vs(e,t,r){return Pd.create(fi(e),P_(t),fi(r))}function $E(e,t){return sv(Object.entries(e).filter(([,r])=>!Ha(r)).map(([r,n])=>UN(r,dP(n)?"is":"=",n)),t)}function sv(e,t,r=!0){const n=t==="and"?ul.create:Kd.create;if(e.length===0)return Pd.create(Us.createImmediate(1),cl.create("="),Us.createImmediate(t==="and"?1:0));let i=LE(e[0]);for(let s=1;s<e.length;++s)i=n(i,LE(e[s]));return e.length>1&&r?Ad.create(i):i}function VW(e){return e==="is"||e==="is not"}function dP(e){return jN(e)||rv(e)}function P_(e){if(wi(e)&&DW.includes(e))return cl.create(e);if(ei(e))return e.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(e)}`)}function LE(e){return ei(e)?e.toOperationNode():e}const Id=_({is(e){return e.kind==="OrderByNode"},create(e){return _({kind:"OrderByNode",items:_([...e])})},cloneWithItems(e,t){return _({...e,items:_([...e.items,...t])})}}),DE=_({is(e){return e.kind==="PartitionByNode"},create(e){return _({kind:"PartitionByNode",items:_(e)})},cloneWithItems(e,t){return _({...e,items:_([...e.items,...t])})}}),A_=_({is(e){return e.kind==="OverNode"},create(){return _({kind:"OverNode"})},cloneWithOrderByItems(e,t){return _({...e,orderBy:e.orderBy?Id.cloneWithItems(e.orderBy,t):Id.create(t)})},cloneWithPartitionByItems(e,t){return _({...e,partitionBy:e.partitionBy?DE.cloneWithItems(e.partitionBy,t):DE.create(t)})}}),ov=_({is(e){return e.kind==="FromNode"},create(e){return _({kind:"FromNode",froms:_(e)})},cloneWithFroms(e,t){return _({...e,froms:_([...e.froms,...t])})}}),jE=_({is(e){return e.kind==="GroupByNode"},create(e){return _({kind:"GroupByNode",items:_(e)})},cloneWithItems(e,t){return _({...e,items:_([...e.items,...t])})}}),ME=_({is(e){return e.kind==="HavingNode"},create(e){return _({kind:"HavingNode",having:e})},cloneWithOperation(e,t,r){return _({...e,having:t==="And"?ul.create(e.having,r):Kd.create(e.having,r)})}}),xt=_({is(e){return e.kind==="SelectQueryNode"},create(e){return _({kind:"SelectQueryNode",...e&&{with:e}})},createFrom(e,t){return _({kind:"SelectQueryNode",from:ov.create(e),...t&&{with:t}})},cloneWithSelections(e,t){return _({...e,selections:e.selections?_([...e.selections,...t]):_(t)})},cloneWithDistinctOn(e,t){return _({...e,distinctOn:e.distinctOn?_([...e.distinctOn,...t]):_(t)})},cloneWithFrontModifier(e,t){return _({...e,frontModifiers:e.frontModifiers?_([...e.frontModifiers,t]):_([t])})},cloneWithEndModifier(e,t){return _({...e,endModifiers:e.endModifiers?_([...e.endModifiers,t]):_([t])})},cloneWithOrderByItems(e,t){return _({...e,orderBy:e.orderBy?Id.cloneWithItems(e.orderBy,t):Id.create(t)})},cloneWithGroupByItems(e,t){return _({...e,groupBy:e.groupBy?jE.cloneWithItems(e.groupBy,t):jE.create(t)})},cloneWithLimit(e,t){return _({...e,limit:t})},cloneWithOffset(e,t){return _({...e,offset:t})},cloneWithFetch(e,t){return _({...e,fetch:t})},cloneWithHaving(e,t){return _({...e,having:e.having?ME.cloneWithOperation(e.having,"And",t):ME.create(t)})},cloneWithSetOperations(e,t){return _({...e,setOperations:e.setOperations?_([...e.setOperations,...t]):_([...t])})},cloneWithoutSelections(e){return _({...e,selections:[]})},cloneWithoutLimit(e){return _({...e,limit:void 0})},cloneWithoutOffset(e){return _({...e,offset:void 0})},cloneWithoutOrderBy(e){return _({...e,orderBy:void 0})}});function yt(e,t){Object.defineProperties(e.prototype,{then:{enumerable:!1,value:()=>{throw new Error(t)}}})}var Qi;const vf=class vf{constructor(t){Y(this,Qi,void 0);te(this,Qi,_(t))}on(...t){return new vf({...d(this,Qi),joinNode:af.cloneWithOn(d(this,Qi).joinNode,gn(t))})}onRef(t,r,n){return new vf({...d(this,Qi),joinNode:af.cloneWithOn(d(this,Qi).joinNode,Vs(t,r,n))})}onTrue(){return new vf({...d(this,Qi),joinNode:af.cloneWithOn(d(this,Qi).joinNode,hn.createWithSql("true"))})}$call(t){return t(this)}toOperationNode(){return d(this,Qi).joinNode}};Qi=new WeakMap;let av=vf;yt(av,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const HW=_({is(e){return e.kind==="PartitionByItemNode"},create(e){return _({kind:"PartitionByItemNode",partitionBy:e})}});function GW(e){return Zf(e).map(HW.create)}var Xl;const t0=class t0{constructor(t){Y(this,Xl,void 0);te(this,Xl,_(t))}orderBy(t,r){return new t0({overNode:A_.cloneWithOrderByItems(d(this,Xl).overNode,_1([t,r]))})}partitionBy(t){return new t0({overNode:A_.cloneWithPartitionByItems(d(this,Xl).overNode,GW(t))})}$call(t){return t(this)}toOperationNode(){return d(this,Xl).overNode}};Xl=new WeakMap;let lv=t0;yt(lv,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const uf=_({is(e){return e.kind==="SelectionNode"},create(e){return _({kind:"SelectionNode",selection:e})},createSelectAll(){return _({kind:"SelectionNode",selection:FN.create()})},createSelectAllFromTable(e){return _({kind:"SelectionNode",selection:b1.createSelectAll(e)})}});function Zd(e){return xi(e)?Zd(e(Xd())):Fo(e)?e.map(t=>FE(t)):[FE(e)]}function FE(e){return wi(e)?uf.create(BW(e)):iP(e)?uf.create(e.toOperationNode()):uf.create(CP(e))}function Lm(e){return e?Array.isArray(e)?e.map(BE):[BE(e)]:[uf.createSelectAll()]}function BE(e){if(wi(e))return uf.createSelectAllFromTable(Ar(e));throw new Error(`invalid value selectAll expression: ${JSON.stringify(e)}`)}const QW=_({is(e){return e.kind==="ValuesNode"},create(e){return _({kind:"ValuesNode",values:_(e)})}}),JW=_({is(e){return e.kind==="DefaultInsertValueNode"},create(){return _({kind:"DefaultInsertValueNode"})}});function hP(e){const t=xi(e)?e(Xd()):e,r=Fo(t)?t:_([t]);return KW(r)}function KW(e){const t=ZW(e);return[_([...t.keys()].map(Ir.create)),QW.create(e.map(r=>YW(r,t)))]}function ZW(e){const t=new Map;for(const r of e){const n=Object.keys(r);for(const i of n)!t.has(i)&&r[i]!==void 0&&t.set(i,t.size)}return t}function YW(e,t){const r=Object.keys(e),n=Array.from({length:t.size});let i=!1;for(const o of r){const a=t.get(o);if(Ha(a))continue;const l=e[o];(Ha(l)||Bm(l))&&(i=!0),n[a]=l}if(r.length<t.size||i){const o=JW.create();return WN.create(n.map(a=>Ha(a)?o:jr(a)))}return cP.create(n)}const hi=_({is(e){return e.kind==="InsertQueryNode"},create(e,t,r){return _({kind:"InsertQueryNode",into:e,...t&&{with:t},replace:r})},createWithoutInto(){return _({kind:"InsertQueryNode"})},cloneWith(e,t){return _({...e,...t})}}),Jc=_({is(e){return e.kind==="UpdateQueryNode"},create(e,t){return _({kind:"UpdateQueryNode",table:e,...t&&{with:t}})},createWithoutTable(){return _({kind:"UpdateQueryNode"})},cloneWithFromItems(e,t){return _({...e,from:e.from?ov.cloneWithFroms(e.from,t):ov.create(t)})},cloneWithUpdates(e,t){return _({...e,updates:e.updates?_([...e.updates,...t]):t})},cloneWithLimit(e,t){return _({...e,limit:t})}}),WE=_({is(e){return e.kind==="UsingNode"},create(e){return _({kind:"UsingNode",tables:_(e)})},cloneWithTables(e,t){return _({...e,tables:_([...e.tables,...t])})}}),jl=_({is(e){return e.kind==="DeleteQueryNode"},create(e,t){return _({kind:"DeleteQueryNode",from:ov.create(e),...t&&{with:t}})},cloneWithOrderByItems(e,t){return _({...e,orderBy:e.orderBy?Id.cloneWithItems(e.orderBy,t):Id.create(t)})},cloneWithoutOrderBy(e){return _({...e,orderBy:void 0})},cloneWithLimit(e,t){return _({...e,limit:t})},cloneWithoutLimit(e){return _({...e,limit:void 0})},cloneWithUsing(e,t){return _({...e,using:e.using!==void 0?WE.cloneWithTables(e.using,t):WE.create(t)})}}),Un=_({is(e){return e.kind==="WhereNode"},create(e){return _({kind:"WhereNode",where:e})},cloneWithOperation(e,t,r){return _({...e,where:t==="And"?ul.create(e.where,r):Kd.create(e.where,r)})}}),zE=_({is(e){return e.kind==="ReturningNode"},create(e){return _({kind:"ReturningNode",selections:_(e)})},cloneWithSelections(e,t){return _({...e,selections:e.selections?_([...e.selections,...t]):_(t)})}}),XW=_({is(e){return e.kind==="ExplainNode"},create(e,t){return _({kind:"ExplainNode",format:e,options:t})}}),Dm=_({is(e){return e.kind==="WhenNode"},create(e){return _({kind:"WhenNode",condition:e})},cloneWithResult(e,t){return _({...e,result:t})}}),Qn=_({is(e){return e.kind==="MergeQueryNode"},create(e,t){return _({kind:"MergeQueryNode",into:e,...t&&{with:t}})},cloneWithUsing(e,t){return _({...e,using:t})},cloneWithWhen(e,t){return _({...e,whens:e.whens?_([...e.whens,t]):_([t])})},cloneWithThen(e,t){return _({...e,whens:e.whens?_([...e.whens.slice(0,-1),Dm.cloneWithResult(e.whens[e.whens.length-1],t)]):void 0})}}),nt=_({is(e){return xt.is(e)||hi.is(e)||Jc.is(e)||jl.is(e)||Qn.is(e)},cloneWithWhere(e,t){return _({...e,where:e.where?Un.cloneWithOperation(e.where,"And",t):Un.create(t)})},cloneWithJoin(e,t){return _({...e,joins:e.joins?_([...e.joins,t]):_([t])})},cloneWithReturning(e,t){return _({...e,returning:e.returning?zE.cloneWithSelections(e.returning,t):zE.create(t)})},cloneWithoutReturning(e){return _({...e,returning:void 0})},cloneWithoutWhere(e){return _({...e,where:void 0})},cloneWithExplain(e,t,r){return _({...e,explain:XW.create(t,r==null?void 0:r.toOperationNode())})},cloneWithTop(e,t){return _({...e,top:t})}}),fP=_({is(e){return e.kind==="ColumnUpdateNode"},create(e,t){return _({kind:"ColumnUpdateNode",column:e,value:t})}});function ez(...e){return e.length===2?[fP.create(fi(e[0]),jr(e[1]))]:VN(e[0])}function VN(e){const t=xi(e)?e(Xd()):e;return Object.entries(t).filter(([r,n])=>n!==void 0).map(([r,n])=>fP.create(Ir.create(r),jr(n)))}const tz=_({is(e){return e.kind==="OnDuplicateKeyNode"},create(e){return _({kind:"OnDuplicateKeyNode",updates:e})}});class rz{constructor(t,r){be(this,"insertId");be(this,"numInsertedOrUpdatedRows");this.insertId=t,this.numInsertedOrUpdatedRows=r}}class jm extends Error{constructor(r){super("no result");be(this,"node");this.node=r}}function Mm(e){return Object.prototype.hasOwnProperty.call(e,"prototype")}const ui=_({is(e){return e.kind==="OnConflictNode"},create(){return _({kind:"OnConflictNode"})},cloneWith(e,t){return _({...e,...t})},cloneWithIndexWhere(e,t){return _({...e,indexWhere:e.indexWhere?Un.cloneWithOperation(e.indexWhere,"And",t):Un.create(t)})},cloneWithIndexOrWhere(e,t){return _({...e,indexWhere:e.indexWhere?Un.cloneWithOperation(e.indexWhere,"Or",t):Un.create(t)})},cloneWithUpdateWhere(e,t){return _({...e,updateWhere:e.updateWhere?Un.cloneWithOperation(e.updateWhere,"And",t):Un.create(t)})},cloneWithUpdateOrWhere(e,t){return _({...e,updateWhere:e.updateWhere?Un.cloneWithOperation(e.updateWhere,"Or",t):Un.create(t)})},cloneWithoutIndexWhere(e){return _({...e,indexWhere:void 0})},cloneWithoutUpdateWhere(e){return _({...e,updateWhere:void 0})}});var Jt;const ao=class ao{constructor(t){Y(this,Jt,void 0);te(this,Jt,_(t))}column(t){const r=Ir.create(t);return new ao({...d(this,Jt),onConflictNode:ui.cloneWith(d(this,Jt).onConflictNode,{columns:d(this,Jt).onConflictNode.columns?_([...d(this,Jt).onConflictNode.columns,r]):_([r])})})}columns(t){const r=t.map(Ir.create);return new ao({...d(this,Jt),onConflictNode:ui.cloneWith(d(this,Jt).onConflictNode,{columns:d(this,Jt).onConflictNode.columns?_([...d(this,Jt).onConflictNode.columns,...r]):_(r)})})}constraint(t){return new ao({...d(this,Jt),onConflictNode:ui.cloneWith(d(this,Jt).onConflictNode,{constraint:lr.create(t)})})}expression(t){return new ao({...d(this,Jt),onConflictNode:ui.cloneWith(d(this,Jt).onConflictNode,{indexExpression:t.toOperationNode()})})}where(...t){return new ao({...d(this,Jt),onConflictNode:ui.cloneWithIndexWhere(d(this,Jt).onConflictNode,gn(t))})}whereRef(t,r,n){return new ao({...d(this,Jt),onConflictNode:ui.cloneWithIndexWhere(d(this,Jt).onConflictNode,Vs(t,r,n))})}clearWhere(){return new ao({...d(this,Jt),onConflictNode:ui.cloneWithoutIndexWhere(d(this,Jt).onConflictNode)})}doNothing(){return new pP({...d(this,Jt),onConflictNode:ui.cloneWith(d(this,Jt).onConflictNode,{doNothing:!0})})}doUpdateSet(t){return new cv({...d(this,Jt),onConflictNode:ui.cloneWith(d(this,Jt).onConflictNode,{updates:VN(t)})})}$call(t){return t(this)}};Jt=new WeakMap;let uv=ao;yt(uv,"don't await OnConflictBuilder instances.");var kp;class pP{constructor(t){Y(this,kp,void 0);te(this,kp,_(t))}toOperationNode(){return d(this,kp).onConflictNode}}kp=new WeakMap;yt(pP,"don't await OnConflictDoNothingBuilder instances.");var Ji;const wf=class wf{constructor(t){Y(this,Ji,void 0);te(this,Ji,_(t))}where(...t){return new wf({...d(this,Ji),onConflictNode:ui.cloneWithUpdateWhere(d(this,Ji).onConflictNode,gn(t))})}whereRef(t,r,n){return new wf({...d(this,Ji),onConflictNode:ui.cloneWithUpdateWhere(d(this,Ji).onConflictNode,Vs(t,r,n))})}clearWhere(){return new wf({...d(this,Ji),onConflictNode:ui.cloneWithoutUpdateWhere(d(this,Ji).onConflictNode)})}$call(t){return t(this)}toOperationNode(){return d(this,Ji).onConflictNode}};Ji=new WeakMap;let cv=wf;yt(cv,"don't await OnConflictUpdateBuilder instances.");const nz=_({is(e){return e.kind==="TopNode"},create(e,t){return _({kind:"TopNode",expression:e,modifiers:t})}});function Yd(e,t){if(!w1(e)&&!MN(e))throw new Error(`Invalid top expression: ${e}`);if(!Ha(t)&&!iz(t))throw new Error(`Invalid top modifiers: ${t}`);return nz.create(e,t)}function iz(e){return e==="percent"||e==="with ties"||e==="percent with ties"}var st;const Wr=class Wr{constructor(t){Y(this,st,void 0);te(this,st,_(t))}values(t){const[r,n]=hP(t);return new Wr({...d(this,st),queryNode:hi.cloneWith(d(this,st).queryNode,{columns:r,values:n})})}columns(t){return new Wr({...d(this,st),queryNode:hi.cloneWith(d(this,st).queryNode,{columns:_(t.map(Ir.create))})})}expression(t){return new Wr({...d(this,st),queryNode:hi.cloneWith(d(this,st).queryNode,{values:Hu(t)})})}defaultValues(){return new Wr({...d(this,st),queryNode:hi.cloneWith(d(this,st).queryNode,{defaultValues:!0})})}ignore(){return new Wr({...d(this,st),queryNode:hi.cloneWith(d(this,st).queryNode,{ignore:!0})})}top(t,r){return new Wr({...d(this,st),queryNode:nt.cloneWithTop(d(this,st).queryNode,Yd(t,r))})}onConflict(t){return new Wr({...d(this,st),queryNode:hi.cloneWith(d(this,st).queryNode,{onConflict:t(new uv({onConflictNode:ui.create()})).toOperationNode()})})}onDuplicateKeyUpdate(t){return new Wr({...d(this,st),queryNode:hi.cloneWith(d(this,st).queryNode,{onDuplicateKey:tz.create(VN(t))})})}returning(t){return new Wr({...d(this,st),queryNode:nt.cloneWithReturning(d(this,st).queryNode,Zd(t))})}returningAll(){return new Wr({...d(this,st),queryNode:nt.cloneWithReturning(d(this,st).queryNode,Lm())})}clearReturning(){return new Wr({...d(this,st),queryNode:nt.cloneWithoutReturning(d(this,st).queryNode)})}$call(t){return t(this)}$if(t,r){return t?r(this):new Wr({...d(this,st)})}$castTo(){return new Wr(d(this,st))}$narrowType(){return new Wr(d(this,st))}$assertType(){return new Wr(d(this,st))}withPlugin(t){return new Wr({...d(this,st),executor:d(this,st).executor.withPlugin(t)})}toOperationNode(){return d(this,st).executor.transformQuery(d(this,st).queryNode,d(this,st).queryId)}compile(){return d(this,st).executor.compileQuery(this.toOperationNode(),d(this,st).queryId)}async execute(){const t=this.compile(),r=t.query,n=await d(this,st).executor.executeQuery(t,d(this,st).queryId);return d(this,st).executor.adapter.supportsReturning&&r.returning?n.rows:[new rz(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=jm){const r=await this.executeTakeFirst();if(r===void 0)throw Mm(t)?new t(this.toOperationNode()):t(this.toOperationNode());return r}async*stream(t=100){const r=this.compile(),n=d(this,st).executor.stream(r,t,d(this,st).queryId);for await(const i of n)yield*i.rows}async explain(t,r){return await new Wr({...d(this,st),queryNode:nt.cloneWithExplain(d(this,st).queryNode,t,r)}).execute()}};st=new WeakMap;let Yf=Wr;yt(Yf,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class sz{constructor(t){be(this,"numDeletedRows");this.numDeletedRows=t}}const HN=_({is(e){return e.kind==="LimitNode"},create(e){return _({kind:"LimitNode",limit:e})}});var qe;const or=class or{constructor(t){Y(this,qe,void 0);te(this,qe,_(t))}where(...t){return new or({...d(this,qe),queryNode:nt.cloneWithWhere(d(this,qe).queryNode,gn(t))})}whereRef(t,r,n){return new or({...d(this,qe),queryNode:nt.cloneWithWhere(d(this,qe).queryNode,Vs(t,r,n))})}clearWhere(){return new or({...d(this,qe),queryNode:nt.cloneWithoutWhere(d(this,qe).queryNode)})}top(t,r){return new or({...d(this,qe),queryNode:nt.cloneWithTop(d(this,qe).queryNode,Yd(t,r))})}using(t){return new or({...d(this,qe),queryNode:jl.cloneWithUsing(d(this,qe).queryNode,ep(t))})}innerJoin(...t){return new or({...d(this,qe),queryNode:nt.cloneWithJoin(d(this,qe).queryNode,Dn("InnerJoin",t))})}leftJoin(...t){return new or({...d(this,qe),queryNode:nt.cloneWithJoin(d(this,qe).queryNode,Dn("LeftJoin",t))})}rightJoin(...t){return new or({...d(this,qe),queryNode:nt.cloneWithJoin(d(this,qe).queryNode,Dn("RightJoin",t))})}fullJoin(...t){return new or({...d(this,qe),queryNode:nt.cloneWithJoin(d(this,qe).queryNode,Dn("FullJoin",t))})}returning(t){return new or({...d(this,qe),queryNode:nt.cloneWithReturning(d(this,qe).queryNode,Zd(t))})}returningAll(t){return new or({...d(this,qe),queryNode:nt.cloneWithReturning(d(this,qe).queryNode,Lm(t))})}clearReturning(){return new or({...d(this,qe),queryNode:nt.cloneWithoutReturning(d(this,qe).queryNode)})}clearLimit(){return new or({...d(this,qe),queryNode:jl.cloneWithoutLimit(d(this,qe).queryNode)})}clearOrderBy(){return new or({...d(this,qe),queryNode:jl.cloneWithoutOrderBy(d(this,qe).queryNode)})}orderBy(t,r){return new or({...d(this,qe),queryNode:jl.cloneWithOrderByItems(d(this,qe).queryNode,_1([t,r]))})}limit(t){return new or({...d(this,qe),queryNode:jl.cloneWithLimit(d(this,qe).queryNode,HN.create(jr(t)))})}$call(t){return t(this)}$if(t,r){return t?r(this):new or({...d(this,qe)})}$castTo(){return new or(d(this,qe))}$narrowType(){return new or(d(this,qe))}$assertType(){return new or(d(this,qe))}withPlugin(t){return new or({...d(this,qe),executor:d(this,qe).executor.withPlugin(t)})}toOperationNode(){return d(this,qe).executor.transformQuery(d(this,qe).queryNode,d(this,qe).queryId)}compile(){return d(this,qe).executor.compileQuery(this.toOperationNode(),d(this,qe).queryId)}async execute(){const t=this.compile(),r=t.query,n=await d(this,qe).executor.executeQuery(t,d(this,qe).queryId);return d(this,qe).executor.adapter.supportsReturning&&r.returning?n.rows:[new sz(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=jm){const r=await this.executeTakeFirst();if(r===void 0)throw Mm(t)?new t(this.toOperationNode()):t(this.toOperationNode());return r}async*stream(t=100){const r=this.compile(),n=d(this,qe).executor.stream(r,t,d(this,qe).queryId);for await(const i of n)yield*i.rows}async explain(t,r){return await new or({...d(this,qe),queryNode:nt.cloneWithExplain(d(this,qe).queryNode,t,r)}).execute()}};qe=new WeakMap;let dv=or;yt(dv,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class oz{constructor(t,r){be(this,"numUpdatedRows");be(this,"numChangedRows");this.numUpdatedRows=t,this.numChangedRows=r}}var Je;const gr=class gr{constructor(t){Y(this,Je,void 0);te(this,Je,_(t))}where(...t){return new gr({...d(this,Je),queryNode:nt.cloneWithWhere(d(this,Je).queryNode,gn(t))})}whereRef(t,r,n){return new gr({...d(this,Je),queryNode:nt.cloneWithWhere(d(this,Je).queryNode,Vs(t,r,n))})}clearWhere(){return new gr({...d(this,Je),queryNode:nt.cloneWithoutWhere(d(this,Je).queryNode)})}top(t,r){return new gr({...d(this,Je),queryNode:nt.cloneWithTop(d(this,Je).queryNode,Yd(t,r))})}from(t){return new gr({...d(this,Je),queryNode:Jc.cloneWithFromItems(d(this,Je).queryNode,ep(t))})}innerJoin(...t){return new gr({...d(this,Je),queryNode:nt.cloneWithJoin(d(this,Je).queryNode,Dn("InnerJoin",t))})}leftJoin(...t){return new gr({...d(this,Je),queryNode:nt.cloneWithJoin(d(this,Je).queryNode,Dn("LeftJoin",t))})}rightJoin(...t){return new gr({...d(this,Je),queryNode:nt.cloneWithJoin(d(this,Je).queryNode,Dn("RightJoin",t))})}fullJoin(...t){return new gr({...d(this,Je),queryNode:nt.cloneWithJoin(d(this,Je).queryNode,Dn("FullJoin",t))})}limit(t){return new gr({...d(this,Je),queryNode:Jc.cloneWithLimit(d(this,Je).queryNode,HN.create(jr(t)))})}set(...t){return new gr({...d(this,Je),queryNode:Jc.cloneWithUpdates(d(this,Je).queryNode,ez(...t))})}returning(t){return new gr({...d(this,Je),queryNode:nt.cloneWithReturning(d(this,Je).queryNode,Zd(t))})}returningAll(){return new gr({...d(this,Je),queryNode:nt.cloneWithReturning(d(this,Je).queryNode,Lm())})}clearReturning(){return new gr({...d(this,Je),queryNode:nt.cloneWithoutReturning(d(this,Je).queryNode)})}$call(t){return t(this)}$if(t,r){return t?r(this):new gr({...d(this,Je)})}$castTo(){return new gr(d(this,Je))}$narrowType(){return new gr(d(this,Je))}$assertType(){return new gr(d(this,Je))}withPlugin(t){return new gr({...d(this,Je),executor:d(this,Je).executor.withPlugin(t)})}toOperationNode(){return d(this,Je).executor.transformQuery(d(this,Je).queryNode,d(this,Je).queryId)}compile(){return d(this,Je).executor.compileQuery(this.toOperationNode(),d(this,Je).queryId)}async execute(){const t=this.compile(),r=t.query,n=await d(this,Je).executor.executeQuery(t,d(this,Je).queryId);return d(this,Je).executor.adapter.supportsReturning&&r.returning?n.rows:[new oz(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=jm){const r=await this.executeTakeFirst();if(r===void 0)throw Mm(t)?new t(this.toOperationNode()):t(this.toOperationNode());return r}async*stream(t=100){const r=this.compile(),n=d(this,Je).executor.stream(r,t,d(this,Je).queryId);for await(const i of n)yield*i.rows}async explain(t,r){return await new gr({...d(this,Je),queryNode:nt.cloneWithExplain(d(this,Je).queryNode,t,r)}).execute()}};Je=new WeakMap;let Xf=gr;yt(Xf,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const qE=_({is(e){return e.kind==="CommonTableExpressionNameNode"},create(e,t){return _({kind:"CommonTableExpressionNameNode",table:Qa.create(e),columns:t?_(t.map(Ir.create)):void 0})}}),hv=_({is(e){return e.kind==="CommonTableExpressionNode"},create(e,t){return _({kind:"CommonTableExpressionNode",name:e,expression:t})},cloneWith(e,t){return _({...e,...t})}});var ho;const r0=class r0{constructor(t){Y(this,ho,void 0);te(this,ho,_(t))}materialized(){return new r0({...d(this,ho),node:hv.cloneWith(d(this,ho).node,{materialized:!0})})}notMaterialized(){return new r0({...d(this,ho),node:hv.cloneWith(d(this,ho).node,{materialized:!1})})}toOperationNode(){return d(this,ho).node}};ho=new WeakMap;let fv=r0;yt(fv,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function UE(e,t){const r=t(vz()).toOperationNode();return xi(e)?e(az(r)).toOperationNode():hv.create(mP(e),r)}function az(e){return t=>new fv({node:hv.create(mP(t),e)})}function mP(e){if(e.includes("(")){const t=e.split(/[\(\)]/),r=t[0],n=t[1].split(",").map(i=>i.trim());return qE.create(r,n)}else return qE.create(e)}const $g=_({is(e){return e.kind==="WithNode"},create(e,t){return _({kind:"WithNode",expressions:_([e]),...t})},cloneWithExpression(e,t){return _({...e,expressions:_([...e.expressions,t])})}}),VE=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function lz(e){let t="";for(let r=0;r<e;++r)t+=uz();return t}function uz(){return VE[~~(Math.random()*VE.length)]}function Ht(){return new cz}var ed;class cz{constructor(){Y(this,ed,void 0)}get queryId(){return d(this,ed)===void 0&&te(this,ed,lz(8)),d(this,ed)}}ed=new WeakMap;var n0;class GN{constructor(){be(this,"nodeStack",[]);Y(this,n0,_({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this)}))}transformNode(t){if(!t)return t;this.nodeStack.push(t);const r=this.transformNodeImpl(t);return this.nodeStack.pop(),_(r)}transformNodeImpl(t){return d(this,n0)[t.kind](t)}transformNodeList(t){return t&&_(t.map(r=>this.transformNode(r)))}transformSelectQuery(t){return{kind:"SelectQueryNode",from:this.transformNode(t.from),selections:this.transformNodeList(t.selections),distinctOn:this.transformNodeList(t.distinctOn),joins:this.transformNodeList(t.joins),groupBy:this.transformNode(t.groupBy),orderBy:this.transformNode(t.orderBy),where:this.transformNode(t.where),frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),limit:this.transformNode(t.limit),offset:this.transformNode(t.offset),with:this.transformNode(t.with),having:this.transformNode(t.having),explain:this.transformNode(t.explain),setOperations:this.transformNodeList(t.setOperations),fetch:this.transformNode(t.fetch),top:this.transformNode(t.top)}}transformSelection(t){return{kind:"SelectionNode",selection:this.transformNode(t.selection)}}transformColumn(t){return{kind:"ColumnNode",column:this.transformNode(t.column)}}transformAlias(t){return{kind:"AliasNode",node:this.transformNode(t.node),alias:this.transformNode(t.alias)}}transformTable(t){return{kind:"TableNode",table:this.transformNode(t.table)}}transformFrom(t){return{kind:"FromNode",froms:this.transformNodeList(t.froms)}}transformReference(t){return{kind:"ReferenceNode",column:this.transformNode(t.column),table:this.transformNode(t.table)}}transformAnd(t){return{kind:"AndNode",left:this.transformNode(t.left),right:this.transformNode(t.right)}}transformOr(t){return{kind:"OrNode",left:this.transformNode(t.left),right:this.transformNode(t.right)}}transformValueList(t){return{kind:"ValueListNode",values:this.transformNodeList(t.values)}}transformParens(t){return{kind:"ParensNode",node:this.transformNode(t.node)}}transformJoin(t){return{kind:"JoinNode",joinType:t.joinType,table:this.transformNode(t.table),on:this.transformNode(t.on)}}transformRaw(t){return{kind:"RawNode",sqlFragments:_([...t.sqlFragments]),parameters:this.transformNodeList(t.parameters)}}transformWhere(t){return{kind:"WhereNode",where:this.transformNode(t.where)}}transformInsertQuery(t){return{kind:"InsertQueryNode",into:this.transformNode(t.into),columns:this.transformNodeList(t.columns),values:this.transformNode(t.values),returning:this.transformNode(t.returning),onConflict:this.transformNode(t.onConflict),onDuplicateKey:this.transformNode(t.onDuplicateKey),with:this.transformNode(t.with),ignore:t.ignore,replace:t.replace,explain:this.transformNode(t.explain),defaultValues:t.defaultValues,top:this.transformNode(t.top)}}transformValues(t){return{kind:"ValuesNode",values:this.transformNodeList(t.values)}}transformDeleteQuery(t){return{kind:"DeleteQueryNode",from:this.transformNode(t.from),using:this.transformNode(t.using),joins:this.transformNodeList(t.joins),where:this.transformNode(t.where),returning:this.transformNode(t.returning),with:this.transformNode(t.with),orderBy:this.transformNode(t.orderBy),limit:this.transformNode(t.limit),explain:this.transformNode(t.explain),top:this.transformNode(t.top)}}transformReturning(t){return{kind:"ReturningNode",selections:this.transformNodeList(t.selections)}}transformCreateTable(t){return{kind:"CreateTableNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),constraints:this.transformNodeList(t.constraints),temporary:t.temporary,ifNotExists:t.ifNotExists,onCommit:t.onCommit,frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),selectQuery:this.transformNode(t.selectQuery)}}transformColumnDefinition(t){return{kind:"ColumnDefinitionNode",column:this.transformNode(t.column),dataType:this.transformNode(t.dataType),references:this.transformNode(t.references),primaryKey:t.primaryKey,autoIncrement:t.autoIncrement,unique:t.unique,notNull:t.notNull,unsigned:t.unsigned,defaultTo:this.transformNode(t.defaultTo),check:this.transformNode(t.check),generated:this.transformNode(t.generated),frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),nullsNotDistinct:t.nullsNotDistinct,identity:t.identity}}transformAddColumn(t){return{kind:"AddColumnNode",column:this.transformNode(t.column)}}transformDropTable(t){return{kind:"DropTableNode",table:this.transformNode(t.table),ifExists:t.ifExists,cascade:t.cascade}}transformOrderBy(t){return{kind:"OrderByNode",items:this.transformNodeList(t.items)}}transformOrderByItem(t){return{kind:"OrderByItemNode",orderBy:this.transformNode(t.orderBy),direction:this.transformNode(t.direction)}}transformGroupBy(t){return{kind:"GroupByNode",items:this.transformNodeList(t.items)}}transformGroupByItem(t){return{kind:"GroupByItemNode",groupBy:this.transformNode(t.groupBy)}}transformUpdateQuery(t){return{kind:"UpdateQueryNode",table:this.transformNode(t.table),from:this.transformNode(t.from),joins:this.transformNodeList(t.joins),where:this.transformNode(t.where),updates:this.transformNodeList(t.updates),returning:this.transformNode(t.returning),with:this.transformNode(t.with),explain:this.transformNode(t.explain),limit:this.transformNode(t.limit),top:this.transformNode(t.top)}}transformColumnUpdate(t){return{kind:"ColumnUpdateNode",column:this.transformNode(t.column),value:this.transformNode(t.value)}}transformLimit(t){return{kind:"LimitNode",limit:this.transformNode(t.limit)}}transformOffset(t){return{kind:"OffsetNode",offset:this.transformNode(t.offset)}}transformOnConflict(t){return{kind:"OnConflictNode",columns:this.transformNodeList(t.columns),constraint:this.transformNode(t.constraint),indexExpression:this.transformNode(t.indexExpression),indexWhere:this.transformNode(t.indexWhere),updates:this.transformNodeList(t.updates),updateWhere:this.transformNode(t.updateWhere),doNothing:t.doNothing}}transformOnDuplicateKey(t){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(t.updates)}}transformCreateIndex(t){return{kind:"CreateIndexNode",name:this.transformNode(t.name),table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),unique:t.unique,using:this.transformNode(t.using),ifNotExists:t.ifNotExists,where:this.transformNode(t.where),nullsNotDistinct:t.nullsNotDistinct}}transformList(t){return{kind:"ListNode",items:this.transformNodeList(t.items)}}transformDropIndex(t){return{kind:"DropIndexNode",name:this.transformNode(t.name),table:this.transformNode(t.table),ifExists:t.ifExists,cascade:t.cascade}}transformPrimaryKeyConstraint(t){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(t.columns),name:this.transformNode(t.name)}}transformUniqueConstraint(t){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(t.columns),name:this.transformNode(t.name),nullsNotDistinct:t.nullsNotDistinct}}transformForeignKeyConstraint(t){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(t.columns),references:this.transformNode(t.references),name:this.transformNode(t.name),onDelete:t.onDelete,onUpdate:t.onUpdate}}transformSetOperation(t){return{kind:"SetOperationNode",operator:t.operator,expression:this.transformNode(t.expression),all:t.all}}transformReferences(t){return{kind:"ReferencesNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),onDelete:t.onDelete,onUpdate:t.onUpdate}}transformCheckConstraint(t){return{kind:"CheckConstraintNode",expression:this.transformNode(t.expression),name:this.transformNode(t.name)}}transformWith(t){return{kind:"WithNode",expressions:this.transformNodeList(t.expressions),recursive:t.recursive}}transformCommonTableExpression(t){return{kind:"CommonTableExpressionNode",name:this.transformNode(t.name),materialized:t.materialized,expression:this.transformNode(t.expression)}}transformCommonTableExpressionName(t){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns)}}transformHaving(t){return{kind:"HavingNode",having:this.transformNode(t.having)}}transformCreateSchema(t){return{kind:"CreateSchemaNode",schema:this.transformNode(t.schema),ifNotExists:t.ifNotExists}}transformDropSchema(t){return{kind:"DropSchemaNode",schema:this.transformNode(t.schema),ifExists:t.ifExists,cascade:t.cascade}}transformAlterTable(t){return{kind:"AlterTableNode",table:this.transformNode(t.table),renameTo:this.transformNode(t.renameTo),setSchema:this.transformNode(t.setSchema),columnAlterations:this.transformNodeList(t.columnAlterations),addConstraint:this.transformNode(t.addConstraint),dropConstraint:this.transformNode(t.dropConstraint),addIndex:this.transformNode(t.addIndex),dropIndex:this.transformNode(t.dropIndex)}}transformDropColumn(t){return{kind:"DropColumnNode",column:this.transformNode(t.column)}}transformRenameColumn(t){return{kind:"RenameColumnNode",column:this.transformNode(t.column),renameTo:this.transformNode(t.renameTo)}}transformAlterColumn(t){return{kind:"AlterColumnNode",column:this.transformNode(t.column),dataType:this.transformNode(t.dataType),dataTypeExpression:this.transformNode(t.dataTypeExpression),setDefault:this.transformNode(t.setDefault),dropDefault:t.dropDefault,setNotNull:t.setNotNull,dropNotNull:t.dropNotNull}}transformModifyColumn(t){return{kind:"ModifyColumnNode",column:this.transformNode(t.column)}}transformAddConstraint(t){return{kind:"AddConstraintNode",constraint:this.transformNode(t.constraint)}}transformDropConstraint(t){return{kind:"DropConstraintNode",constraintName:this.transformNode(t.constraintName),ifExists:t.ifExists,modifier:t.modifier}}transformCreateView(t){return{kind:"CreateViewNode",name:this.transformNode(t.name),temporary:t.temporary,orReplace:t.orReplace,ifNotExists:t.ifNotExists,materialized:t.materialized,columns:this.transformNodeList(t.columns),as:this.transformNode(t.as)}}transformDropView(t){return{kind:"DropViewNode",name:this.transformNode(t.name),ifExists:t.ifExists,materialized:t.materialized,cascade:t.cascade}}transformGenerated(t){return{kind:"GeneratedNode",byDefault:t.byDefault,always:t.always,identity:t.identity,stored:t.stored,expression:this.transformNode(t.expression)}}transformDefaultValue(t){return{kind:"DefaultValueNode",defaultValue:this.transformNode(t.defaultValue)}}transformOn(t){return{kind:"OnNode",on:this.transformNode(t.on)}}transformSelectModifier(t){return{kind:"SelectModifierNode",modifier:t.modifier,rawModifier:this.transformNode(t.rawModifier),of:this.transformNodeList(t.of)}}transformCreateType(t){return{kind:"CreateTypeNode",name:this.transformNode(t.name),enum:this.transformNode(t.enum)}}transformDropType(t){return{kind:"DropTypeNode",name:this.transformNode(t.name),ifExists:t.ifExists}}transformExplain(t){return{kind:"ExplainNode",format:t.format,options:this.transformNode(t.options)}}transformSchemableIdentifier(t){return{kind:"SchemableIdentifierNode",schema:this.transformNode(t.schema),identifier:this.transformNode(t.identifier)}}transformAggregateFunction(t){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(t.aggregated),distinct:t.distinct,filter:this.transformNode(t.filter),func:t.func,over:this.transformNode(t.over)}}transformOver(t){return{kind:"OverNode",orderBy:this.transformNode(t.orderBy),partitionBy:this.transformNode(t.partitionBy)}}transformPartitionBy(t){return{kind:"PartitionByNode",items:this.transformNodeList(t.items)}}transformPartitionByItem(t){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(t.partitionBy)}}transformBinaryOperation(t){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(t.leftOperand),operator:this.transformNode(t.operator),rightOperand:this.transformNode(t.rightOperand)}}transformUnaryOperation(t){return{kind:"UnaryOperationNode",operator:this.transformNode(t.operator),operand:this.transformNode(t.operand)}}transformUsing(t){return{kind:"UsingNode",tables:this.transformNodeList(t.tables)}}transformFunction(t){return{kind:"FunctionNode",func:t.func,arguments:this.transformNodeList(t.arguments)}}transformCase(t){return{kind:"CaseNode",value:this.transformNode(t.value),when:this.transformNodeList(t.when),else:this.transformNode(t.else),isStatement:t.isStatement}}transformWhen(t){return{kind:"WhenNode",condition:this.transformNode(t.condition),result:this.transformNode(t.result)}}transformJSONReference(t){return{kind:"JSONReferenceNode",reference:this.transformNode(t.reference),traversal:this.transformNode(t.traversal)}}transformJSONPath(t){return{kind:"JSONPathNode",inOperator:this.transformNode(t.inOperator),pathLegs:this.transformNodeList(t.pathLegs)}}transformJSONPathLeg(t){return{kind:"JSONPathLegNode",type:t.type,value:t.value}}transformJSONOperatorChain(t){return{kind:"JSONOperatorChainNode",operator:this.transformNode(t.operator),values:this.transformNodeList(t.values)}}transformTuple(t){return{kind:"TupleNode",values:this.transformNodeList(t.values)}}transformMergeQuery(t){return{kind:"MergeQueryNode",into:this.transformNode(t.into),using:this.transformNode(t.using),whens:this.transformNodeList(t.whens),with:this.transformNode(t.with),top:this.transformNode(t.top)}}transformMatched(t){return{kind:"MatchedNode",not:t.not,bySource:t.bySource}}transformAddIndex(t){return{kind:"AddIndexNode",name:this.transformNode(t.name),columns:this.transformNodeList(t.columns),unique:t.unique,using:this.transformNode(t.using),ifNotExists:t.ifNotExists}}transformCast(t){return{kind:"CastNode",expression:this.transformNode(t.expression),dataType:this.transformNode(t.dataType)}}transformFetch(t){return{kind:"FetchNode",rowCount:this.transformNode(t.rowCount),modifier:t.modifier}}transformTop(t){return{kind:"TopNode",expression:t.expression,modifiers:t.modifiers}}transformDataType(t){return t}transformSelectAll(t){return t}transformIdentifier(t){return t}transformValue(t){return t}transformPrimitiveValueList(t){return t}transformOperator(t){return t}transformDefaultInsertValue(t){return t}}n0=new WeakMap;const dz=_({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});var td,eu,tu,i0,gP,s0,yP,o0,vP,Na,fc,Ep,I_,a0,wP;class hz extends GN{constructor(r){super();Y(this,i0);Y(this,s0);Y(this,o0);Y(this,Na);Y(this,Ep);Y(this,a0);Y(this,td,void 0);Y(this,eu,new Set);Y(this,tu,new Set);te(this,td,r)}transformNodeImpl(r){if(!pt(this,i0,gP).call(this,r))return super.transformNodeImpl(r);const n=pt(this,o0,vP).call(this,r);for(const o of n)d(this,tu).add(o);const i=pt(this,s0,yP).call(this,r);for(const o of i)d(this,eu).add(o);const s=super.transformNodeImpl(r);for(const o of i)d(this,eu).delete(o);for(const o of n)d(this,tu).delete(o);return s}transformSchemableIdentifier(r){const n=super.transformSchemableIdentifier(r);return n.schema||!d(this,eu).has(r.identifier.name)?n:{...n,schema:lr.create(d(this,td))}}transformReferences(r){const n=super.transformReferences(r);return n.table.table.schema?n:{...n,table:Qa.createWithSchema(d(this,td),n.table.table.identifier.name)}}}td=new WeakMap,eu=new WeakMap,tu=new WeakMap,i0=new WeakSet,gP=function(r){return r.kind in dz},s0=new WeakSet,yP=function(r){const n=new Set;if("name"in r&&r.name&&ll.is(r.name)&&pt(this,Ep,I_).call(this,r.name,n),"from"in r&&r.from)for(const i of r.from.froms)pt(this,Na,fc).call(this,i,n);if("into"in r&&r.into&&pt(this,Na,fc).call(this,r.into,n),"table"in r&&r.table&&pt(this,Na,fc).call(this,r.table,n),"joins"in r&&r.joins)for(const i of r.joins)pt(this,Na,fc).call(this,i.table,n);return"using"in r&&r.using&&pt(this,Na,fc).call(this,r.using,n),n},o0=new WeakSet,vP=function(r){const n=new Set;return"with"in r&&r.with&&pt(this,a0,wP).call(this,r.with,n),n},Na=new WeakSet,fc=function(r,n){const i=Qa.is(r)?r:bl.is(r)&&Qa.is(r.node)?r.node:null;i&&pt(this,Ep,I_).call(this,i.table,n)},Ep=new WeakSet,I_=function(r,n){const i=r.identifier.name;!d(this,eu).has(i)&&!d(this,tu).has(i)&&n.add(i)},a0=new WeakSet,wP=function(r,n){for(const i of r.expressions){const s=i.name.table.table.identifier.name;d(this,tu).has(s)||n.add(s)}};var Cp;class Fm{constructor(t){Y(this,Cp,void 0);te(this,Cp,new hz(t))}transformQuery(t){return d(this,Cp).transformNode(t.node)}async transformResult(t){return t.result}}Cp=new WeakMap;const fz=_({is(e){return e.kind==="MatchedNode"},create(e,t=!1){return _({kind:"MatchedNode",not:e,bySource:t})}});function HE(e,t,r){return Dm.create(sv([fz.create(!e.isMatched,e.bySource),...t&&t.length>0?[t.length===3&&r?Vs(t[0],t[1],t[2]):gn(t)]:[]],"and",!1))}function cf(e){return wi(e)?hn.create([e],[]):ei(e)?e.toOperationNode():e}var Tp,rd,nd,MT;let GE=(MT=class{constructor(){Y(this,Tp,void 0);Y(this,rd,void 0);Y(this,nd,void 0);be(this,"resolve",t=>{d(this,rd)&&d(this,rd).call(this,t)});be(this,"reject",t=>{d(this,nd)&&d(this,nd).call(this,t)});te(this,Tp,new Promise((t,r)=>{te(this,nd,r),te(this,rd,t)}))}get promise(){return d(this,Tp)}},Tp=new WeakMap,rd=new WeakMap,nd=new WeakMap,MT);const QE=new Set;function pz(e){QE.has(e)||(QE.add(e),console.log(e))}const mz=_([]);var ru,Op,$_;class bP{constructor(t=mz){Y(this,Op);Y(this,ru,void 0);te(this,ru,t)}get plugins(){return d(this,ru)}transformQuery(t,r){for(const n of d(this,ru)){const i=n.transformQuery({node:t,queryId:r});if(i.kind===t.kind)t=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${t.kind}`,`but it returned a ${i.kind}`].join(" "))}return t}async executeQuery(t,r){return await this.provideConnection(async n=>{const i=await n.executeQuery(t),s=await pt(this,Op,$_).call(this,i,r);return gz(i,s),s})}async*stream(t,r,n){const i=new GE,s=new GE;this.provideConnection(async a=>(i.resolve(a),await s.promise)).catch(a=>i.reject(a));const o=await i.promise;try{for await(const a of o.streamQuery(t,r))yield await pt(this,Op,$_).call(this,a,n)}finally{s.resolve()}}}ru=new WeakMap,Op=new WeakSet,$_=async function(t,r){for(const n of d(this,ru))t=await n.transformResult({result:t,queryId:r});return t};function gz(e,t){const{numAffectedRows:r}=e;r===void 0&&e.numUpdatedOrDeletedRows===void 0||r!==void 0&&t.numAffectedRows!==void 0||pz("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class $c extends bP{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(t){return new $c([...this.plugins,t])}withPlugins(t){return new $c([...this.plugins,...t])}withPluginAtFront(t){return new $c([t,...this.plugins])}withoutPlugins(){return new $c([])}}const x1=new $c;class yz{constructor(t){be(this,"numChangedRows");this.numChangedRows=t}}var Sa;const j2=class j2{constructor(t){Y(this,Sa,void 0);te(this,Sa,_(t))}top(t,r){return new j2({...d(this,Sa),queryNode:nt.cloneWithTop(d(this,Sa).queryNode,Yd(t,r))})}using(...t){return new Po({...d(this,Sa),queryNode:Qn.cloneWithUsing(d(this,Sa).queryNode,Dn("Using",t))})}};Sa=new WeakMap;let pv=j2;yt(pv,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");var qr,id,sy,fo,$l;const l0=class l0{constructor(t){Y(this,id);Y(this,fo);Y(this,qr,void 0);te(this,qr,_(t))}top(t,r){return new l0({...d(this,qr),queryNode:nt.cloneWithTop(d(this,qr).queryNode,Yd(t,r))})}whenMatched(){return pt(this,id,sy).call(this,[])}whenMatchedAnd(...t){return pt(this,id,sy).call(this,t)}whenMatchedAndRef(t,r,n){return pt(this,id,sy).call(this,[t,r,n],!0)}whenNotMatched(){return pt(this,fo,$l).call(this,[])}whenNotMatchedAnd(...t){return pt(this,fo,$l).call(this,t)}whenNotMatchedAndRef(t,r,n){return pt(this,fo,$l).call(this,[t,r,n],!0)}whenNotMatchedBySource(){return pt(this,fo,$l).call(this,[],!1,!0)}whenNotMatchedBySourceAnd(...t){return pt(this,fo,$l).call(this,t,!1,!0)}whenNotMatchedBySourceAndRef(t,r,n){return pt(this,fo,$l).call(this,[t,r,n],!0,!0)}$call(t){return t(this)}$if(t,r){return t?r(this):new l0({...d(this,qr)})}toOperationNode(){return d(this,qr).executor.transformQuery(d(this,qr).queryNode,d(this,qr).queryId)}compile(){return d(this,qr).executor.compileQuery(d(this,qr).queryNode,d(this,qr).queryId)}async execute(){const t=this.compile(),r=await d(this,qr).executor.executeQuery(t,d(this,qr).queryId);return[new yz(r.numAffectedRows)]}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=jm){const r=await this.executeTakeFirst();if(r===void 0)throw Mm(t)?new t(this.toOperationNode()):t(this.toOperationNode());return r}};qr=new WeakMap,id=new WeakSet,sy=function(t,r){return new L_({...d(this,qr),queryNode:Qn.cloneWithWhen(d(this,qr).queryNode,HE({isMatched:!0},t,r))})},fo=new WeakSet,$l=function(t,r=!1,n=!1){const i={...d(this,qr),queryNode:Qn.cloneWithWhen(d(this,qr).queryNode,HE({isMatched:!1,bySource:n},t,r))},s=n?L_:_P;return new s(i)};let Po=l0;yt(Po,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");var Ki;class L_{constructor(t){Y(this,Ki,void 0);te(this,Ki,_(t))}thenDelete(){return new Po({...d(this,Ki),queryNode:Qn.cloneWithThen(d(this,Ki).queryNode,cf("delete"))})}thenDoNothing(){return new Po({...d(this,Ki),queryNode:Qn.cloneWithThen(d(this,Ki).queryNode,cf("do nothing"))})}thenUpdate(t){return new Po({...d(this,Ki),queryNode:Qn.cloneWithThen(d(this,Ki).queryNode,cf(t(new Xf({queryId:d(this,Ki).queryId,executor:x1,queryNode:Jc.createWithoutTable()}))))})}thenUpdateSet(...t){return this.thenUpdate(r=>r.set(...t))}}Ki=new WeakMap;yt(L_,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");var ka;class _P{constructor(t){Y(this,ka,void 0);te(this,ka,_(t))}thenDoNothing(){return new Po({...d(this,ka),queryNode:Qn.cloneWithThen(d(this,ka).queryNode,cf("do nothing"))})}thenInsertValues(t){const[r,n]=hP(t);return new Po({...d(this,ka),queryNode:Qn.cloneWithThen(d(this,ka).queryNode,cf(hi.cloneWith(hi.createWithoutInto(),{columns:r,values:n})))})}}ka=new WeakMap;yt(_P,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");var Lt;const Bl=class Bl{constructor(t){Y(this,Lt,void 0);te(this,Lt,_(t))}selectFrom(t){return M_({queryId:Ht(),executor:d(this,Lt).executor,queryNode:xt.createFrom(ep(t),d(this,Lt).withNode)})}selectNoFrom(t){return M_({queryId:Ht(),executor:d(this,Lt).executor,queryNode:xt.cloneWithSelections(xt.create(d(this,Lt).withNode),Zd(t))})}insertInto(t){return new Yf({queryId:Ht(),executor:d(this,Lt).executor,queryNode:hi.create(Ar(t),d(this,Lt).withNode)})}replaceInto(t){return new Yf({queryId:Ht(),executor:d(this,Lt).executor,queryNode:hi.create(Ar(t),d(this,Lt).withNode,!0)})}deleteFrom(t){return new dv({queryId:Ht(),executor:d(this,Lt).executor,queryNode:jl.create(ep(t),d(this,Lt).withNode)})}updateTable(t){return new Xf({queryId:Ht(),executor:d(this,Lt).executor,queryNode:Jc.create(tp(t),d(this,Lt).withNode)})}mergeInto(t){return new pv({queryId:Ht(),executor:d(this,Lt).executor,queryNode:Qn.create(TP(t),d(this,Lt).withNode)})}with(t,r){const n=UE(t,r);return new Bl({...d(this,Lt),withNode:d(this,Lt).withNode?$g.cloneWithExpression(d(this,Lt).withNode,n):$g.create(n)})}withRecursive(t,r){const n=UE(t,r);return new Bl({...d(this,Lt),withNode:d(this,Lt).withNode?$g.cloneWithExpression(d(this,Lt).withNode,n):$g.create(n,{recursive:!0})})}withPlugin(t){return new Bl({...d(this,Lt),executor:d(this,Lt).executor.withPlugin(t)})}withoutPlugins(){return new Bl({...d(this,Lt),executor:d(this,Lt).executor.withoutPlugins()})}withSchema(t){return new Bl({...d(this,Lt),executor:d(this,Lt).executor.withPluginAtFront(new Fm(t))})}};Lt=new WeakMap;let mv=Bl;function vz(){return new mv({executor:x1})}function wz(e,t){return new av({joinNode:af.create(e,tp(t))})}function bz(){return new lv({overNode:A_.create()})}function Dn(e,t){if(t.length===3)return xz(e,t[0],t[1],t[2]);if(t.length===2)return _z(e,t[0],t[1]);throw new Error("not implemented")}function _z(e,t,r){return r(wz(e,t)).toOperationNode()}function xz(e,t,r,n){return af.createWithOn(e,tp(t),Vs(r,"=",n))}const Nz=_({is(e){return e.kind==="OffsetNode"},create(e){return _({kind:"OffsetNode",offset:e})}}),Sz=_({is(e){return e.kind==="GroupByItemNode"},create(e){return _({kind:"GroupByItemNode",groupBy:e})}});function kz(e){return e=xi(e)?e(Xd()):e,Zf(e).map(Sz.create)}const xP=_({is(e){return e.kind==="SetOperationNode"},create(e,t,r){return _({kind:"SetOperationNode",operator:e,expression:t,all:r})}});function ic(e,t,r){return xi(t)&&(t=t(JN())),Fo(t)||(t=[t]),t.map(n=>xP.create(e,Hu(n),r))}var po;const u0=class u0{constructor(t){Y(this,po,void 0);te(this,po,t)}get expressionType(){}as(t){return new QN(this,t)}or(...t){return new D_(Kd.create(d(this,po),gn(t)))}and(...t){return new j_(ul.create(d(this,po),gn(t)))}$castTo(){return new u0(d(this,po))}$notNull(){return new u0(d(this,po))}toOperationNode(){return d(this,po)}};po=new WeakMap;let Zt=u0;var sd,Ea;class QN{constructor(t,r){Y(this,sd,void 0);Y(this,Ea,void 0);te(this,sd,t),te(this,Ea,r)}get expression(){return d(this,sd)}get alias(){return d(this,Ea)}toOperationNode(){return bl.create(d(this,sd).toOperationNode(),ei(d(this,Ea))?d(this,Ea).toOperationNode():lr.create(d(this,Ea)))}}sd=new WeakMap,Ea=new WeakMap;var nu;const c0=class c0{constructor(t){Y(this,nu,void 0);te(this,nu,t)}get expressionType(){}as(t){return new QN(this,t)}or(...t){return new c0(Kd.create(d(this,nu),gn(t)))}$castTo(){return new c0(d(this,nu))}toOperationNode(){return Ad.create(d(this,nu))}};nu=new WeakMap;let D_=c0;var iu;const d0=class d0{constructor(t){Y(this,iu,void 0);te(this,iu,t)}get expressionType(){}as(t){return new QN(this,t)}and(...t){return new d0(ul.create(d(this,iu),gn(t)))}$castTo(){return new d0(d(this,iu))}toOperationNode(){return Ad.create(d(this,iu))}};iu=new WeakMap;let j_=d0;const Ez={is(e){return e.kind==="FetchNode"},create(e,t){return{kind:"FetchNode",rowCount:Us.create(e),modifier:t}}};function Cz(e,t){if(!w1(e)&&!MN(e))throw new Error(`Invalid fetch row count: ${e}`);if(!Tz(t))throw new Error(`Invalid fetch modifier: ${t}`);return Ez.create(e,t)}function Tz(e){return e==="only"||e==="with ties"}var he;const Xe=class Xe{constructor(t){Y(this,he,void 0);te(this,he,_(t))}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...t){return new Xe({...d(this,he),queryNode:nt.cloneWithWhere(d(this,he).queryNode,gn(t))})}whereRef(t,r,n){return new Xe({...d(this,he),queryNode:nt.cloneWithWhere(d(this,he).queryNode,Vs(t,r,n))})}having(...t){return new Xe({...d(this,he),queryNode:xt.cloneWithHaving(d(this,he).queryNode,gn(t))})}havingRef(t,r,n){return new Xe({...d(this,he),queryNode:xt.cloneWithHaving(d(this,he).queryNode,Vs(t,r,n))})}select(t){return new Xe({...d(this,he),queryNode:xt.cloneWithSelections(d(this,he).queryNode,Zd(t))})}distinctOn(t){return new Xe({...d(this,he),queryNode:xt.cloneWithDistinctOn(d(this,he).queryNode,Zf(t))})}modifyFront(t){return new Xe({...d(this,he),queryNode:xt.cloneWithFrontModifier(d(this,he).queryNode,no.createWithExpression(t.toOperationNode()))})}modifyEnd(t){return new Xe({...d(this,he),queryNode:xt.cloneWithEndModifier(d(this,he).queryNode,no.createWithExpression(t.toOperationNode()))})}distinct(){return new Xe({...d(this,he),queryNode:xt.cloneWithFrontModifier(d(this,he).queryNode,no.create("Distinct"))})}forUpdate(t){return new Xe({...d(this,he),queryNode:xt.cloneWithEndModifier(d(this,he).queryNode,no.create("ForUpdate",t?Ig(t).map(Ar):void 0))})}forShare(t){return new Xe({...d(this,he),queryNode:xt.cloneWithEndModifier(d(this,he).queryNode,no.create("ForShare",t?Ig(t).map(Ar):void 0))})}forKeyShare(t){return new Xe({...d(this,he),queryNode:xt.cloneWithEndModifier(d(this,he).queryNode,no.create("ForKeyShare",t?Ig(t).map(Ar):void 0))})}forNoKeyUpdate(t){return new Xe({...d(this,he),queryNode:xt.cloneWithEndModifier(d(this,he).queryNode,no.create("ForNoKeyUpdate",t?Ig(t).map(Ar):void 0))})}skipLocked(){return new Xe({...d(this,he),queryNode:xt.cloneWithEndModifier(d(this,he).queryNode,no.create("SkipLocked"))})}noWait(){return new Xe({...d(this,he),queryNode:xt.cloneWithEndModifier(d(this,he).queryNode,no.create("NoWait"))})}selectAll(t){return new Xe({...d(this,he),queryNode:xt.cloneWithSelections(d(this,he).queryNode,Lm(t))})}innerJoin(...t){return new Xe({...d(this,he),queryNode:nt.cloneWithJoin(d(this,he).queryNode,Dn("InnerJoin",t))})}leftJoin(...t){return new Xe({...d(this,he),queryNode:nt.cloneWithJoin(d(this,he).queryNode,Dn("LeftJoin",t))})}rightJoin(...t){return new Xe({...d(this,he),queryNode:nt.cloneWithJoin(d(this,he).queryNode,Dn("RightJoin",t))})}fullJoin(...t){return new Xe({...d(this,he),queryNode:nt.cloneWithJoin(d(this,he).queryNode,Dn("FullJoin",t))})}innerJoinLateral(...t){return new Xe({...d(this,he),queryNode:nt.cloneWithJoin(d(this,he).queryNode,Dn("LateralInnerJoin",t))})}leftJoinLateral(...t){return new Xe({...d(this,he),queryNode:nt.cloneWithJoin(d(this,he).queryNode,Dn("LateralLeftJoin",t))})}orderBy(...t){return new Xe({...d(this,he),queryNode:xt.cloneWithOrderByItems(d(this,he).queryNode,_1(t))})}groupBy(t){return new Xe({...d(this,he),queryNode:xt.cloneWithGroupByItems(d(this,he).queryNode,kz(t))})}limit(t){return new Xe({...d(this,he),queryNode:xt.cloneWithLimit(d(this,he).queryNode,HN.create(jr(t)))})}offset(t){return new Xe({...d(this,he),queryNode:xt.cloneWithOffset(d(this,he).queryNode,Nz.create(jr(t)))})}fetch(t,r="only"){return new Xe({...d(this,he),queryNode:xt.cloneWithFetch(d(this,he).queryNode,Cz(t,r))})}top(t,r){return new Xe({...d(this,he),queryNode:nt.cloneWithTop(d(this,he).queryNode,Yd(t,r))})}union(t){return new Xe({...d(this,he),queryNode:xt.cloneWithSetOperations(d(this,he).queryNode,ic("union",t,!1))})}unionAll(t){return new Xe({...d(this,he),queryNode:xt.cloneWithSetOperations(d(this,he).queryNode,ic("union",t,!0))})}intersect(t){return new Xe({...d(this,he),queryNode:xt.cloneWithSetOperations(d(this,he).queryNode,ic("intersect",t,!1))})}intersectAll(t){return new Xe({...d(this,he),queryNode:xt.cloneWithSetOperations(d(this,he).queryNode,ic("intersect",t,!0))})}except(t){return new Xe({...d(this,he),queryNode:xt.cloneWithSetOperations(d(this,he).queryNode,ic("except",t,!1))})}exceptAll(t){return new Xe({...d(this,he),queryNode:xt.cloneWithSetOperations(d(this,he).queryNode,ic("except",t,!0))})}as(t){return new NP(this,t)}clearSelect(){return new Xe({...d(this,he),queryNode:xt.cloneWithoutSelections(d(this,he).queryNode)})}clearWhere(){return new Xe({...d(this,he),queryNode:nt.cloneWithoutWhere(d(this,he).queryNode)})}clearLimit(){return new Xe({...d(this,he),queryNode:xt.cloneWithoutLimit(d(this,he).queryNode)})}clearOffset(){return new Xe({...d(this,he),queryNode:xt.cloneWithoutOffset(d(this,he).queryNode)})}clearOrderBy(){return new Xe({...d(this,he),queryNode:xt.cloneWithoutOrderBy(d(this,he).queryNode)})}$call(t){return t(this)}$if(t,r){return t?r(this):new Xe({...d(this,he)})}$castTo(){return new Xe(d(this,he))}$narrowType(){return new Xe(d(this,he))}$assertType(){return new Xe(d(this,he))}$asTuple(){return new Zt(this.toOperationNode())}withPlugin(t){return new Xe({...d(this,he),executor:d(this,he).executor.withPlugin(t)})}toOperationNode(){return d(this,he).executor.transformQuery(d(this,he).queryNode,d(this,he).queryId)}compile(){return d(this,he).executor.compileQuery(this.toOperationNode(),d(this,he).queryId)}async execute(){const t=this.compile();return(await d(this,he).executor.executeQuery(t,d(this,he).queryId)).rows}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=jm){const r=await this.executeTakeFirst();if(r===void 0)throw Mm(t)?new t(this.toOperationNode()):t(this.toOperationNode());return r}async*stream(t=100){const r=this.compile(),n=d(this,he).executor.stream(r,t,d(this,he).queryId);for await(const i of n)yield*i.rows}async explain(t,r){return await new Xe({...d(this,he),queryNode:nt.cloneWithExplain(d(this,he).queryNode,t,r)}).execute()}};he=new WeakMap;let gv=Xe;yt(gv,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function M_(e){return new gv(e)}var od,ad;class NP{constructor(t,r){Y(this,od,void 0);Y(this,ad,void 0);te(this,od,t),te(this,ad,r)}get expression(){return d(this,od)}get alias(){return d(this,ad)}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return bl.create(d(this,od).toOperationNode(),lr.create(d(this,ad)))}}od=new WeakMap,ad=new WeakMap;yt(NP,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Jl=_({is(e){return e.kind==="AggregateFunctionNode"},create(e,t=[]){return _({kind:"AggregateFunctionNode",func:e,aggregated:t})},cloneWithDistinct(e){return _({...e,distinct:!0})},cloneWithFilter(e,t){return _({...e,filter:e.filter?Un.cloneWithOperation(e.filter,"And",t):Un.create(t)})},cloneWithOrFilter(e,t){return _({...e,filter:e.filter?Un.cloneWithOperation(e.filter,"Or",t):Un.create(t)})},cloneWithOver(e,t){return _({...e,over:t})}}),JE=_({is(e){return e.kind==="FunctionNode"},create(e,t){return _({kind:"FunctionNode",func:e,arguments:t})}});var Tn;const fa=class fa{constructor(t){Y(this,Tn,void 0);te(this,Tn,_(t))}get expressionType(){}as(t){return new Oz(this,t)}distinct(){return new fa({...d(this,Tn),aggregateFunctionNode:Jl.cloneWithDistinct(d(this,Tn).aggregateFunctionNode)})}filterWhere(...t){return new fa({...d(this,Tn),aggregateFunctionNode:Jl.cloneWithFilter(d(this,Tn).aggregateFunctionNode,gn(t))})}filterWhereRef(t,r,n){return new fa({...d(this,Tn),aggregateFunctionNode:Jl.cloneWithFilter(d(this,Tn).aggregateFunctionNode,Vs(t,r,n))})}over(t){const r=bz();return new fa({...d(this,Tn),aggregateFunctionNode:Jl.cloneWithOver(d(this,Tn).aggregateFunctionNode,(t?t(r):r).toOperationNode())})}$call(t){return t(this)}$castTo(){return new fa(d(this,Tn))}$notNull(){return new fa(d(this,Tn))}toOperationNode(){return d(this,Tn).aggregateFunctionNode}};Tn=new WeakMap;let Kc=fa;yt(Kc,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var ld,ud;class Oz{constructor(t,r){Y(this,ld,void 0);Y(this,ud,void 0);te(this,ld,t),te(this,ud,r)}get expression(){return d(this,ld)}get alias(){return d(this,ud)}toOperationNode(){return bl.create(d(this,ld).toOperationNode(),lr.create(d(this,ud)))}}ld=new WeakMap,ud=new WeakMap;function SP(){const e=(r,n)=>new Zt(JE.create(r,Zf(n??[]))),t=(r,n)=>new Kc({aggregateFunctionNode:Jl.create(r,n?Zf(n):void 0)});return Object.assign(e,{agg:t,avg(r){return t("avg",[r])},coalesce(...r){return e("coalesce",r)},count(r){return t("count",[r])},countAll(r){return new Kc({aggregateFunctionNode:Jl.create("count",Lm(r))})},max(r){return t("max",[r])},min(r){return t("min",[r])},sum(r){return t("sum",[r])},any(r){return e("any",[r])},jsonAgg(r){return new Kc({aggregateFunctionNode:Jl.create("json_agg",[wi(r)?Ar(r):r.toOperationNode()])})},toJson(r){return new Zt(JE.create("to_json",[wi(r)?Ar(r):r.toOperationNode()]))}})}const Rz=_({is(e){return e.kind==="UnaryOperationNode"},create(e,t){return _({kind:"UnaryOperationNode",operator:e,operand:t})}});function Pz(e,t){return Rz.create(cl.create(e),fi(t))}const Ls=_({is(e){return e.kind==="CaseNode"},create(e){return _({kind:"CaseNode",value:e})},cloneWithWhen(e,t){return _({...e,when:_(e.when?[...e.when,t]:[t])})},cloneWithThen(e,t){return _({...e,when:e.when?_([...e.when.slice(0,-1),Dm.cloneWithResult(e.when[e.when.length-1],t)]):void 0})},cloneWith(e,t){return _({...e,...t})}});var cd;class kP{constructor(t){Y(this,cd,void 0);te(this,cd,_(t))}when(...t){return new EP({...d(this,cd),node:Ls.cloneWithWhen(d(this,cd).node,Dm.create(gn(t)))})}}cd=new WeakMap;var dd;class EP{constructor(t){Y(this,dd,void 0);te(this,dd,_(t))}then(t){return new Az({...d(this,dd),node:Ls.cloneWithThen(d(this,dd).node,zN(t)?qN(t):jr(t))})}}dd=new WeakMap;var Ts;class Az{constructor(t){Y(this,Ts,void 0);te(this,Ts,_(t))}when(...t){return new EP({...d(this,Ts),node:Ls.cloneWithWhen(d(this,Ts).node,Dm.create(gn(t)))})}else(t){return new Iz({...d(this,Ts),node:Ls.cloneWith(d(this,Ts).node,{else:zN(t)?qN(t):jr(t)})})}end(){return new Zt(Ls.cloneWith(d(this,Ts).node,{isStatement:!1}))}endCase(){return new Zt(Ls.cloneWith(d(this,Ts).node,{isStatement:!0}))}}Ts=new WeakMap;var hd;class Iz{constructor(t){Y(this,hd,void 0);te(this,hd,_(t))}end(){return new Zt(Ls.cloneWith(d(this,hd).node,{isStatement:!1}))}endCase(){return new Zt(Ls.cloneWith(d(this,hd).node,{isStatement:!0}))}}hd=new WeakMap;const KE=_({is(e){return e.kind==="JSONPathLegNode"},create(e,t){return _({kind:"JSONPathLegNode",type:e,value:t})}});var Os,Rp,F_;class df{constructor(t){Y(this,Rp);Y(this,Os,void 0);te(this,Os,t)}at(t){return pt(this,Rp,F_).call(this,"ArrayLocation",t)}key(t){return pt(this,Rp,F_).call(this,"Member",t)}}Os=new WeakMap,Rp=new WeakSet,F_=function(t,r){return nv.is(d(this,Os))?new ZE(nv.cloneWithTraversal(d(this,Os),lf.is(d(this,Os).traversal)?lf.cloneWithLeg(d(this,Os).traversal,KE.create(t,r)):aP.cloneWithValue(d(this,Os).traversal,Us.createImmediate(r)))):new ZE(lf.cloneWithLeg(d(this,Os),KE.create(t,r)))};var su;class ZE extends df{constructor(r){super(r);Y(this,su,void 0);te(this,su,r)}get expressionType(){}as(r){return new $z(this,r)}$castTo(){return new df(d(this,su))}$notNull(){return new df(d(this,su))}toOperationNode(){return d(this,su)}}su=new WeakMap;var fd,Ca;class $z{constructor(t,r){Y(this,fd,void 0);Y(this,Ca,void 0);te(this,fd,t),te(this,Ca,r)}get expression(){return d(this,fd)}get alias(){return d(this,Ca)}toOperationNode(){return bl.create(d(this,fd).toOperationNode(),ei(d(this,Ca))?d(this,Ca).toOperationNode():lr.create(d(this,Ca)))}}fd=new WeakMap,Ca=new WeakMap;const YE=_({is(e){return e.kind==="TupleNode"},create(e){return _({kind:"TupleNode",values:_(e)})}}),Lz=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob"],Dz=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timez\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/],jz=_({is(e){return e.kind==="DataTypeNode"},create(e){return _({kind:"DataTypeNode",dataType:e})}});function Mz(e){return!!(Lz.includes(e)||Dz.some(t=>t.test(e)))}function Iu(e){if(ei(e))return e.toOperationNode();if(Mz(e))return jz.create(e);throw new Error(`invalid column data type ${JSON.stringify(e)}`)}const Fz=_({is(e){return e.kind==="CastNode"},create(e,t){return _({kind:"CastNode",expression:e,dataType:t})}});function JN(e=x1){function t(i,s,o){return new Zt(UN(i,s,o))}function r(i,s){return new Zt(Pz(i,s))}const n=Object.assign(t,{fn:void 0,eb:void 0,selectFrom(i){return M_({queryId:Ht(),executor:e,queryNode:xt.createFrom(ep(i))})},case(i){return new kP({node:Ls.create(Ha(i)?void 0:fi(i))})},ref(i,s){return Ha(s)?new Zt(Bo(i)):new df(FW(i,s))},jsonPath(){return new df(lf.create())},table(i){return new Zt(Ar(i))},val(i){return new Zt(jr(i))},refTuple(...i){return new Zt(YE.create(i.map(fi)))},tuple(...i){return new Zt(YE.create(i.map(jr)))},lit(i){return new Zt(qN(i))},unary:r,not(i){return r("not",i)},exists(i){return r("exists",i)},neg(i){return r("-",i)},between(i,s,o){return new Zt(Pd.create(fi(i),cl.create("between"),ul.create(jr(s),jr(o))))},betweenSymmetric(i,s,o){return new Zt(Pd.create(fi(i),cl.create("between symmetric"),ul.create(jr(s),jr(o))))},and(i){return Fo(i)?new Zt(sv(i,"and")):new Zt($E(i,"and"))},or(i){return Fo(i)?new Zt(sv(i,"or")):new Zt($E(i,"or"))},parens(...i){const s=gn(i);return Ad.is(s)?new Zt(s):new Zt(Ad.create(s))},cast(i,s){return new Zt(Fz.create(fi(i),Iu(s)))},withSchema(i){return JN(e.withPluginAtFront(new Fm(i)))}});return n.fn=SP(),n.eb=n,n}function Xd(e){return JN()}function Hu(e){if(ei(e))return e.toOperationNode();if(xi(e))return e(Xd()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(e)}`)}function CP(e){if(ei(e))return e.toOperationNode();if(xi(e))return e(Xd()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(e)}`)}function Bm(e){return OW(e)||RW(e)||xi(e)}function ep(e){return Fo(e)?e.map(t=>tp(t)):[tp(e)]}function tp(e){return wi(e)?TP(e):CP(e)}function TP(e){const t=" as ";if(e.includes(t)){const[r,n]=e.split(t).map(OP);return bl.create(Ar(r),lr.create(n))}else return Ar(e)}function Ar(e){const t=".";if(e.includes(t)){const[r,n]=e.split(t).map(OP);return Qa.createWithSchema(r,n)}else return Qa.create(e)}function OP(e){return e.trim()}const RP=_({is(e){return e.kind==="AddColumnNode"},create(e){return _({kind:"AddColumnNode",column:e})}}),dr=_({is(e){return e.kind==="ColumnDefinitionNode"},create(e,t){return _({kind:"ColumnDefinitionNode",column:Ir.create(e),dataType:t})},cloneWithFrontModifier(e,t){return _({...e,frontModifiers:e.frontModifiers?_([...e.frontModifiers,t]):[t]})},cloneWithEndModifier(e,t){return _({...e,endModifiers:e.endModifiers?_([...e.endModifiers,t]):[t]})},cloneWith(e,t){return _({...e,...t})}}),PP=_({is(e){return e.kind==="DropColumnNode"},create(e){return _({kind:"DropColumnNode",column:Ir.create(e)})}}),AP=_({is(e){return e.kind==="RenameColumnNode"},create(e,t){return _({kind:"RenameColumnNode",column:Ir.create(e),renameTo:Ir.create(t)})}}),KN=_({is(e){return e.kind==="CheckConstraintNode"},create(e,t){return _({kind:"CheckConstraintNode",expression:e,name:t?lr.create(t):void 0})}}),Bz=["no action","restrict","cascade","set null","set default"],oy=_({is(e){return e.kind==="ReferencesNode"},create(e,t){return _({kind:"ReferencesNode",table:e,columns:_([...t])})},cloneWithOnDelete(e,t){return _({...e,onDelete:t})},cloneWithOnUpdate(e,t){return _({...e,onUpdate:t})}});function IP(e){return ei(e)?e.toOperationNode():Us.createImmediate(e)}const Lg=_({is(e){return e.kind==="GeneratedNode"},create(e){return _({kind:"GeneratedNode",...e})},createWithExpression(e){return _({kind:"GeneratedNode",always:!0,expression:e})},cloneWith(e,t){return _({...e,...t})}}),Wz=_({is(e){return e.kind==="DefaultValueNode"},create(e){return _({kind:"DefaultValueNode",defaultValue:e})}});function yv(e){if(Bz.includes(e))return e;throw new Error(`invalid OnModifyForeignAction ${e}`)}var Ft;const Lr=class Lr{constructor(t){Y(this,Ft,void 0);te(this,Ft,t)}autoIncrement(){return new Lr(dr.cloneWith(d(this,Ft),{autoIncrement:!0}))}identity(){return new Lr(dr.cloneWith(d(this,Ft),{identity:!0}))}primaryKey(){return new Lr(dr.cloneWith(d(this,Ft),{primaryKey:!0}))}references(t){const r=Bo(t);if(!r.table||FN.is(r.column))throw new Error(`invalid call references('${t}'). The reference must have format table.column or schema.table.column`);return new Lr(dr.cloneWith(d(this,Ft),{references:oy.create(r.table,[r.column])}))}onDelete(t){if(!d(this,Ft).references)throw new Error("on delete constraint can only be added for foreign keys");return new Lr(dr.cloneWith(d(this,Ft),{references:oy.cloneWithOnDelete(d(this,Ft).references,yv(t))}))}onUpdate(t){if(!d(this,Ft).references)throw new Error("on update constraint can only be added for foreign keys");return new Lr(dr.cloneWith(d(this,Ft),{references:oy.cloneWithOnUpdate(d(this,Ft).references,yv(t))}))}unique(){return new Lr(dr.cloneWith(d(this,Ft),{unique:!0}))}notNull(){return new Lr(dr.cloneWith(d(this,Ft),{notNull:!0}))}unsigned(){return new Lr(dr.cloneWith(d(this,Ft),{unsigned:!0}))}defaultTo(t){return new Lr(dr.cloneWith(d(this,Ft),{defaultTo:Wz.create(IP(t))}))}check(t){return new Lr(dr.cloneWith(d(this,Ft),{check:KN.create(t.toOperationNode())}))}generatedAlwaysAs(t){return new Lr(dr.cloneWith(d(this,Ft),{generated:Lg.createWithExpression(t.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Lr(dr.cloneWith(d(this,Ft),{generated:Lg.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Lr(dr.cloneWith(d(this,Ft),{generated:Lg.create({identity:!0,byDefault:!0})}))}stored(){if(!d(this,Ft).generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Lr(dr.cloneWith(d(this,Ft),{generated:Lg.cloneWith(d(this,Ft).generated,{stored:!0})}))}modifyFront(t){return new Lr(dr.cloneWithFrontModifier(d(this,Ft),t.toOperationNode()))}nullsNotDistinct(){return new Lr(dr.cloneWith(d(this,Ft),{nullsNotDistinct:!0}))}modifyEnd(t){return new Lr(dr.cloneWithEndModifier(d(this,Ft),t.toOperationNode()))}$call(t){return t(this)}toOperationNode(){return d(this,Ft)}};Ft=new WeakMap;let dl=Lr;yt(dl,"don't await ColumnDefinitionBuilder instances directly.");const $P=_({is(e){return e.kind==="ModifyColumnNode"},create(e){return _({kind:"ModifyColumnNode",column:e})}}),vv=_({is(e){return e.kind==="ForeignKeyConstraintNode"},create(e,t,r,n){return _({kind:"ForeignKeyConstraintNode",columns:e,references:oy.create(t,r),name:n?lr.create(n):void 0})},cloneWith(e,t){return _({...e,...t})}});var ou;const h0=class h0{constructor(t){Y(this,ou,void 0);te(this,ou,t)}onDelete(t){return new h0(vv.cloneWith(d(this,ou),{onDelete:yv(t)}))}onUpdate(t){return new h0(vv.cloneWith(d(this,ou),{onUpdate:yv(t)}))}$call(t){return t(this)}toOperationNode(){return d(this,ou)}};ou=new WeakMap;let rp=h0;yt(rp,"don't await ForeignKeyConstraintBuilder instances directly.");const ay=_({is(e){return e.kind==="AddConstraintNode"},create(e){return _({kind:"AddConstraintNode",constraint:e})}}),ZN=_({is(e){return e.kind==="UniqueConstraintNode"},create(e,t,r){return _({kind:"UniqueConstraintNode",columns:_(e.map(Ir.create)),name:t?lr.create(t):void 0,nullsNotDistinct:r})},cloneWith(e,t){return _({...e,...t})}}),ly=_({is(e){return e.kind==="DropConstraintNode"},create(e){return _({kind:"DropConstraintNode",constraintName:lr.create(e)})},cloneWith(e,t){return _({...e,...t})}}),Ih=_({is(e){return e.kind==="AlterColumnNode"},create(e,t,r){return _({kind:"AlterColumnNode",column:Ir.create(e),[t]:r})}});var mo;class YN{constructor(t){Y(this,mo,void 0);te(this,mo,t)}setDataType(t){return new $h(Ih.create(d(this,mo),"dataType",Iu(t)))}setDefault(t){return new $h(Ih.create(d(this,mo),"setDefault",IP(t)))}dropDefault(){return new $h(Ih.create(d(this,mo),"dropDefault",!0))}setNotNull(){return new $h(Ih.create(d(this,mo),"setNotNull",!0))}dropNotNull(){return new $h(Ih.create(d(this,mo),"dropNotNull",!0))}$call(t){return t(this)}}mo=new WeakMap;var Pp;class $h{constructor(t){Y(this,Pp,void 0);te(this,Pp,t)}toOperationNode(){return d(this,Pp)}}Pp=new WeakMap;var Zi;class Ll{constructor(t){Y(this,Zi,void 0);te(this,Zi,_(t))}toOperationNode(){return d(this,Zi).executor.transformQuery(d(this,Zi).node,d(this,Zi).queryId)}compile(){return d(this,Zi).executor.compileQuery(this.toOperationNode(),d(this,Zi).queryId)}async execute(){await d(this,Zi).executor.executeQuery(this.compile(),d(this,Zi).queryId)}}Zi=new WeakMap;yt(Ll,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");var xn;const f0=class f0{constructor(t){Y(this,xn,void 0);te(this,xn,_(t))}onDelete(t){return new f0({...d(this,xn),constraintBuilder:d(this,xn).constraintBuilder.onDelete(t)})}onUpdate(t){return new f0({...d(this,xn),constraintBuilder:d(this,xn).constraintBuilder.onUpdate(t)})}$call(t){return t(this)}toOperationNode(){return d(this,xn).executor.transformQuery(Vt.cloneWithTableProps(d(this,xn).node,{addConstraint:ay.create(d(this,xn).constraintBuilder.toOperationNode())}),d(this,xn).queryId)}compile(){return d(this,xn).executor.compileQuery(this.toOperationNode(),d(this,xn).queryId)}async execute(){await d(this,xn).executor.executeQuery(this.compile(),d(this,xn).queryId)}};xn=new WeakMap;let wv=f0;yt(wv,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");var Dr;const bf=class bf{constructor(t){Y(this,Dr,void 0);te(this,Dr,_(t))}ifExists(){return new bf({...d(this,Dr),node:Vt.cloneWithTableProps(d(this,Dr).node,{dropConstraint:ly.cloneWith(d(this,Dr).node.dropConstraint,{ifExists:!0})})})}cascade(){return new bf({...d(this,Dr),node:Vt.cloneWithTableProps(d(this,Dr).node,{dropConstraint:ly.cloneWith(d(this,Dr).node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new bf({...d(this,Dr),node:Vt.cloneWithTableProps(d(this,Dr).node,{dropConstraint:ly.cloneWith(d(this,Dr).node.dropConstraint,{modifier:"restrict"})})})}$call(t){return t(this)}toOperationNode(){return d(this,Dr).executor.transformQuery(d(this,Dr).node,d(this,Dr).queryId)}compile(){return d(this,Dr).executor.compileQuery(this.toOperationNode(),d(this,Dr).queryId)}async execute(){await d(this,Dr).executor.executeQuery(this.compile(),d(this,Dr).queryId)}};Dr=new WeakMap;let bv=bf;yt(bv,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const LP=_({is(e){return e.kind==="PrimaryKeyConstraintNode"},create(e,t){return _({kind:"PrimaryKeyConstraintNode",columns:_(e.map(Ir.create)),name:t?lr.create(t):void 0})}}),pc=_({is(e){return e.kind==="AddIndexNode"},create(e){return _({kind:"AddIndexNode",name:lr.create(e)})},cloneWith(e,t){return _({...e,...t})},cloneWithColumns(e,t){return _({...e,columns:[...e.columns||[],...t]})}});var Kt;const Wl=class Wl{constructor(t){Y(this,Kt,void 0);te(this,Kt,_(t))}unique(){return new Wl({...d(this,Kt),node:Vt.cloneWithTableProps(d(this,Kt).node,{addIndex:pc.cloneWith(d(this,Kt).node.addIndex,{unique:!0})})})}column(t){return new Wl({...d(this,Kt),node:Vt.cloneWithTableProps(d(this,Kt).node,{addIndex:pc.cloneWithColumns(d(this,Kt).node.addIndex,[iv(t)])})})}columns(t){return new Wl({...d(this,Kt),node:Vt.cloneWithTableProps(d(this,Kt).node,{addIndex:pc.cloneWithColumns(d(this,Kt).node.addIndex,t.map(iv))})})}expression(t){return new Wl({...d(this,Kt),node:Vt.cloneWithTableProps(d(this,Kt).node,{addIndex:pc.cloneWithColumns(d(this,Kt).node.addIndex,[t.toOperationNode()])})})}using(t){return new Wl({...d(this,Kt),node:Vt.cloneWithTableProps(d(this,Kt).node,{addIndex:pc.cloneWith(d(this,Kt).node.addIndex,{using:hn.createWithSql(t)})})})}$call(t){return t(this)}toOperationNode(){return d(this,Kt).executor.transformQuery(d(this,Kt).node,d(this,Kt).queryId)}compile(){return d(this,Kt).executor.compileQuery(this.toOperationNode(),d(this,Kt).queryId)}async execute(){await d(this,Kt).executor.executeQuery(this.compile(),d(this,Kt).queryId)}};Kt=new WeakMap;let _v=Wl;yt(_v,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");var pd;const M2=class M2{constructor(t){Y(this,pd,void 0);te(this,pd,t)}toOperationNode(){return d(this,pd)}nullsNotDistinct(){return new M2(ZN.cloneWith(d(this,pd),{nullsNotDistinct:!0}))}};pd=new WeakMap;let np=M2;yt(np,"don't await UniqueConstraintNodeBuilder instances directly.");var $t;class DP{constructor(t){Y(this,$t,void 0);te(this,$t,_(t))}renameTo(t){return new Ll({...d(this,$t),node:Vt.cloneWithTableProps(d(this,$t).node,{renameTo:Ar(t)})})}setSchema(t){return new Ll({...d(this,$t),node:Vt.cloneWithTableProps(d(this,$t).node,{setSchema:lr.create(t)})})}alterColumn(t,r){const n=r(new YN(t));return new va({...d(this,$t),node:Vt.cloneWithColumnAlteration(d(this,$t).node,n.toOperationNode())})}dropColumn(t){return new va({...d(this,$t),node:Vt.cloneWithColumnAlteration(d(this,$t).node,PP.create(t))})}renameColumn(t,r){return new va({...d(this,$t),node:Vt.cloneWithColumnAlteration(d(this,$t).node,AP.create(t,r))})}addColumn(t,r,n=Ga){const i=n(new dl(dr.create(t,Iu(r))));return new va({...d(this,$t),node:Vt.cloneWithColumnAlteration(d(this,$t).node,RP.create(i.toOperationNode()))})}modifyColumn(t,r,n=Ga){const i=n(new dl(dr.create(t,Iu(r))));return new va({...d(this,$t),node:Vt.cloneWithColumnAlteration(d(this,$t).node,$P.create(i.toOperationNode()))})}addUniqueConstraint(t,r,n=Ga){const i=n(new np(ZN.create(r,t)));return new Ll({...d(this,$t),node:Vt.cloneWithTableProps(d(this,$t).node,{addConstraint:ay.create(i.toOperationNode())})})}addCheckConstraint(t,r){return new Ll({...d(this,$t),node:Vt.cloneWithTableProps(d(this,$t).node,{addConstraint:ay.create(KN.create(r.toOperationNode(),t))})})}addForeignKeyConstraint(t,r,n,i){return new wv({...d(this,$t),constraintBuilder:new rp(vv.create(r.map(Ir.create),Ar(n),i.map(Ir.create),t))})}addPrimaryKeyConstraint(t,r){return new Ll({...d(this,$t),node:Vt.cloneWithTableProps(d(this,$t).node,{addConstraint:ay.create(LP.create(r,t))})})}dropConstraint(t){return new bv({...d(this,$t),node:Vt.cloneWithTableProps(d(this,$t).node,{dropConstraint:ly.create(t)})})}addIndex(t){return new _v({...d(this,$t),node:Vt.cloneWithTableProps(d(this,$t).node,{addIndex:pc.create(t)})})}dropIndex(t){return new Ll({...d(this,$t),node:Vt.cloneWithTableProps(d(this,$t).node,{dropIndex:of.create(t)})})}$call(t){return t(this)}}$t=new WeakMap;var Er;const zl=class zl{constructor(t){Y(this,Er,void 0);te(this,Er,_(t))}alterColumn(t,r){const n=r(new YN(t));return new zl({...d(this,Er),node:Vt.cloneWithColumnAlteration(d(this,Er).node,n.toOperationNode())})}dropColumn(t){return new zl({...d(this,Er),node:Vt.cloneWithColumnAlteration(d(this,Er).node,PP.create(t))})}renameColumn(t,r){return new zl({...d(this,Er),node:Vt.cloneWithColumnAlteration(d(this,Er).node,AP.create(t,r))})}addColumn(t,r,n=Ga){const i=n(new dl(dr.create(t,Iu(r))));return new zl({...d(this,Er),node:Vt.cloneWithColumnAlteration(d(this,Er).node,RP.create(i.toOperationNode()))})}modifyColumn(t,r,n=Ga){const i=n(new dl(dr.create(t,Iu(r))));return new zl({...d(this,Er),node:Vt.cloneWithColumnAlteration(d(this,Er).node,$P.create(i.toOperationNode()))})}toOperationNode(){return d(this,Er).executor.transformQuery(d(this,Er).node,d(this,Er).queryId)}compile(){return d(this,Er).executor.compileQuery(this.toOperationNode(),d(this,Er).queryId)}async execute(){await d(this,Er).executor.executeQuery(this.compile(),d(this,Er).queryId)}};Er=new WeakMap;let va=zl;yt(DP,"don't await AlterTableBuilder instances");yt(YN,"don't await AlterColumnBuilder instances");yt(va,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class jP extends GN{transformValue(t){return{...super.transformValue(t),immediate:!0}}}var Bt;const Vi=class Vi{constructor(t){Y(this,Bt,void 0);te(this,Bt,_(t))}ifNotExists(){return new Vi({...d(this,Bt),node:so.cloneWith(d(this,Bt).node,{ifNotExists:!0})})}unique(){return new Vi({...d(this,Bt),node:so.cloneWith(d(this,Bt).node,{unique:!0})})}nullsNotDistinct(){return new Vi({...d(this,Bt),node:so.cloneWith(d(this,Bt).node,{nullsNotDistinct:!0})})}on(t){return new Vi({...d(this,Bt),node:so.cloneWith(d(this,Bt).node,{table:Ar(t)})})}column(t){return new Vi({...d(this,Bt),node:so.cloneWithColumns(d(this,Bt).node,[iv(t)])})}columns(t){return new Vi({...d(this,Bt),node:so.cloneWithColumns(d(this,Bt).node,t.map(iv))})}expression(t){return new Vi({...d(this,Bt),node:so.cloneWithColumns(d(this,Bt).node,[t.toOperationNode()])})}using(t){return new Vi({...d(this,Bt),node:so.cloneWith(d(this,Bt).node,{using:hn.createWithSql(t)})})}where(...t){const r=new jP;return new Vi({...d(this,Bt),node:nt.cloneWithWhere(d(this,Bt).node,r.transformNode(gn(t)))})}$call(t){return t(this)}toOperationNode(){return d(this,Bt).executor.transformQuery(d(this,Bt).node,d(this,Bt).queryId)}compile(){return d(this,Bt).executor.compileQuery(this.toOperationNode(),d(this,Bt).queryId)}async execute(){await d(this,Bt).executor.executeQuery(this.compile(),d(this,Bt).queryId)}};Bt=new WeakMap;let xv=Vi;yt(xv,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");var oi;const F2=class F2{constructor(t){Y(this,oi,void 0);te(this,oi,_(t))}ifNotExists(){return new F2({...d(this,oi),node:rP.cloneWith(d(this,oi).node,{ifNotExists:!0})})}$call(t){return t(this)}toOperationNode(){return d(this,oi).executor.transformQuery(d(this,oi).node,d(this,oi).queryId)}compile(){return d(this,oi).executor.compileQuery(this.toOperationNode(),d(this,oi).queryId)}async execute(){await d(this,oi).executor.executeQuery(this.compile(),d(this,oi).queryId)}};oi=new WeakMap;let Nv=F2;yt(Nv,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function zz(e){if(TW.includes(e))return e;throw new Error(`invalid OnCommitAction ${e}`)}var Et;const si=class si{constructor(t){Y(this,Et,void 0);te(this,Et,_(t))}temporary(){return new si({...d(this,Et),node:ni.cloneWith(d(this,Et).node,{temporary:!0})})}onCommit(t){return new si({...d(this,Et),node:ni.cloneWith(d(this,Et).node,{onCommit:zz(t)})})}ifNotExists(){return new si({...d(this,Et),node:ni.cloneWith(d(this,Et).node,{ifNotExists:!0})})}addColumn(t,r,n=Ga){const i=n(new dl(dr.create(t,Iu(r))));return new si({...d(this,Et),node:ni.cloneWithColumn(d(this,Et).node,i.toOperationNode())})}addPrimaryKeyConstraint(t,r){return new si({...d(this,Et),node:ni.cloneWithConstraint(d(this,Et).node,LP.create(r,t))})}addUniqueConstraint(t,r,n=Ga){const i=n(new np(ZN.create(r,t)));return new si({...d(this,Et),node:ni.cloneWithConstraint(d(this,Et).node,i.toOperationNode())})}addCheckConstraint(t,r){return new si({...d(this,Et),node:ni.cloneWithConstraint(d(this,Et).node,KN.create(r.toOperationNode(),t))})}addForeignKeyConstraint(t,r,n,i,s=Ga){const o=s(new rp(vv.create(r.map(Ir.create),Ar(n),i.map(Ir.create),t)));return new si({...d(this,Et),node:ni.cloneWithConstraint(d(this,Et).node,o.toOperationNode())})}modifyFront(t){return new si({...d(this,Et),node:ni.cloneWithFrontModifier(d(this,Et).node,t.toOperationNode())})}modifyEnd(t){return new si({...d(this,Et),node:ni.cloneWithEndModifier(d(this,Et).node,t.toOperationNode())})}as(t){return new si({...d(this,Et),node:ni.cloneWith(d(this,Et).node,{selectQuery:Hu(t)})})}$call(t){return t(this)}toOperationNode(){return d(this,Et).executor.transformQuery(d(this,Et).node,d(this,Et).queryId)}compile(){return d(this,Et).executor.compileQuery(this.toOperationNode(),d(this,Et).queryId)}async execute(){await d(this,Et).executor.executeQuery(this.compile(),d(this,Et).queryId)}};Et=new WeakMap;let Sv=si;yt(Sv,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");var ln;const _f=class _f{constructor(t){Y(this,ln,void 0);te(this,ln,_(t))}on(t){return new _f({...d(this,ln),node:of.cloneWith(d(this,ln).node,{table:Ar(t)})})}ifExists(){return new _f({...d(this,ln),node:of.cloneWith(d(this,ln).node,{ifExists:!0})})}cascade(){return new _f({...d(this,ln),node:of.cloneWith(d(this,ln).node,{cascade:!0})})}$call(t){return t(this)}toOperationNode(){return d(this,ln).executor.transformQuery(d(this,ln).node,d(this,ln).queryId)}compile(){return d(this,ln).executor.compileQuery(this.toOperationNode(),d(this,ln).queryId)}async execute(){await d(this,ln).executor.executeQuery(this.compile(),d(this,ln).queryId)}};ln=new WeakMap;let kv=_f;yt(kv,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");var On;const p0=class p0{constructor(t){Y(this,On,void 0);te(this,On,_(t))}ifExists(){return new p0({...d(this,On),node:T_.cloneWith(d(this,On).node,{ifExists:!0})})}cascade(){return new p0({...d(this,On),node:T_.cloneWith(d(this,On).node,{cascade:!0})})}$call(t){return t(this)}toOperationNode(){return d(this,On).executor.transformQuery(d(this,On).node,d(this,On).queryId)}compile(){return d(this,On).executor.compileQuery(this.toOperationNode(),d(this,On).queryId)}async execute(){await d(this,On).executor.executeQuery(this.compile(),d(this,On).queryId)}};On=new WeakMap;let Ev=p0;yt(Ev,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");var Rn;const m0=class m0{constructor(t){Y(this,Rn,void 0);te(this,Rn,_(t))}ifExists(){return new m0({...d(this,Rn),node:O_.cloneWith(d(this,Rn).node,{ifExists:!0})})}cascade(){return new m0({...d(this,Rn),node:O_.cloneWith(d(this,Rn).node,{cascade:!0})})}$call(t){return t(this)}toOperationNode(){return d(this,Rn).executor.transformQuery(d(this,Rn).node,d(this,Rn).queryId)}compile(){return d(this,Rn).executor.compileQuery(this.toOperationNode(),d(this,Rn).queryId)}async execute(){await d(this,Rn).executor.executeQuery(this.compile(),d(this,Rn).queryId)}};Rn=new WeakMap;let Cv=m0;yt(Cv,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const da=_({is(e){return e.kind==="CreateViewNode"},create(e){return _({kind:"CreateViewNode",name:ll.create(e)})},cloneWith(e,t){return _({...e,...t})}});var g0;class qz{constructor(){Y(this,g0,new jP)}transformQuery(t){return d(this,g0).transformNode(t.node)}transformResult(t){return Promise.resolve(t.result)}}g0=new WeakMap;var cr;const pa=class pa{constructor(t){Y(this,cr,void 0);te(this,cr,_(t))}temporary(){return new pa({...d(this,cr),node:da.cloneWith(d(this,cr).node,{temporary:!0})})}materialized(){return new pa({...d(this,cr),node:da.cloneWith(d(this,cr).node,{materialized:!0})})}ifNotExists(){return new pa({...d(this,cr),node:da.cloneWith(d(this,cr).node,{ifNotExists:!0})})}orReplace(){return new pa({...d(this,cr),node:da.cloneWith(d(this,cr).node,{orReplace:!0})})}columns(t){return new pa({...d(this,cr),node:da.cloneWith(d(this,cr).node,{columns:t.map(uP)})})}as(t){const r=t.withPlugin(new qz).toOperationNode();return new pa({...d(this,cr),node:da.cloneWith(d(this,cr).node,{as:r})})}$call(t){return t(this)}toOperationNode(){return d(this,cr).executor.transformQuery(d(this,cr).node,d(this,cr).queryId)}compile(){return d(this,cr).executor.compileQuery(this.toOperationNode(),d(this,cr).queryId)}async execute(){await d(this,cr).executor.executeQuery(this.compile(),d(this,cr).queryId)}};cr=new WeakMap;let Tv=pa;yt(Tv,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const uy=_({is(e){return e.kind==="DropViewNode"},create(e){return _({kind:"DropViewNode",name:ll.create(e)})},cloneWith(e,t){return _({...e,...t})}});var un;const xf=class xf{constructor(t){Y(this,un,void 0);te(this,un,_(t))}materialized(){return new xf({...d(this,un),node:uy.cloneWith(d(this,un).node,{materialized:!0})})}ifExists(){return new xf({...d(this,un),node:uy.cloneWith(d(this,un).node,{ifExists:!0})})}cascade(){return new xf({...d(this,un),node:uy.cloneWith(d(this,un).node,{cascade:!0})})}$call(t){return t(this)}toOperationNode(){return d(this,un).executor.transformQuery(d(this,un).node,d(this,un).queryId)}compile(){return d(this,un).executor.compileQuery(this.toOperationNode(),d(this,un).queryId)}async execute(){await d(this,un).executor.executeQuery(this.compile(),d(this,un).queryId)}};un=new WeakMap;let Ov=xf;yt(Ov,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const MP=_({is(e){return e.kind==="CreateTypeNode"},create(e){return _({kind:"CreateTypeNode",name:e})},cloneWithEnum(e,t){return _({...e,enum:WN.create(t.map(r=>Us.createImmediate(r)))})}});var ai;const B2=class B2{constructor(t){Y(this,ai,void 0);te(this,ai,_(t))}toOperationNode(){return d(this,ai).executor.transformQuery(d(this,ai).node,d(this,ai).queryId)}asEnum(t){return new B2({...d(this,ai),node:MP.cloneWithEnum(d(this,ai).node,t)})}$call(t){return t(this)}compile(){return d(this,ai).executor.compileQuery(this.toOperationNode(),d(this,ai).queryId)}async execute(){await d(this,ai).executor.executeQuery(this.compile(),d(this,ai).queryId)}};ai=new WeakMap;let Rv=B2;yt(Rv,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const FP=_({is(e){return e.kind==="DropTypeNode"},create(e){return _({kind:"DropTypeNode",name:e})},cloneWith(e,t){return _({...e,...t})}});var li;const W2=class W2{constructor(t){Y(this,li,void 0);te(this,li,_(t))}ifExists(){return new W2({...d(this,li),node:FP.cloneWith(d(this,li).node,{ifExists:!0})})}$call(t){return t(this)}toOperationNode(){return d(this,li).executor.transformQuery(d(this,li).node,d(this,li).queryId)}compile(){return d(this,li).executor.compileQuery(this.toOperationNode(),d(this,li).queryId)}async execute(){await d(this,li).executor.executeQuery(this.compile(),d(this,li).queryId)}};li=new WeakMap;let Pv=W2;yt(Pv,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function XE(e){const t=".";if(e.includes(t)){const r=e.split(t).map(Uz);if(r.length===2)return ll.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${e}`)}else return ll.create(e)}function Uz(e){return e.trim()}var Yr;const Nf=class Nf{constructor(t){Y(this,Yr,void 0);te(this,Yr,t)}createTable(t){return new Sv({queryId:Ht(),executor:d(this,Yr),node:ni.create(Ar(t))})}dropTable(t){return new Cv({queryId:Ht(),executor:d(this,Yr),node:O_.create(Ar(t))})}createIndex(t){return new xv({queryId:Ht(),executor:d(this,Yr),node:so.create(t)})}dropIndex(t){return new kv({queryId:Ht(),executor:d(this,Yr),node:of.create(t)})}createSchema(t){return new Nv({queryId:Ht(),executor:d(this,Yr),node:rP.create(t)})}dropSchema(t){return new Ev({queryId:Ht(),executor:d(this,Yr),node:T_.create(t)})}alterTable(t){return new DP({queryId:Ht(),executor:d(this,Yr),node:Vt.create(Ar(t))})}createView(t){return new Tv({queryId:Ht(),executor:d(this,Yr),node:da.create(t)})}dropView(t){return new Ov({queryId:Ht(),executor:d(this,Yr),node:uy.create(t)})}createType(t){return new Rv({queryId:Ht(),executor:d(this,Yr),node:MP.create(XE(t))})}dropType(t){return new Pv({queryId:Ht(),executor:d(this,Yr),node:FP.create(XE(t))})}withPlugin(t){return new Nf(d(this,Yr).withPlugin(t))}withoutPlugins(){return new Nf(d(this,Yr).withoutPlugins())}withSchema(t){return new Nf(d(this,Yr).withPluginAtFront(new Fm(t)))}};Yr=new WeakMap;let B_=Nf;class Vz{ref(t){return new jW(t)}}var md;class Hz{constructor(t){Y(this,md,void 0);te(this,md,t)}async provideConnection(t){const r=await d(this,md).acquireConnection();try{return await t(r)}finally{await d(this,md).releaseConnection(r)}}}md=new WeakMap;var Rs,Ps,go;const ql=class ql extends bP{constructor(r,n,i,s=[]){super(s);Y(this,Rs,void 0);Y(this,Ps,void 0);Y(this,go,void 0);te(this,Rs,r),te(this,Ps,n),te(this,go,i)}get adapter(){return d(this,Ps)}compileQuery(r){return d(this,Rs).compileQuery(r)}provideConnection(r){return d(this,go).provideConnection(r)}withPlugins(r){return new ql(d(this,Rs),d(this,Ps),d(this,go),[...this.plugins,...r])}withPlugin(r){return new ql(d(this,Rs),d(this,Ps),d(this,go),[...this.plugins,r])}withPluginAtFront(r){return new ql(d(this,Rs),d(this,Ps),d(this,go),[r,...this.plugins])}withConnectionProvider(r){return new ql(d(this,Rs),d(this,Ps),r,[...this.plugins])}withoutPlugins(){return new ql(d(this,Rs),d(this,Ps),d(this,go),[])}};Rs=new WeakMap,Ps=new WeakMap,go=new WeakMap;let W_=ql;function eC(){return typeof performance<"u"&&xi(performance.now)?performance.now():Date.now()}var Yi,Ta,yo,gd,vo,Ap,y0,BP,v0,WP,w0,zP,b0,qP,Ip,z_;class Gz{constructor(t,r){Y(this,y0);Y(this,v0);Y(this,w0);Y(this,b0);Y(this,Ip);Y(this,Yi,void 0);Y(this,Ta,void 0);Y(this,yo,void 0);Y(this,gd,void 0);Y(this,vo,void 0);Y(this,Ap,new WeakSet);te(this,gd,!1),te(this,Yi,t),te(this,Ta,r)}async init(){if(d(this,vo))throw new Error("driver has already been destroyed");d(this,yo)||te(this,yo,d(this,Yi).init().then(()=>{te(this,gd,!0)}).catch(t=>(te(this,yo,void 0),Promise.reject(t)))),await d(this,yo)}async acquireConnection(){if(d(this,vo))throw new Error("driver has already been destroyed");d(this,gd)||await this.init();const t=await d(this,Yi).acquireConnection();return d(this,Ap).has(t)||(pt(this,y0,BP).call(this)&&pt(this,v0,WP).call(this,t),d(this,Ap).add(t)),t}async releaseConnection(t){await d(this,Yi).releaseConnection(t)}beginTransaction(t,r){return d(this,Yi).beginTransaction(t,r)}commitTransaction(t){return d(this,Yi).commitTransaction(t)}rollbackTransaction(t){return d(this,Yi).rollbackTransaction(t)}async destroy(){d(this,yo)&&(await d(this,yo),d(this,vo)||te(this,vo,d(this,Yi).destroy().catch(t=>(te(this,vo,void 0),Promise.reject(t)))),await d(this,vo))}}Yi=new WeakMap,Ta=new WeakMap,yo=new WeakMap,gd=new WeakMap,vo=new WeakMap,Ap=new WeakMap,y0=new WeakSet,BP=function(){return d(this,Ta).isLevelEnabled("query")||d(this,Ta).isLevelEnabled("error")},v0=new WeakSet,WP=function(t){const r=t.executeQuery;t.executeQuery=async n=>{let i;const s=eC();try{return await r.call(t,n)}catch(o){throw i=o,await pt(this,w0,zP).call(this,o,n,s),o}finally{i||await pt(this,b0,qP).call(this,n,s)}}},w0=new WeakSet,zP=async function(t,r,n){await d(this,Ta).error(()=>({level:"error",error:t,query:r,queryDurationMillis:pt(this,Ip,z_).call(this,n)}))},b0=new WeakSet,qP=async function(t,r){await d(this,Ta).query(()=>({level:"query",query:t,queryDurationMillis:pt(this,Ip,z_).call(this,r)}))},Ip=new WeakSet,z_=function(t){return eC()-t};const Qz=()=>{};var $p,Oa,_0,VP;class UP{constructor(t){Y(this,_0);Y(this,$p,void 0);Y(this,Oa,void 0);te(this,$p,t)}async provideConnection(t){for(;d(this,Oa);)await d(this,Oa).catch(Qz);return te(this,Oa,pt(this,_0,VP).call(this,t).finally(()=>{te(this,Oa,void 0)})),d(this,Oa)}}$p=new WeakMap,Oa=new WeakMap,_0=new WeakSet,VP=async function(t){return await t(d(this,$p))};const Jz=["read uncommitted","read committed","repeatable read","serializable","snapshot"];_(["query","error"]);var Ra,au;class Kz{constructor(t){Y(this,Ra,void 0);Y(this,au,void 0);xi(t)?(te(this,au,t),te(this,Ra,_({query:!0,error:!0}))):(te(this,au,Zz),te(this,Ra,_({query:t.includes("query"),error:t.includes("error")})))}isLevelEnabled(t){return d(this,Ra)[t]}async query(t){d(this,Ra).query&&await d(this,au).call(this,t())}async error(t){d(this,Ra).error&&await d(this,au).call(this,t())}}Ra=new WeakMap,au=new WeakMap;function Zz(e){e.level==="query"?(console.log(`kysely:query: ${e.query.sql}`),console.log(`kysely:query: duration: ${e.queryDurationMillis.toFixed(1)}ms`)):e.level==="error"&&(e.error instanceof Error?console.error(`kysely:error: ${e.error.stack??e.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:e.error,query:e.query.sql,queryDurationMillis:e.queryDurationMillis})}`))}function Yz(e){return us(e)&&xi(e.compile)}var cn;const Bc=class Bc extends mv{constructor(r){let n,i;if(Xz(r))n={executor:r.executor},i={...r};else{const s=r.dialect,o=s.createDriver(),a=s.createQueryCompiler(),l=s.createAdapter(),u=new Kz(r.log??[]),c=new Gz(o,u),f=new Hz(c),p=new W_(a,l,f,r.plugins??[]);n={executor:p},i={config:r,executor:p,dialect:s,driver:c}}super(n);Y(this,cn,void 0);te(this,cn,_(i))}get schema(){return new B_(d(this,cn).executor)}get dynamic(){return new Vz}get introspection(){return d(this,cn).dialect.createIntrospector(this.withoutPlugins())}case(r){return new kP({node:Ls.create(Ha(r)?void 0:Hu(r))})}get fn(){return SP()}transaction(){return new Av({...d(this,cn)})}connection(){return new HP({...d(this,cn)})}withPlugin(r){return new Bc({...d(this,cn),executor:d(this,cn).executor.withPlugin(r)})}withoutPlugins(){return new Bc({...d(this,cn),executor:d(this,cn).executor.withoutPlugins()})}withSchema(r){return new Bc({...d(this,cn),executor:d(this,cn).executor.withPluginAtFront(new Fm(r))})}withTables(){return new Bc({...d(this,cn)})}async destroy(){await d(this,cn).driver.destroy()}get isTransaction(){return!1}getExecutor(){return d(this,cn).executor}executeQuery(r,n=Ht()){const i=Yz(r)?r.compile():r;return this.getExecutor().executeQuery(i,n)}};cn=new WeakMap;let ip=Bc;var Xi;const Wc=class Wc extends ip{constructor(r){super(r);Y(this,Xi,void 0);te(this,Xi,r)}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(r){return new Wc({...d(this,Xi),executor:d(this,Xi).executor.withPlugin(r)})}withoutPlugins(){return new Wc({...d(this,Xi),executor:d(this,Xi).executor.withoutPlugins()})}withSchema(r){return new Wc({...d(this,Xi),executor:d(this,Xi).executor.withPluginAtFront(new Fm(r))})}withTables(){return new Wc({...d(this,Xi)})}};Xi=new WeakMap;let q_=Wc;function Xz(e){return us(e)&&us(e.config)&&us(e.driver)&&us(e.executor)&&us(e.dialect)}var lu;class HP{constructor(t){Y(this,lu,void 0);te(this,lu,_(t))}async execute(t){return d(this,lu).executor.provideConnection(async r=>{const n=d(this,lu).executor.withConnectionProvider(new UP(r)),i=new ip({...d(this,lu),executor:n});return await t(i)})}}lu=new WeakMap;yt(HP,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");var es;const z2=class z2{constructor(t){Y(this,es,void 0);te(this,es,_(t))}setIsolationLevel(t){return new z2({...d(this,es),isolationLevel:t})}async execute(t){const{isolationLevel:r,...n}=d(this,es),i={isolationLevel:r};return eq(i),d(this,es).executor.provideConnection(async s=>{const o=d(this,es).executor.withConnectionProvider(new UP(s)),a=new q_({...n,executor:o});try{await d(this,es).driver.beginTransaction(s,i);const l=await t(a);return await d(this,es).driver.commitTransaction(s),l}catch(l){throw await d(this,es).driver.rollbackTransaction(s),l}})}};es=new WeakMap;let Av=z2;yt(Av,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function eq(e){if(e.isolationLevel&&!Jz.includes(e.isolationLevel))throw new Error(`invalid transaction isolation level ${e.isolationLevel}`)}var Pn,yd,cy,Lp,U_,Dp,V_;const Sf=class Sf{constructor(t){Y(this,yd);Y(this,Lp);Y(this,Dp);Y(this,Pn,void 0);te(this,Pn,_(t))}get expressionType(){}get isRawBuilder(){return!0}as(t){return new GP(this,t)}$castTo(){return new Sf({...d(this,Pn)})}$notNull(){return new Sf(d(this,Pn))}withPlugin(t){return new Sf({...d(this,Pn),plugins:d(this,Pn).plugins!==void 0?_([...d(this,Pn).plugins,t]):_([t])})}toOperationNode(){return pt(this,Lp,U_).call(this,pt(this,yd,cy).call(this))}compile(t){return pt(this,Dp,V_).call(this,pt(this,yd,cy).call(this,t))}async execute(t){const r=pt(this,yd,cy).call(this,t);return r.executeQuery(pt(this,Dp,V_).call(this,r),d(this,Pn).queryId)}};Pn=new WeakMap,yd=new WeakSet,cy=function(t){const r=t!==void 0?t.getExecutor():x1;return d(this,Pn).plugins!==void 0?r.withPlugins(d(this,Pn).plugins):r},Lp=new WeakSet,U_=function(t){return t.transformQuery(d(this,Pn).rawNode,d(this,Pn).queryId)},Dp=new WeakSet,V_=function(t){return t.compileQuery(pt(this,Lp,U_).call(this,t),d(this,Pn).queryId)};let Iv=Sf;function oa(e){return new Iv(e)}yt(Iv,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var uu,Pa;class GP{constructor(t,r){Y(this,uu,void 0);Y(this,Pa,void 0);te(this,uu,t),te(this,Pa,r)}get expression(){return d(this,uu)}get alias(){return d(this,Pa)}get rawBuilder(){return d(this,uu)}toOperationNode(){return bl.create(d(this,uu).toOperationNode(),ei(d(this,Pa))?d(this,Pa).toOperationNode():lr.create(d(this,Pa)))}}uu=new WeakMap,Pa=new WeakMap;yt(GP,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const QP=Object.assign((e,...t)=>oa({queryId:Ht(),rawNode:hn.create(e,(t==null?void 0:t.map(tC))??[])}),{ref(e){return oa({queryId:Ht(),rawNode:hn.createWithChild(Bo(e))})},val(e){return oa({queryId:Ht(),rawNode:hn.createWithChild(jr(e))})},value(e){return this.val(e)},table(e){return oa({queryId:Ht(),rawNode:hn.createWithChild(Ar(e))})},id(...e){const t=new Array(e.length+1).fill(".");return t[0]="",t[t.length-1]="",oa({queryId:Ht(),rawNode:hn.create(t,e.map(lr.create))})},lit(e){return oa({queryId:Ht(),rawNode:hn.createWithChild(Us.createImmediate(e))})},literal(e){return this.lit(e)},raw(e){return oa({queryId:Ht(),rawNode:hn.createWithSql(e)})},join(e,t=QP`, `){const r=new Array(2*e.length-1),n=t.toOperationNode();for(let i=0;i<e.length;++i)r[2*i]=tC(e[i]),i!==e.length-1&&(r[2*i+1]=n);return oa({queryId:Ht(),rawNode:hn.createWithChildren(r)})}});function tC(e){return ei(e)?e.toOperationNode():jr(e)}var x0;class tq{constructor(){be(this,"nodeStack",[]);Y(this,x0,_({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this)}));be(this,"visitNode",t=>{this.nodeStack.push(t),d(this,x0)[t.kind](t),this.nodeStack.pop()})}get parentNode(){return this.nodeStack[this.nodeStack.length-2]}}x0=new WeakMap;var vd,cu;class rq extends tq{constructor(){super(...arguments);Y(this,vd,"");Y(this,cu,[])}get numParameters(){return d(this,cu).length}compileQuery(r){return te(this,vd,""),te(this,cu,[]),this.visitNode(r),_({query:r,sql:this.getSql(),parameters:[...d(this,cu)]})}getSql(){return d(this,vd)}visitSelectQuery(r){var i,s;const n=this.parentNode!==void 0&&!Ad.is(this.parentNode)&&!hi.is(this.parentNode)&&!ni.is(this.parentNode)&&!da.is(this.parentNode)&&!xP.is(this.parentNode);this.parentNode===void 0&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("select"),r.distinctOn&&(this.append(" "),this.compileDistinctOn(r.distinctOn)),(i=r.frontModifiers)!=null&&i.length&&(this.append(" "),this.compileList(r.frontModifiers," ")),r.top&&(this.append(" "),this.visitNode(r.top)),r.selections&&(this.append(" "),this.compileList(r.selections)),r.from&&(this.append(" "),this.visitNode(r.from)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.groupBy&&(this.append(" "),this.visitNode(r.groupBy)),r.having&&(this.append(" "),this.visitNode(r.having)),r.setOperations&&(this.append(" "),this.compileList(r.setOperations," ")),r.orderBy&&(this.append(" "),this.visitNode(r.orderBy)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.offset&&(this.append(" "),this.visitNode(r.offset)),r.fetch&&(this.append(" "),this.visitNode(r.fetch)),(s=r.endModifiers)!=null&&s.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...r.endModifiers])," ")),n&&this.append(")")}visitFrom(r){this.append("from "),this.compileList(r.froms)}visitSelection(r){this.visitNode(r.selection)}visitColumn(r){this.visitNode(r.column)}compileDistinctOn(r){this.append("distinct on ("),this.compileList(r),this.append(")")}compileList(r,n=", "){const i=r.length-1;for(let s=0;s<=i;s++)this.visitNode(r[s]),s<i&&this.append(n)}visitWhere(r){this.append("where "),this.visitNode(r.where)}visitHaving(r){this.append("having "),this.visitNode(r.having)}visitInsertQuery(r){const n=this.nodeStack.find(nt.is),i=n!==r;!i&&r.explain&&(this.visitNode(r.explain),this.append(" ")),i&&!Qn.is(n)&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append(r.replace?"replace":"insert"),r.ignore&&this.append(" ignore"),r.top&&(this.append(" "),this.visitNode(r.top)),r.into&&(this.append(" into "),this.visitNode(r.into)),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.values&&(this.append(" "),this.visitNode(r.values)),r.defaultValues&&(this.append(" "),this.append("default values")),r.onConflict&&(this.append(" "),this.visitNode(r.onConflict)),r.onDuplicateKey&&(this.append(" "),this.visitNode(r.onDuplicateKey)),r.returning&&(this.append(" "),this.visitNode(r.returning)),i&&!Qn.is(n)&&this.append(")")}visitValues(r){this.append("values "),this.compileList(r.values)}visitDeleteQuery(r){const n=this.nodeStack.find(nt.is)!==r;!n&&r.explain&&(this.visitNode(r.explain),this.append(" ")),n&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("delete "),r.top&&(this.visitNode(r.top),this.append(" ")),this.visitNode(r.from),r.using&&(this.append(" "),this.visitNode(r.using)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.orderBy&&(this.append(" "),this.visitNode(r.orderBy)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.returning&&(this.append(" "),this.visitNode(r.returning)),n&&this.append(")")}visitReturning(r){this.append("returning "),this.compileList(r.selections)}visitAlias(r){this.visitNode(r.node),this.append(" as "),this.visitNode(r.alias)}visitReference(r){r.table&&(this.visitNode(r.table),this.append(".")),this.visitNode(r.column)}visitSelectAll(r){this.append("*")}visitIdentifier(r){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(r),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(r){if(!wi(r.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(r.name))}visitAnd(r){this.visitNode(r.left),this.append(" and "),this.visitNode(r.right)}visitOr(r){this.visitNode(r.left),this.append(" or "),this.visitNode(r.right)}visitValue(r){r.immediate?this.appendImmediateValue(r.value):this.appendValue(r.value)}visitValueList(r){this.append("("),this.compileList(r.values),this.append(")")}visitTuple(r){this.append("("),this.compileList(r.values),this.append(")")}visitPrimitiveValueList(r){this.append("(");const{values:n}=r;for(let i=0;i<n.length;++i)this.appendValue(n[i]),i!==n.length-1&&this.append(", ");this.append(")")}visitParens(r){this.append("("),this.visitNode(r.node),this.append(")")}visitJoin(r){this.append(iq[r.joinType]),this.append(" "),this.visitNode(r.table),r.on&&(this.append(" "),this.visitNode(r.on))}visitOn(r){this.append("on "),this.visitNode(r.on)}visitRaw(r){const{sqlFragments:n,parameters:i}=r;for(let s=0;s<n.length;++s)this.append(n[s]),i.length>s&&this.visitNode(i[s])}visitOperator(r){this.append(r.operator)}visitTable(r){this.visitNode(r.table)}visitSchemableIdentifier(r){r.schema&&(this.visitNode(r.schema),this.append(".")),this.visitNode(r.identifier)}visitCreateTable(r){this.append("create "),r.frontModifiers&&r.frontModifiers.length>0&&(this.compileList(r.frontModifiers," "),this.append(" ")),r.temporary&&this.append("temporary "),this.append("table "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.table),r.selectQuery?(this.append(" as "),this.visitNode(r.selectQuery)):(this.append(" ("),this.compileList([...r.columns,...r.constraints??[]]),this.append(")"),r.onCommit&&(this.append(" on commit "),this.append(r.onCommit)),r.endModifiers&&r.endModifiers.length>0&&(this.append(" "),this.compileList(r.endModifiers," ")))}visitColumnDefinition(r){this.visitNode(r.column),this.append(" "),this.visitNode(r.dataType),r.unsigned&&this.append(" unsigned"),r.frontModifiers&&r.frontModifiers.length>0&&(this.append(" "),this.compileList(r.frontModifiers," ")),r.generated&&(this.append(" "),this.visitNode(r.generated)),r.identity&&this.append(" identity"),r.defaultTo&&(this.append(" "),this.visitNode(r.defaultTo)),r.notNull&&this.append(" not null"),r.unique&&this.append(" unique"),r.nullsNotDistinct&&this.append(" nulls not distinct"),r.primaryKey&&this.append(" primary key"),r.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),r.references&&(this.append(" "),this.visitNode(r.references)),r.check&&(this.append(" "),this.visitNode(r.check)),r.endModifiers&&r.endModifiers.length>0&&(this.append(" "),this.compileList(r.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(r){this.append("references "),this.visitNode(r.table),this.append(" ("),this.compileList(r.columns),this.append(")"),r.onDelete&&(this.append(" on delete "),this.append(r.onDelete)),r.onUpdate&&(this.append(" on update "),this.append(r.onUpdate))}visitDropTable(r){this.append("drop table "),r.ifExists&&this.append("if exists "),this.visitNode(r.table),r.cascade&&this.append(" cascade")}visitDataType(r){this.append(r.dataType)}visitOrderBy(r){this.append("order by "),this.compileList(r.items)}visitOrderByItem(r){this.visitNode(r.orderBy),r.direction&&(this.append(" "),this.visitNode(r.direction))}visitGroupBy(r){this.append("group by "),this.compileList(r.items)}visitGroupByItem(r){this.visitNode(r.groupBy)}visitUpdateQuery(r){const n=this.nodeStack.find(nt.is),i=n!==r;!i&&r.explain&&(this.visitNode(r.explain),this.append(" ")),i&&!Qn.is(n)&&this.append("("),r.with&&(this.visitNode(r.with),this.append(" ")),this.append("update "),r.top&&(this.visitNode(r.top),this.append(" ")),r.table&&(this.visitNode(r.table),this.append(" ")),this.append("set "),r.updates&&this.compileList(r.updates),r.from&&(this.append(" "),this.visitNode(r.from)),r.joins&&(this.append(" "),this.compileList(r.joins," ")),r.where&&(this.append(" "),this.visitNode(r.where)),r.limit&&(this.append(" "),this.visitNode(r.limit)),r.returning&&(this.append(" "),this.visitNode(r.returning)),i&&!Qn.is(n)&&this.append(")")}visitColumnUpdate(r){this.visitNode(r.column),this.append(" = "),this.visitNode(r.value)}visitLimit(r){this.append("limit "),this.visitNode(r.limit)}visitOffset(r){this.append("offset "),this.visitNode(r.offset)}visitOnConflict(r){this.append("on conflict"),r.columns?(this.append(" ("),this.compileList(r.columns),this.append(")")):r.constraint?(this.append(" on constraint "),this.visitNode(r.constraint)):r.indexExpression&&(this.append(" ("),this.visitNode(r.indexExpression),this.append(")")),r.indexWhere&&(this.append(" "),this.visitNode(r.indexWhere)),r.doNothing===!0?this.append(" do nothing"):r.updates&&(this.append(" do update set "),this.compileList(r.updates),r.updateWhere&&(this.append(" "),this.visitNode(r.updateWhere)))}visitOnDuplicateKey(r){this.append("on duplicate key update "),this.compileList(r.updates)}visitCreateIndex(r){this.append("create "),r.unique&&this.append("unique "),this.append("index "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.name),r.table&&(this.append(" on "),this.visitNode(r.table)),r.using&&(this.append(" using "),this.visitNode(r.using)),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.nullsNotDistinct&&this.append(" nulls not distinct"),r.where&&(this.append(" "),this.visitNode(r.where))}visitDropIndex(r){this.append("drop index "),r.ifExists&&this.append("if exists "),this.visitNode(r.name),r.table&&(this.append(" on "),this.visitNode(r.table)),r.cascade&&this.append(" cascade")}visitCreateSchema(r){this.append("create schema "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.schema)}visitDropSchema(r){this.append("drop schema "),r.ifExists&&this.append("if exists "),this.visitNode(r.schema),r.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("primary key ("),this.compileList(r.columns),this.append(")")}visitUniqueConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("unique"),r.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(r.columns),this.append(")")}visitCheckConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("check ("),this.visitNode(r.expression),this.append(")")}visitForeignKeyConstraint(r){r.name&&(this.append("constraint "),this.visitNode(r.name),this.append(" ")),this.append("foreign key ("),this.compileList(r.columns),this.append(") "),this.visitNode(r.references),r.onDelete&&(this.append(" on delete "),this.append(r.onDelete)),r.onUpdate&&(this.append(" on update "),this.append(r.onUpdate))}visitList(r){this.compileList(r.items)}visitWith(r){this.append("with "),r.recursive&&this.append("recursive "),this.compileList(r.expressions)}visitCommonTableExpression(r){this.visitNode(r.name),this.append(" as "),rv(r.materialized)&&(r.materialized||this.append("not "),this.append("materialized ")),this.visitNode(r.expression)}visitCommonTableExpressionName(r){this.visitNode(r.table),r.columns&&(this.append("("),this.compileList(r.columns),this.append(")"))}visitAlterTable(r){this.append("alter table "),this.visitNode(r.table),this.append(" "),r.renameTo&&(this.append("rename to "),this.visitNode(r.renameTo)),r.setSchema&&(this.append("set schema "),this.visitNode(r.setSchema)),r.addConstraint&&this.visitNode(r.addConstraint),r.dropConstraint&&this.visitNode(r.dropConstraint),r.columnAlterations&&this.compileColumnAlterations(r.columnAlterations),r.addIndex&&this.visitNode(r.addIndex),r.dropIndex&&this.visitNode(r.dropIndex)}visitAddColumn(r){this.append("add column "),this.visitNode(r.column)}visitRenameColumn(r){this.append("rename column "),this.visitNode(r.column),this.append(" to "),this.visitNode(r.renameTo)}visitDropColumn(r){this.append("drop column "),this.visitNode(r.column)}visitAlterColumn(r){this.append("alter column "),this.visitNode(r.column),this.append(" "),r.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(r.dataType),r.dataTypeExpression&&(this.append("using "),this.visitNode(r.dataTypeExpression))),r.setDefault&&(this.append("set default "),this.visitNode(r.setDefault)),r.dropDefault&&this.append("drop default"),r.setNotNull&&this.append("set not null"),r.dropNotNull&&this.append("drop not null")}visitModifyColumn(r){this.append("modify column "),this.visitNode(r.column)}visitAddConstraint(r){this.append("add "),this.visitNode(r.constraint)}visitDropConstraint(r){this.append("drop constraint "),r.ifExists&&this.append("if exists "),this.visitNode(r.constraintName),r.modifier==="cascade"?this.append(" cascade"):r.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(r){this.append(r.operator),this.append(" "),r.all&&this.append("all "),this.visitNode(r.expression)}visitCreateView(r){this.append("create "),r.orReplace&&this.append("or replace "),r.materialized&&this.append("materialized "),r.temporary&&this.append("temporary "),this.append("view "),r.ifNotExists&&this.append("if not exists "),this.visitNode(r.name),this.append(" "),r.columns&&(this.append("("),this.compileList(r.columns),this.append(") ")),r.as&&(this.append("as "),this.visitNode(r.as))}visitDropView(r){this.append("drop "),r.materialized&&this.append("materialized "),this.append("view "),r.ifExists&&this.append("if exists "),this.visitNode(r.name),r.cascade&&this.append(" cascade")}visitGenerated(r){this.append("generated "),r.always&&this.append("always "),r.byDefault&&this.append("by default "),this.append("as "),r.identity&&this.append("identity"),r.expression&&(this.append("("),this.visitNode(r.expression),this.append(")")),r.stored&&this.append(" stored")}visitDefaultValue(r){this.append("default "),this.visitNode(r.defaultValue)}visitSelectModifier(r){r.rawModifier?this.visitNode(r.rawModifier):this.append(nq[r.modifier]),r.of&&(this.append(" of "),this.compileList(r.of,", "))}visitCreateType(r){this.append("create type "),this.visitNode(r.name),r.enum&&(this.append(" as enum "),this.visitNode(r.enum))}visitDropType(r){this.append("drop type "),r.ifExists&&this.append("if exists "),this.visitNode(r.name)}visitExplain(r){this.append("explain"),(r.options||r.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),r.options&&(this.visitNode(r.options),r.format&&this.append(this.getExplainOptionsDelimiter())),r.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(r.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(r){this.append("default")}visitAggregateFunction(r){this.append(r.func),this.append("("),r.distinct&&this.append("distinct "),this.compileList(r.aggregated),this.append(")"),r.filter&&(this.append(" filter("),this.visitNode(r.filter),this.append(")")),r.over&&(this.append(" "),this.visitNode(r.over))}visitOver(r){this.append("over("),r.partitionBy&&(this.visitNode(r.partitionBy),r.orderBy&&this.append(" ")),r.orderBy&&this.visitNode(r.orderBy),this.append(")")}visitPartitionBy(r){this.append("partition by "),this.compileList(r.items)}visitPartitionByItem(r){this.visitNode(r.partitionBy)}visitBinaryOperation(r){this.visitNode(r.leftOperand),this.append(" "),this.visitNode(r.operator),this.append(" "),this.visitNode(r.rightOperand)}visitUnaryOperation(r){this.visitNode(r.operator),this.isMinusOperator(r.operator)||this.append(" "),this.visitNode(r.operand)}isMinusOperator(r){return cl.is(r)&&r.operator==="-"}visitUsing(r){this.append("using "),this.compileList(r.tables)}visitFunction(r){this.append(r.func),this.append("("),this.compileList(r.arguments),this.append(")")}visitCase(r){this.append("case"),r.value&&(this.append(" "),this.visitNode(r.value)),r.when&&(this.append(" "),this.compileList(r.when," ")),r.else&&(this.append(" else "),this.visitNode(r.else)),this.append(" end"),r.isStatement&&this.append(" case")}visitWhen(r){this.append("when "),this.visitNode(r.condition),r.result&&(this.append(" then "),this.visitNode(r.result))}visitJSONReference(r){this.visitNode(r.reference),this.visitNode(r.traversal)}visitJSONPath(r){r.inOperator&&this.visitNode(r.inOperator),this.append("'$");for(const n of r.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(r){const n=r.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(r.value)),n&&this.append("]")}visitJSONOperatorChain(r){for(let n=0,i=r.values.length;n<i;n++)n===i-1?this.visitNode(r.operator):this.append("->"),this.visitNode(r.values[n])}visitMergeQuery(r){r.with&&(this.visitNode(r.with),this.append(" ")),this.append("merge "),r.top&&(this.visitNode(r.top),this.append(" ")),this.append("into "),this.visitNode(r.into),r.using&&(this.append(" "),this.visitNode(r.using)),r.whens&&(this.append(" "),this.compileList(r.whens))}visitMatched(r){r.not&&this.append("not "),this.append("matched"),r.bySource&&this.append(" by source")}visitAddIndex(r){this.append("add "),r.unique&&this.append("unique "),this.append("index "),this.visitNode(r.name),r.columns&&(this.append(" ("),this.compileList(r.columns),this.append(")")),r.using&&(this.append(" using "),this.visitNode(r.using))}visitCast(r){this.append("cast("),this.visitNode(r.expression),this.append(" as "),this.visitNode(r.dataType),this.append(")")}visitFetch(r){this.append("fetch next "),this.visitNode(r.rowCount),this.append(` rows ${r.modifier}`)}visitTop(r){this.append(`top(${r.expression})`),r.modifiers&&this.append(` ${r.modifiers}`)}append(r){te(this,vd,d(this,vd)+r)}appendValue(r){this.addParameter(r),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(r){const n=this.getLeftIdentifierWrapper(),i=this.getRightIdentifierWrapper();let s="";for(const o of r)s+=o,o===n?s+=n:o===i&&(s+=i);return s}addParameter(r){d(this,cu).push(r)}appendImmediateValue(r){if(wi(r))this.append(`'${r}'`);else if(w1(r)||rv(r))this.append(r.toString());else if(jN(r))this.append("null");else if(tP(r))this.appendImmediateValue(r.toISOString());else if(MN(r))this.appendImmediateValue(r.toString());else throw new Error(`invalid immediate value ${r}`)}sortSelectModifiers(r){return r.sort((n,i)=>n.modifier&&i.modifier?rC[n.modifier]-rC[i.modifier]:1),_(r)}compileColumnAlterations(r){this.compileList(r)}announcesNewColumnDataType(){return!0}}vd=new WeakMap,cu=new WeakMap;const nq=_({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),rC=_({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),iq=_({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"}),Fw=_({raw(e,t=[]){return _({sql:e,query:hn.createWithSql(e),parameters:_(t)})}});class sq{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}}const oq=/"/g;class aq extends rq{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(t){return t.replace(oq,'""')}visitDefaultInsertValue(t){this.append("null")}}const lq="kysely_migration",uq="kysely_migration_lock";_({__noMigrations__:!0});var wd,N0,JP;class cq{constructor(t){Y(this,N0);Y(this,wd,void 0);te(this,wd,t)}async getSchemas(){return[]}async getTables(t={withInternalKyselyTables:!1}){let r=d(this,wd).selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();t.withInternalKyselyTables||(r=r.where("name","!=",lq).where("name","!=",uq));const n=await r.execute();return Promise.all(n.map(({name:i})=>pt(this,N0,JP).call(this,i)))}async getMetadata(t){return{tables:await this.getTables(t)}}}wd=new WeakMap,N0=new WeakSet,JP=async function(t){var o,a,l,u,c,f;const r=d(this,wd),n=await r.selectFrom("sqlite_master").where("name","=",t).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=(f=(c=(u=(l=(a=(o=n.sql)==null?void 0:o.split(/[\(\),]/))==null?void 0:a.find(p=>p.toLowerCase().includes("autoincrement")))==null?void 0:l.trimStart())==null?void 0:u.split(/\s+/))==null?void 0:c[0])==null?void 0:f.replace(/["`]/g,""),s=await r.selectFrom(QP`pragma_table_info(${t})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:t,isView:n.type==="view",columns:s.map(p=>({name:p.name,dataType:p.type,isNullable:!p.notnull,isAutoIncrementing:p.name===i,hasDefaultValue:p.dflt_value!=null,comment:void 0}))}};class dq extends sq{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(t,r){}async releaseMigrationLock(t,r){}}const hq="modulepreload",fq=function(e){return"/yuuka/"+e},nC={},$d=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(r.map(l=>{if(l=fq(l),l in nC)return;nC[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!n)for(let w=s.length-1;w>=0;w--){const b=s[w];if(b.href===l&&(!u||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":hq,u||(p.as="script",p.crossOrigin=""),p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((w,b)=>{p.addEventListener("load",w),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var jp;class pq extends GN{constructor(r){super();Y(this,jp,void 0);te(this,jp,r)}transformIdentifier(r){return r=super.transformIdentifier(r),{...r,name:d(this,jp).call(this,r.name)}}}jp=new WeakMap;function mq({upperCase:e=!1,underscoreBeforeDigits:t=!1,underscoreBetweenUppercaseLetters:r=!1}={}){return KP(n=>{if(n.length===0)return n;const i=n.toUpperCase(),s=n.toLowerCase();let o=s[0];for(let a=1,l=n.length;a<l;++a){const u=n[a],c=n[a-1],f=i[a],p=i[a-1],w=s[a],b=s[a-1];if(t&&iC(u)&&!iC(c)){o+="_"+u;continue}u===f&&f!==w?r||!(c===p&&p!==b)?o+="_"+w:o+=w:o+=u}return e?o.toUpperCase():o})}function gq({upperCase:e=!1}={}){return KP(t=>{if(t.length===0)return t;e&&yq(t)&&(t=t.toLowerCase());let r=t[0];for(let n=1,i=t.length;n<i;++n){const s=t[n],o=t[n-1];s!=="_"&&(o==="_"?r+=s.toUpperCase():r+=s)}return r})}function yq(e){for(let t=1,r=e.length;t<r;++t){const n=e[t];if(n!=="_"&&n!==n.toUpperCase())return!1}return!0}function iC(e){return e>="0"&&e<="9"}function KP(e){const t=new Map;return r=>{let n=t.get(r);return n||(n=e(r),t.set(r,n)),n}}var Mp,Fp,Bp;class vq{constructor(t={}){be(this,"opt");Y(this,Mp,void 0);Y(this,Fp,void 0);Y(this,Bp,void 0);this.opt=t,te(this,Mp,gq(t)),te(this,Fp,mq(t)),te(this,Bp,new pq(this.snakeCase.bind(this)))}transformQuery(t){return d(this,Bp).transformNode(t.node)}async transformResult(t){return t.result.rows&&Array.isArray(t.result.rows)?{...t.result,rows:t.result.rows.map(r=>this.mapRow(r))}:t.result}mapRow(t){return Object.keys(t).reduce((r,n)=>{let i=t[n];return Array.isArray(i)?i=i.map(s=>sC(s,this.opt)?this.mapRow(s):s):sC(i,this.opt)&&(i=this.mapRow(i)),r[this.camelCase(n)]=i,r},{})}snakeCase(t){return d(this,Fp).call(this,t)}camelCase(t){return d(this,Mp).call(this,t)}}Mp=new WeakMap,Fp=new WeakMap,Bp=new WeakMap;function sC(e,t){return CW(e)&&!(t!=null&&t.maintainNestedObjectKeys)}var wq=class{createQueryCompiler(){return new aq}createAdapter(){return new dq}createIntrospector(e){return new cq(e)}},Wp,FT,bq=(FT=class{constructor(){Y(this,Wp,new _q);be(this,"connection")}async acquireConnection(){return await d(this,Wp).lock(),this.connection}async beginTransaction(e){await e.executeQuery(Fw.raw("begin"))}async commitTransaction(e){await e.executeQuery(Fw.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(Fw.raw("rollback"))}async releaseConnection(){d(this,Wp).unlock()}},Wp=new WeakMap,FT),_q=class{constructor(){be(this,"promise");be(this,"resolve")}async lock(){for(;this.promise;)await this.promise;this.promise=new Promise(e=>{this.resolve=e})}unlock(){const e=this.resolve;this.promise=void 0,this.resolve=void 0,e==null||e()}},xq=class{streamQuery(){throw new Error("sqlite-wasm driver doesn't support streaming")}async executeQuery({parameters:e,query:t,sql:r}){const n=await this.query(r,e);return xt.is(t)||n.length?{rows:n}:{rows:n,...await this.info()}}};function Nq(e,t,r){let n,i=0,s=null;function o(){n&&clearTimeout(n),i=0,s=null}function a(){i>=r?(e(s),o()):(n&&clearTimeout(n),n=setTimeout(()=>{e(s),o(),n=void 0},t))}return l=>{i++,s=l,n===void 0&&i===0?(e(l),i++):a()}}var Sq=class extends bq{constructor(t){super();be(this,"config");be(this,"db");this.config=t}async init(){var t,r,n,i,s,o;if(this.db=typeof this.config.database=="function"?await this.config.database():this.config.database,!this.db)throw new Error("no database");this.connection=new kq(this.db,(t=this.config.onWrite)==null?void 0:t.func,(r=this.config.onWrite)==null?void 0:r.isThrottle,(n=this.config.onWrite)==null?void 0:n.delay,(i=this.config.onWrite)==null?void 0:i.maxCalls),await((o=(s=this.config).onCreateConnection)==null?void 0:o.call(s,this.connection))}async beginTransaction(t){t.trxCount++,await super.beginTransaction(t)}async commitTransaction(t){t.trxCount--,await super.commitTransaction(t)}async rollbackTransaction(t){t.trxCount--,await super.rollbackTransaction(t)}async destroy(){var t;(t=this.db)==null||t.close()}},kq=class extends xq{constructor(t,r,n=!1,i=2e3,s=1e3){super();be(this,"db");be(this,"onWrite");be(this,"trxCount",0);this.db=t,this.onWrite=r?n?Nq(r,i,s):r:void 0}async query(t,r){const n=this.db.prepare(t);n.bind(r);const i=[];for(;n.step();)i.push(n.getAsObject());return n.free(),i}async info(){var n;let t=0;const r=this.db.prepare("SELECT last_insert_rowid()");try{r.step(),t=r.get()[0]}finally{r.free()}return this.trxCount===0&&((n=this.onWrite)==null||n.call(this,this.db.export())),{insertId:BigInt(t),numAffectedRows:BigInt(this.db.getRowsModified())}}},Eq=class extends wq{constructor(t){super();be(this,"config");this.config=t}createDriver(){return new Sq(this.config)}};const ZP={_tag:"server",endpoint:"://127.0.0.1:3000"},sp=k.createContext(ZP),Cq=e=>new Eq({database:e}),Tq=e=>new ip({dialect:e,plugins:[new vq]}),Hs={defaultValue:ZP,createKysely:Tq,createDialect:Cq},Oq="http://localhost:3000",YP=e=>async(...t)=>{const[r,n]=t,i=`${Oq}${r}`;return await(await e(i,{method:"GET"})).json()},Rq=()=>YP(fetch),Pq=e=>YP(async(r,n)=>await e.request(r,n)),Bw={asset:"",liability:"",equity:"",revenue:"",expense:""},XP={toKorean(e){return Bw[e]},fromKorean(e){const t=Object.keys(Bw).find(r=>Bw[r]===e);if(!t)throw new Error(`Unknown account category name: ${e}`);return t}},Aq={fromRow(e){return{major:e.major,minor:e.minor,code:e.code,name:e.name,description:e.description}}},op={toTag(e){return Math.floor(e/1e3)},fromRow(e){return{code:e.code,name:e.name,description:e.description}}},Iq={withStackTrace:!1},eA=(e,t,r=Iq)=>{const n=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},i=r.withStackTrace?new Error().stack:void 0;return{data:n,message:e,stack:i}};function Ww(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function oC(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mu(e){return this instanceof mu?(this.v=e,this):new mu(e)}function $q(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(w){return new Promise(function(b,x){s.push([p,w,b,x])>1||a(p,w)})})}function a(p,w){try{l(n[p](w))}catch(b){f(s[0][3],b)}}function l(p){p.value instanceof mu?Promise.resolve(p.value.v).then(u,c):f(s[0][2],p)}function u(p){a("next",p)}function c(p){a("throw",p)}function f(p,w){p(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Lq(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:mu(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Dq(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof oC=="function"?oC(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}class $n{constructor(t){this._promise=t}static fromSafePromise(t){const r=t.then(n=>new mc(n));return new $n(r)}static fromPromise(t,r){const n=t.then(i=>new mc(i)).catch(i=>new Lc(r(i)));return new $n(n)}static combine(t){return Mq(t)}static combineWithAllErrors(t){return Fq(t)}map(t){return new $n(this._promise.then(r=>Ww(this,void 0,void 0,function*(){return r.isErr()?new Lc(r.error):new mc(yield t(r.value))})))}mapErr(t){return new $n(this._promise.then(r=>Ww(this,void 0,void 0,function*(){return r.isOk()?new mc(r.value):new Lc(yield t(r.error))})))}andThen(t){return new $n(this._promise.then(r=>{if(r.isErr())return new Lc(r.error);const n=t(r.value);return n instanceof $n?n._promise:n}))}orElse(t){return new $n(this._promise.then(r=>Ww(this,void 0,void 0,function*(){return r.isErr()?t(r.error):new mc(r.value)})))}match(t,r){return this._promise.then(n=>n.match(t,r))}unwrapOr(t){return this._promise.then(r=>r.unwrapOr(t))}safeUnwrap(){return $q(this,arguments,function*(){return yield mu(yield mu(yield*Lq(Dq(yield mu(this._promise.then(r=>r.safeUnwrap()))))))})}then(t,r){return this._promise.then(t,r)}}const aC=e=>new $n(Promise.resolve(new Lc(e)));$n.fromPromise;$n.fromSafePromise;const jq=e=>t=>[...t,e],tA=e=>e.reduce((t,r)=>t.isOk()?r.isErr()?La(r.error):t.map(jq(r.value)):t,gu([])),Mq=e=>$n.fromSafePromise(Promise.all(e)).andThen(tA),rA=e=>e.reduce((t,r)=>r.isErr()?t.isErr()?La([...t.error,r.error]):La([r.error]):t.isErr()?t:gu([...t.value,r.value]),gu([])),Fq=e=>$n.fromSafePromise(Promise.all(e)).andThen(rA);var $v;(function(e){function t(i,s){return(...o)=>{try{const a=i(...o);return gu(a)}catch(a){return La(s?s(a):a)}}}e.fromThrowable=t;function r(i){return tA(i)}e.combine=r;function n(i){return rA(i)}e.combineWithAllErrors=n})($v||($v={}));const gu=e=>new mc(e),La=e=>new Lc(e);class mc{constructor(t){this.value=t}isOk(){return!0}isErr(){return!this.isOk()}map(t){return gu(t(this.value))}mapErr(t){return gu(this.value)}andThen(t){return t(this.value)}orElse(t){return gu(this.value)}asyncAndThen(t){return t(this.value)}asyncMap(t){return $n.fromSafePromise(t(this.value))}unwrapOr(t){return this.value}match(t,r){return t(this.value)}safeUnwrap(){const t=this.value;return function*(){return t}()}_unsafeUnwrap(t){return this.value}_unsafeUnwrapErr(t){throw eA("Called `_unsafeUnwrapErr` on an Ok",this,t)}}class Lc{constructor(t){this.error=t}isOk(){return!1}isErr(){return!this.isOk()}map(t){return La(this.error)}mapErr(t){return La(t(this.error))}andThen(t){return La(this.error)}orElse(t){return t(this.error)}asyncAndThen(t){return aC(this.error)}asyncMap(t){return aC(this.error)}unwrapOr(t){return t}match(t,r){return r(this.error)}safeUnwrap(){const t=this.error;return function*(){throw yield La(t),new Error("Do not use this generator out of `safeTry`")}()}_unsafeUnwrap(t){throw eA("Called `_unsafeUnwrap` on an Err",this,t)}_unsafeUnwrapErr(t){return this.error}}$v.fromThrowable;var Bq=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function xs(e,t,r){var n=Array.from(t),i=e.length-t.length;if(i===0)return e.apply(void 0,n);if(i===1){var s=function(a){return e.apply(void 0,Bq([a],n,!1))},o=r??e.lazy;return o===void 0?s:Object.assign(s,{lazy:o,lazyArgs:t})}throw new Error("Wrong number of arguments")}function H_(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var i=e,s=r.map(function(g){return"lazy"in g?Wq(g):void 0}),o=0;o<r.length;){var a=s[o];if(a===void 0||!zq(i)){var l=r[o];i=l(i),o+=1;continue}for(var u=[],c=o;c<r.length;c++){var f=s[c];if(f===void 0||(u.push(f),f.isSingle))break}for(var p=[],w=i[Symbol.iterator]();;){var b=w.next();if((t=b.done)!==null&&t!==void 0&&t)break;var x=nA(b.value,p,u);if(x)break}var E=u[u.length-1].isSingle;i=E?p[0]:p,o+=u.length}return i}function nA(e,t,r){var n;if(r.length===0)return t.push(e),!1;for(var i=e,s={done:!1,hasNext:!1},o=!1,a=0;a<r.length;a++){var l=r[a],u=l.isIndexed,c=l.index,f=l.items;if(f.push(i),s=u?l(i,c,f):l(i),l.index+=1,s.hasNext){if((n=s.hasMany)!==null&&n!==void 0&&n){for(var p=0,w=s.next;p<w.length;p++){var b=w[p],x=nA(b,t,r.slice(a+1));if(x)return!0}return!1}i=s.next}if(!s.hasNext)break;s.done&&(o=!0)}return s.hasNext&&t.push(i),!!o}function Wq(e){var t=e.lazy,r=e.lazyArgs,n=t.apply(void 0,r??[]);return Object.assign(n,{isIndexed:t.indexed,isSingle:t.single,index:0,items:[]})}function zq(e){return typeof e=="string"||typeof e=="object"&&e!==null&&Symbol.iterator in e}function XN(e,t,r){r===void 0&&(r=!1);for(var n=[],i=0;i<e.length;i++){var s=e[i],o=r?t(s,i,e):t(s);if(o.hasMany===!0?n.push.apply(n,o.next):o.hasNext&&n.push(o.next),o.done)break}return n}function ap(){return xs(qq,arguments,ap.lazy)}function qq(e,t){var r=ap.lazy(t);return XN(e,r)}(function(e){function t(r){var n=new Set(r);return function(i){return n.has(i)?{done:!1,hasNext:!1}:{done:!1,hasNext:!0,next:i}}}e.lazy=t})(ap||(ap={}));var Uq=function(e){return Object.assign(e,{indexed:!0})};function lp(){return xs(Vq,arguments,lp.lazy)}function Vq(e){return XN(e,lp.lazy())}(function(e){e.lazy=function(){return function(t){return Array.isArray(t)?{done:!1,hasNext:!0,hasMany:!0,next:t}:{done:!1,hasNext:!0,next:t}}}})(lp||(lp={}));function up(){return xs(Hq,arguments,up.lazy)}function Hq(e,t){return lp(e.map(function(r){return t(r)}))}(function(e){e.lazy=function(t){return function(r){var n=t(r);return Array.isArray(n)?{done:!1,hasNext:!0,hasMany:!0,next:n}:{done:!1,hasNext:!0,next:n}}}})(up||(up={}));function Lv(){return xs(iA(!1),arguments)}var iA=function(e){return function(t,r){for(var n={},i=0;i<t.length;i++){var s=t[i],o=e?r(s,i,t):r(s);if(o!==void 0){var a=String(o),l=n[a];l===void 0&&(l=[],n[a]=l),l.push(s)}}return n}};(function(e){function t(){return xs(iA(!0),arguments)}e.indexed=t,e.strict=e})(Lv||(Lv={}));function Gq(e){return Array.isArray(e)}function Qq(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function Jq(e){return typeof e=="string"}function Kq(e){return e===void 0?!0:Gq(e)||Jq(e)?e.length===0:Qq(e)?Object.keys(e).length===0:!1}function $u(){return xs(sA(!1),arguments,$u.lazy)}var sA=function(e){return function(t,r){return XN(t,e?$u.lazyIndexed(r):$u.lazy(r),e)}},lC=function(e){return function(t){return function(r,n,i){return{done:!1,hasNext:!0,next:e?t(r,n,i):t(r)}}}};(function(e){function t(){return xs(sA(!0),arguments,e.lazyIndexed)}e.indexed=t,e.lazy=lC(!1),e.lazyIndexed=Uq(lC(!0)),e.strict=e})($u||($u={}));function Zq(){return xs(Yq,arguments)}function Yq(e,t){for(var r=[],n=e;n<t;n++)r.push(n);return r}var oA=function(e){return function(t,r){for(var n=0,i=0;i<t.length;i++){var s=t[i],o=e?r(s,i,t):r(s);n+=o}return n}};function hl(){return xs(oA(!1),arguments)}(function(e){function t(){return xs(oA(!0),arguments)}e.indexed=t})(hl||(hl={}));function G_(){return xs(Xq,arguments)}function Xq(e,t){for(var r=e.length>t.length?t.length:e.length,n=[],i=0;i<r;i++)n.push([e[i],t[i]]);return n}(function(e){e.strict=e})(G_||(G_={}));const eU="account",tU="account",aA=eU,rU=async e=>{await e.schema.createTable(tU).addColumn("code","integer",t=>t.primaryKey()).addColumn("name","varchar(191)").addColumn("description","text").execute()},nU="accountStatement",iU="account_statement",lA=nU,sU=async e=>{await e.schema.createTable(iU).addColumn("code","integer").addColumn("date","varchar(191)").addColumn("closing_balance","integer").addColumn("total_credit","integer").addColumn("total_debit","integer").addPrimaryKeyConstraint("primary_key",["code","date"]).execute()},oU="accountTag",aU="account_tag",lU=oU,uU=async e=>{await e.schema.createTable(aU).addColumn("code","integer",t=>t.primaryKey()).addColumn("major","varchar(191)").addColumn("minor","varchar(191)").addColumn("name","varchar(191)").addColumn("description","text").execute()},cU="accountTransaction",dU="account_transaction",N1=cU,hU=async e=>{await e.schema.createTable(dU).addColumn("entry_id","varchar(191)",t=>t.primaryKey()).addColumn("date","varchar(15)").addColumn("brief","text").execute()},fU="ledger_statement",pU=async e=>{await e.schema.createTable(fU).addColumn("code","integer").addColumn("date","varchar(191)").addColumn("closing_balance","integer").addPrimaryKeyConstraint("primary_key",["code","date"]).execute()},mU="ledgerTransaction",gU="ledger_transaction",uC=mU,yU=1,vU=2,wU=async e=>{await e.schema.createTable(gU).addColumn("entry_id","varchar(191)").addColumn("code","integer").addColumn("tag","integer").addColumn("amount","integer").addPrimaryKeyConstraint("primary_key",["entry_id","code"]).execute()},bU=async e=>{await uU(e),await rU(e),await hU(e),await wU(e),await sU(e),await pU(e)},_U={createSchema:bU},xU=e=>{if(e.debit<=0)throw new Error("debit is not positive");return e},NU=e=>{if(e.credit<=0)throw new Error("credit is not positive");return e},SU=e=>{switch(e._tag){case"debit":return xU(e);case"credit":return NU(e)}},kU=(e,t)=>e._tag===t._tag?e.code-t.code:e._tag==="debit"&&t._tag==="credit"?-1:e._tag==="credit"&&t._tag==="debit"?1:0,EU=e=>{const t=[];for(const r of e)r._tag==="debit"&&t.push(r);return t},CU=e=>{const t=[];for(const r of e)r._tag==="credit"&&t.push(r);return t},TU=e=>{switch(e.tag){case yU:return{_tag:"debit",code:e.code,debit:e.amount};case vU:return{_tag:"credit",code:e.code,credit:e.amount}}},Hn={validate:SU,compare:kU,filter_debit:EU,filter_credit:CU,fromRow:TU},cC=e=>{const t=e.lines.map(Hn.validate);if(t.length===0)throw new Error("lines is empty");const r=[],n=[];for(const o of t)o._tag==="debit"&&n.push(o),o._tag==="credit"&&r.push(o);const i=hl(r,o=>o.credit),s=hl(n,o=>o.debit);if(i!==s)throw new Error(`credit(${i}) !== debit(${s})`);return{...e,lines:t}},OU=e=>{const t=e.date.split("-"),r=Number.parseInt(t[1]??"0"),n=Number.parseInt(t[2]??"0"),i=[r,n,e.id,e.brief],s=Array(i.length).fill("");return e.lines.map((a,l)=>{const u=a._tag==="debit"?[a.code,a.debit,""]:[a.code,"",a.credit];return l===0?[...i,...u]:[...s,...u]})},Dv={validate:cC,safeValidate:$v.fromThrowable(cC,e=>e),toCSV:OU};class RU{constructor(t){be(this,"params");this.params=t}get body(){return this.params.body}get db(){return this.params.db}}class eh{constructor(t){be(this,"body");this.body=t}}const PU=e=>e,th={define:PU},AU=e=>({_in:e._in,_out:e._out}),rh={define:AU},IU=e=>({req:e.req,resp:e.resp,_in:{},_out:{}}),nh={define:IU},$U=e=>e,ih={define:$U};var Rt;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Rt||(Rt={}));var Q_;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Q_||(Q_={}));const Re=Rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wa=e=>{switch(typeof e){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return isNaN(e)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(e)?Re.array:e===null?Re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Re.promise:typeof Map<"u"&&e instanceof Map?Re.map:typeof Set<"u"&&e instanceof Set?Re.set:typeof Date<"u"&&e instanceof Date?Re.date:Re.object;default:return Re.unknown}},ye=Rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),LU=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ps extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ps.create=e=>new ps(e);const cp=(e,t)=>{let r;switch(e.code){case ye.invalid_type:e.received===Re.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Rt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${Rt.joinValues(e.keys,", ")}`;break;case ye.invalid_union:r="Invalid input";break;case ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Rt.joinValues(e.options)}`;break;case ye.invalid_enum_value:r=`Invalid enum value. Expected ${Rt.joinValues(e.options)}, received '${e.received}'`;break;case ye.invalid_arguments:r="Invalid function arguments";break;case ye.invalid_return_type:r="Invalid function return type";break;case ye.invalid_date:r="Invalid date";break;case ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Rt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ye.custom:r="Invalid input";break;case ye.invalid_intersection_types:r="Intersection results could not be merged";break;case ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,Rt.assertNever(e)}return{message:r}};let uA=cp;function DU(e){uA=e}function jv(){return uA}const Mv=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};let a="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:t,defaultError:a}).message;return{...i,path:s,message:i.message||a}},jU=[];function Ae(e,t){const r=Mv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,jv(),cp].filter(n=>!!n)});e.common.issues.push(r)}class En{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return at;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return En.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return at;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const at=Object.freeze({status:"aborted"}),cA=e=>({status:"dirty",value:e}),Bn=e=>({status:"valid",value:e}),J_=e=>e.status==="aborted",K_=e=>e.status==="dirty",dp=e=>e.status==="valid",Fv=e=>typeof Promise<"u"&&e instanceof Promise;var Ge;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ge||(Ge={}));class Gs{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dC=(e,t)=>{if(dp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ps(e.common.issues);return this._error=r,this._error}}};function ct(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class gt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return wa(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:wa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new En,ctx:{common:t.parent.common,data:t.data,parsedType:wa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Fv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wa(t)},s=this._parseSync({data:t,path:i.path,parent:i});return dC(i,s)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wa(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(Fv(i)?i:Promise.resolve(i));return dC(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:ye.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new vs({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Ao.create(this,this._def)}nullable(){return ju.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ms.create(this,this._def)}promise(){return Dd.create(this,this._def)}or(t){return mp.create([this,t],this._def)}and(t){return gp.create(this,t,this._def)}transform(t){return new vs({...ct(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new _p({...ct(this._def),innerType:this,defaultValue:r,typeName:Ke.ZodDefault})}brand(){return new hA({typeName:Ke.ZodBranded,type:this,...ct(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new qv({...ct(this._def),innerType:this,catchValue:r,typeName:Ke.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Wm.create(this,t)}readonly(){return Vv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const MU=/^c[^\s-]{8,}$/i,FU=/^[a-z][a-z0-9]*$/,BU=/^[0-9A-HJKMNP-TV-Z]{26}$/,WU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zU=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zw;const UU=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,VU=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,HU=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function GU(e,t){return!!((t==="v4"||!t)&&UU.test(e)||(t==="v6"||!t)&&VU.test(e))}class ds extends gt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Re.string){const s=this._getOrReturnCtx(t);return Ae(s,{code:ye.invalid_type,expected:Re.string,received:s.parsedType}),at}const n=new En;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?Ae(i,{code:ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Ae(i,{code:ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")zU.test(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{validation:"email",code:ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")zw||(zw=new RegExp(qU,"u")),zw.test(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{validation:"emoji",code:ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")WU.test(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{validation:"uuid",code:ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")MU.test(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{validation:"cuid",code:ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")FU.test(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{validation:"cuid2",code:ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")BU.test(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{validation:"ulid",code:ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ae(i,{validation:"url",code:ye.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{validation:"regex",code:ye.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),Ae(i,{code:ye.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ae(i,{code:ye.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ae(i,{code:ye.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?HU(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Ae(i,{code:ye.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?GU(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Ae(i,{validation:"ip",code:ye.invalid_string,message:s.message}),n.dirty()):Rt.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:ye.invalid_string,...Ge.errToObj(n)})}_addCheck(t){return new ds({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ge.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ge.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ge.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ge.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ge.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ge.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ge.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ge.errToObj(t)})}datetime(t){var r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,...Ge.errToObj(t==null?void 0:t.message)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ge.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ge.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ge.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ge.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ge.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ge.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ge.errToObj(r)})}nonempty(t){return this.min(1,Ge.errToObj(t))}trim(){return new ds({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ds.create=e=>{var t;return new ds({checks:[],typeName:Ke.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ct(e)})};function QU(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class fl extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Re.number){const s=this._getOrReturnCtx(t);return Ae(s,{code:ye.invalid_type,expected:Re.number,received:s.parsedType}),at}let n;const i=new En;for(const s of this._def.checks)s.kind==="int"?Rt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?QU(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.not_finite,message:s.message}),i.dirty()):Rt.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,i){return new fl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(i)}]})}_addCheck(t){return new fl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ge.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ge.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Rt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}fl.create=e=>new fl({checks:[],typeName:Ke.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class pl extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Re.bigint){const s=this._getOrReturnCtx(t);return Ae(s,{code:ye.invalid_type,expected:Re.bigint,received:s.parsedType}),at}let n;const i=new En;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:ye.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Rt.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ge.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ge.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ge.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ge.toString(r))}setLimit(t,r,n,i){return new pl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ge.toString(i)}]})}_addCheck(t){return new pl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ge.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}pl.create=e=>{var t;return new pl({checks:[],typeName:Ke.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ct(e)})};class hp extends gt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Re.boolean){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Re.boolean,received:n.parsedType}),at}return Bn(t.data)}}hp.create=e=>new hp({typeName:Ke.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class Lu extends gt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Re.date){const s=this._getOrReturnCtx(t);return Ae(s,{code:ye.invalid_type,expected:Re.date,received:s.parsedType}),at}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Ae(s,{code:ye.invalid_date}),at}const n=new En;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ye.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),Ae(i,{code:ye.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Rt.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Lu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ge.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ge.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Lu.create=e=>new Lu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ke.ZodDate,...ct(e)});class Bv extends gt{_parse(t){if(this._getType(t)!==Re.symbol){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Re.symbol,received:n.parsedType}),at}return Bn(t.data)}}Bv.create=e=>new Bv({typeName:Ke.ZodSymbol,...ct(e)});class fp extends gt{_parse(t){if(this._getType(t)!==Re.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Re.undefined,received:n.parsedType}),at}return Bn(t.data)}}fp.create=e=>new fp({typeName:Ke.ZodUndefined,...ct(e)});class pp extends gt{_parse(t){if(this._getType(t)!==Re.null){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Re.null,received:n.parsedType}),at}return Bn(t.data)}}pp.create=e=>new pp({typeName:Ke.ZodNull,...ct(e)});class Ld extends gt{constructor(){super(...arguments),this._any=!0}_parse(t){return Bn(t.data)}}Ld.create=e=>new Ld({typeName:Ke.ZodAny,...ct(e)});class yu extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Bn(t.data)}}yu.create=e=>new yu({typeName:Ke.ZodUnknown,...ct(e)});class Wo extends gt{_parse(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:ye.invalid_type,expected:Re.never,received:r.parsedType}),at}}Wo.create=e=>new Wo({typeName:Ke.ZodNever,...ct(e)});class Wv extends gt{_parse(t){if(this._getType(t)!==Re.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Re.void,received:n.parsedType}),at}return Bn(t.data)}}Wv.create=e=>new Wv({typeName:Ke.ZodVoid,...ct(e)});class ms extends gt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Re.array)return Ae(r,{code:ye.invalid_type,expected:Re.array,received:r.parsedType}),at;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Ae(r,{code:o?ye.too_big:ye.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ae(r,{code:ye.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ae(r,{code:ye.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Gs(r,o,r.path,a)))).then(o=>En.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new Gs(r,o,r.path,a)));return En.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new ms({...this._def,minLength:{value:t,message:Ge.toString(r)}})}max(t,r){return new ms({...this._def,maxLength:{value:t,message:Ge.toString(r)}})}length(t,r){return new ms({...this._def,exactLength:{value:t,message:Ge.toString(r)}})}nonempty(t){return this.min(1,t)}}ms.create=(e,t)=>new ms({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...ct(t)});function gc(e){if(e instanceof hr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ao.create(gc(n))}return new hr({...e._def,shape:()=>t})}else return e instanceof ms?new ms({...e._def,type:gc(e.element)}):e instanceof Ao?Ao.create(gc(e.unwrap())):e instanceof ju?ju.create(gc(e.unwrap())):e instanceof Qs?Qs.create(e.items.map(t=>gc(t))):e}class hr extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Rt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Re.object){const u=this._getOrReturnCtx(t);return Ae(u,{code:ye.invalid_type,expected:Re.object,received:u.parsedType}),at}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Wo&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=s[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Gs(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Wo){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(Ae(i,{code:ye.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Gs(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const f=await c.key;u.push({key:f,value:await c.value,alwaysSet:c.alwaysSet})}return u}).then(u=>En.mergeObjectSync(n,u)):En.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Ge.errToObj,new hr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Ge.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new hr({...this._def,unknownKeys:"strip"})}passthrough(){return new hr({...this._def,unknownKeys:"passthrough"})}extend(t){return new hr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new hr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ke.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new hr({...this._def,catchall:t})}pick(t){const r={};return Rt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new hr({...this._def,shape:()=>r})}omit(t){const r={};return Rt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new hr({...this._def,shape:()=>r})}deepPartial(){return gc(this)}partial(t){const r={};return Rt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new hr({...this._def,shape:()=>r})}required(t){const r={};return Rt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Ao;)s=s._def.innerType;r[n]=s}}),new hr({...this._def,shape:()=>r})}keyof(){return dA(Rt.objectKeys(this.shape))}}hr.create=(e,t)=>new hr({shape:()=>e,unknownKeys:"strip",catchall:Wo.create(),typeName:Ke.ZodObject,...ct(t)});hr.strictCreate=(e,t)=>new hr({shape:()=>e,unknownKeys:"strict",catchall:Wo.create(),typeName:Ke.ZodObject,...ct(t)});hr.lazycreate=(e,t)=>new hr({shape:e,unknownKeys:"strip",catchall:Wo.create(),typeName:Ke.ZodObject,...ct(t)});class mp extends gt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new ps(a.ctx.common.issues));return Ae(r,{code:ye.invalid_union,unionErrors:o}),at}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new ps(l));return Ae(r,{code:ye.invalid_union,unionErrors:a}),at}}get options(){return this._def.options}}mp.create=(e,t)=>new mp({options:e,typeName:Ke.ZodUnion,...ct(t)});const dy=e=>e instanceof vp?dy(e.schema):e instanceof vs?dy(e.innerType()):e instanceof wp?[e.value]:e instanceof ml?e.options:e instanceof bp?Object.keys(e.enum):e instanceof _p?dy(e._def.innerType):e instanceof fp?[void 0]:e instanceof pp?[null]:null;class S1 extends gt{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.object)return Ae(r,{code:ye.invalid_type,expected:Re.object,received:r.parsedType}),at;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Ae(r,{code:ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),at)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const s of r){const o=dy(s.shape[t]);if(!o)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,s)}}return new S1({typeName:Ke.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...ct(n)})}}function Z_(e,t){const r=wa(e),n=wa(t);if(e===t)return{valid:!0,data:e};if(r===Re.object&&n===Re.object){const i=Rt.objectKeys(t),s=Rt.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const l=Z_(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===Re.array&&n===Re.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],l=Z_(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Re.date&&n===Re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class gp extends gt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(J_(s)||J_(o))return at;const a=Z_(s.value,o.value);return a.valid?((K_(s)||K_(o))&&r.dirty(),{status:r.value,value:a.data}):(Ae(n,{code:ye.invalid_intersection_types}),at)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}gp.create=(e,t,r)=>new gp({left:e,right:t,typeName:Ke.ZodIntersection,...ct(r)});class Qs extends gt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.array)return Ae(n,{code:ye.invalid_type,expected:Re.array,received:n.parsedType}),at;if(n.data.length<this._def.items.length)return Ae(n,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&n.data.length>this._def.items.length&&(Ae(n,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Gs(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>En.mergeArray(r,o)):En.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Qs({...this._def,rest:t})}}Qs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qs({items:e,typeName:Ke.ZodTuple,rest:null,...ct(t)})};class yp extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.object)return Ae(n,{code:ye.invalid_type,expected:Re.object,received:n.parsedType}),at;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new Gs(n,a,n.path,a)),value:o._parse(new Gs(n,n.data[a],n.path,a))});return n.common.async?En.mergeObjectAsync(r,i):En.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof gt?new yp({keyType:t,valueType:r,typeName:Ke.ZodRecord,...ct(n)}):new yp({keyType:ds.create(),valueType:t,typeName:Ke.ZodRecord,...ct(r)})}}class zv extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.map)return Ae(n,{code:ye.invalid_type,expected:Re.map,received:n.parsedType}),at;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,l],u)=>({key:i._parse(new Gs(n,a,n.path,[u,"key"])),value:s._parse(new Gs(n,l,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return at;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return at;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}}}}zv.create=(e,t,r)=>new zv({valueType:t,keyType:e,typeName:Ke.ZodMap,...ct(r)});class Du extends gt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.set)return Ae(n,{code:ye.invalid_type,expected:Re.set,received:n.parsedType}),at;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ae(n,{code:ye.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ae(n,{code:ye.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return at;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((l,u)=>s._parse(new Gs(n,l,n.path,u)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,r){return new Du({...this._def,minSize:{value:t,message:Ge.toString(r)}})}max(t,r){return new Du({...this._def,maxSize:{value:t,message:Ge.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Du.create=(e,t)=>new Du({valueType:e,minSize:null,maxSize:null,typeName:Ke.ZodSet,...ct(t)});class Zc extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.function)return Ae(r,{code:ye.invalid_type,expected:Re.function,received:r.parsedType}),at;function n(a,l){return Mv({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,jv(),cp].filter(u=>!!u),issueData:{code:ye.invalid_arguments,argumentsError:l}})}function i(a,l){return Mv({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,jv(),cp].filter(u=>!!u),issueData:{code:ye.invalid_return_type,returnTypeError:l}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Dd){const a=this;return Bn(async function(...l){const u=new ps([]),c=await a._def.args.parseAsync(l,s).catch(w=>{throw u.addIssue(n(l,w)),u}),f=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(f,s).catch(w=>{throw u.addIssue(i(f,w)),u})})}else{const a=this;return Bn(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new ps([n(l,u.error)]);const c=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(c,s);if(!f.success)throw new ps([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Zc({...this._def,args:Qs.create(t).rest(yu.create())})}returns(t){return new Zc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Zc({args:t||Qs.create([]).rest(yu.create()),returns:r||yu.create(),typeName:Ke.ZodFunction,...ct(n)})}}class vp extends gt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}vp.create=(e,t)=>new vp({getter:e,typeName:Ke.ZodLazy,...ct(t)});class wp extends gt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ae(r,{received:r.data,code:ye.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:t.data}}get value(){return this._def.value}}wp.create=(e,t)=>new wp({value:e,typeName:Ke.ZodLiteral,...ct(t)});function dA(e,t){return new ml({values:e,typeName:Ke.ZodEnum,...ct(t)})}class ml extends gt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{expected:Rt.joinValues(n),received:r.parsedType,code:ye.invalid_type}),at}if(this._def.values.indexOf(t.data)===-1){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{received:r.data,code:ye.invalid_enum_value,options:n}),at}return Bn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t){return ml.create(t)}exclude(t){return ml.create(this.options.filter(r=>!t.includes(r)))}}ml.create=dA;class bp extends gt{_parse(t){const r=Rt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Re.string&&n.parsedType!==Re.number){const i=Rt.objectValues(r);return Ae(n,{expected:Rt.joinValues(i),received:n.parsedType,code:ye.invalid_type}),at}if(r.indexOf(t.data)===-1){const i=Rt.objectValues(r);return Ae(n,{received:n.data,code:ye.invalid_enum_value,options:i}),at}return Bn(t.data)}get enum(){return this._def.values}}bp.create=(e,t)=>new bp({values:e,typeName:Ke.ZodNativeEnum,...ct(t)});class Dd extends gt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.promise&&r.common.async===!1)return Ae(r,{code:ye.invalid_type,expected:Re.promise,received:r.parsedType}),at;const n=r.parsedType===Re.promise?r.data:Promise.resolve(r.data);return Bn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Dd.create=(e,t)=>new Dd({type:e,typeName:Ke.ZodPromise,...ct(t)});class vs extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{Ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?at:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?at:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!dp(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>dp(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);Rt.assertNever(i)}}vs.create=(e,t,r)=>new vs({schema:e,typeName:Ke.ZodEffects,effect:t,...ct(r)});vs.createWithPreprocess=(e,t,r)=>new vs({schema:t,effect:{type:"preprocess",transform:e},typeName:Ke.ZodEffects,...ct(r)});class Ao extends gt{_parse(t){return this._getType(t)===Re.undefined?Bn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ao.create=(e,t)=>new Ao({innerType:e,typeName:Ke.ZodOptional,...ct(t)});class ju extends gt{_parse(t){return this._getType(t)===Re.null?Bn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ju.create=(e,t)=>new ju({innerType:e,typeName:Ke.ZodNullable,...ct(t)});class _p extends gt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Re.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}_p.create=(e,t)=>new _p({innerType:e,typeName:Ke.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ct(t)});class qv extends gt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Fv(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ps(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ps(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}qv.create=(e,t)=>new qv({innerType:e,typeName:Ke.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ct(t)});class Uv extends gt{_parse(t){if(this._getType(t)!==Re.nan){const n=this._getOrReturnCtx(t);return Ae(n,{code:ye.invalid_type,expected:Re.nan,received:n.parsedType}),at}return{status:"valid",value:t.data}}}Uv.create=e=>new Uv({typeName:Ke.ZodNaN,...ct(e)});const JU=Symbol("zod_brand");class hA extends gt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Wm extends gt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?at:s.status==="dirty"?(r.dirty(),cA(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?at:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Wm({in:t,out:r,typeName:Ke.ZodPipeline})}}class Vv extends gt{_parse(t){const r=this._def.innerType._parse(t);return dp(r)&&(r.value=Object.freeze(r.value)),r}}Vv.create=(e,t)=>new Vv({innerType:e,typeName:Ke.ZodReadonly,...ct(t)});const fA=(e,t={},r)=>e?Ld.create().superRefine((n,i)=>{var s,o;if(!e(n)){const a=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,l=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):Ld.create(),KU={object:hr.lazycreate};var Ke;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const ZU=(e,t={message:`Input not instance of ${e.name}`})=>fA(r=>r instanceof e,t),pA=ds.create,mA=fl.create,YU=Uv.create,XU=pl.create,gA=hp.create,eV=Lu.create,tV=Bv.create,rV=fp.create,nV=pp.create,iV=Ld.create,sV=yu.create,oV=Wo.create,aV=Wv.create,lV=ms.create,uV=hr.create,cV=hr.strictCreate,dV=mp.create,hV=S1.create,fV=gp.create,pV=Qs.create,mV=yp.create,gV=zv.create,yV=Du.create,vV=Zc.create,wV=vp.create,bV=wp.create,_V=ml.create,xV=bp.create,NV=Dd.create,hC=vs.create,SV=Ao.create,kV=ju.create,EV=vs.createWithPreprocess,CV=Wm.create,TV=()=>pA().optional(),OV=()=>mA().optional(),RV=()=>gA().optional(),PV={string:e=>ds.create({...e,coerce:!0}),number:e=>fl.create({...e,coerce:!0}),boolean:e=>hp.create({...e,coerce:!0}),bigint:e=>pl.create({...e,coerce:!0}),date:e=>Lu.create({...e,coerce:!0})},AV=at;var Ds=Object.freeze({__proto__:null,defaultErrorMap:cp,setErrorMap:DU,getErrorMap:jv,makeIssue:Mv,EMPTY_PATH:jU,addIssueToContext:Ae,ParseStatus:En,INVALID:at,DIRTY:cA,OK:Bn,isAborted:J_,isDirty:K_,isValid:dp,isAsync:Fv,get util(){return Rt},get objectUtil(){return Q_},ZodParsedType:Re,getParsedType:wa,ZodType:gt,ZodString:ds,ZodNumber:fl,ZodBigInt:pl,ZodBoolean:hp,ZodDate:Lu,ZodSymbol:Bv,ZodUndefined:fp,ZodNull:pp,ZodAny:Ld,ZodUnknown:yu,ZodNever:Wo,ZodVoid:Wv,ZodArray:ms,ZodObject:hr,ZodUnion:mp,ZodDiscriminatedUnion:S1,ZodIntersection:gp,ZodTuple:Qs,ZodRecord:yp,ZodMap:zv,ZodSet:Du,ZodFunction:Zc,ZodLazy:vp,ZodLiteral:wp,ZodEnum:ml,ZodNativeEnum:bp,ZodPromise:Dd,ZodEffects:vs,ZodTransformer:vs,ZodOptional:Ao,ZodNullable:ju,ZodDefault:_p,ZodCatch:qv,ZodNaN:Uv,BRAND:JU,ZodBranded:hA,ZodPipeline:Wm,ZodReadonly:Vv,custom:fA,Schema:gt,ZodSchema:gt,late:KU,get ZodFirstPartyTypeKind(){return Ke},coerce:PV,any:iV,array:lV,bigint:XU,boolean:gA,date:eV,discriminatedUnion:hV,effect:hC,enum:_V,function:vV,instanceof:ZU,intersection:fV,lazy:wV,literal:bV,map:gV,nan:YU,nativeEnum:xV,never:oV,null:nV,nullable:kV,number:mA,object:uV,oboolean:RV,onumber:OV,optional:SV,ostring:TV,pipeline:CV,preprocess:EV,promise:NV,record:mV,set:yV,strictObject:cV,string:pA,symbol:tV,transformer:hC,tuple:pV,undefined:rV,union:dV,unknown:sV,void:aV,NEVER:AV,ZodIssueCode:ye,quotelessJson:LU,ZodError:ps});const zo=Ds.object({}),yA="/resource",IV=th.define({method:"get",path:"/masterdata"}),$V=rh.define({_in:{},_out:{}}),LV=nh.define({req:zo,resp:zo}),DV=ih.define({endpoint:IV,inout:$V,schema:LV}),vA={masterdata:DV},e2="/journal",jV=Ds.object({startDate:Ds.string(),endDate:Ds.string()}),MV=th.define({method:"get",path:"/list"}),FV=rh.define({_in:{},_out:{}}),BV=nh.define({req:jV,resp:zo}),WV=ih.define({endpoint:MV,inout:FV,schema:BV}),zV=Ds.object({id:Ds.string()}),qV=th.define({method:"get",path:"/entry"}),UV=rh.define({_in:{},_out:{}}),VV=nh.define({req:zV,resp:zo}),HV=ih.define({endpoint:qV,inout:UV,schema:VV}),GV=th.define({method:"post",path:"/create"}),QV=rh.define({_in:{},_out:{}}),JV=nh.define({req:zo,resp:zo}),KV=ih.define({endpoint:GV,inout:QV,schema:JV}),ZV=th.define({method:"post",path:"/edit"}),YV=rh.define({_in:{},_out:{}}),XV=nh.define({req:zo,resp:zo}),eH=ih.define({endpoint:ZV,inout:YV,schema:XV}),t2={list:WV,get:HV,create:KV,edit:eH},wA="/ledger",tH=Ds.object({code:Ds.coerce.number(),startDate:Ds.string(),endDate:Ds.string()}),rH=th.define({method:"get",path:"/list"}),nH=rh.define({_in:{},_out:{}}),iH=nh.define({req:tH,resp:zo}),sH=ih.define({endpoint:rH,inout:nH,schema:iH}),bA={list:sH};var oH={Stringify:1,BeforeStream:2,Stream:3},aH=(e,t)=>{const r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},_A=async(e,t,r,n,i)=>{const s=e.callbacks;if(!(s!=null&&s.length))return Promise.resolve(e);i?i[0]+=e:i=[e];const o=Promise.all(s.map(a=>a({phase:t,buffer:i,context:n}))).then(a=>Promise.all(a.filter(Boolean).map(l=>_A(l,t,!1,n,i))).then(()=>i[0]));return r?aH(await o,s):o},lH="text/plain; charset=UTF-8",qw=(e,t={})=>(Object.entries(t).forEach(([r,n])=>e.set(r,n)),e),du,wo,yr,Cr,ts,bo,BT,hy=(BT=class{constructor(t,r){be(this,"req");be(this,"env",{});be(this,"_var",{});be(this,"finalized",!1);be(this,"error");Y(this,du,200);Y(this,wo,void 0);Y(this,yr,void 0);Y(this,Cr,void 0);Y(this,ts,void 0);Y(this,bo,!0);be(this,"layout");be(this,"renderer",t=>this.html(t));be(this,"notFoundHandler",()=>new Response);be(this,"render",(...t)=>this.renderer(...t));be(this,"setLayout",t=>this.layout=t);be(this,"getLayout",()=>this.layout);be(this,"setRenderer",t=>{this.renderer=t});be(this,"header",(t,r,n)=>{if(r===void 0){d(this,yr)?d(this,yr).delete(t):d(this,Cr)&&delete d(this,Cr)[t.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(t);return}n!=null&&n.append?(d(this,yr)||(te(this,bo,!1),te(this,yr,new Headers(d(this,Cr))),te(this,Cr,{})),d(this,yr).append(t,r)):d(this,yr)?d(this,yr).set(t,r):(d(this,Cr)??te(this,Cr,{}),d(this,Cr)[t.toLowerCase()]=r),this.finalized&&(n!=null&&n.append?this.res.headers.append(t,r):this.res.headers.set(t,r))});be(this,"status",t=>{te(this,bo,!1),te(this,du,t)});be(this,"set",(t,r)=>{this._var??(this._var={}),this._var[t]=r});be(this,"get",t=>this._var?this._var[t]:void 0);be(this,"newResponse",(t,r,n)=>{if(d(this,bo)&&!n&&!r&&d(this,du)===200)return new Response(t,{headers:d(this,Cr)});if(r&&typeof r!="number"){const s=new Headers(r.headers);d(this,yr)&&d(this,yr).forEach((a,l)=>{s.set(l,a)});const o=qw(s,d(this,Cr));return new Response(t,{headers:o,status:r.status??d(this,du)})}const i=typeof r=="number"?r:d(this,du);d(this,Cr)??te(this,Cr,{}),d(this,yr)??te(this,yr,new Headers),qw(d(this,yr),d(this,Cr)),d(this,ts)&&(d(this,ts).headers.forEach((s,o)=>{var a;(a=d(this,yr))==null||a.set(o,s)}),qw(d(this,yr),d(this,Cr))),n??(n={});for(const[s,o]of Object.entries(n))if(typeof o=="string")d(this,yr).set(s,o);else{d(this,yr).delete(s);for(const a of o)d(this,yr).append(s,a)}return new Response(t,{status:i,headers:d(this,yr)})});be(this,"body",(t,r,n)=>typeof r=="number"?this.newResponse(t,r,n):this.newResponse(t,r));be(this,"text",(t,r,n)=>{if(!d(this,Cr)){if(d(this,bo)&&!n&&!r)return new Response(t);te(this,Cr,{})}return d(this,Cr)["content-type"]=lH,typeof r=="number"?this.newResponse(t,r,n):this.newResponse(t,r)});be(this,"json",(t,r,n)=>{const i=JSON.stringify(t);return d(this,Cr)??te(this,Cr,{}),d(this,Cr)["content-type"]="application/json; charset=UTF-8",typeof r=="number"?this.newResponse(i,r,n):this.newResponse(i,r)});be(this,"html",(t,r,n)=>(d(this,Cr)??te(this,Cr,{}),d(this,Cr)["content-type"]="text/html; charset=UTF-8",typeof t=="object"&&(t instanceof Promise||(t=t.toString()),t instanceof Promise)?t.then(i=>_A(i,oH.Stringify,!1,{})).then(i=>typeof r=="number"?this.newResponse(i,r,n):this.newResponse(i,r)):typeof r=="number"?this.newResponse(t,r,n):this.newResponse(t,r)));be(this,"redirect",(t,r=302)=>(d(this,yr)??te(this,yr,new Headers),d(this,yr).set("Location",t),this.newResponse(null,r)));be(this,"notFound",()=>this.notFoundHandler(this));this.req=t,r&&(te(this,wo,r.executionCtx),this.env=r.env,r.notFoundHandler&&(this.notFoundHandler=r.notFoundHandler))}get event(){if(d(this,wo)&&"respondWith"in d(this,wo))return d(this,wo);throw Error("This context has no FetchEvent")}get executionCtx(){if(d(this,wo))return d(this,wo);throw Error("This context has no ExecutionContext")}get res(){return te(this,bo,!1),d(this,ts)||te(this,ts,new Response("404 Not Found",{status:404}))}set res(t){if(te(this,bo,!1),d(this,ts)&&t){d(this,ts).headers.delete("content-type");for(const[r,n]of d(this,ts).headers.entries())if(r==="set-cookie"){const i=d(this,ts).headers.getSetCookie();t.headers.delete("set-cookie");for(const s of i)t.headers.append("set-cookie",s)}else t.headers.set(r,n)}te(this,ts,t),this.finalized=!0}get var(){return{...this._var}}},du=new WeakMap,wo=new WeakMap,yr=new WeakMap,Cr=new WeakMap,ts=new WeakMap,bo=new WeakMap,BT),fC=(e,t,r)=>(n,i)=>{let s=-1;return o(0);async function o(a){if(a<=s)throw new Error("next() called multiple times");s=a;let l,u=!1,c;if(e[a]?(c=e[a][0][0],n instanceof hy&&(n.req.routeIndex=a)):c=a===e.length&&i||void 0,!c)n instanceof hy&&n.finalized===!1&&r&&(l=await r(n));else try{l=await c(n,()=>o(a+1))}catch(f){if(f instanceof Error&&n instanceof hy&&t)n.error=f,l=await t(f,n),u=!0;else throw f}return l&&(n.finalized===!1||u)&&(n.res=l),n}},uH=class extends Error{constructor(t=500,r){super(r==null?void 0:r.message,{cause:r==null?void 0:r.cause});be(this,"res");be(this,"status");this.res=r==null?void 0:r.res,this.status=t}getResponse(){return this.res?this.res:new Response(this.message,{status:this.status})}},cH=async(e,t={all:!1})=>{const n=(e instanceof EA?e.raw.headers:e.headers).get("Content-Type");return dH(n)?hH(e,t):{}};function dH(e){return e===null?!1:e.startsWith("multipart/form-data")||e.startsWith("application/x-www-form-urlencoded")}async function hH(e,t){const r=await e.formData();return r?fH(r,t):{}}function fH(e,t){const r={};return e.forEach((n,i)=>{t.all||i.endsWith("[]")?pH(r,i,n):r[i]=n}),r}var pH=(e,t,r)=>{e[t]&&mH(e[t])?gH(e[t],r):e[t]?yH(e,t,r):e[t]=r};function mH(e){return Array.isArray(e)}var gH=(e,t)=>{e.push(t)},yH=(e,t,r)=>{e[t]=[e[t],r]},xA=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},vH=e=>{const{groups:t,path:r}=wH(e),n=xA(r);return bH(n,t)},wH=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{const i=`@${n}`;return t.push([i,r]),i}),{groups:t,path:e}},bH=(e,t)=>{for(let r=t.length-1;r>=0;r--){const[n]=t[r];for(let i=e.length-1;i>=0;i--)if(e[i].includes(n)){e[i]=e[i].replace(n,t[r][1]);break}}return e},Dg={},pC=e=>{if(e==="*")return"*";const t=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);return t?(Dg[e]||(t[2]?Dg[e]=[e,t[1],new RegExp("^"+t[2]+"$")]:Dg[e]=[e,t[1],!0]),Dg[e]):null},NA=e=>{const t=e.url,r=t.indexOf("?",8);return t.slice(t.indexOf("/",8),r===-1?void 0:r)},_H=e=>{const t=e.indexOf("?",8);return t===-1?"":"?"+e.slice(t+1)},xH=e=>{const t=NA(e);return t.length>1&&t[t.length-1]==="/"?t.slice(0,-1):t},Lh=(...e)=>{let t="",r=!1;for(let n of e)t[t.length-1]==="/"&&(t=t.slice(0,-1),r=!0),n[0]!=="/"&&(n=`/${n}`),n==="/"&&r?t=`${t}/`:n!=="/"&&(t=`${t}${n}`),n==="/"&&t===""&&(t="/");return t},SA=e=>{if(!e.match(/\:.+\?$/))return null;const t=e.split("/"),r=[];let n="";return t.forEach(i=>{if(i!==""&&!/\:/.test(i))n+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){r.length===0&&n===""?r.push("/"):r.push(n);const s=i.replace("?","");n+="/"+s,r.push(n)}else n+="/"+i}),r.filter((i,s,o)=>o.indexOf(i)===s)},Uw=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),/%/.test(e)?Y_(e):e):e,kA=(e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let o=e.indexOf(`?${t}`,8);for(o===-1&&(o=e.indexOf(`&${t}`,8));o!==-1;){const a=e.charCodeAt(o+t.length+1);if(a===61){const l=o+t.length+2,u=e.indexOf("&",l);return Uw(e.slice(l,u===-1?void 0:u))}else if(a==38||isNaN(a))return"";o=e.indexOf(`&${t}`,o+1)}if(n=/[%+]/.test(e),!n)return}const i={};n??(n=/[%+]/.test(e));let s=e.indexOf("?",8);for(;s!==-1;){const o=e.indexOf("&",s+1);let a=e.indexOf("=",s);a>o&&o!==-1&&(a=-1);let l=e.slice(s+1,a===-1?o===-1?void 0:o:a);if(n&&(l=Uw(l)),s=o,l==="")continue;let u;a===-1?u="":(u=e.slice(a+1,o===-1?void 0:o),n&&(u=Uw(u))),r?(i[l]&&Array.isArray(i[l])||(i[l]=[]),i[l].push(u)):i[l]??(i[l]=u)}return t?i[t]:i},NH=kA,SH=(e,t)=>kA(e,t,!0),Y_=decodeURIComponent,bd,rs,WT,EA=(WT=class{constructor(e,t="/",r=[[]]){be(this,"raw");Y(this,bd,void 0);Y(this,rs,void 0);be(this,"routeIndex",0);be(this,"path");be(this,"bodyCache",{});be(this,"cachedBody",e=>{const{bodyCache:t,raw:r}=this,n=t[e];return n||(t.arrayBuffer?(async()=>await new Response(t.arrayBuffer)[e]())():t[e]=r[e]())});this.raw=e,this.path=t,te(this,rs,r),te(this,bd,{})}param(e){return e?this.getDecodedParam(e):this.getAllDecodedParams()}getDecodedParam(e){const t=d(this,rs)[0][this.routeIndex][1][e],r=this.getParamValue(t);return r?/\%/.test(r)?Y_(r):r:void 0}getAllDecodedParams(){const e={},t=Object.keys(d(this,rs)[0][this.routeIndex][1]);for(const r of t){const n=this.getParamValue(d(this,rs)[0][this.routeIndex][1][r]);n&&typeof n=="string"&&(e[r]=/\%/.test(n)?Y_(n):n)}return e}getParamValue(e){return d(this,rs)[1]?d(this,rs)[1][e]:e}query(e){return NH(this.url,e)}queries(e){return SH(this.url,e)}header(e){if(e)return this.raw.headers.get(e.toLowerCase())??void 0;const t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){if(this.bodyCache.parsedBody)return this.bodyCache.parsedBody;const t=await cH(this,e);return this.bodyCache.parsedBody=t,t}json(){return this.cachedBody("json")}text(){return this.cachedBody("text")}arrayBuffer(){return this.cachedBody("arrayBuffer")}blob(){return this.cachedBody("blob")}formData(){return this.cachedBody("formData")}addValidatedData(e,t){d(this,bd)[e]=t}valid(e){return d(this,bd)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return d(this,rs)[0].map(([[,e]])=>e)}get routePath(){return d(this,rs)[0].map(([[,e]])=>e)[this.routeIndex].path}},bd=new WeakMap,rs=new WeakMap,WT),zr="ALL",kH="all",EH=["get","post","put","delete","options","patch"],CA="Can not add a route since the matcher is already built.",TA=class extends Error{},CH=Symbol("composedHandler");function TH(){return class{}}var OH=e=>e.text("404 Not Found",404),mC=(e,t)=>e instanceof uH?e.getResponse():(console.error(e),t.text("Internal Server Error",500)),ns,zT,OA=(zT=class extends TH(){constructor(r={}){super();be(this,"router");be(this,"getPath");be(this,"_basePath","/");Y(this,ns,"/");be(this,"routes",[]);be(this,"notFoundHandler",OH);be(this,"errorHandler",mC);be(this,"onError",r=>(this.errorHandler=r,this));be(this,"notFound",r=>(this.notFoundHandler=r,this));be(this,"fetch",(r,n,i)=>this.dispatch(r,i,n,r.method));be(this,"request",(r,n,i,s)=>{if(r instanceof Request)return n!==void 0&&(r=new Request(r,n)),this.fetch(r,i,s);r=r.toString();const o=/^https?:\/\//.test(r)?r:`http://localhost${Lh("/",r)}`,a=new Request(o,n);return this.fetch(a,i,s)});be(this,"fire",()=>{addEventListener("fetch",r=>{r.respondWith(this.dispatch(r.request,r,void 0,r.request.method))})});[...EH,kH].forEach(s=>{this[s]=(o,...a)=>(typeof o=="string"?te(this,ns,o):this.addRoute(s,d(this,ns),o),a.forEach(l=>{typeof l!="string"&&this.addRoute(s,d(this,ns),l)}),this)}),this.on=(s,o,...a)=>{if(!s)return this;for(const l of[o].flat()){te(this,ns,l);for(const u of[s].flat())a.map(c=>{this.addRoute(u.toUpperCase(),d(this,ns),c)})}return this},this.use=(s,...o)=>(typeof s=="string"?te(this,ns,s):(te(this,ns,"*"),o.unshift(s)),o.forEach(a=>{this.addRoute(zr,d(this,ns),a)}),this);const i=r.strict??!0;delete r.strict,Object.assign(this,r),this.getPath=i?r.getPath??NA:xH}clone(){const r=new OA({router:this.router,getPath:this.getPath});return r.routes=this.routes,r}route(r,n){const i=this.basePath(r);return n?(n.routes.map(s=>{let o;n.errorHandler===mC?o=s.handler:(o=async(a,l)=>(await fC([],n.errorHandler)(a,()=>s.handler(a,l))).res,o[CH]=s.handler),i.addRoute(s.method,s.path,o)}),this):i}basePath(r){const n=this.clone();return n._basePath=Lh(this._basePath,r),n}mount(r,n,i){const s=Lh(this._basePath,r),o=s==="/"?0:s.length,a=async(l,u)=>{let c;try{c=l.executionCtx}catch{}const f=i?i(l):[l.env,c],p=Array.isArray(f)?f:[f],w=_H(l.req.url),b=await n(new Request(new URL((l.req.path.slice(o)||"/")+w,l.req.url),l.req.raw),...p);if(b)return b;await u()};return this.addRoute(zr,Lh(r,"*"),a),this}addRoute(r,n,i){r=r.toUpperCase(),n=Lh(this._basePath,n);const s={path:n,method:r,handler:i};this.router.add(r,n,[i,s]),this.routes.push(s)}matchRoute(r,n){return this.router.match(r,n)}handleError(r,n){if(r instanceof Error)return this.errorHandler(r,n);throw r}dispatch(r,n,i,s){if(s==="HEAD")return(async()=>new Response(null,await this.dispatch(r,n,i,"GET")))();const o=this.getPath(r,{env:i}),a=this.matchRoute(s,o),l=new hy(new EA(r,o,a),{env:i,executionCtx:n,notFoundHandler:this.notFoundHandler});if(a[0].length===1){let c;try{c=a[0][0][0][0](l,async()=>{l.res=await this.notFoundHandler(l)})}catch(f){return this.handleError(f,l)}return c instanceof Promise?c.then(f=>f||(l.finalized?l.res:this.notFoundHandler(l))).catch(f=>this.handleError(f,l)):c}const u=fC(a[0],this.errorHandler,this.notFoundHandler);return(async()=>{try{const c=await u(l);if(!c.finalized)throw new Error("Context is not finalized. You may forget returning Response object or `await next()`");return c.res}catch(c){return this.handleError(c,l)}})()}},ns=new WeakMap,zT),Hv="[^/]+",hf=".*",ff="(?:|/.*)",qh=Symbol(),RH=new Set(".\\+*[^]$()");function PH(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===hf||e===ff?1:t===hf||t===ff?-1:e===Hv?1:t===Hv?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var X_=class{constructor(){be(this,"index");be(this,"varIndex");be(this,"children",Object.create(null))}insert(t,r,n,i,s){if(t.length===0){if(this.index!==void 0)throw qh;if(s)return;this.index=r;return}const[o,...a]=t,l=o==="*"?a.length===0?["","",hf]:["","",Hv]:o==="/*"?["","",ff]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let u;if(l){const c=l[1];let f=l[2]||Hv;if(c&&l[2]&&(f=f.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(f)))throw qh;if(u=this.children[f],!u){if(Object.keys(this.children).some(p=>p!==hf&&p!==ff))throw qh;if(s)return;u=this.children[f]=new X_,c!==""&&(u.varIndex=i.varIndex++)}!s&&c!==""&&n.push([c,u.varIndex])}else if(u=this.children[o],!u){if(Object.keys(this.children).some(c=>c.length>1&&c!==hf&&c!==ff))throw qh;if(s)return;u=this.children[o]=new X_}u.insert(a,r,n,i,s)}buildRegExpStr(){const r=Object.keys(this.children).sort(PH).map(n=>{const i=this.children[n];return(typeof i.varIndex=="number"?`(${n})@${i.varIndex}`:RH.has(n)?`\\${n}`:n)+i.buildRegExpStr()});return typeof this.index=="number"&&r.unshift(`#${this.index}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}},AH=class{constructor(){be(this,"context",{varIndex:0});be(this,"root",new X_)}insert(e,t,r){const n=[],i=[];for(let o=0;;){let a=!1;if(e=e.replace(/\{[^}]+\}/g,l=>{const u=`@\\${o}`;return i[o]=[u,l],o++,a=!0,u}),!a)break}const s=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=i.length-1;o>=0;o--){const[a]=i[o];for(let l=s.length-1;l>=0;l--)if(s[l].indexOf(a)!==-1){s[l]=s[l].replace(a,i[o][1]);break}}return this.root.insert(s,t,n,this.context,r),n}buildRegExp(){let e=this.root.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,s,o)=>typeof s<"u"?(r[++t]=Number(s),"$()"):(typeof o<"u"&&(n[Number(o)]=++t),"")),[new RegExp(`^${e}`),r,n]}},RA=[],IH=[/^$/,[],Object.create(null)],fy=Object.create(null);function PA(e){return fy[e]??(fy[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`))}function $H(){fy=Object.create(null)}function LH(e){var u;const t=new AH,r=[];if(e.length===0)return IH;const n=e.map(c=>[!/\*|\/:/.test(c[0]),...c]).sort(([c,f],[p,w])=>c?1:p?-1:f.length-w.length),i=Object.create(null);for(let c=0,f=-1,p=n.length;c<p;c++){const[w,b,x]=n[c];w?i[b]=[x.map(([g])=>[g,Object.create(null)]),RA]:f++;let E;try{E=t.insert(b,f,w)}catch(g){throw g===qh?new TA(b):g}w||(r[f]=x.map(([g,v])=>{const N=Object.create(null);for(v-=1;v>=0;v--){const[O,R]=E[v];N[O]=R}return[g,N]}))}const[s,o,a]=t.buildRegExp();for(let c=0,f=r.length;c<f;c++)for(let p=0,w=r[c].length;p<w;p++){const b=(u=r[c][p])==null?void 0:u[1];if(!b)continue;const x=Object.keys(b);for(let E=0,g=x.length;E<g;E++)b[x[E]]=a[b[x[E]]]}const l=[];for(const c in o)l[c]=r[o[c]];return[s,l,i]}function sc(e,t){if(e){for(const r of Object.keys(e).sort((n,i)=>i.length-n.length))if(PA(r).test(t))return[...e[r]]}}var DH=class{constructor(){be(this,"name","RegExpRouter");be(this,"middleware");be(this,"routes");this.middleware={[zr]:Object.create(null)},this.routes={[zr]:Object.create(null)}}add(e,t,r){var a;const{middleware:n,routes:i}=this;if(!n||!i)throw new Error(CA);n[e]||[n,i].forEach(l=>{l[e]=Object.create(null),Object.keys(l[zr]).forEach(u=>{l[e][u]=[...l[zr][u]]})}),t==="/*"&&(t="*");const s=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const l=PA(t);e===zr?Object.keys(n).forEach(u=>{var c;(c=n[u])[t]||(c[t]=sc(n[u],t)||sc(n[zr],t)||[])}):(a=n[e])[t]||(a[t]=sc(n[e],t)||sc(n[zr],t)||[]),Object.keys(n).forEach(u=>{(e===zr||e===u)&&Object.keys(n[u]).forEach(c=>{l.test(c)&&n[u][c].push([r,s])})}),Object.keys(i).forEach(u=>{(e===zr||e===u)&&Object.keys(i[u]).forEach(c=>l.test(c)&&i[u][c].push([r,s]))});return}const o=SA(t)||[t];for(let l=0,u=o.length;l<u;l++){const c=o[l];Object.keys(i).forEach(f=>{var p;(e===zr||e===f)&&((p=i[f])[c]||(p[c]=[...sc(n[f],c)||sc(n[zr],c)||[]]),i[f][c].push([r,s-u+l+1]))})}}match(e,t){$H();const r=this.buildAllMatchers();return this.match=(n,i)=>{const s=r[n]||r[zr],o=s[2][i];if(o)return o;const a=i.match(s[0]);if(!a)return[[],RA];const l=a.indexOf("",1);return[s[1][l],a]},this.match(e,t)}buildAllMatchers(){const e=Object.create(null);return[...Object.keys(this.routes),...Object.keys(this.middleware)].forEach(t=>{e[t]||(e[t]=this.buildMatcher(t))}),this.middleware=this.routes=void 0,e}buildMatcher(e){const t=[];let r=e===zr;return[this.middleware,this.routes].forEach(n=>{const i=n[e]?Object.keys(n[e]).map(s=>[s,n[e][s]]):[];i.length!==0?(r||(r=!0),t.push(...i)):e!==zr&&t.push(...Object.keys(n[zr]).map(s=>[s,n[zr][s]]))}),r?LH(t):null}},jH=class{constructor(e){be(this,"name","SmartRouter");be(this,"routers",[]);be(this,"routes",[]);Object.assign(this,e)}add(e,t,r){if(!this.routes)throw new Error(CA);this.routes.push([e,t,r])}match(e,t){if(!this.routes)throw new Error("Fatal error");const{routers:r,routes:n}=this,i=r.length;let s=0,o;for(;s<i;s++){const a=r[s];try{n.forEach(l=>{a.add(...l)}),o=a.match(e,t)}catch(l){if(l instanceof TA)continue;throw l}this.match=a.match.bind(a),this.routers=[a],this.routes=void 0;break}if(s===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(this.routes||this.routers.length!==1)throw new Error("No active router has been determined yet.");return this.routers[0]}},AA=class{constructor(t,r,n){be(this,"methods");be(this,"children");be(this,"patterns");be(this,"order",0);be(this,"name");be(this,"params",Object.create(null));if(this.children=n||Object.create(null),this.methods=[],this.name="",t&&r){const i=Object.create(null);i[t]={handler:r,possibleKeys:[],score:0,name:this.name},this.methods=[i]}this.patterns=[]}insert(t,r,n){this.name=`${t} ${r}`,this.order=++this.order;let i=this;const s=vH(r),o=[],a=[];for(let c=0,f=s.length;c<f;c++){const p=s[c];if(Object.keys(i.children).includes(p)){a.push(...i.patterns),i=i.children[p];const b=pC(p);b&&o.push(b[1]);continue}i.children[p]=new AA;const w=pC(p);w&&(i.patterns.push(w),a.push(...i.patterns),o.push(w[1])),a.push(...i.patterns),i=i.children[p]}i.methods.length||(i.methods=[]);const l=Object.create(null),u={handler:n,possibleKeys:o.filter((c,f,p)=>p.indexOf(c)===f),name:this.name,score:this.order};return l[t]=u,i.methods.push(l),i}gHSets(t,r,n,i){const s=[];for(let o=0,a=t.methods.length;o<a;o++){const l=t.methods[o],u=l[r]||l[zr],c=Object.create(null);u!==void 0&&(u.params=Object.create(null),u.possibleKeys.forEach(f=>{const p=c[u.name];u.params[f]=i[f]&&!p?i[f]:n[f]??i[f],c[u.name]=!0}),s.push(u))}return s}search(t,r){const n=[];this.params=Object.create(null);let s=[this];const o=xA(r);for(let l=0,u=o.length;l<u;l++){const c=o[l],f=l===u-1,p=[];for(let w=0,b=s.length;w<b;w++){const x=s[w],E=x.children[c];E&&(E.params=x.params,f===!0?(E.children["*"]&&n.push(...this.gHSets(E.children["*"],t,x.params,Object.create(null))),n.push(...this.gHSets(E,t,x.params,Object.create(null)))):p.push(E));for(let g=0,v=x.patterns.length;g<v;g++){const N=x.patterns[g],O={...x.params};if(N==="*"){const F=x.children["*"];F&&(n.push(...this.gHSets(F,t,x.params,Object.create(null))),p.push(F));continue}if(c==="")continue;const[R,C,$]=N,L=x.children[R],G=o.slice(l).join("/");if($ instanceof RegExp&&$.test(G)){O[C]=G,n.push(...this.gHSets(L,t,x.params,O));continue}($===!0||$ instanceof RegExp&&$.test(c))&&typeof R=="string"&&(O[C]=c,f===!0?(n.push(...this.gHSets(L,t,O,x.params)),L.children["*"]&&n.push(...this.gHSets(L.children["*"],t,O,x.params))):(L.params=O,p.push(L)))}}s=p}return[n.sort((l,u)=>l.score-u.score).map(({handler:l,params:u})=>[l,u])]}},MH=class{constructor(){be(this,"name","TrieRouter");be(this,"node");this.node=new AA}add(e,t,r){const n=SA(t);if(n){for(const i of n)this.node.insert(e,i,r);return}this.node.insert(e,t,r)}match(e,t){return this.node.search(e,t)}},k1=class extends OA{constructor(e={}){super(e),this.router=e.router??new jH({routers:[new DH,new MH]})}};const FH=async(e,t)=>{e.transaction().execute(async o=>{});const r=await e.selectFrom(N1).innerJoin("ledgerTransaction",o=>o.onRef("ledgerTransaction.entryId","=","accountTransaction.entryId")).selectAll().where("accountTransaction.entryId","=",t).execute();if(r.length<=0)throw new Error("not found");const[n,i]=r;if(!n)throw new Error("not found");const s=r.map(Hn.fromRow).map(Hn.validate).sort(Hn.compare);return{id:n.entryId,brief:n.brief,date:n.date,lines:s}},BH=async(e,t)=>{const r=await e.selectFrom(N1).innerJoin("ledgerTransaction",o=>o.onRef("ledgerTransaction.entryId","=","accountTransaction.entryId")).selectAll().where("accountTransaction.date",">=",t.start).where("accountTransaction.date","<",t.end).orderBy("date asc").execute();if(r.length===0)return[];const n=Lv(r,o=>o.entryId);return Object.entries(n).map(([o,a])=>{const l=a[0];if(!l)throw new Error("not found");const u=a.map(Hn.fromRow).map(Hn.validate).sort(Hn.compare);return{id:o,brief:l.brief,date:l.date,lines:u}})},WH=async(e,t)=>await e.insertInto(N1).values(t).executeTakeFirstOrThrow(),IA={findById:FH,findByDateRange:BH,insertBulk:WH},Dc=(e,t,r,n)=>{e[r.endpoint.method](r.endpoint.path,async i=>{var l;const s=await $n.fromPromise(i.req.json(),u=>u),o={...i.req.query(),...s.unwrapOr({})},a=r.schema.req.safeParse(o);if(!a.success){const{error:u}=a,f={message:(l=u.issues[0])==null?void 0:l.message,issues:u.issues};return i.json(f,400)}try{const u=a.data,c=new RU({body:u,db:t}),f=await n(c);return i.json(f.body)}catch(u){const f=u.status??500;if(u instanceof Error){const w=(u.stack??"").split(`
`).map(x=>x.trim()),b={name:u.name,message:u.message,stack:w};return i.json(b,f)}const p={message:"Unknown error"};return i.json(p,f)}})},jg=t2,zH=async e=>{const{startDate:t,endDate:r}=e.body,n=await IA.findByDateRange(e.db,{start:t,end:r});return new eh({entries:n})},qH=async e=>{const{id:t}=e.body,r=await IA.findById(e.db,t);return new eh(r)},UH=async e=>{const t=e.body;return console.log(JSON.stringify(t,null,2)),new eh(t)},VH=async e=>{const t=e.body;return console.log(JSON.stringify(t,null,2)),new eh(t)},HH=e=>{const t=new k1;return Dc(t,e,jg.list,zH),Dc(t,e,jg.get,qH),Dc(t,e,jg.create,UH),Dc(t,e,jg.edit,VH),t},gC={path:e2,createApp:HH},GH=async(e,t,r)=>await e.selectFrom(lA).selectAll().where("code","=",t).where("date","=",r).executeTakeFirst(),QH=async(e,t)=>await e.selectFrom(lA).selectAll().where("date","=",t).execute(),JH={loadByPrimaryKey:GH,loadByDate:QH};class Mi{constructor(t,r,n,i,s){this.kind=t,this.input=r,this.begin=n,this.end=i,this.file=s}getText(){return this.input.slice(this.begin,this.end)}getPosition(){let[t,r]=[1,1];for(let n=0;n<this.begin;n++)this.input[n]===`
`?(t++,r=1):r++;return[t,r]}size(){return this.end-this.begin}}class Gu{liquidMethodMissing(t){}}const KH=Object.prototype.toString,yC=String.prototype.toLowerCase,$A=Object.hasOwnProperty;function Xo(e){return typeof e=="string"}function Fn(e){return typeof e=="function"}function ZH(e){return e&&Fn(e.then)}function Gv(e){return e&&Fn(e.next)&&Fn(e.throw)&&Fn(e.return)}function YH(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(e){return e=ot(e),Xo(e)?e:ea(e)?"":rn(e)?e.map(t=>tt(t)).join(""):String(e)}function ot(e){return e instanceof Gu&&Fn(e.valueOf)?e.valueOf():e}function E1(e){return typeof e=="number"}function LA(e){return e&&Fn(e.toLiquid)?LA(e.toLiquid()):e}function ea(e){return e==null}function XH(e){return e===void 0}function rn(e){return KH.call(e)==="[object Array]"}function eG(e){return r2(e)&&Symbol.iterator in e}function vC(e,t){e=e||{};for(const r in e)if($A.call(e,r)&&t(e[r],r,e)===!1)break;return e}function DA(e){return e[e.length-1]}function r2(e){const t=typeof e;return e!==null&&(t==="object"||t==="function")}function jA(e,t,r=1){const n=[];for(let i=e;i<t;i+=r)n.push(i);return n}function xp(e,t,r=" "){return MA(e,t,r,(n,i)=>i+n)}function tG(e,t,r=" "){return MA(e,t,r,(n,i)=>n+i)}function MA(e,t,r,n){e=String(e);let i=t-e.length;for(;i-- >0;)e=n(e,r);return e}function FA(e){return e}function rG(e){return[...e].some(r=>r>="a"&&r<="z")?e.toUpperCase():e.toLowerCase()}function nG(e,t){return e.length>t?e.slice(0,t-3)+"...":e}function wC(e,t){return e==null&&t==null?0:e==null?1:t==null||(e=yC.call(e),t=yC.call(t),e<t)?-1:e>t?1:0}function Ni(e){return(...t)=>e(...t.map(ot))}function n2(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const bC="__liquidClass__";class zm extends Error{constructor(t,r){super(typeof t=="string"?t:t.message),this.context="",typeof t!="string"&&Object.defineProperty(this,"originalError",{value:t,enumerable:!1}),Object.defineProperty(this,"token",{value:r,enumerable:!1}),Object.defineProperty(this,bC,{value:"LiquidError",enumerable:!1})}update(){Object.defineProperty(this,"context",{value:uG(this.token),enumerable:!1}),this.message=cG(this.message,this.token),this.stack=this.message+`
`+this.context+`
`+this.stack,this.originalError&&(this.stack+=`
From `+this.originalError.stack)}static is(t){return(t==null?void 0:t[bC])==="LiquidError"}}class iG extends zm{constructor(t,r){super(t,r),this.name="TokenizationError",super.update()}}class sG extends zm{constructor(t,r){super(t,r),this.name="ParseError",this.message=t.message,super.update()}}class _C extends zm{constructor(t,r){super(t,r.token),this.name="RenderError",this.message=t.message,super.update()}static is(t){return t.name==="RenderError"}}class oG extends zm{constructor(t,r){super(t,r),this.name="UndefinedVariableError",this.message=t.message,super.update()}}class aG extends Error{constructor(t){super(`undefined variable: ${t}`),this.name="InternalUndefinedVariableError",this.variableName=t}}class lG extends Error{constructor(t){super(t),this.name="AssertionError",this.message=t+""}}function uG(e){const[t,r]=e.getPosition(),n=e.input.split(`
`),i=Math.max(t-2,1),s=Math.min(t+3,n.length);return jA(i,s+1).map(a=>{const l=a===t?">> ":"   ",u=xp(String(a),String(s).length);let c=`${l}${u}| `;const f=a===t?`
`+xp("^",r+c.length):"";return c+=n[a-1],c+=f,c}).join(`
`)}function cG(e,t){t.file&&(e+=`, file:${t.file}`);const[r,n]=t.getPosition();return e+=`, line:${r}, col:${n}`,e}const Dt=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],dG=1,jd=4,xC=8,BA=16,WA=32,zA=64,hG=128;function py(e){const t=e.charCodeAt(0);return t>=128?!Dt[t]:!!(Dt[t]&dG)}Dt[160]=Dt[5760]=Dt[6158]=Dt[8192]=Dt[8193]=Dt[8194]=Dt[8195]=Dt[8196]=Dt[8197]=Dt[8198]=Dt[8199]=Dt[8200]=Dt[8201]=Dt[8202]=Dt[8232]=Dt[8233]=Dt[8239]=Dt[8287]=Dt[12288]=jd;Dt[8220]=Dt[8221]=hG;function ws(e,t){if(!e){const r=typeof t=="function"?t():t||`expect ${e} to be true`;throw new lG(r)}}class fG extends Gu{equals(t){return ea(ot(t))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}}class C1 extends Gu{equals(t){return t instanceof C1?!1:(t=ot(t),Xo(t)||rn(t)?t.length===0:r2(t)?Object.keys(t).length===0:!1)}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}}class pG extends C1{equals(t){return t===!1||ea(ot(t))?!0:Xo(t)?/^\s*$/.test(t):super.equals(t)}}class i2 extends Gu{constructor(t,r,n){super(),this.i=0,this.length=t,this.name=`${n}-${r}`}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return this.i===0}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}class NC extends Gu{constructor(t=()=>""){super(),this.superBlockRender=t}super(){return this.superBlockRender()}}function Gi(e){return e&&Fn(e.equals)}const SC=new fG,qA={true:!0,false:!1,nil:SC,null:SC,empty:new C1,blank:new pG};function kC(e){const t={};for(const[r,n]of Object.entries(e)){let i=t;for(let s=0;s<r.length;s++){const o=r[s];i[o]=i[o]||{},s===r.length-1&&py(r[s])&&(i[o].needBoundary=!0),i=i[o]}i.data=n,i.end=!0}return t}var Qv=function(){return Qv=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Qv.apply(this,arguments)};function uo(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function ba(e){return uo(this,void 0,void 0,function*(){if(!Gv(e))return e;let t,r=!1,n="next";do{const i=e[n](t);r=i.done,t=i.value,n="next";try{Gv(t)&&(t=ba(t)),ZH(t)&&(t=yield t)}catch(s){n="throw",t=s}}while(!r);return t})}function _a(e){if(!Gv(e))return e;let t,r=!1,n="next";do{const i=e[n](t);if(r=i.done,t=i.value,n="next",Gv(t))try{t=_a(t)}catch(s){n="throw",t=s}}while(!r);return t}function s2(e){return e=ot(e),rn(e)?e:Xo(e)&&e.length>0?[e]:eG(e)?Array.from(e):r2(e)?Object.keys(e).map(t=>[t,e[t]]):[]}function Js(e){return ea(e)?[]:rn(e)?e:[e]}const mG=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,UA=["January","February","March","April","May","June","July","August","September","October","November","December"],VA=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],gG=UA.map(HA),yG=VA.map(HA);function HA(e){return e.slice(0,3)}function vG(e){return[31,wG(e)?29:28,31,30,31,30,31,31,30,31,30,31]}function GA(e){let t=0;for(let r=0;r<e.getMonth();++r)t+=vG(e)[r];return t+e.getDate()}function EC(e,t){const r=GA(e)+(t-e.getDay()),i=7-new Date(e.getFullYear(),0,1).getDay()+t;return String(Math.floor((r-i)/7)+1)}function wG(e){const t=e.getFullYear();return!!(!(t&3)&&(t%100||t%400===0&&t))}function bG(e){const t=e.getDate();let r="th";switch(t){case 11:case 12:case 13:break;default:switch(t%10){case 1:r="st";break;case 2:r="nd";break;case 3:r="rd";break}}return r}function _G(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}const xG={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},NG={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},ex={a:e=>yG[e.getDay()],A:e=>VA[e.getDay()],b:e=>gG[e.getMonth()],B:e=>UA[e.getMonth()],c:e=>e.toLocaleString(),C:e=>_G(e),d:e=>e.getDate(),e:e=>e.getDate(),H:e=>e.getHours(),I:e=>String(e.getHours()%12||12),j:e=>GA(e),k:e=>e.getHours(),l:e=>String(e.getHours()%12||12),L:e=>e.getMilliseconds(),m:e=>e.getMonth()+1,M:e=>e.getMinutes(),N:(e,t)=>{const r=Number(t.width)||9,n=String(e.getMilliseconds()).slice(0,r);return tG(n,r,"0")},p:e=>e.getHours()<12?"AM":"PM",P:e=>e.getHours()<12?"am":"pm",q:e=>bG(e),s:e=>Math.round(e.getTime()/1e3),S:e=>e.getSeconds(),u:e=>e.getDay()||7,U:e=>EC(e,0),w:e=>e.getDay(),W:e=>EC(e,1),x:e=>e.toLocaleDateString(),X:e=>e.toLocaleTimeString(),y:e=>e.getFullYear().toString().slice(2,4),Y:e=>e.getFullYear(),z:(e,t)=>{const r=Math.abs(e.getTimezoneOffset()),n=Math.floor(r/60),i=r%60;return(e.getTimezoneOffset()>0?"-":"+")+xp(n,2,"0")+(t.flags[":"]?":":"")+xp(i,2,"0")},t:()=>"	",n:()=>`
`,"%":()=>"%"};ex.h=ex.b;function SG(e,t){let r="",n=t,i;for(;i=mG.exec(n);)r+=n.slice(0,i.index),n=n.slice(i.index+i[0].length),r+=kG(e,i);return r+n}function kG(e,t){const[r,n="",i,s,o]=t,a=ex[o];if(!a)return r;const l={};for(const p of n)l[p]=!0;let u=String(a(e,{flags:l,width:i,modifier:s})),c=NG[o]||"0",f=i||xG[o]||0;return l["^"]?u=u.toUpperCase():l["#"]&&(u=rG(u)),l._?c=" ":l[0]&&(c="0"),l["-"]&&(f=0),xp(u,f,c)}const EG=6e4,CG=/([zZ]|([+-])(\d{2}):(\d{2}))$/;class So{constructor(t,r){this.date=t instanceof So?t.date:new Date(t),this.timezoneOffset=r;const n=(this.date.getTimezoneOffset()-this.timezoneOffset)*EG,i=this.date.getTime()+n;this.displayDate=new Date(i)}getTime(){return this.displayDate.getTime()}getMilliseconds(){return this.displayDate.getMilliseconds()}getSeconds(){return this.displayDate.getSeconds()}getMinutes(){return this.displayDate.getMinutes()}getHours(){return this.displayDate.getHours()}getDay(){return this.displayDate.getDay()}getDate(){return this.displayDate.getDate()}getMonth(){return this.displayDate.getMonth()}getFullYear(){return this.displayDate.getFullYear()}toLocaleString(t,r){return r!=null&&r.timeZone?this.date.toLocaleString(t,r):this.displayDate.toLocaleString(t,r)}toLocaleTimeString(t){return this.displayDate.toLocaleTimeString(t)}toLocaleDateString(t){return this.displayDate.toLocaleDateString(t)}getTimezoneOffset(){return this.timezoneOffset}static createDateFixedToTimezone(t){const r=t.match(CG);if(r&&r[1]==="Z")return new So(+new Date(t),0);if(r&&r[2]&&r[3]&&r[4]){const[,,n,i,s]=r,o=(n==="+"?-1:1)*(parseInt(i,10)*60+parseInt(s,10));return new So(+new Date(t),o)}return new Date(t)}}class o2 extends Mi{constructor(t,[r,n],i,s,o,a,l,u){super(t,i,s,o,u),this.trimLeft=!1,this.trimRight=!1;const c=i[r]==="-",f=i[n-1]==="-";let p=c?r+1:r,w=f?n-1:n;for(;p<w&&Dt[i.charCodeAt(p)]&jd;)p++;for(;w>p&&Dt[i.charCodeAt(w-1)]&jd;)w--;this.contentRange=[p,w],this.trimLeft=c||a,this.trimRight=f||l}get content(){return this.input.slice(this.contentRange[0],this.contentRange[1])}}class CC extends o2{constructor(t,r,n,i,s){const{trimTagLeft:o,trimTagRight:a,tagDelimiterLeft:l,tagDelimiterRight:u}=i,[c,f]=[r+l.length,n-u.length];super(ur.Tag,[c,f],t,r,n,o,a,s),this.tokenizer=new sh(t,i.operators,s,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal tag syntax, tag name expected"),this.tokenizer.skipBlank()}get args(){return this.tokenizer.input.slice(this.tokenizer.p,this.contentRange[1])}}class TG extends o2{constructor(t,r,n,i,s){const{trimOutputLeft:o,trimOutputRight:a,outputDelimiterLeft:l,outputDelimiterRight:u}=i,c=[r+l.length,n-u.length];super(ur.Output,c,t,r,n,o,a,s)}}class TC extends Mi{constructor(t,r,n,i){super(ur.HTML,t,r,n,i),this.input=t,this.begin=r,this.end=n,this.file=i,this.trimLeft=0,this.trimRight=0}getContent(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)}}class OG extends Mi{constructor(t,r,n,i){super(ur.Number,t,r,n,i),this.input=t,this.begin=r,this.end=n,this.file=i,this.content=Number(this.getText())}}class Vw extends Mi{constructor(t,r,n,i){super(ur.Word,t,r,n,i),this.input=t,this.begin=r,this.end=n,this.file=i,this.content=this.getText()}isNumber(t=!1){const r=t&&Dt[this.input.charCodeAt(this.begin)]&zA?this.begin+1:this.begin;for(let n=r;n<this.end;n++)if(!(Dt[this.input.charCodeAt(n)]&WA))return!1;return!0}}class RG extends Mi{constructor(t,r,n,i){super(ur.Literal,t,r,n,i),this.input=t,this.begin=r,this.end=n,this.file=i,this.literal=this.getText(),this.content=qA[this.literal]}}const OC={"==":2,"!=":2,">":2,"<":2,">=":2,"<=":2,contains:2,not:1,and:0,or:0},PG={"==":0,"!=":0,">":0,"<":0,">=":0,"<=":0,contains:0,not:1,and:0,or:0};class AG extends Mi{constructor(t,r,n,i){super(ur.Operator,t,r,n,i),this.input=t,this.begin=r,this.end=n,this.file=i,this.operator=this.getText()}getPrecedence(){const t=this.getText();return t in OC?OC[t]:1}}class IG extends Mi{constructor(t,r,n,i,s,o){super(ur.PropertyAccess,n,i,s,o),this.variable=t,this.props=r}}class $G extends Mi{constructor(t,r,n,i,s,o){super(ur.Filter,n,i,s,o),this.name=t,this.args=r}}class LG extends Mi{constructor(t,r,n,i,s,o){super(ur.Hash,t,r,n,o),this.input=t,this.begin=r,this.end=n,this.name=i,this.value=s,this.file=o}}const DG=/[\da-fA-F]/,RC=/[0-7]/,PC={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v"};function AC(e){const t=e.charCodeAt(0);return t>=97?t-87:t>=65?t-55:t-48}function jG(e){let t="";for(let r=1;r<e.length-1;r++){if(e[r]!=="\\"){t+=e[r];continue}if(PC[e[r+1]]!==void 0)t+=PC[e[++r]];else if(e[r+1]==="u"){let n=0,i=r+2;for(;i<=r+5&&DG.test(e[i]);)n=n*16+AC(e[i++]);r=i-1,t+=String.fromCharCode(n)}else if(!RC.test(e[r+1]))t+=e[++r];else{let n=r+1,i=0;for(;n<=r+3&&RC.test(e[n]);)i=i*8+AC(e[n++]);r=n-1,t+=String.fromCharCode(i)}}return t}class MG extends Mi{constructor(t,r,n,i){super(ur.Quoted,t,r,n,i),this.input=t,this.begin=r,this.end=n,this.file=i,this.content=jG(this.getText())}}class FG extends Mi{constructor(t,r,n,i,s,o){super(ur.Range,t,r,n,o),this.input=t,this.begin=r,this.end=n,this.lhs=i,this.rhs=s,this.file=o}}class BG extends o2{constructor(t,r,n,i,s){super(ur.Tag,[r,n],t,r,n,!1,!1,s),this.tokenizer=new sh(t,i.operators,s,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal liquid tag syntax"),this.tokenizer.skipBlank(),this.args=this.tokenizer.remaining()}}class WG extends Mi{constructor(t,r,n,i,s,o){super(ur.FilteredValue,n,i,s,o),this.initial=t,this.filters=r,this.input=n,this.begin=i,this.end=s,this.file=o}}class zG{constructor(){this.buffer=""}write(t){this.buffer+=tt(t)}}class qG{constructor(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}}class UG{constructor(){this.buffer=""}write(t){t=ot(t),typeof t!="string"&&this.buffer===""?this.buffer=t:this.buffer=tt(this.buffer)+tt(t)}}class VG{renderTemplatesToNodeStream(t,r){const n=new qG;return Promise.resolve().then(()=>ba(this.renderTemplates(t,r,n))).then(()=>n.end(),i=>n.error(i)),n.stream}*renderTemplates(t,r,n){n||(n=r.opts.keepOutputType?new UG:new zG);for(const i of t)try{const s=yield i.render(r,n);if(s&&n.write(s),n.break||n.continue)break}catch(s){throw _C.is(s)?s:new _C(s,i)}return n.buffer}}class HG{constructor(t){this.postfix=[...JG(t)]}*evaluate(t,r){ws(t,"unable to evaluate: context not defined");const n=[];for(const i of this.postfix)if(YA(i)){const s=n.pop();let o;if(PG[i.operator]===1)o=yield t.opts.operators[i.operator](s,t);else{const a=n.pop();o=yield t.opts.operators[i.operator](a,s,t)}n.push(o)}else n.push(yield yn(i,t,r&&this.postfix.length===1));return n[0]}valid(){return!!this.postfix.length}}function*yn(e,t,r=!1){if(e){if("content"in e)return e.content;if(RQ(e))return yield GG(e,t,r);if(PQ(e))return yield QG(e,t)}}function*GG(e,t,r){const n=[],i=yield yn(e.variable,t,r);for(const s of e.props)n.push(yield yn(s,t,!1));try{return e.variable?yield t._getFromScope(i,n):yield t._get(n)}catch(s){if(r&&s.name==="InternalUndefinedVariableError")return null;throw new oG(s,e)}}function QA(e){return e.content}function*QG(e,t){const r=yield yn(e.lhs,t),n=yield yn(e.rhs,t);return jA(+r,+n+1)}function*JG(e){const t=[];for(const r of e)if(YA(r)){for(;t.length&&t[t.length-1].getPrecedence()>r.getPrecedence();)yield t.pop();t.push(r)}else yield r;for(;t.length;)yield t.pop()}function Kl(e,t){return!T1(e,t)}function T1(e,t){return t.opts.jsTruthy?!e:e===!1||e===void 0||e===null}const KG={"==":my,"!=":(e,t)=>!my(e,t),">":(e,t)=>Gi(e)?e.gt(t):Gi(t)?t.lt(e):ot(e)>ot(t),"<":(e,t)=>Gi(e)?e.lt(t):Gi(t)?t.gt(e):ot(e)<ot(t),">=":(e,t)=>Gi(e)?e.geq(t):Gi(t)?t.leq(e):ot(e)>=ot(t),"<=":(e,t)=>Gi(e)?e.leq(t):Gi(t)?t.geq(e):ot(e)<=ot(t),contains:(e,t)=>(e=ot(e),rn(e)?e.some(r=>my(r,t)):Fn(e==null?void 0:e.indexOf)?e.indexOf(ot(t))>-1:!1),not:(e,t)=>T1(ot(e),t),and:(e,t,r)=>Kl(ot(e),r)&&Kl(ot(t),r),or:(e,t,r)=>Kl(ot(e),r)||Kl(ot(t),r)};function my(e,t){return Gi(e)?e.equals(t):Gi(t)?t.equals(e):(e=ot(e),t=ot(t),rn(e)?rn(t)&&ZG(e,t):e===t)}function ZG(e,t){return e.length!==t.length?!1:!e.some((r,n)=>!my(r,t[n]))}class Hw{constructor(t,r,n,i){this.key=t,this.value=r,this.next=n,this.prev=i}}class IC{constructor(t,r=0){this.limit=t,this.size=r,this.cache={},this.head=new Hw("HEAD",null,null,null),this.tail=new Hw("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}write(t,r){if(this.cache[t])this.cache[t].value=r;else{const n=new Hw(t,r,this.head.next,this.head);this.head.next.prev=n,this.head.next=n,this.cache[t]=n,this.size++,this.ensureLimit()}}read(t){if(!this.cache[t])return;const{value:r}=this.cache[t];return this.remove(t),this.write(t,r),r}remove(t){const r=this.cache[t];r.prev.next=r.next,r.next.prev=r.prev,delete this.cache[t],this.size--}clear(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}}ensureLimit(){this.size>this.limit&&this.remove(this.tail.prev.key)}}function JA(e,t){const r=document.createElement("base");r.href=e;const n=document.getElementsByTagName("head")[0];n.insertBefore(r,n.firstChild);const i=document.createElement("a");i.href=t;const s=i.href;return n.removeChild(r),s}function YG(e,t,r){return e.length&&DA(e)!=="/"&&(e+="/"),JA(e,t).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(i,s,o)=>{const a=o.split("/").pop();return/\.\w+$/.test(a)?i:s+o+r})}function XG(e){return uo(this,void 0,void 0,function*(){return new Promise((t,r)=>{const n=new XMLHttpRequest;n.onload=()=>{n.status>=200&&n.status<300?t(n.responseText):r(new Error(n.statusText))},n.onerror=()=>{r(new Error("An error occurred whilst receiving the response."))},n.open("GET",e),n.send()})})}function eQ(e){const t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||t.status>=300)throw new Error(t.statusText);return t.responseText}function tQ(e){return uo(this,void 0,void 0,function*(){return!0})}function rQ(e){return!0}function nQ(e){return JA(e,".")}const iQ="/";var sQ=Object.freeze({__proto__:null,resolve:YG,readFile:XG,readFileSync:eQ,exists:tQ,existsSync:rQ,dirname:nQ,sep:iQ});function oQ(e,t,...r){return e=ot(e),rn(e)||Xo(e)?e.length?e:t:e===!1&&new Map(r).get("allow_false")?!1:T1(e,this.context)?t:e}function KA(e,t=0){return JSON.stringify(e,null,t)}const aQ={raw:!0,handler:FA},lQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},uQ={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function a2(e){return tt(e).replace(/&|<|>|"|'/g,t=>lQ[t])}function cQ(e){return tt(e).replace(/&(amp|lt|gt|#34|#39);/g,t=>uQ[t])}function dQ(e){return a2(cQ(tt(e)))}function hQ(e){return tt(e).replace(/\r?\n/gm,`<br />
`)}function fQ(e){return tt(e).replace(/<script[\s\S]*?<\/script>|<style[\s\S]*?<\/style>|<.*?>|<!--[\s\S]*?-->/g,"")}var pQ=Object.freeze({__proto__:null,escape:a2,escape_once:dQ,newline_to_br:hQ,strip_html:fQ});const Ml={root:["."],layouts:["."],partials:["."],relativeReference:!0,jekyllInclude:!1,cache:void 0,extname:"",fs:sQ,dynamicPartials:!0,jsTruthy:!1,dateFormat:"%A, %B %-e, %Y at %-l:%M %P %z",trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,ownPropertyOnly:!0,lenientIf:!1,globals:{},keepOutputType:!1,operators:KG};function mQ(e){if(e.hasOwnProperty("root")&&(e.hasOwnProperty("partials")||(e.partials=e.root),e.hasOwnProperty("layouts")||(e.layouts=e.root)),e.hasOwnProperty("cache")){let t;typeof e.cache=="number"?t=e.cache>0?new IC(e.cache):void 0:typeof e.cache=="object"?t=e.cache:t=e.cache?new IC(1024):void 0,e.cache=t}return e=Object.assign(Object.assign(Object.assign({},Ml),e.jekyllInclude?{dynamicPartials:!1}:{}),e),(!e.fs.dirname||!e.fs.sep)&&e.relativeReference&&(console.warn("[LiquidJS] `fs.dirname` and `fs.sep` are required for relativeReference, set relativeReference to `false` to suppress this warning"),e.relativeReference=!1),e.root=gy(e.root),e.partials=gy(e.partials),e.layouts=gy(e.layouts),e.outputEscape=e.outputEscape&&gQ(e.outputEscape),e}function gQ(e){return e==="escape"?a2:e==="json"?KA:(ws(Fn(e),"`outputEscape` need to be of type string or function"),e)}function gy(e){let t=[];return rn(e)&&(t=e),Xo(e)&&(t=[e]),t}function yQ(e,t){let r=!1;for(let n=0;n<e.length;n++){const i=e[n];CQ(i)&&(!r&&i.trimLeft&&vQ(e[n-1],t.greedy),Qu(i)&&(i.name==="raw"?r=!0:i.name==="endraw"&&(r=!1)),!r&&i.trimRight&&wQ(e[n+1],t.greedy))}}function vQ(e,t){if(!e||!u2(e))return;const r=t?jd:BA;for(;Dt[e.input.charCodeAt(e.end-1-e.trimRight)]&r;)e.trimRight++}function wQ(e,t){if(!e||!u2(e))return;const r=t?jd:BA;for(;Dt[e.input.charCodeAt(e.begin+e.trimLeft)]&r;)e.trimLeft++;e.input.charAt(e.begin+e.trimLeft)===`
`&&e.trimLeft++}class sh{constructor(t,r=Ml.operators,n,i){this.input=t,this.file=n,this.range=i,this.rawBeginAt=-1,this.p=i?i[0]:0,this.N=i?i[1]:t.length,this.opTrie=kC(r),this.literalTrie=kC(qA)}readExpression(){return new HG(this.readExpressionTokens())}*readExpressionTokens(){for(;this.p<this.N;){const t=this.readOperator();if(t){yield t;continue}const r=this.readValue();if(r){yield r;continue}return}}readOperator(){this.skipBlank();const t=this.matchTrie(this.opTrie);if(t!==-1)return new AG(this.input,this.p,this.p=t,this.file)}matchTrie(t){let r=t,n=this.p,i;for(;r[this.input[n]]&&n<this.N;)r=r[this.input[n++]],r.end&&(i=r);return!i||i.needBoundary&&py(this.peek(n-this.p))?-1:n}readFilteredValue(){const t=this.p,r=this.readExpression();this.assert(r.valid(),`invalid value expression: ${this.snapshot()}`);const n=this.readFilters();return new WG(r,n,this.input,t,this.p,this.file)}readFilters(){const t=[];for(;;){const r=this.readFilter();if(!r)return t;t.push(r)}}readFilter(){if(this.skipBlank(),this.end())return null;this.assert(this.peek()==="|",'expected "|" before filter'),this.p++;const t=this.p,r=this.readIdentifier();if(!r.size())return this.assert(this.end(),"expected filter name"),null;const n=[];if(this.skipBlank(),this.peek()===":")do{++this.p;const i=this.readFilterArg();i&&n.push(i),this.skipBlank(),this.assert(this.end()||this.peek()===","||this.peek()==="|",()=>`unexpected character ${this.snapshot()}`)}while(this.peek()===",");else if(!(this.peek()==="|"||this.end()))throw this.error('expected ":" after filter name');return new $G(r.getText(),n,this.input,t,this.p,this.file)}readFilterArg(){const t=this.readValue();if(!t)return;if(this.skipBlank(),this.peek()!==":")return t;++this.p;const r=this.readValue();return[t.getText(),r]}readTopLevelTokens(t=Ml){const r=[];for(;this.p<this.N;){const n=this.readTopLevelToken(t);r.push(n)}return yQ(r,t),r}readTopLevelToken(t){const{tagDelimiterLeft:r,outputDelimiterLeft:n}=t;return this.rawBeginAt>-1?this.readEndrawOrRawContent(t):this.match(r)?this.readTagToken(t):this.match(n)?this.readOutputToken(t):this.readHTMLToken([r,n])}readHTMLToken(t){const r=this.p;for(;this.p<this.N&&!t.some(n=>this.match(n));)++this.p;return new TC(this.input,r,this.p,this.file)}readTagToken(t=Ml){const{file:r,input:n}=this,i=this.p;if(this.readToDelimiter(t.tagDelimiterRight)===-1)throw this.error(`tag ${this.snapshot(i)} not closed`,i);const s=new CC(n,i,this.p,t,r);return s.name==="raw"&&(this.rawBeginAt=i),s}readToDelimiter(t,r=!1){for(this.skipBlank();this.p<this.N;){if(r&&this.peekType()&xC){this.readQuoted();continue}if(++this.p,this.rmatch(t))return this.p}return-1}readOutputToken(t=Ml){const{file:r,input:n}=this,{outputDelimiterRight:i}=t,s=this.p;if(this.readToDelimiter(i,!0)===-1)throw this.error(`output ${this.snapshot(s)} not closed`,s);return new TG(n,s,this.p,t,r)}readEndrawOrRawContent(t){const{tagDelimiterLeft:r,tagDelimiterRight:n}=t,i=this.p;let s=this.readTo(r)-r.length;for(;this.p<this.N;){if(this.readIdentifier().getText()!=="endraw"){s=this.readTo(r)-r.length;continue}for(;this.p<=this.N;){if(this.rmatch(n)){const o=this.p;return i===s?(this.rawBeginAt=-1,new CC(this.input,i,o,t,this.file)):(this.p=s,new TC(this.input,i,s,this.file))}if(this.rmatch(r))break;this.p++}}throw this.error(`raw ${this.snapshot(this.rawBeginAt)} not closed`,i)}readLiquidTagTokens(t=Ml){const r=[];for(;this.p<this.N;){const n=this.readLiquidTagToken(t);n&&r.push(n)}return r}readLiquidTagToken(t){if(this.skipBlank(),this.end())return;const r=this.p;this.readToDelimiter(`
`);const n=this.p;return new BG(this.input,r,n,t,this.file)}error(t,r=this.p){return new iG(t,new Vw(this.input,r,this.N,this.file))}assert(t,r,n){if(!t)throw this.error(typeof r=="function"?r():r,n)}snapshot(t=this.p){return JSON.stringify(nG(this.input.slice(t,this.N),32))}readWord(){return this.readIdentifier()}readIdentifier(){this.skipBlank();const t=this.p;for(;!this.end()&&py(this.peek());)++this.p;return new Vw(this.input,t,this.p,this.file)}readTagName(){return this.skipBlank(),this.input[this.p]==="#"?this.input.slice(this.p,++this.p):this.readIdentifier().getText()}readHashes(t){const r=[];for(;;){const n=this.readHash(t);if(!n)return r;r.push(n)}}readHash(t){this.skipBlank(),this.peek()===","&&++this.p;const r=this.p,n=this.readIdentifier();if(!n.size())return;let i;this.skipBlank();const s=t?"=":":";return this.peek()===s&&(++this.p,i=this.readValue()),new LG(this.input,r,this.p,n,i,this.file)}remaining(){return this.input.slice(this.p,this.N)}advance(t=1){this.p+=t}end(){return this.p>=this.N}readTo(t){for(;this.p<this.N;)if(++this.p,this.rmatch(t))return this.p;return-1}readValue(){this.skipBlank();const t=this.p,r=this.readLiteral()||this.readQuoted()||this.readRange()||this.readNumber(),n=[];for(;;){if(this.peek()==="["){this.p++;const i=this.readValue()||new Vw(this.input,this.p,this.p,this.file);this.assert(this.readTo("]")!==-1,"[ not closed"),n.push(i);continue}if(!r&&!n.length){const i=this.readIdentifier();if(i.size()){n.push(i);continue}}if(this.peek()==="."&&this.peek(1)!=="."){this.p++;const i=this.readIdentifier();if(!i.size())break;n.push(i);continue}break}return n.length?new IG(r,n,this.input,t,this.p):r}readNumber(){this.skipBlank();let t=!1,r=!1,n=0;for(this.peekType()&zA&&n++;this.p+n<=this.N;)if(this.peekType(n)&WA)r=!0,n++;else if(this.peek(n)==="."&&this.peek(n+1)!=="."){if(t||!r)return;t=!0,n++}else break;if(r&&!py(this.peek(n))){const i=new OG(this.input,this.p,this.p+n,this.file);return this.advance(n),i}}readLiteral(){this.skipBlank();const t=this.matchTrie(this.literalTrie);if(t===-1)return;const r=new RG(this.input,this.p,t,this.file);return this.p=t,r}readRange(){this.skipBlank();const t=this.p;if(this.peek()!=="(")return;++this.p;const r=this.readValueOrThrow();this.p+=2;const n=this.readValueOrThrow();return++this.p,new FG(this.input,t,this.p,r,n,this.file)}readValueOrThrow(){const t=this.readValue();return this.assert(t,()=>`unexpected token ${this.snapshot()}, value expected`),t}readQuoted(){this.skipBlank();const t=this.p;if(!(this.peekType()&xC))return;++this.p;let r=!1;for(;this.p<this.N&&(++this.p,!(this.input[this.p-1]===this.input[t]&&!r));)r?r=!1:this.input[this.p-1]==="\\"&&(r=!0);return new MG(this.input,t,this.p,this.file)}*readFileNameTemplate(t){const{outputDelimiterLeft:r}=t,n=[","," ",r],i=new Set(n);for(;this.p<this.N&&!i.has(this.peek());)yield this.match(r)?this.readOutputToken(t):this.readHTMLToken(n)}match(t){for(let r=0;r<t.length;r++)if(t[r]!==this.input[this.p+r])return!1;return!0}rmatch(t){for(let r=0;r<t.length;r++)if(t[t.length-1-r]!==this.input[this.p-1-r])return!1;return!0}peekType(t=0){return this.p+t>=this.N?0:Dt[this.input.charCodeAt(this.p+t)]}peek(t=0){return this.p+t>=this.N?"":this.input[this.p+t]}skipBlank(){for(;this.peekType()&jd;)++this.p}}class bQ{constructor(t,r){this.handlers={},this.stopRequested=!1,this.tokens=t,this.parseToken=r}on(t,r){return this.handlers[t]=r,this}trigger(t,r){const n=this.handlers[t];return n?(n.call(this,r),!0):!1}start(){this.trigger("start");let t;for(;!this.stopRequested&&(t=this.tokens.shift());){if(this.trigger("token",t)||Qu(t)&&this.trigger(`tag:${t.name}`,t))continue;const r=this.parseToken(t,this.tokens);this.trigger("template",r)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}class l2{constructor(t){this.token=t}}class Nr extends l2{constructor(t,r,n){super(t),this.name=t.name,this.liquid=n,this.tokenizer=t.tokenizer}}class oh{constructor(t,r){this.hash={};const n=new sh(t,{});for(const i of n.readHashes(r))this.hash[i.name.content]=i.value}*render(t){const r={};for(const n of Object.keys(this.hash))r[n]=this.hash[n]===void 0?!0:yield yn(this.hash[n],t);return r}}function _Q(e){return class extends Nr{constructor(t,r,n){super(t,r,n),Fn(e.parse)&&e.parse.call(this,t,r)}*render(t,r){const n=yield new oh(this.token.args).render(t);return yield e.render.call(this,t,r,n)}}}function xQ(e){return rn(e)}class ZA{constructor(t,r,n,i){this.name=t,this.handler=Fn(r)?r:Fn(r==null?void 0:r.handler)?r.handler:FA,this.raw=!Fn(r)&&!!(r!=null&&r.raw),this.args=n,this.liquid=i}*render(t,r){const n=[];for(const i of this.args)xQ(i)?n.push([i[0],yield yn(i[1],r)]):n.push(yield yn(i,r));return yield this.handler.apply({context:r,liquid:this.liquid},[t,...n])}}class qo{constructor(t,r){this.filters=[];const n=typeof t=="string"?new sh(t,r.options.operators).readFilteredValue():t;this.initial=n.initial,this.filters=n.filters.map(({name:i,args:s})=>new ZA(i,this.getFilter(r,i),s,r))}*value(t,r){r=r||t.opts.lenientIf&&this.filters.length>0&&this.filters[0].name==="default";let n=yield this.initial.evaluate(t,r);for(const i of this.filters)n=yield i.render(n,t);return n}getFilter(t,r){const n=t.filters[r];return ws(n||!t.options.strictFilters,()=>`undefined filter: ${r}`),n}}class NQ extends l2{constructor(t,r){var n;super(t);const i=new sh(t.input,r.options.operators,t.file,t.contentRange);this.value=new qo(i.readFilteredValue(),r);const s=this.value.filters,o=r.options.outputEscape;!(!((n=s[s.length-1])===null||n===void 0)&&n.raw)&&o&&s.push(new ZA(toString.call(o),o,[],r))}*render(t,r){const n=yield this.value.value(t,!1);r.write(n)}}class SQ extends l2{constructor(t){super(t),this.str=t.getContent()}*render(t,r){r.write(this.str)}}var Mu;(function(e){e.Partials="partials",e.Layouts="layouts",e.Root="root"})(Mu||(Mu={}));class kQ{constructor(t){if(this.options=t,t.relativeReference){const r=t.fs.sep;ws(r,"`fs.sep` is required for relative reference");const n=new RegExp(["."+r,".."+r,"./","../"].map(i=>YH(i)).join("|"));this.shouldLoadRelative=i=>n.test(i)}else this.shouldLoadRelative=r=>!1;this.contains=this.options.fs.contains||(()=>!0)}*lookup(t,r,n,i){const{fs:s}=this.options,o=this.options[r];for(const a of this.candidates(t,o,i,r!==Mu.Root))if(n?s.existsSync(a):yield s.exists(a))return a;throw this.lookupError(t,o)}*candidates(t,r,n,i){const{fs:s,extname:o}=this.options;if(this.shouldLoadRelative(t)&&n){const a=s.resolve(this.dirname(n),t,o);for(const l of r)if(!i||this.contains(l,a)){yield a;break}}for(const a of r){const l=s.resolve(a,t,o);(!i||this.contains(a,l))&&(yield l)}if(s.fallback!==void 0){const a=s.fallback(t);a!==void 0&&(yield a)}}dirname(t){const r=this.options.fs;return ws(r.dirname,"`fs.dirname` is required for relative reference"),r.dirname(t)}lookupError(t,r){const n=new Error("ENOENT");return n.message=`ENOENT: Failed to lookup "${t}" in "${r}"`,n.code="ENOENT",n}}class EQ{constructor(t){this.liquid=t,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new kQ(this.liquid.options)}parse(t,r){const i=new sh(t,this.liquid.options.operators,r).readTopLevelTokens(this.liquid.options);return this.parseTokens(i)}parseTokens(t){let r;const n=[];for(;r=t.shift();)n.push(this.parseToken(r,t));return n}parseToken(t,r){try{if(Qu(t)){const n=this.liquid.tags[t.name];return ws(n,`tag "${t.name}" not found`),new n(t,r,this.liquid)}return TQ(t)?new NQ(t,this.liquid):new SQ(t)}catch(n){throw zm.is(n)?n:new sG(n,t)}}parseStream(t){return new bQ(t,(r,n)=>this.parseToken(r,n))}*_parseFileCached(t,r,n=Mu.Root,i){const s=this.cache,o=this.loader.shouldLoadRelative(t)?i+","+t:n+":"+t,a=yield s.read(o);if(a)return a;const l=this._parseFile(t,r,n,i),u=r?yield l:ba(l);s.write(o,u);try{return yield u}catch(c){throw s.remove(o),c}}*_parseFile(t,r,n=Mu.Root,i){const s=yield this.loader.lookup(t,n,r,i);return this.liquid.parse(r?this.fs.readFileSync(s):yield this.fs.readFile(s),s)}}var ur;(function(e){e[e.Number=1]="Number",e[e.Literal=2]="Literal",e[e.Tag=4]="Tag",e[e.Output=8]="Output",e[e.HTML=16]="HTML",e[e.Filter=32]="Filter",e[e.Hash=64]="Hash",e[e.PropertyAccess=128]="PropertyAccess",e[e.Word=256]="Word",e[e.Range=512]="Range",e[e.Quoted=1024]="Quoted",e[e.Operator=2048]="Operator",e[e.FilteredValue=4096]="FilteredValue",e[e.Delimited=12]="Delimited"})(ur||(ur={}));function CQ(e){return!!(_l(e)&ur.Delimited)}function YA(e){return _l(e)===ur.Operator}function u2(e){return _l(e)===ur.HTML}function TQ(e){return _l(e)===ur.Output}function Qu(e){return _l(e)===ur.Tag}function OQ(e){return _l(e)===ur.Quoted}function RQ(e){return _l(e)===ur.PropertyAccess}function PQ(e){return _l(e)===ur.Range}function _l(e){return e?e.kind:-1}class yc{constructor(t={},r=Ml,n={}){var i,s,o;this.scopes=[{}],this.registers={},this.sync=!!n.sync,this.opts=r,this.globals=(i=n.globals)!==null&&i!==void 0?i:r.globals,this.environments=t,this.strictVariables=(s=n.strictVariables)!==null&&s!==void 0?s:this.opts.strictVariables,this.ownPropertyOnly=(o=n.ownPropertyOnly)!==null&&o!==void 0?o:r.ownPropertyOnly}getRegister(t){return this.registers[t]=this.registers[t]||{}}setRegister(t,r){return this.registers[t]=r}saveRegister(...t){return t.map(r=>[r,this.getRegister(r)])}restoreRegister(t){return t.forEach(([r,n])=>this.setRegister(r,n))}getAll(){return[this.globals,this.environments,...this.scopes].reduce((t,r)=>Qv(t,r),{})}get(t){return this.getSync(t)}getSync(t){return _a(this._get(t))}*_get(t){const r=this.findScope(t[0]);return yield this._getFromScope(r,t)}getFromScope(t,r){return _a(this._getFromScope(t,r))}*_getFromScope(t,r,n=this.strictVariables){Xo(r)&&(r=r.split("."));for(let i=0;i<r.length;i++)if(t=yield AQ(t,r[i],this.ownPropertyOnly),n&&XH(t))throw new aG(r.slice(0,i+1).join("."));return t}push(t){return this.scopes.push(t)}pop(){return this.scopes.pop()}bottom(){return this.scopes[0]}findScope(t){for(let r=this.scopes.length-1;r>=0;r--){const n=this.scopes[r];if(t in n)return n}return t in this.environments?this.environments:this.globals}}function AQ(e,t,r){if(e=LA(e),ea(e))return e;if(rn(e)&&t<0)return e[e.length+ +t];const n=IQ(e,t,r);return n===void 0&&e instanceof Gu?e.liquidMethodMissing(t):Fn(n)?n.call(e):t==="size"?DQ(e):t==="first"?$Q(e):t==="last"?LQ(e):n}function IQ(e,t,r){if(!(r&&!Object.hasOwnProperty.call(e,t)&&!(e instanceof Gu)))return e[t]}function $Q(e){return rn(e)?e[0]:e.first}function LQ(e){return rn(e)?e[e.length-1]:e.last}function DQ(e){if(e.hasOwnProperty("size")||e.size!==void 0)return e.size;if(rn(e)||Xo(e))return e.length;if(typeof e=="object")return Object.keys(e).length}var vu;(function(e){e[e.OUTPUT=0]="OUTPUT",e[e.STORE=1]="STORE"})(vu||(vu={}));const jQ=Ni(Math.abs),MQ=Ni(Math.max),FQ=Ni(Math.min),BQ=Ni(Math.ceil),WQ=Ni((e,t,r=!1)=>r?Math.floor(e/t):e/t),zQ=Ni(Math.floor),qQ=Ni((e,t)=>e-t),UQ=Ni((e,t)=>e%t),VQ=Ni((e,t)=>e*t);function HQ(e,t=0){e=ot(e),t=ot(t);const r=Math.pow(10,t);return Math.round(e*r)/r}function GQ(e,t){return e=ot(e),t=ot(t),Number(e)+Number(t)}var QQ=Object.freeze({__proto__:null,abs:jQ,at_least:MQ,at_most:FQ,ceil:BQ,divided_by:WQ,floor:zQ,minus:qQ,modulo:UQ,times:VQ,round:HQ,plus:GQ});const JQ=e=>tt(e).split("+").map(decodeURIComponent).join(" "),KQ=e=>tt(e).split(" ").map(encodeURIComponent).join("+");var ZQ=Object.freeze({__proto__:null,url_decode:JQ,url_encode:KQ});const YQ=Ni((e,t)=>Js(e).join(t===void 0?" ":t)),XQ=Ni(e=>rn(e)?DA(e):""),eJ=Ni(e=>rn(e)?e[0]:""),tJ=Ni(e=>[...Js(e)].reverse());function*rJ(e,t){const r=[];for(const n of Js(ot(e)))r.push([n,t?yield this.context._getFromScope(n,tt(t).split("."),!1):n]);return r.sort((n,i)=>{const s=n[1],o=i[1];return s<o?-1:s>o?1:0}).map(n=>n[0])}function nJ(e,t){e=ot(e);const r=tt(t),n=t===void 0?wC:(i,s)=>wC(i[r],s[r]);return[...Js(e)].sort(n)}const iJ=e=>e&&e.length||0;function*sJ(e,t){const r=[];for(const n of Js(ot(e)))r.push(yield this.context._getFromScope(n,tt(t),!1));return r}function*oJ(e,t){let r=0;for(const n of Js(ot(e))){const i=Number(t?yield this.context._getFromScope(n,tt(t),!1):n);r+=Number.isNaN(i)?0:i}return r}function aJ(e){return e=ot(e),Js(e).filter(t=>!ea(ot(t)))}function XA(e,t=[]){return e=ot(e),t=Js(t).map(r=>ot(r)),Js(e).concat(t)}function lJ(e,t){return XA(e,[t])}function uJ(e,t,r=1){return e=ot(e),ea(e)?[]:(rn(e)||(e=tt(e)),t=t<0?e.length+t:t,e.slice(t,t+r))}function*cJ(e,t,r){const n=[];e=Js(ot(e));for(const i of e)n.push(yield this.context._getFromScope(i,tt(t).split("."),!1));return e.filter((i,s)=>r===void 0?Kl(n[s],this.context):Gi(r)?r.equals(n[s]):n[s]===r)}function dJ(e){e=ot(e);const t={};return(e||[]).filter(r=>$A.call(t,String(r))?!1:(t[String(r)]=!0,!0))}function hJ(e,t=1){if(e=ot(e),ea(e))return[];rn(e)||(e=tt(e));const r=[...e].sort(()=>Math.random()-.5);return t===1?r[0]:r.slice(0,t)}var fJ=Object.freeze({__proto__:null,join:YQ,last:XQ,first:eJ,reverse:tJ,sort:rJ,sort_natural:nJ,size:iJ,map:sJ,sum:oJ,compact:aJ,concat:XA,push:lJ,slice:uJ,where:cJ,uniq:dJ,sample:hJ});function pJ(e,t,r){const n=this.context.opts;let i;return e=ot(e),t=ot(t),ea(t)?t=n.dateFormat:t=tt(t),e==="now"||e==="today"?i=new Date:E1(e)?i=new Date(e*1e3):Xo(e)?/^\d+$/.test(e)?i=new Date(+e*1e3):n.preserveTimezones?i=So.createDateFixedToTimezone(e):i=new Date(e):i=e,mJ(i)?(r!==void 0?i=new So(i,$C(i,r)):!(i instanceof So)&&n.timezoneOffset!==void 0&&(i=new So(i,$C(i,n.timezoneOffset))),SG(i,t)):e}function mJ(e){return(e instanceof Date||e instanceof So)&&!isNaN(e.getTime())}function $C(e,t){if(E1(t))return t;const r=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),n=new Date(e.toLocaleString("en-US",{timeZone:t}));return(r.getTime()-n.getTime())/6e4}var gJ=Object.freeze({__proto__:null,date:pJ});function yJ(e,t){return ws(arguments.length===2,"append expect 2 arguments"),tt(e)+tt(t)}function vJ(e,t){return ws(arguments.length===2,"prepend expect 2 arguments"),tt(t)+tt(e)}function wJ(e,t){return t?(t=n2(tt(t)),tt(e).replace(new RegExp(`^[${t}]+`,"g"),"")):tt(e).replace(/^\s+/,"")}function bJ(e){return tt(e).toLowerCase()}function _J(e){return tt(e).toUpperCase()}function xJ(e,t){return tt(e).split(String(t)).join("")}function NJ(e,t){return tt(e).replace(String(t),"")}function SJ(e,t){const r=tt(e),n=String(t),i=r.lastIndexOf(n);return i===-1?r:r.substring(0,i)+r.substring(i+n.length)}function kJ(e,t){return t?(t=n2(tt(t)),tt(e).replace(new RegExp(`[${t}]+$`,"g"),"")):tt(e).replace(/\s+$/,"")}function EJ(e,t){const r=tt(e).split(String(t));for(;r.length&&r[r.length-1]==="";)r.pop();return r}function CJ(e,t){return t?(t=n2(tt(t)),tt(e).replace(new RegExp(`^[${t}]+`,"g"),"").replace(new RegExp(`[${t}]+$`,"g"),"")):tt(e).trim()}function TJ(e){return tt(e).replace(/\r?\n/gm,"")}function OJ(e){return e=tt(e),e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function RJ(e,t,r){return tt(e).split(String(t)).join(r)}function PJ(e,t,r){return tt(e).replace(String(t),r)}function AJ(e,t,r){const n=tt(e),i=String(t),s=n.lastIndexOf(i);if(s===-1)return n;const o=String(r);return n.substring(0,s)+o+n.substring(s+i.length)}function IJ(e,t=50,r="..."){return e=tt(e),e.length<=t?e:e.substring(0,t-r.length)+r}function $J(e,t=15,r="..."){const n=tt(e).split(/\s+/);t<=0&&(t=1);let i=n.slice(0,t).join(" ");return n.length>=t&&(i+=r),i}var LJ=Object.freeze({__proto__:null,append:yJ,prepend:vJ,lstrip:wJ,downcase:bJ,upcase:_J,remove:xJ,remove_first:NJ,remove_last:SJ,rstrip:kJ,split:EJ,strip:CJ,strip_newlines:TJ,capitalize:OJ,replace:RJ,replace_first:PJ,replace_last:AJ,truncate:IJ,truncatewords:$J});const DJ=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pQ),QQ),ZQ),fJ),gJ),LJ),{json:KA,raw:aQ,default:oQ});class jJ extends Nr{constructor(t,r,n){super(t,r,n),this.key=this.tokenizer.readIdentifier().content,this.tokenizer.assert(this.key,"expected variable name"),this.tokenizer.skipBlank(),this.tokenizer.assert(this.tokenizer.peek()==="=",'expected "="'),this.tokenizer.advance(),this.value=new qo(this.tokenizer.readFilteredValue(),this.liquid)}*render(t){t.bottom()[this.key]=yield this.value.value(t,this.liquid.options.lenientIf)}}const LC=["offset","limit","reversed"];class MJ extends Nr{constructor(t,r,n){super(t,r,n);const i=this.tokenizer.readIdentifier(),s=this.tokenizer.readIdentifier(),o=this.tokenizer.readValue();if(!i.size()||s.content!=="in"||!o)throw new Error(`illegal tag: ${t.getText()}`);this.variable=i.content,this.collection=o,this.hash=new oh(this.tokenizer.remaining()),this.templates=[],this.elseTemplates=[];let a;const l=this.liquid.parser.parseStream(r).on("start",()=>a=this.templates).on("tag:else",()=>a=this.elseTemplates).on("tag:endfor",()=>l.stop()).on("template",u=>a.push(u)).on("end",()=>{throw new Error(`tag ${t.getText()} not closed`)});l.start()}*render(t,r){const n=this.liquid.renderer;let i=s2(yield yn(this.collection,t));if(!i.length){yield n.renderTemplates(this.elseTemplates,t,r);return}const s="continue-"+this.variable+"-"+this.collection.getText();t.push({continue:t.getRegister(s)});const o=yield this.hash.render(t);t.pop(),i=(this.liquid.options.orderedFilterParameters?Object.keys(o).filter(u=>LC.includes(u)):LC.filter(u=>o[u]!==void 0)).reduce((u,c)=>c==="offset"?BJ(u,o.offset):c==="limit"?WJ(u,o.limit):FJ(u),i),t.setRegister(s,(o.offset||0)+i.length);const l={forloop:new i2(i.length,this.collection.getText(),this.variable)};t.push(l);for(const u of i){if(l[this.variable]=u,yield n.renderTemplates(this.templates,t,r),r.break){r.break=!1;break}r.continue=!1,l.forloop.next()}t.pop()}}function FJ(e){return[...e].reverse()}function BJ(e,t){return e.slice(t)}function WJ(e,t){return e.slice(0,t)}class zJ extends Nr{constructor(t,r,n){for(super(t,r,n),this.templates=[],this.variable=this.readVariableName();r.length;){const i=r.shift();if(Qu(i)&&i.name==="endcapture")return;this.templates.push(n.parser.parseToken(i,r))}throw new Error(`tag ${t.getText()} not closed`)}*render(t){const n=yield this.liquid.renderer.renderTemplates(this.templates,t);t.bottom()[this.variable]=n}readVariableName(){const t=this.tokenizer.readIdentifier().content;if(t)return t;const r=this.tokenizer.readQuoted();if(r)return QA(r);throw this.tokenizer.error("invalid capture name")}}class qJ extends Nr{constructor(t,r,n){super(t,r,n),this.branches=[],this.elseTemplates=[],this.value=new qo(this.tokenizer.readFilteredValue(),this.liquid),this.elseTemplates=[];let i=[],s=0;const o=this.liquid.parser.parseStream(r).on("tag:when",a=>{if(s>0)return;i=[];const l=[];for(;!a.tokenizer.end();)l.push(a.tokenizer.readValueOrThrow()),a.tokenizer.skipBlank(),a.tokenizer.peek()===","?a.tokenizer.readTo(","):a.tokenizer.readTo("or");this.branches.push({values:l,templates:i})}).on("tag:else",()=>{s++,i=this.elseTemplates}).on("tag:endcase",()=>o.stop()).on("template",a=>{(i!==this.elseTemplates||s===1)&&i.push(a)}).on("end",()=>{throw new Error(`tag ${t.getText()} not closed`)});o.start()}*render(t,r){const n=this.liquid.renderer,i=ot(yield this.value.value(t,t.opts.lenientIf));let s=!1;for(const o of this.branches)for(const a of o.values){const l=yield yn(a,t,t.opts.lenientIf);if(i===l){yield n.renderTemplates(o.templates,t,r),s=!0;break}}s||(yield n.renderTemplates(this.elseTemplates,t,r))}}class UJ extends Nr{constructor(t,r,n){for(super(t,r,n);r.length;){const i=r.shift();if(Qu(i)&&i.name==="endcomment")return}throw new Error(`tag ${t.getText()} not closed`)}render(){}}class VJ extends Nr{constructor(t,r,n){super(t,r,n);const i=this.tokenizer;for(this.file=c2(i,this.liquid),this.currentFile=t.file;!i.end();){i.skipBlank();const s=i.p,o=i.readIdentifier();if((o.content==="with"||o.content==="for")&&(i.skipBlank(),i.peek()!==":")){const a=i.readValue();if(a){const l=i.p,u=i.readIdentifier();let c;u.content==="as"?c=i.readIdentifier():i.p=l,this[o.content]={value:a,alias:c&&c.content},i.skipBlank(),i.peek()===","&&i.advance();continue}}i.p=s;break}this.hash=new oh(i.remaining())}*render(t,r){const{liquid:n,hash:i}=this,s=yield d2(this.file,t,n);ws(s,()=>`illegal file path "${s}"`);const o=new yc({},t.opts,{sync:t.sync,globals:t.globals,strictVariables:t.strictVariables}),a=o.bottom();if(Qv(a,yield i.render(t)),this.with){const{value:l,alias:u}=this.with;a[u||s]=yield yn(l,t)}if(this.for){const{value:l,alias:u}=this.for,c=s2(yield yn(l,t));a.forloop=new i2(c.length,l.getText(),u);for(const f of c){a[u]=f;const p=yield n._parsePartialFile(s,o.sync,this.currentFile);yield n.renderer.renderTemplates(p,o,r),a.forloop.next()}}else{const l=yield n._parsePartialFile(s,o.sync,this.currentFile);yield n.renderer.renderTemplates(l,o,r)}}}function c2(e,t){if(t.options.dynamicPartials){const i=e.readValue();if(e.assert(i,"illegal file path"),i.getText()==="none")return;if(OQ(i)){const s=t.parse(QA(i));return DC(s)}return i}const r=[...e.readFileNameTemplate(t.options)],n=DC(t.parser.parseTokens(r));return n==="none"?void 0:n}function DC(e){return e.length===1&&u2(e[0].token)?e[0].token.getContent():e}function*d2(e,t,r){return typeof e=="string"?e:Array.isArray(e)?r.renderer.renderTemplates(e,t):yield yn(e,t)}class HJ extends Nr{constructor(t,r,n){super(t,r,n);const{tokenizer:i}=t;this.file=c2(i,this.liquid),this.currentFile=t.file;const s=i.p;i.readIdentifier().content==="with"?(i.skipBlank(),i.peek()!==":"?this.withVar=i.readValue():i.p=s):i.p=s,this.hash=new oh(i.remaining(),this.liquid.options.jekyllInclude)}*render(t,r){const{liquid:n,hash:i,withVar:s}=this,{renderer:o}=n,a=yield d2(this.file,t,n);ws(a,()=>`illegal file path "${a}"`);const l=t.saveRegister("blocks","blockMode");t.setRegister("blocks",{}),t.setRegister("blockMode",vu.OUTPUT);const u=yield i.render(t);s&&(u[a]=yield yn(s,t));const c=yield n._parsePartialFile(a,t.sync,this.currentFile);t.push(t.opts.jekyllInclude?{include:u}:u),yield o.renderTemplates(c,t,r),t.pop(),t.restoreRegister(l)}}class GJ extends Nr{constructor(t,r,n){super(t,r,n),this.variable=this.tokenizer.readIdentifier().content}render(t,r){const n=t.environments;E1(n[this.variable])||(n[this.variable]=0),r.write(tt(--n[this.variable]))}}class QJ extends Nr{constructor(t,r,n){super(t,r,n),this.candidates=[];const i=this.tokenizer.readValue();for(this.tokenizer.skipBlank(),i&&(this.tokenizer.peek()===":"?(this.group=i,this.tokenizer.advance()):this.candidates.push(i));!this.tokenizer.end();){const s=this.tokenizer.readValue();s&&this.candidates.push(s),this.tokenizer.readTo(",")}this.tokenizer.assert(this.candidates.length,()=>`empty candidates: "${t.getText()}"`)}*render(t,r){const i=`cycle:${yield yn(this.group,t)}:`+this.candidates.join(","),s=t.getRegister("cycle");let o=s[i];o===void 0&&(o=s[i]=0);const a=this.candidates[o];return o=(o+1)%this.candidates.length,s[i]=o,yield yn(a,t)}}class JJ extends Nr{constructor(t,r,n){super(t,r,n),this.branches=[],this.elseTemplates=[];let i=[],s=0;n.parser.parseStream(r).on("start",()=>this.branches.push({value:new qo(t.args,this.liquid),templates:i=[]})).on("tag:elsif",o=>{if(s>0){i=[];return}this.branches.push({value:new qo(o.args,this.liquid),templates:i=[]})}).on("tag:else",()=>{s++,i=this.elseTemplates}).on("tag:endif",function(){this.stop()}).on("template",o=>{(i!==this.elseTemplates||s===1)&&i.push(o)}).on("end",()=>{throw new Error(`tag ${t.getText()} not closed`)}).start()}*render(t,r){const n=this.liquid.renderer;for(const{value:i,templates:s}of this.branches){const o=yield i.value(t,t.opts.lenientIf);if(Kl(o,t)){yield n.renderTemplates(s,t,r);return}}yield n.renderTemplates(this.elseTemplates,t,r)}}class KJ extends Nr{constructor(t,r,n){super(t,r,n),this.variable=this.tokenizer.readIdentifier().content}render(t,r){const n=t.environments;E1(n[this.variable])||(n[this.variable]=0);const i=n[this.variable];n[this.variable]++,r.write(tt(i))}}class ZJ extends Nr{constructor(t,r,n){super(t,r,n),this.file=c2(this.tokenizer,this.liquid),this.currentFile=t.file,this.args=new oh(this.tokenizer.remaining()),this.templates=this.liquid.parser.parseTokens(r)}*render(t,r){const{liquid:n,args:i,file:s}=this,{renderer:o}=n;if(s===void 0){t.setRegister("blockMode",vu.OUTPUT),yield o.renderTemplates(this.templates,t,r);return}const a=yield d2(this.file,t,n);ws(a,()=>`illegal file path "${a}"`);const l=yield n._parseLayoutFile(a,t.sync,this.currentFile);t.setRegister("blockMode",vu.STORE);const u=yield o.renderTemplates(this.templates,t),c=t.getRegister("blocks");c[""]===void 0&&(c[""]=(f,p)=>p.write(u)),t.setRegister("blockMode",vu.OUTPUT),t.push(yield i.render(t)),yield o.renderTemplates(l,t,r),t.pop()}}class YJ extends Nr{constructor(t,r,n){super(t,r,n),this.templates=[];const i=/\w+/.exec(t.args);for(this.block=i?i[0]:"";r.length;){const s=r.shift();if(Qu(s)&&s.name==="endblock")return;const o=n.parser.parseToken(s,r);this.templates.push(o)}throw new Error(`tag ${t.getText()} not closed`)}*render(t,r){const n=this.getBlockRender(t);t.getRegister("blockMode")===vu.STORE?t.getRegister("blocks")[this.block]=n:yield n(new NC,r)}getBlockRender(t){const{liquid:r,templates:n}=this,i=t.getRegister("blocks")[this.block],s=function*(o,a){t.push({block:o}),yield r.renderer.renderTemplates(n,t,a),t.pop()};return i?(o,a)=>i(new NC(()=>s(o,a)),a):s}}class XJ extends Nr{constructor(t,r,n){for(super(t,r,n),this.tokens=[];r.length;){const i=r.shift();if(Qu(i)&&i.name==="endraw")return;this.tokens.push(i)}throw new Error(`tag ${t.getText()} not closed`)}render(){return this.tokens.map(t=>t.getText()).join("")}}class eK extends i2{constructor(t,r,n,i){super(t,n,i),this.length=t,this.cols=r}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return this.col0()===0}col_last(){return this.col()===this.cols}}class tK extends Nr{constructor(t,r,n){super(t,r,n);const i=this.tokenizer.readIdentifier();this.tokenizer.skipBlank();const s=this.tokenizer.readIdentifier(),o=this.tokenizer.readValue();if(s.content!=="in"||!o)throw new Error(`illegal tag: ${t.getText()}`);this.variable=i.content,this.collection=o,this.args=new oh(this.tokenizer.remaining()),this.templates=[];let a;const l=this.liquid.parser.parseStream(r).on("start",()=>a=this.templates).on("tag:endtablerow",()=>l.stop()).on("template",u=>a.push(u)).on("end",()=>{throw new Error(`tag ${t.getText()} not closed`)});l.start()}*render(t,r){let n=s2(yield yn(this.collection,t));const i=yield this.args.render(t),s=i.offset||0,o=i.limit===void 0?n.length:i.limit;n=n.slice(s,s+o);const a=i.cols||n.length,l=this.liquid.renderer,u=new eK(n.length,a,this.collection.getText(),this.variable),c={tablerowloop:u};t.push(c);for(let f=0;f<n.length;f++,u.next())c[this.variable]=n[f],u.col0()===0&&(u.row()!==1&&r.write("</tr>"),r.write(`<tr class="row${u.row()}">`)),r.write(`<td class="col${u.col()}">`),yield l.renderTemplates(this.templates,t,r),r.write("</td>");n.length&&r.write("</tr>"),t.pop()}}class rK extends Nr{constructor(t,r,n){super(t,r,n),this.branches=[],this.elseTemplates=[];let i=[],s=0;this.liquid.parser.parseStream(r).on("start",()=>this.branches.push({value:new qo(t.args,this.liquid),test:T1,templates:i=[]})).on("tag:elsif",o=>{if(s>0){i=[];return}this.branches.push({value:new qo(o.args,this.liquid),test:Kl,templates:i=[]})}).on("tag:else",()=>{s++,i=this.elseTemplates}).on("tag:endunless",function(){this.stop()}).on("template",o=>{(i!==this.elseTemplates||s===1)&&i.push(o)}).on("end",()=>{throw new Error(`tag ${t.getText()} not closed`)}).start()}*render(t,r){const n=this.liquid.renderer;for(const{value:i,test:s,templates:o}of this.branches){const a=yield i.value(t,t.opts.lenientIf);if(s(a,t)){yield n.renderTemplates(o,t,r);return}}yield n.renderTemplates(this.elseTemplates,t,r)}}class nK extends Nr{render(t,r){r.break=!0}}class iK extends Nr{render(t,r){r.continue=!0}}class sK extends Nr{constructor(t,r,n){super(t,r,n),this.tokenizer.skipBlank(),this.tokenizer.end()||(this.value=new qo(this.tokenizer.readFilteredValue(),this.liquid))}*render(t,r){if(!this.value)return;const n=yield this.value.value(t,!1);r.write(n)}}class oK extends Nr{constructor(t,r,n){super(t,r,n);const i=this.tokenizer.readLiquidTagTokens(this.liquid.options);this.templates=this.liquid.parser.parseTokens(i)}*render(t,r){yield this.liquid.renderer.renderTemplates(this.templates,t,r)}}class aK extends Nr{constructor(t,r,n){if(super(t,r,n),t.args.search(/\n\s*[^#\s]/g)!==-1)throw new Error("every line of an inline comment must start with a '#' character")}render(){}}const lK={assign:jJ,for:MJ,capture:zJ,case:qJ,comment:UJ,include:HJ,render:VJ,decrement:GJ,increment:KJ,cycle:QJ,if:JJ,layout:ZJ,block:YJ,raw:XJ,tablerow:tK,unless:rK,break:nK,continue:iK,echo:sK,liquid:oK,"#":aK};class h2{constructor(t={}){this.renderer=new VG,this.filters={},this.tags={},this.options=mQ(t),this.parser=new EQ(this),vC(lK,(r,n)=>this.registerTag(n,r)),vC(DJ,(r,n)=>this.registerFilter(n,r))}parse(t,r){return this.parser.parse(t,r)}_render(t,r,n){const i=r instanceof yc?r:new yc(r,this.options,n);return this.renderer.renderTemplates(t,i)}render(t,r,n){return uo(this,void 0,void 0,function*(){return ba(this._render(t,r,Object.assign(Object.assign({},n),{sync:!1})))})}renderSync(t,r,n){return _a(this._render(t,r,Object.assign(Object.assign({},n),{sync:!0})))}renderToNodeStream(t,r,n={}){const i=new yc(r,this.options,n);return this.renderer.renderTemplatesToNodeStream(t,i)}_parseAndRender(t,r,n){const i=this.parse(t);return this._render(i,r,n)}parseAndRender(t,r,n){return uo(this,void 0,void 0,function*(){return ba(this._parseAndRender(t,r,Object.assign(Object.assign({},n),{sync:!1})))})}parseAndRenderSync(t,r,n){return _a(this._parseAndRender(t,r,Object.assign(Object.assign({},n),{sync:!0})))}_parsePartialFile(t,r,n){return this.parser.parseFile(t,r,Mu.Partials,n)}_parseLayoutFile(t,r,n){return this.parser.parseFile(t,r,Mu.Layouts,n)}_parseFile(t,r,n,i){return this.parser.parseFile(t,r,n,i)}parseFile(t,r){return uo(this,void 0,void 0,function*(){return ba(this.parser.parseFile(t,!1,r))})}parseFileSync(t,r){return _a(this.parser.parseFile(t,!0,r))}*_renderFile(t,r,n){const i=yield this._parseFile(t,n.sync,n.lookupType);return yield this._render(i,r,n)}renderFile(t,r,n){return uo(this,void 0,void 0,function*(){return ba(this._renderFile(t,r,Object.assign(Object.assign({},n),{sync:!1})))})}renderFileSync(t,r,n){return _a(this._renderFile(t,r,Object.assign(Object.assign({},n),{sync:!0})))}renderFileToNodeStream(t,r,n){return uo(this,void 0,void 0,function*(){const i=yield this.parseFile(t);return this.renderToNodeStream(i,r,n)})}_evalValue(t,r){const n=new qo(t,this),i=r instanceof yc?r:new yc(r,this.options);return n.value(i)}evalValue(t,r){return uo(this,void 0,void 0,function*(){return ba(this._evalValue(t,r))})}evalValueSync(t,r){return _a(this._evalValue(t,r))}registerFilter(t,r){this.filters[t]=r}registerTag(t,r){this.tags[t]=Fn(r)?r:_Q(r)}plugin(t){return t.call(this,h2)}express(){const t=this;let r=!0;return function(n,i,s){if(r){r=!1;const o=gy(this.root);t.options.root.unshift(...o),t.options.layouts.unshift(...o),t.options.partials.unshift(...o)}t.renderFile(n,i).then(o=>s(null,o),s)}}}const xl={},uK=Object.freeze(Object.defineProperty({__proto__:null,default:xl},Symbol.toStringTag,{value:"Module"}));var eI={};const cK="production",dK=eI.STAGE||"dev",hK="sqlite.db",fK=eI.DATABASE_URL||hK;xl.fileURLToPath(import.meta.url);const pK=xl.fileURLToPath(new URL("data:text/javascript;base64,ZXhwb3J0IHsgQWNjb3VudENvZGUsIEFjY291bnRDYXRlZ29yeSwgQWNjb3VudFRhZywgfSBmcm9tICIuL21hc3RlcmRhdGEvdHlwZXMuanMiOwpleHBvcnQgeyBKb3VybmFsRW50cnkgfSBmcm9tICIuL2pvdXJuYWxzL0pvdXJuYWxFbnRyeS5qcyI7CmV4cG9ydCB7IEpvdXJuYWxFbnRyeUxpbmUgfSBmcm9tICIuL2pvdXJuYWxzL0pvdXJuYWxFbnRyeUxpbmUuanMiOwpleHBvcnQgeyBNeVJlcXVlc3QsIE15UmVzcG9uc2UgfSBmcm9tICIuL25ldHdvcmtzL2luZGV4LmpzIjsKZXhwb3J0IHsgbGVkZ2VyU3BlY2lmaWNhdGlvbiwgam91cm5hbFNwZWNpZmljYXRpb24sIHJlc291cmNlU3BlY2lmaWNhdGlvbiwgfSBmcm9tICIuL3NwZWNpZmljYXRpb25zL2luZGV4LmpzIjsKZXhwb3J0IHsgSm91cm5hbENvbnRyb2xsZXIgfSBmcm9tICIuL2NvbnRyb2xsZXJzL0pvdXJuYWxDb250cm9sbGVyLmpzIjsKZXhwb3J0IHsgTGVkZ2VyQ29udHJvbGxlciB9IGZyb20gIi4vY29udHJvbGxlcnMvTGVkZ2VyQ29udHJvbGxlci5qcyI7CmV4cG9ydCB7IFJlc291cmNlQ29udHJvbGxlciB9IGZyb20gIi4vY29udHJvbGxlcnMvUmVzb3VyY2VDb250cm9sbGVyLmpzIjsKZXhwb3J0IHsgQWNjb3VudFNjaGVtYSwgQWNjb3VudFRhZ1NjaGVtYSwgTGVkZ2VyVHJhbnNhY3Rpb25TY2hlbWEsIEFjY291bnRUcmFuc2FjdGlvblNjaGVtYSwgTXlEYXRhYmFzZSwgfSBmcm9tICIuL3RhYmxlcy9pbmRleC5qcyI7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcA==",import.meta.url)),qm=xl.join(pK,".."),mK=xl.join(qm,"..",".."),gK=xl.join(qm,"views"),yK=xl.join(qm,"static"),vK=xl.join(qm,"priv"),jC={NODE_ENV:cK,STAGE:dK,databaseUrl:fK,rootPath:mK,packagePath:qm,viewPath:gK,staticPath:yK,privPath:vK},wK=new h2({root:jC.viewPath,extname:".liquid",cache:jC.NODE_ENV==="production"}),bK=async(e,t,r)=>{const n=op.toTag(t),a=n*1e3===t?await(async()=>await e.selectFrom(uC).selectAll().where("code",">=",n*1e3).where("code","<",(n+1)*1e3).execute())():await(async()=>await e.selectFrom(uC).selectAll().where("code","=",t).execute())();if(a.length<=0)return[];const l=new Map;for(const f of a){const p=H_(f,Hn.fromRow),w=l.get(f.entryId)??[];l.set(f.entryId,[...w,p])}return(await e.selectFrom(N1).selectAll().where("entryId","in",a.map(f=>f.entryId)).where("date",">=",r.start).where("date","<",r.end).orderBy("date","asc").execute()).flatMap(f=>{const p=l.get(f.entryId);if(!p)throw new Error("entryLine not found");return p.map(w=>({id:f.entryId,brief:f.brief,date:f.date,debit:w._tag==="debit"?w.debit:0,credit:w._tag==="credit"?w.credit:0}))})},_K={load:bK},xK=bA,NK=async e=>{const t=e.body,r=t.code<1e3?t.code*1e3:t.code,{startDate:n,endDate:i}=t,s=await _K.load(e.db,r,{start:n,end:i}),a=await JH.loadByPrimaryKey(e.db,r,n)??{code:r,date:n,closingBalance:0,totalDebit:0,totalCredit:0};return new eh({code:r,statement:a,ledgers:s})},SK=e=>{const t=new k1;return Dc(t,e,xK.list,NK),t.get("/",async r=>{const n=await wK.renderFile("ledgers/ledger_index",{});return r.html(n)}),t},MC={path:wA,createApp:SK},kK=async e=>(await e.selectFrom(aA).selectAll().execute()).map(op.fromRow),EK={load:kK},CK=async e=>(await e.selectFrom(lU).selectAll().execute()).map(Aq.fromRow),TK={load:CK},OK=vA,RK=async e=>{const t=e.db,[r,n]=await Promise.all([TK.load(t),EK.load(t)]);return new eh({accountTags:r,accountCodes:n})},PK=e=>{const t=new k1;return Dc(t,e,OK.masterdata,RK),t},FC={path:yA,createApp:PK};var tI={exports:{}};const Gw=T6(uK);(function(e,t){var r=void 0,n=function(i){return r||(r=new Promise(function(s,o){var a=typeof i<"u"?i:{},l=a.onAbort;a.onAbort=function(h){o(new Error(h)),l&&l(h)},a.postRun=a.postRun||[],a.postRun.push(function(){s(a)}),e=void 0;var u;u||(u=typeof a<"u"?a:{}),u.onRuntimeInitialized=function(){function h(z,ce){switch(typeof ce){case"boolean":S6(z,ce?1:0);break;case"number":_6(z,ce);break;case"string":x6(z,ce,-1,-1);break;case"object":if(ce===null)aS(z);else if(ce.length!=null){var Be=ig(ce,ng);N6(z,Be,ce.length,-1),ag(Be)}else ug(z,"Wrong API use : tried to return a value of an unknown type ("+ce+").",-1);break;default:aS(z)}}function m(z,ce){for(var Be=[],it=0;it<z;it+=1){var vt=dt(ce+4*it,"i32"),Gt=g6(vt);if(Gt===1||Gt===2)vt=b6(vt);else if(Gt===3)vt=v6(vt);else if(Gt===4){Gt=vt,vt=y6(Gt),Gt=w6(Gt);for(var Wi=new Uint8Array(vt),ki=0;ki<vt;ki+=1)Wi[ki]=F[Gt+ki];vt=Wi}else vt=null;Be.push(vt)}return Be}function y(z,ce){this.La=z,this.db=ce,this.Ja=1,this.fb=[]}function T(z,ce){if(this.db=ce,ce=on(z)+1,this.Ya=og(ce),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");ti(z,J,this.Ya,ce),this.eb=this.Ya,this.Ua=this.ib=null}function A(z){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),z!=null){var ce=this.filename,Be="/",it=ce;if(Be&&(Be=typeof Be=="string"?Be:Qe(Be),it=ce?me(Be+"/"+ce):Be),ce=ch(!0,!0),it=Ss(it,(ce!==void 0?ce:438)&4095|32768,0),z){if(typeof z=="string"){Be=Array(z.length);for(var vt=0,Gt=z.length;vt<Gt;++vt)Be[vt]=z.charCodeAt(vt);z=Be}Xm(it,ce|146),Be=tc(it,577),H2(Be,z,0,z.length,0),q1(Be),Xm(it,ce)}}this.handleError(Ye(this.filename,Q)),this.db=dt(Q,"i32"),uS(this.db),this.Za={},this.Na={}}var Q=ia(4),ne=u.cwrap,Ye=ne("sqlite3_open","number",["string","number"]),kt=ne("sqlite3_close_v2","number",["number"]),ft=ne("sqlite3_exec","number",["number","string","number","number","number"]),$r=ne("sqlite3_changes","number",["number"]),Kr=ne("sqlite3_prepare_v2","number",["number","string","number","number","number"]),rS=ne("sqlite3_sql","string",["number"]),XI=ne("sqlite3_normalized_sql","string",["number"]),nS=ne("sqlite3_prepare_v2","number",["number","number","number","number","number"]),e6=ne("sqlite3_bind_text","number",["number","number","number","number","number"]),iS=ne("sqlite3_bind_blob","number",["number","number","number","number","number"]),t6=ne("sqlite3_bind_double","number",["number","number","number"]),r6=ne("sqlite3_bind_int","number",["number","number","number"]),n6=ne("sqlite3_bind_parameter_index","number",["number","string"]),i6=ne("sqlite3_step","number",["number"]),s6=ne("sqlite3_errmsg","string",["number"]),o6=ne("sqlite3_column_count","number",["number"]),a6=ne("sqlite3_data_count","number",["number"]),l6=ne("sqlite3_column_double","number",["number","number"]),sS=ne("sqlite3_column_text","string",["number","number"]),u6=ne("sqlite3_column_blob","number",["number","number"]),c6=ne("sqlite3_column_bytes","number",["number","number"]),d6=ne("sqlite3_column_type","number",["number","number"]),h6=ne("sqlite3_column_name","string",["number","number"]),f6=ne("sqlite3_reset","number",["number"]),p6=ne("sqlite3_clear_bindings","number",["number"]),m6=ne("sqlite3_finalize","number",["number"]),oS=ne("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),g6=ne("sqlite3_value_type","number",["number"]),y6=ne("sqlite3_value_bytes","number",["number"]),v6=ne("sqlite3_value_text","string",["number"]),w6=ne("sqlite3_value_blob","number",["number"]),b6=ne("sqlite3_value_double","number",["number"]),_6=ne("sqlite3_result_double","",["number","number"]),aS=ne("sqlite3_result_null","",["number"]),x6=ne("sqlite3_result_text","",["number","string","number","number"]),N6=ne("sqlite3_result_blob","",["number","number","number","number"]),S6=ne("sqlite3_result_int","",["number","number"]),ug=ne("sqlite3_result_error","",["number","string","number"]),lS=ne("sqlite3_aggregate_context","number",["number","number"]),uS=ne("RegisterExtensionFunctions","number",["number"]);y.prototype.bind=function(z){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(z)?this.wb(z):z!=null&&typeof z=="object"?this.xb(z):!0},y.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var z=i6(this.La);switch(z){case 100:return!0;case 101:return!1;default:throw this.db.handleError(z)}},y.prototype.rb=function(z){return z==null&&(z=this.Ja,this.Ja+=1),l6(this.La,z)},y.prototype.Ab=function(z){if(z==null&&(z=this.Ja,this.Ja+=1),z=sS(this.La,z),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(z)},y.prototype.Bb=function(z){return z==null&&(z=this.Ja,this.Ja+=1),sS(this.La,z)},y.prototype.getBlob=function(z){z==null&&(z=this.Ja,this.Ja+=1);var ce=c6(this.La,z);z=u6(this.La,z);for(var Be=new Uint8Array(ce),it=0;it<ce;it+=1)Be[it]=F[z+it];return Be},y.prototype.get=function(z,ce){ce=ce||{},z!=null&&this.bind(z)&&this.step(),z=[];for(var Be=a6(this.La),it=0;it<Be;it+=1)switch(d6(this.La,it)){case 1:var vt=ce.useBigInt?this.Ab(it):this.rb(it);z.push(vt);break;case 2:z.push(this.rb(it));break;case 3:z.push(this.Bb(it));break;case 4:z.push(this.getBlob(it));break;default:z.push(null)}return z},y.prototype.getColumnNames=function(){for(var z=[],ce=o6(this.La),Be=0;Be<ce;Be+=1)z.push(h6(this.La,Be));return z},y.prototype.getAsObject=function(z,ce){z=this.get(z,ce),ce=this.getColumnNames();for(var Be={},it=0;it<ce.length;it+=1)Be[ce[it]]=z[it];return Be},y.prototype.getSQL=function(){return rS(this.La)},y.prototype.getNormalizedSQL=function(){return XI(this.La)},y.prototype.run=function(z){return z!=null&&this.bind(z),this.step(),this.reset()},y.prototype.nb=function(z,ce){ce==null&&(ce=this.Ja,this.Ja+=1),z=Xs(z);var Be=ig(z,ng);this.fb.push(Be),this.db.handleError(e6(this.La,ce,Be,z.length-1,0))},y.prototype.vb=function(z,ce){ce==null&&(ce=this.Ja,this.Ja+=1);var Be=ig(z,ng);this.fb.push(Be),this.db.handleError(iS(this.La,ce,Be,z.length,0))},y.prototype.mb=function(z,ce){ce==null&&(ce=this.Ja,this.Ja+=1),this.db.handleError((z===(z|0)?r6:t6)(this.La,ce,z))},y.prototype.yb=function(z){z==null&&(z=this.Ja,this.Ja+=1),iS(this.La,z,0,0,0)},y.prototype.ob=function(z,ce){switch(ce==null&&(ce=this.Ja,this.Ja+=1),typeof z){case"string":this.nb(z,ce);return;case"number":this.mb(z,ce);return;case"bigint":this.nb(z.toString(),ce);return;case"boolean":this.mb(z+0,ce);return;case"object":if(z===null){this.yb(ce);return}if(z.length!=null){this.vb(z,ce);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+z+")."},y.prototype.xb=function(z){var ce=this;return Object.keys(z).forEach(function(Be){var it=n6(ce.La,Be);it!==0&&ce.ob(z[Be],it)}),!0},y.prototype.wb=function(z){for(var ce=0;ce<z.length;ce+=1)this.ob(z[ce],ce+1);return!0},y.prototype.reset=function(){return this.freemem(),p6(this.La)===0&&f6(this.La)===0},y.prototype.freemem=function(){for(var z;(z=this.fb.pop())!==void 0;)ag(z)},y.prototype.free=function(){this.freemem();var z=m6(this.La)===0;return delete this.db.Za[this.La],this.La=0,z},T.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var z=gh(),ce=ia(4);rt(Q),rt(ce);try{this.db.handleError(nS(this.db.db,this.eb,-1,Q,ce)),this.eb=dt(ce,"i32");var Be=dt(Q,"i32");return Be===0?(this.gb(),{done:!0}):(this.Ua=new y(Be,this.db),this.db.Za[Be]=this.Ua,{value:this.Ua,done:!1})}catch(it){throw this.ib=U(this.eb),this.gb(),it}finally{yh(z)}},T.prototype.gb=function(){ag(this.Ya),this.Ya=null},T.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:U(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(T.prototype[Symbol.iterator]=function(){return this}),A.prototype.run=function(z,ce){if(!this.db)throw"Database closed";if(ce){z=this.prepare(z,ce);try{z.step()}finally{z.free()}}else this.handleError(ft(this.db,z,0,0,Q));return this},A.prototype.exec=function(z,ce,Be){if(!this.db)throw"Database closed";var it=gh(),vt=null;try{var Gt=G1(z),Wi=ia(4);for(z=[];dt(Gt,"i8")!==0;){rt(Q),rt(Wi),this.handleError(nS(this.db,Gt,-1,Q,Wi));var ki=dt(Q,"i32");if(Gt=dt(Wi,"i32"),ki!==0){var ri=null;for(vt=new y(ki,this),ce!=null&&vt.bind(ce);vt.step();)ri===null&&(ri={columns:vt.getColumnNames(),values:[]},z.push(ri)),ri.values.push(vt.get(null,Be));vt.free()}}return z}catch(zi){throw vt&&vt.free(),zi}finally{yh(it)}},A.prototype.each=function(z,ce,Be,it,vt){typeof ce=="function"&&(it=Be,Be=ce,ce=void 0),z=this.prepare(z,ce);try{for(;z.step();)Be(z.getAsObject(null,vt))}finally{z.free()}if(typeof it=="function")return it()},A.prototype.prepare=function(z,ce){if(rt(Q),this.handleError(Kr(this.db,z,-1,Q,0)),z=dt(Q,"i32"),z===0)throw"Nothing to prepare";var Be=new y(z,this);return ce!=null&&Be.bind(ce),this.Za[z]=Be},A.prototype.iterateStatements=function(z){return new T(z,this)},A.prototype.export=function(){Object.values(this.Za).forEach(function(ce){ce.free()}),Object.values(this.Na).forEach(rc),this.Na={},this.handleError(kt(this.db));var z=QI(this.filename);return this.handleError(Ye(this.filename,Q)),this.db=dt(Q,"i32"),uS(this.db),z},A.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(z){z.free()}),Object.values(this.Na).forEach(rc),this.Na={},this.handleError(kt(this.db)),It("/"+this.filename),this.db=null)},A.prototype.handleError=function(z){if(z===0)return null;throw z=s6(this.db),Error(z)},A.prototype.getRowsModified=function(){return $r(this.db)},A.prototype.create_function=function(z,ce){Object.prototype.hasOwnProperty.call(this.Na,z)&&(rc(this.Na[z]),delete this.Na[z]);var Be=sg(function(it,vt,Gt){vt=m(vt,Gt);try{var Wi=ce.apply(null,vt)}catch(ki){ug(it,ki,-1);return}h(it,Wi)},"viii");return this.Na[z]=Be,this.handleError(oS(this.db,z,ce.length,1,0,Be,0,0,0)),this},A.prototype.create_aggregate=function(z,ce){var Be=ce.init||function(){return null},it=ce.finalize||function(ri){return ri},vt=ce.step;if(!vt)throw"An aggregate function must have a step function in "+z;var Gt={};Object.hasOwnProperty.call(this.Na,z)&&(rc(this.Na[z]),delete this.Na[z]),ce=z+"__finalize",Object.hasOwnProperty.call(this.Na,ce)&&(rc(this.Na[ce]),delete this.Na[ce]);var Wi=sg(function(ri,zi,J1){var Tl=lS(ri,1);Object.hasOwnProperty.call(Gt,Tl)||(Gt[Tl]=Be()),zi=m(zi,J1),zi=[Gt[Tl]].concat(zi);try{Gt[Tl]=vt.apply(null,zi)}catch(k6){delete Gt[Tl],ug(ri,k6,-1)}},"viii"),ki=sg(function(ri){var zi=lS(ri,1);try{var J1=it(Gt[zi])}catch(Tl){delete Gt[zi],ug(ri,Tl,-1);return}h(ri,J1),delete Gt[zi]},"vi");return this.Na[z]=Wi,this.Na[ce]=ki,this.handleError(oS(this.db,z,vt.length-1,1,0,0,Wi,ki,0)),this},u.Database=A};var c=Object.assign({},u),f="./this.program",p=typeof window=="object",w=typeof importScripts=="function",b=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="",E,g,v;if(b){var N=Gw,O=Gw;x=w?O.dirname(x)+"/":__dirname+"/",E=(h,m)=>(h=j(h)?new URL(h):O.normalize(h),N.readFileSync(h,m?void 0:"utf8")),v=h=>(h=E(h,!0),h.buffer||(h=new Uint8Array(h)),h),g=(h,m,y,T=!0)=>{h=j(h)?new URL(h):O.normalize(h),N.readFile(h,T?void 0:"utf8",(A,Q)=>{A?y(A):m(T?Q.buffer:Q)})},!u.thisProgram&&1<process.argv.length&&(f=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=u,u.inspect=()=>"[Emscripten Module object]"}else(p||w)&&(w?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),x=x.indexOf("blob:")!==0?x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):"",E=h=>{var m=new XMLHttpRequest;return m.open("GET",h,!1),m.send(null),m.responseText},w&&(v=h=>{var m=new XMLHttpRequest;return m.open("GET",h,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),g=(h,m,y)=>{var T=new XMLHttpRequest;T.open("GET",h,!0),T.responseType="arraybuffer",T.onload=()=>{T.status==200||T.status==0&&T.response?m(T.response):y()},T.onerror=y,T.send(null)});var R=u.print||console.log.bind(console),C=u.printErr||console.error.bind(console);Object.assign(u,c),c=null,u.thisProgram&&(f=u.thisProgram);var $;u.wasmBinary&&($=u.wasmBinary),typeof WebAssembly!="object"&&le("no native wasm support detected");var L,G=!1,F,J,ee,q,ie,ve,Se;function _e(){var h=L.buffer;u.HEAP8=F=new Int8Array(h),u.HEAP16=ee=new Int16Array(h),u.HEAPU8=J=new Uint8Array(h),u.HEAPU16=new Uint16Array(h),u.HEAP32=q=new Int32Array(h),u.HEAPU32=ie=new Uint32Array(h),u.HEAPF32=ve=new Float32Array(h),u.HEAPF64=Se=new Float64Array(h)}var H=[],de=[],pe=[];function ke(){var h=u.preRun.shift();H.unshift(h)}var K=0,fe=null;function le(h){var m;throw(m=u.onAbort)==null||m.call(u,h),h="Aborted("+h+")",C(h),G=!0,new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info.")}var Ce=h=>h.startsWith("data:application/octet-stream;base64,"),j=h=>h.startsWith("file://"),Ee;if(Ee="sql-wasm.wasm",!Ce(Ee)){var Z=Ee;Ee=u.locateFile?u.locateFile(Z,x):x+Z}function je(h){if(h==Ee&&$)return new Uint8Array($);if(v)return v(h);throw"both async and sync fetching of the wasm failed"}function Pe(h){if(!$&&(p||w)){if(typeof fetch=="function"&&!j(h))return fetch(h,{credentials:"same-origin"}).then(m=>{if(!m.ok)throw"failed to load wasm binary file at '"+h+"'";return m.arrayBuffer()}).catch(()=>je(h));if(g)return new Promise((m,y)=>{g(h,T=>m(new Uint8Array(T)),y)})}return Promise.resolve().then(()=>je(h))}function xe(h,m,y){return Pe(h).then(T=>WebAssembly.instantiate(T,m)).then(T=>T).then(y,T=>{C(`failed to asynchronously prepare wasm: ${T}`),le(T)})}function se(h,m){var y=Ee;$||typeof WebAssembly.instantiateStreaming!="function"||Ce(y)||j(y)||b||typeof fetch!="function"?xe(y,h,m):fetch(y,{credentials:"same-origin"}).then(T=>WebAssembly.instantiateStreaming(T,h).then(m,function(A){return C(`wasm streaming compile failed: ${A}`),C("falling back to ArrayBuffer instantiation"),xe(y,h,m)}))}var oe,De,Te=h=>{for(;0<h.length;)h.shift()(u)};function dt(h,m="i8"){switch(m.endsWith("*")&&(m="*"),m){case"i1":return F[h>>0];case"i8":return F[h>>0];case"i16":return ee[h>>1];case"i32":return q[h>>2];case"i64":le("to do getValue(i64) use WASM_BIGINT");case"float":return ve[h>>2];case"double":return Se[h>>3];case"*":return ie[h>>2];default:le(`invalid type for getValue: ${m}`)}}function rt(h){var m="i32";switch(m.endsWith("*")&&(m="*"),m){case"i1":F[h>>0]=0;break;case"i8":F[h>>0]=0;break;case"i16":ee[h>>1]=0;break;case"i32":q[h>>2]=0;break;case"i64":le("to do setValue(i64) use WASM_BIGINT");case"float":ve[h>>2]=0;break;case"double":Se[h>>3]=0;break;case"*":ie[h>>2]=0;break;default:le(`invalid type for setValue: ${m}`)}}var P=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,D=(h,m,y)=>{var T=m+y;for(y=m;h[y]&&!(y>=T);)++y;if(16<y-m&&h.buffer&&P)return P.decode(h.subarray(m,y));for(T="";m<y;){var A=h[m++];if(A&128){var Q=h[m++]&63;if((A&224)==192)T+=String.fromCharCode((A&31)<<6|Q);else{var ne=h[m++]&63;A=(A&240)==224?(A&15)<<12|Q<<6|ne:(A&7)<<18|Q<<12|ne<<6|h[m++]&63,65536>A?T+=String.fromCharCode(A):(A-=65536,T+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else T+=String.fromCharCode(A)}return T},U=(h,m)=>h?D(J,h,m):"",we=(h,m)=>{for(var y=0,T=h.length-1;0<=T;T--){var A=h[T];A==="."?h.splice(T,1):A===".."?(h.splice(T,1),y++):y&&(h.splice(T,1),y--)}if(m)for(;y;y--)h.unshift("..");return h},me=h=>{var m=h.charAt(0)==="/",y=h.substr(-1)==="/";return(h=we(h.split("/").filter(T=>!!T),!m).join("/"))||m||(h="."),h&&y&&(h+="/"),(m?"/":"")+h},ae=h=>{var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=m[0],m=m[1],!h&&!m?".":(m&&(m=m.substr(0,m.length-1)),h+m)},X=h=>{if(h==="/")return"/";h=me(h),h=h.replace(/\/$/,"");var m=h.lastIndexOf("/");return m===-1?h:h.substr(m+1)},Oe=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return y=>crypto.getRandomValues(y);if(b)try{var h=Gw;if(h.randomFillSync)return y=>h.randomFillSync(y);var m=h.randomBytes;return y=>(y.set(m(y.byteLength)),y)}catch{}le("initRandomDevice")},Tt=h=>(Tt=Oe())(h);function jt(){for(var h="",m=!1,y=arguments.length-1;-1<=y&&!m;y--){if(m=0<=y?arguments[y]:"/",typeof m!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!m)return"";h=m+"/"+h,m=m.charAt(0)==="/"}return h=we(h.split("/").filter(T=>!!T),!m).join("/"),(m?"/":"")+h||"."}var Xt=[],on=h=>{for(var m=0,y=0;y<h.length;++y){var T=h.charCodeAt(y);127>=T?m++:2047>=T?m+=2:55296<=T&&57343>=T?(m+=4,++y):m+=3}return m},ti=(h,m,y,T)=>{if(!(0<T))return 0;var A=y;T=y+T-1;for(var Q=0;Q<h.length;++Q){var ne=h.charCodeAt(Q);if(55296<=ne&&57343>=ne){var Ye=h.charCodeAt(++Q);ne=65536+((ne&1023)<<10)|Ye&1023}if(127>=ne){if(y>=T)break;m[y++]=ne}else{if(2047>=ne){if(y+1>=T)break;m[y++]=192|ne>>6}else{if(65535>=ne){if(y+2>=T)break;m[y++]=224|ne>>12}else{if(y+3>=T)break;m[y++]=240|ne>>18,m[y++]=128|ne>>12&63}m[y++]=128|ne>>6&63}m[y++]=128|ne&63}}return m[y]=0,y-A};function Xs(h,m){var y=Array(on(h)+1);return h=ti(h,y,0,y.length),m&&(y.length=h),y}var Nl=[];function Sl(h,m){Nl[h]={input:[],output:[],Xa:m},Fi(h,Yu)}var Yu={open(h){var m=Nl[h.node.rdev];if(!m)throw new B(43);h.tty=m,h.seekable=!1},close(h){h.tty.Xa.fsync(h.tty)},fsync(h){h.tty.Xa.fsync(h.tty)},read(h,m,y,T){if(!h.tty||!h.tty.Xa.sb)throw new B(60);for(var A=0,Q=0;Q<T;Q++){try{var ne=h.tty.Xa.sb(h.tty)}catch{throw new B(29)}if(ne===void 0&&A===0)throw new B(6);if(ne==null)break;A++,m[y+Q]=ne}return A&&(h.node.timestamp=Date.now()),A},write(h,m,y,T){if(!h.tty||!h.tty.Xa.jb)throw new B(60);try{for(var A=0;A<T;A++)h.tty.Xa.jb(h.tty,m[y+A])}catch{throw new B(29)}return T&&(h.node.timestamp=Date.now()),A}},eo={sb(){e:{if(!Xt.length){var h=null;if(b){var m=Buffer.alloc(256),y=0,T=process.stdin.fd;try{y=N.readSync(T,m)}catch(A){if(A.toString().includes("EOF"))y=0;else throw A}0<y?h=m.slice(0,y).toString("utf-8"):h=null}else typeof window<"u"&&typeof window.prompt=="function"?(h=window.prompt("Input: "),h!==null&&(h+=`
`)):typeof readline=="function"&&(h=readline(),h!==null&&(h+=`
`));if(!h){h=null;break e}Xt=Xs(h,!0)}h=Xt.shift()}return h},jb(h,m){m===null||m===10?(R(D(h.output,0)),h.output=[]):m!=0&&h.output.push(m)},fsync(h){h.output&&0<h.output.length&&(R(D(h.output,0)),h.output=[])},Mb(){return{Ib:25856,Kb:5,Hb:191,Jb:35387,Gb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Nb(){return 0},Ob(){return[24,80]}},Zm={jb(h,m){m===null||m===10?(C(D(h.output,0)),h.output=[]):m!=0&&h.output.push(m)},fsync(h){h.output&&0<h.output.length&&(C(D(h.output,0)),h.output=[])}};function Xu(h,m){var y=h.Ia?h.Ia.length:0;y>=m||(m=Math.max(m,y*(1048576>y?2:1.125)>>>0),y!=0&&(m=Math.max(m,256)),y=h.Ia,h.Ia=new Uint8Array(m),0<h.Ma&&h.Ia.set(y.subarray(0,h.Ma),0))}var ht={Qa:null,Ra(){return ht.createNode(null,"/",16895,0)},createNode(h,m,y,T){if((y&61440)===24576||(y&61440)===4096)throw new B(63);return ht.Qa||(ht.Qa={dir:{node:{Pa:ht.Ga.Pa,Oa:ht.Ga.Oa,lookup:ht.Ga.lookup,ab:ht.Ga.ab,rename:ht.Ga.rename,unlink:ht.Ga.unlink,rmdir:ht.Ga.rmdir,readdir:ht.Ga.readdir,symlink:ht.Ga.symlink},stream:{Ta:ht.Ha.Ta}},file:{node:{Pa:ht.Ga.Pa,Oa:ht.Ga.Oa},stream:{Ta:ht.Ha.Ta,read:ht.Ha.read,write:ht.Ha.write,lb:ht.Ha.lb,bb:ht.Ha.bb,cb:ht.Ha.cb}},link:{node:{Pa:ht.Ga.Pa,Oa:ht.Ga.Oa,readlink:ht.Ga.readlink},stream:{}},pb:{node:{Pa:ht.Ga.Pa,Oa:ht.Ga.Oa},stream:Ns}}),y=Sr(h,m,y,T),He(y.mode)?(y.Ga=ht.Qa.dir.node,y.Ha=ht.Qa.dir.stream,y.Ia={}):(y.mode&61440)===32768?(y.Ga=ht.Qa.file.node,y.Ha=ht.Qa.file.stream,y.Ma=0,y.Ia=null):(y.mode&61440)===40960?(y.Ga=ht.Qa.link.node,y.Ha=ht.Qa.link.stream):(y.mode&61440)===8192&&(y.Ga=ht.Qa.pb.node,y.Ha=ht.Qa.pb.stream),y.timestamp=Date.now(),h&&(h.Ia[m]=y,h.timestamp=y.timestamp),y},Lb(h){return h.Ia?h.Ia.subarray?h.Ia.subarray(0,h.Ma):new Uint8Array(h.Ia):new Uint8Array(0)},Ga:{Pa(h){var m={};return m.dev=(h.mode&61440)===8192?h.id:1,m.ino=h.id,m.mode=h.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=h.rdev,He(h.mode)?m.size=4096:(h.mode&61440)===32768?m.size=h.Ma:(h.mode&61440)===40960?m.size=h.link.length:m.size=0,m.atime=new Date(h.timestamp),m.mtime=new Date(h.timestamp),m.ctime=new Date(h.timestamp),m.zb=4096,m.blocks=Math.ceil(m.size/m.zb),m},Oa(h,m){if(m.mode!==void 0&&(h.mode=m.mode),m.timestamp!==void 0&&(h.timestamp=m.timestamp),m.size!==void 0&&(m=m.size,h.Ma!=m))if(m==0)h.Ia=null,h.Ma=0;else{var y=h.Ia;h.Ia=new Uint8Array(m),y&&h.Ia.set(y.subarray(0,Math.min(m,h.Ma))),h.Ma=m}},lookup(){throw $e[44]},ab(h,m,y,T){return ht.createNode(h,m,y,T)},rename(h,m,y){if(He(h.mode)){try{var T=ut(m,y)}catch{}if(T)for(var A in T.Ia)throw new B(55)}delete h.parent.Ia[h.name],h.parent.timestamp=Date.now(),h.name=y,m.Ia[y]=h,m.timestamp=h.parent.timestamp,h.parent=m},unlink(h,m){delete h.Ia[m],h.timestamp=Date.now()},rmdir(h,m){var y=ut(h,m),T;for(T in y.Ia)throw new B(55);delete h.Ia[m],h.timestamp=Date.now()},readdir(h){var m=[".",".."],y;for(y of Object.keys(h.Ia))m.push(y);return m},symlink(h,m,y){return h=ht.createNode(h,m,41471,0),h.link=y,h},readlink(h){if((h.mode&61440)!==40960)throw new B(28);return h.link}},Ha:{read(h,m,y,T,A){var Q=h.node.Ia;if(A>=h.node.Ma)return 0;if(h=Math.min(h.node.Ma-A,T),8<h&&Q.subarray)m.set(Q.subarray(A,A+h),y);else for(T=0;T<h;T++)m[y+T]=Q[A+T];return h},write(h,m,y,T,A,Q){if(m.buffer===F.buffer&&(Q=!1),!T)return 0;if(h=h.node,h.timestamp=Date.now(),m.subarray&&(!h.Ia||h.Ia.subarray)){if(Q)return h.Ia=m.subarray(y,y+T),h.Ma=T;if(h.Ma===0&&A===0)return h.Ia=m.slice(y,y+T),h.Ma=T;if(A+T<=h.Ma)return h.Ia.set(m.subarray(y,y+T),A),T}if(Xu(h,A+T),h.Ia.subarray&&m.subarray)h.Ia.set(m.subarray(y,y+T),A);else for(Q=0;Q<T;Q++)h.Ia[A+Q]=m[y+Q];return h.Ma=Math.max(h.Ma,A+T),T},Ta(h,m,y){if(y===1?m+=h.position:y===2&&(h.node.mode&61440)===32768&&(m+=h.node.Ma),0>m)throw new B(28);return m},lb(h,m,y){Xu(h.node,m+y),h.node.Ma=Math.max(h.node.Ma,m+y)},bb(h,m,y,T,A){if((h.node.mode&61440)!==32768)throw new B(43);if(h=h.node.Ia,A&2||h.buffer!==F.buffer){if((0<y||y+m<h.length)&&(h.subarray?h=h.subarray(y,y+m):h=Array.prototype.slice.call(h,y,y+m)),y=!0,m=65536*Math.ceil(m/65536),(A=eS(65536,m))?(J.fill(0,A,A+m),m=A):m=0,!m)throw new B(48);F.set(h,m)}else y=!1,m=h.byteOffset;return{Db:m,ub:y}},cb(h,m,y,T){return ht.Ha.write(h,m,0,T,y,!1),0}}},ch=(h,m)=>{var y=0;return h&&(y|=365),m&&(y|=146),y},dh=null,hh={},kl=[],M=1,V=null,re=!0,B=null,$e={};function Ue(h,m={}){if(h=jt(h),!h)return{path:"",node:null};if(m=Object.assign({qb:!0,kb:0},m),8<m.kb)throw new B(32);h=h.split("/").filter(ne=>!!ne);for(var y=dh,T="/",A=0;A<h.length;A++){var Q=A===h.length-1;if(Q&&m.parent)break;if(y=ut(y,h[A]),T=me(T+"/"+h[A]),y.Va&&(!Q||Q&&m.qb)&&(y=y.Va.root),!Q||m.Sa){for(Q=0;(y.mode&61440)===40960;)if(y=an(T),T=jt(ae(T),y),y=Ue(T,{kb:m.kb+1}).node,40<Q++)throw new B(32)}}return{path:T,node:y}}function Qe(h){for(var m;;){if(h===h.parent)return h=h.Ra.tb,m?h[h.length-1]!=="/"?`${h}/${m}`:h+m:h;m=m?`${h.name}/${m}`:h.name,h=h.parent}}function Ve(h,m){for(var y=0,T=0;T<m.length;T++)y=(y<<5)-y+m.charCodeAt(T)|0;return(h+y>>>0)%V.length}function We(h){var m=Ve(h.parent.id,h.name);if(V[m]===h)V[m]=h.Wa;else for(m=V[m];m;){if(m.Wa===h){m.Wa=h.Wa;break}m=m.Wa}}function ut(h,m){var y;if(y=(y=sr(h,"x"))?y:h.Ga.lookup?0:2)throw new B(y,h);for(y=V[Ve(h.id,m)];y;y=y.Wa){var T=y.name;if(y.parent.id===h.id&&T===m)return y}return h.Ga.lookup(h,m)}function Sr(h,m,y,T){return h=new Y2(h,m,y,T),m=Ve(h.parent.id,h.name),h.Wa=V[m],V[m]=h}function He(h){return(h&61440)===16384}function Mt(h){var m=["r","w","rw"][h&3];return h&512&&(m+="w"),m}function sr(h,m){if(re)return 0;if(!m.includes("r")||h.mode&292){if(m.includes("w")&&!(h.mode&146)||m.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function wn(h,m){try{return ut(h,m),20}catch{}return sr(h,"wx")}function kr(h,m,y){try{var T=ut(h,m)}catch(A){return A.Ka}if(h=sr(h,"wx"))return h;if(y){if(!He(T.mode))return 54;if(T===T.parent||Qe(T)==="/")return 10}else if(He(T.mode))return 31;return 0}function ra(){for(var h=0;4096>=h;h++)if(!kl[h])return h;throw new B(33)}function Fr(h){if(h=kl[h],!h)throw new B(8);return h}function to(h,m=-1){return ph||(ph=function(){this.$a={}},ph.prototype={},Object.defineProperties(ph.prototype,{object:{get(){return this.node},set(y){this.node=y}},flags:{get(){return this.$a.flags},set(y){this.$a.flags=y}},position:{get(){return this.$a.position},set(y){this.$a.position=y}}})),h=Object.assign(new ph,h),m==-1&&(m=ra()),h.fd=m,kl[m]=h}var Ns={open(h){var m,y;h.Ha=hh[h.node.rdev].Ha,(y=(m=h.Ha).open)==null||y.call(m,h)},Ta(){throw new B(70)}};function Fi(h,m){hh[h]={Ha:m}}function ec(h,m){var y=m==="/",T=!m;if(y&&dh)throw new B(10);if(!y&&!T){var A=Ue(m,{qb:!1});if(m=A.path,A=A.node,A.Va)throw new B(10);if(!He(A.mode))throw new B(54)}m={type:h,Pb:{},tb:m,Cb:[]},h=h.Ra(m),h.Ra=m,m.root=h,y?dh=h:A&&(A.Va=m,A.Ra&&A.Ra.Cb.push(m))}function Ss(h,m,y){var T=Ue(h,{parent:!0}).node;if(h=X(h),!h||h==="."||h==="..")throw new B(28);var A=wn(T,h);if(A)throw new B(A);if(!T.Ga.ab)throw new B(63);return T.Ga.ab(T,h,m,y)}function qn(h,m){return Ss(h,(m!==void 0?m:511)&1023|16384,0)}function Bi(h,m,y){typeof y>"u"&&(y=m,m=438),Ss(h,m|8192,y)}function na(h,m){if(!jt(h))throw new B(44);var y=Ue(m,{parent:!0}).node;if(!y)throw new B(44);m=X(m);var T=wn(y,m);if(T)throw new B(T);if(!y.Ga.symlink)throw new B(63);y.Ga.symlink(y,m,h)}function St(h){var m=Ue(h,{parent:!0}).node;h=X(h);var y=ut(m,h),T=kr(m,h,!0);if(T)throw new B(T);if(!m.Ga.rmdir)throw new B(63);if(y.Va)throw new B(10);m.Ga.rmdir(m,h),We(y)}function It(h){var m=Ue(h,{parent:!0}).node;if(!m)throw new B(44);h=X(h);var y=ut(m,h),T=kr(m,h,!1);if(T)throw new B(T);if(!m.Ga.unlink)throw new B(63);if(y.Va)throw new B(10);m.Ga.unlink(m,h),We(y)}function an(h){if(h=Ue(h).node,!h)throw new B(44);if(!h.Ga.readlink)throw new B(28);return jt(Qe(h.parent),h.Ga.readlink(h))}function ks(h,m){if(h=Ue(h,{Sa:!m}).node,!h)throw new B(44);if(!h.Ga.Pa)throw new B(63);return h.Ga.Pa(h)}function Ym(h){return ks(h,!0)}function Xm(h,m){if(h=typeof h=="string"?Ue(h,{Sa:!0}).node:h,!h.Ga.Oa)throw new B(63);h.Ga.Oa(h,{mode:m&4095|h.mode&-4096,timestamp:Date.now()})}function q2(h,m){if(0>m)throw new B(28);if(h=typeof h=="string"?Ue(h,{Sa:!0}).node:h,!h.Ga.Oa)throw new B(63);if(He(h.mode))throw new B(31);if((h.mode&61440)!==32768)throw new B(28);var y=sr(h,"w");if(y)throw new B(y);h.Ga.Oa(h,{size:m,timestamp:Date.now()})}function tc(h,m,y){if(h==="")throw new B(44);if(typeof m=="string"){var T={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[m];if(typeof T>"u")throw Error(`Unknown file open mode: ${m}`);m=T}if(y=m&64?(typeof y>"u"?438:y)&4095|32768:0,typeof h=="object")var A=h;else{h=me(h);try{A=Ue(h,{Sa:!(m&131072)}).node}catch{}}if(T=!1,m&64)if(A){if(m&128)throw new B(20)}else A=Ss(h,y,0),T=!0;if(!A)throw new B(44);if((A.mode&61440)===8192&&(m&=-513),m&65536&&!He(A.mode))throw new B(54);if(!T&&(y=A?(A.mode&61440)===40960?32:He(A.mode)&&(Mt(m)!=="r"||m&512)?31:sr(A,Mt(m)):44))throw new B(y);return m&512&&!T&&q2(A,0),m&=-131713,A=to({node:A,path:Qe(A),flags:m,seekable:!0,position:0,Ha:A.Ha,Fb:[],error:!1}),A.Ha.open&&A.Ha.open(A),!u.logReadFiles||m&1||(U1||(U1={}),h in U1||(U1[h]=1)),A}function q1(h){if(h.fd===null)throw new B(8);h.hb&&(h.hb=null);try{h.Ha.close&&h.Ha.close(h)}catch(m){throw m}finally{kl[h.fd]=null}h.fd=null}function U2(h,m,y){if(h.fd===null)throw new B(8);if(!h.seekable||!h.Ha.Ta)throw new B(70);if(y!=0&&y!=1&&y!=2)throw new B(28);h.position=h.Ha.Ta(h,m,y),h.Fb=[]}function V2(h,m,y,T,A){if(0>T||0>A)throw new B(28);if(h.fd===null)throw new B(8);if((h.flags&2097155)===1)throw new B(8);if(He(h.node.mode))throw new B(31);if(!h.Ha.read)throw new B(28);var Q=typeof A<"u";if(!Q)A=h.position;else if(!h.seekable)throw new B(70);return m=h.Ha.read(h,m,y,T,A),Q||(h.position+=m),m}function H2(h,m,y,T,A){if(0>T||0>A)throw new B(28);if(h.fd===null)throw new B(8);if(!(h.flags&2097155))throw new B(8);if(He(h.node.mode))throw new B(31);if(!h.Ha.write)throw new B(28);h.seekable&&h.flags&1024&&U2(h,0,2);var Q=typeof A<"u";if(!Q)A=h.position;else if(!h.seekable)throw new B(70);return m=h.Ha.write(h,m,y,T,A,void 0),Q||(h.position+=m),m}function QI(h){var m,y=tc(h,y||0);h=ks(h).size;var T=new Uint8Array(h);return V2(y,T,0,h,0),m=T,q1(y),m}function G2(){B||(B=function(h,m){this.name="ErrnoError",this.node=m,this.Eb=function(y){this.Ka=y},this.Eb(h),this.message="FS error"},B.prototype=Error(),B.prototype.constructor=B,[44].forEach(h=>{$e[h]=new B(h),$e[h].stack="<generic error, no stack>"}))}var Q2;function fh(h,m,y){h=me("/dev/"+h);var T=ch(!!m,!!y);J2||(J2=64);var A=J2++<<8|0;Fi(A,{open(Q){Q.seekable=!1},close(){var Q;(Q=y==null?void 0:y.buffer)!=null&&Q.length&&y(10)},read(Q,ne,Ye,kt){for(var ft=0,$r=0;$r<kt;$r++){try{var Kr=m()}catch{throw new B(29)}if(Kr===void 0&&ft===0)throw new B(6);if(Kr==null)break;ft++,ne[Ye+$r]=Kr}return ft&&(Q.node.timestamp=Date.now()),ft},write(Q,ne,Ye,kt){for(var ft=0;ft<kt;ft++)try{y(ne[Ye+ft])}catch{throw new B(29)}return kt&&(Q.node.timestamp=Date.now()),ft}}),Bi(h,T,A)}var J2,er={},ph,U1;function El(h,m,y){if(m.charAt(0)==="/")return m;if(h=h===-100?"/":Fr(h).path,m.length==0){if(!y)throw new B(44);return h}return me(h+"/"+m)}function eg(h,m,y){try{var T=h(m)}catch(Q){if(Q&&Q.node&&me(m)!==me(Qe(Q.node)))return-54;throw Q}q[y>>2]=T.dev,q[y+4>>2]=T.mode,ie[y+8>>2]=T.nlink,q[y+12>>2]=T.uid,q[y+16>>2]=T.gid,q[y+20>>2]=T.rdev,De=[T.size>>>0,(oe=T.size,1<=+Math.abs(oe)?0<oe?+Math.floor(oe/4294967296)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],q[y+24>>2]=De[0],q[y+28>>2]=De[1],q[y+32>>2]=4096,q[y+36>>2]=T.blocks,h=T.atime.getTime(),m=T.mtime.getTime();var A=T.ctime.getTime();return De=[Math.floor(h/1e3)>>>0,(oe=Math.floor(h/1e3),1<=+Math.abs(oe)?0<oe?+Math.floor(oe/4294967296)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],q[y+40>>2]=De[0],q[y+44>>2]=De[1],ie[y+48>>2]=h%1e3*1e3,De=[Math.floor(m/1e3)>>>0,(oe=Math.floor(m/1e3),1<=+Math.abs(oe)?0<oe?+Math.floor(oe/4294967296)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],q[y+56>>2]=De[0],q[y+60>>2]=De[1],ie[y+64>>2]=m%1e3*1e3,De=[Math.floor(A/1e3)>>>0,(oe=Math.floor(A/1e3),1<=+Math.abs(oe)?0<oe?+Math.floor(oe/4294967296)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],q[y+72>>2]=De[0],q[y+76>>2]=De[1],ie[y+80>>2]=A%1e3*1e3,De=[T.ino>>>0,(oe=T.ino,1<=+Math.abs(oe)?0<oe?+Math.floor(oe/4294967296)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],q[y+88>>2]=De[0],q[y+92>>2]=De[1],0}var tg=void 0;function rg(){var h=q[+tg>>2];return tg+=4,h}var mh=(h,m)=>m+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*m:NaN,JI=[0,31,60,91,121,152,182,213,244,274,305,335],KI=[0,31,59,90,120,151,181,212,243,273,304,334],K2=h=>{var m=on(h)+1,y=og(m);return y&&ti(h,J,y,m),y},V1={},Z2=()=>{if(!H1){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"},m;for(m in V1)V1[m]===void 0?delete h[m]:h[m]=V1[m];var y=[];for(m in h)y.push(`${m}=${h[m]}`);H1=y}return H1},H1,G1=h=>{var m=on(h)+1,y=ia(m);return ti(h,J,y,m),y},ZI=(h,m,y,T)=>{var A={string:ft=>{var $r=0;return ft!=null&&ft!==0&&($r=G1(ft)),$r},array:ft=>{var $r=ia(ft.length);return F.set(ft,$r),$r}};h=u["_"+h];var Q=[],ne=0;if(T)for(var Ye=0;Ye<T.length;Ye++){var kt=A[y[Ye]];kt?(ne===0&&(ne=gh()),Q[Ye]=kt(T[Ye])):Q[Ye]=T[Ye]}return y=h.apply(null,Q),y=function(ft){return ne!==0&&yh(ne),m==="string"?ft?D(J,ft):"":m==="boolean"?!!ft:ft}(y)},ng=0,ig=(h,m)=>(m=m==1?ia(h.length):og(h.length),h.subarray||h.slice||(h=new Uint8Array(h)),J.set(h,m),m),Cl,Q1=[],ro,rc=h=>{Cl.delete(ro.get(h)),ro.set(h,null),Q1.push(h)},sg=(h,m)=>{if(!Cl){Cl=new WeakMap;var y=ro.length;if(Cl)for(var T=0;T<0+y;T++){var A=ro.get(T);A&&Cl.set(A,T)}}if(y=Cl.get(h)||0)return y;if(Q1.length)y=Q1.pop();else{try{ro.grow(1)}catch(Ye){throw Ye instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Ye}y=ro.length-1}try{ro.set(y,h)}catch(Ye){if(!(Ye instanceof TypeError))throw Ye;if(typeof WebAssembly.Function=="function"){T=WebAssembly.Function,A={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var Q={parameters:[],results:m[0]=="v"?[]:[A[m[0]]]},ne=1;ne<m.length;++ne)Q.parameters.push(A[m[ne]]);m=new T(Q,h)}else{for(T=[1],A=m.slice(0,1),m=m.slice(1),Q={i:127,p:127,j:126,f:125,d:124,e:111},T.push(96),ne=m.length,128>ne?T.push(ne):T.push(ne%128|128,ne>>7),ne=0;ne<m.length;++ne)T.push(Q[m[ne]]);A=="v"?T.push(0):T.push(1,Q[A]),m=[0,97,115,109,1,0,0,0,1],A=T.length,128>A?m.push(A):m.push(A%128|128,A>>7),m.push.apply(m,T),m.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),m=new WebAssembly.Module(new Uint8Array(m)),m=new WebAssembly.Instance(m,{e:{f:h}}).exports.f}ro.set(y,m)}return Cl.set(h,y),y};function Y2(h,m,y,T){h||(h=this),this.parent=h,this.Ra=h.Ra,this.Va=null,this.id=M++,this.name=m,this.mode=y,this.Ga={},this.Ha={},this.rdev=T}Object.defineProperties(Y2.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(h){h?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(h){h?this.mode|=146:this.mode&=-147}}}),G2(),V=Array(4096),ec(ht,"/"),qn("/tmp"),qn("/home"),qn("/home/web_user"),function(){qn("/dev"),Fi(259,{read:()=>0,write:(T,A,Q,ne)=>ne}),Bi("/dev/null",259),Sl(1280,eo),Sl(1536,Zm),Bi("/dev/tty",1280),Bi("/dev/tty1",1536);var h=new Uint8Array(1024),m=0,y=()=>(m===0&&(m=Tt(h).byteLength),h[--m]);fh("random",y),fh("urandom",y),qn("/dev/shm"),qn("/dev/shm/tmp")}(),function(){qn("/proc");var h=qn("/proc/self");qn("/proc/self/fd"),ec({Ra(){var m=Sr(h,"fd",16895,73);return m.Ga={lookup(y,T){var A=Fr(+T);return y={parent:null,Ra:{tb:"fake"},Ga:{readlink:()=>A.path}},y.parent=y}},m}},"/proc/self/fd")}();var YI={a:(h,m,y,T)=>{le(`Assertion failed: ${h?D(J,h):""}, at: `+[m?m?D(J,m):"":"unknown filename",y,T?T?D(J,T):"":"unknown function"])},h:function(h,m){try{return h=h?D(J,h):"",Xm(h,m),0}catch(y){if(typeof er>"u"||y.name!=="ErrnoError")throw y;return-y.Ka}},H:function(h,m,y){try{if(m=m?D(J,m):"",m=El(h,m),y&-8)return-28;var T=Ue(m,{Sa:!0}).node;return T?(h="",y&4&&(h+="r"),y&2&&(h+="w"),y&1&&(h+="x"),h&&sr(T,h)?-2:0):-44}catch(A){if(typeof er>"u"||A.name!=="ErrnoError")throw A;return-A.Ka}},i:function(h,m){try{var y=Fr(h);return Xm(y.node,m),0}catch(T){if(typeof er>"u"||T.name!=="ErrnoError")throw T;return-T.Ka}},g:function(h){try{var m=Fr(h).node,y=typeof m=="string"?Ue(m,{Sa:!0}).node:m;if(!y.Ga.Oa)throw new B(63);return y.Ga.Oa(y,{timestamp:Date.now()}),0}catch(T){if(typeof er>"u"||T.name!=="ErrnoError")throw T;return-T.Ka}},b:function(h,m,y){tg=y;try{var T=Fr(h);switch(m){case 0:var A=rg();if(0>A)return-28;for(;kl[A];)A++;return to(T,A).fd;case 1:case 2:return 0;case 3:return T.flags;case 4:return A=rg(),T.flags|=A,0;case 5:return A=rg(),ee[A+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return q[X2()>>2]=28,-1;default:return-28}}catch(Q){if(typeof er>"u"||Q.name!=="ErrnoError")throw Q;return-Q.Ka}},f:function(h,m){try{var y=Fr(h);return eg(ks,y.path,m)}catch(T){if(typeof er>"u"||T.name!=="ErrnoError")throw T;return-T.Ka}},n:function(h,m,y){m=mh(m,y);try{if(isNaN(m))return 61;var T=Fr(h);if(!(T.flags&2097155))throw new B(28);return q2(T.node,m),0}catch(A){if(typeof er>"u"||A.name!=="ErrnoError")throw A;return-A.Ka}},C:function(h,m){try{if(m===0)return-28;var y=on("/")+1;return m<y?-68:(ti("/",J,h,m),y)}catch(T){if(typeof er>"u"||T.name!=="ErrnoError")throw T;return-T.Ka}},F:function(h,m){try{return h=h?D(J,h):"",eg(Ym,h,m)}catch(y){if(typeof er>"u"||y.name!=="ErrnoError")throw y;return-y.Ka}},z:function(h,m,y){try{return m=m?D(J,m):"",m=El(h,m),m=me(m),m[m.length-1]==="/"&&(m=m.substr(0,m.length-1)),qn(m,y),0}catch(T){if(typeof er>"u"||T.name!=="ErrnoError")throw T;return-T.Ka}},E:function(h,m,y,T){try{m=m?D(J,m):"";var A=T&256;return m=El(h,m,T&4096),eg(A?Ym:ks,m,y)}catch(Q){if(typeof er>"u"||Q.name!=="ErrnoError")throw Q;return-Q.Ka}},y:function(h,m,y,T){tg=T;try{m=m?D(J,m):"",m=El(h,m);var A=T?rg():0;return tc(m,y,A).fd}catch(Q){if(typeof er>"u"||Q.name!=="ErrnoError")throw Q;return-Q.Ka}},w:function(h,m,y,T){try{if(m=m?D(J,m):"",m=El(h,m),0>=T)return-28;var A=an(m),Q=Math.min(T,on(A)),ne=F[y+Q];return ti(A,J,y,T+1),F[y+Q]=ne,Q}catch(Ye){if(typeof er>"u"||Ye.name!=="ErrnoError")throw Ye;return-Ye.Ka}},v:function(h){try{return h=h?D(J,h):"",St(h),0}catch(m){if(typeof er>"u"||m.name!=="ErrnoError")throw m;return-m.Ka}},G:function(h,m){try{return h=h?D(J,h):"",eg(ks,h,m)}catch(y){if(typeof er>"u"||y.name!=="ErrnoError")throw y;return-y.Ka}},r:function(h,m,y){try{return m=m?D(J,m):"",m=El(h,m),y===0?It(m):y===512?St(m):le("Invalid flags passed to unlinkat"),0}catch(T){if(typeof er>"u"||T.name!=="ErrnoError")throw T;return-T.Ka}},q:function(h,m,y){try{if(m=m?D(J,m):"",m=El(h,m,!0),y){var T=ie[y>>2]+4294967296*q[y+4>>2],A=q[y+8>>2];Q=1e3*T+A/1e6,y+=16,T=ie[y>>2]+4294967296*q[y+4>>2],A=q[y+8>>2],ne=1e3*T+A/1e6}else var Q=Date.now(),ne=Q;h=Q;var Ye=Ue(m,{Sa:!0}).node;return Ye.Ga.Oa(Ye,{timestamp:Math.max(h,ne)}),0}catch(kt){if(typeof er>"u"||kt.name!=="ErrnoError")throw kt;return-kt.Ka}},l:function(h,m,y){h=new Date(1e3*mh(h,m)),q[y>>2]=h.getSeconds(),q[y+4>>2]=h.getMinutes(),q[y+8>>2]=h.getHours(),q[y+12>>2]=h.getDate(),q[y+16>>2]=h.getMonth(),q[y+20>>2]=h.getFullYear()-1900,q[y+24>>2]=h.getDay(),m=h.getFullYear(),q[y+28>>2]=(m%4!==0||m%100===0&&m%400!==0?KI:JI)[h.getMonth()]+h.getDate()-1|0,q[y+36>>2]=-(60*h.getTimezoneOffset()),m=new Date(h.getFullYear(),6,1).getTimezoneOffset();var T=new Date(h.getFullYear(),0,1).getTimezoneOffset();q[y+32>>2]=(m!=T&&h.getTimezoneOffset()==Math.min(T,m))|0},j:function(h,m,y,T,A,Q,ne,Ye){A=mh(A,Q);try{if(isNaN(A))return 61;var kt=Fr(T);if(m&2&&!(y&2)&&(kt.flags&2097155)!==2)throw new B(2);if((kt.flags&2097155)===1)throw new B(2);if(!kt.Ha.bb)throw new B(43);var ft=kt.Ha.bb(kt,h,A,m,y),$r=ft.Db;return q[ne>>2]=ft.ub,ie[Ye>>2]=$r,0}catch(Kr){if(typeof er>"u"||Kr.name!=="ErrnoError")throw Kr;return-Kr.Ka}},k:function(h,m,y,T,A,Q,ne){Q=mh(Q,ne);try{if(isNaN(Q))return 61;var Ye=Fr(A);if(y&2){if((Ye.node.mode&61440)!==32768)throw new B(43);if(!(T&2)){var kt=J.slice(h,h+m);Ye.Ha.cb&&Ye.Ha.cb(Ye,kt,Q,m,T)}}}catch(ft){if(typeof er>"u"||ft.name!=="ErrnoError")throw ft;return-ft.Ka}},s:(h,m,y)=>{function T(kt){return(kt=kt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?kt[1]:"GMT"}var A=new Date().getFullYear(),Q=new Date(A,0,1),ne=new Date(A,6,1);A=Q.getTimezoneOffset();var Ye=ne.getTimezoneOffset();ie[h>>2]=60*Math.max(A,Ye),q[m>>2]=+(A!=Ye),h=T(Q),m=T(ne),h=K2(h),m=K2(m),Ye<A?(ie[y>>2]=h,ie[y+4>>2]=m):(ie[y>>2]=m,ie[y+4>>2]=h)},d:()=>Date.now(),t:()=>2147483648,c:()=>performance.now(),o:h=>{var m=J.length;if(h>>>=0,2147483648<h)return!1;for(var y=1;4>=y;y*=2){var T=m*(1+.2/y);T=Math.min(T,h+100663296);var A=Math;T=Math.max(h,T);e:{A=(A.min.call(A,2147483648,T+(65536-T%65536)%65536)-L.buffer.byteLength+65535)/65536;try{L.grow(A),_e();var Q=1;break e}catch{}Q=void 0}if(Q)return!0}return!1},A:(h,m)=>{var y=0;return Z2().forEach((T,A)=>{var Q=m+y;for(A=ie[h+4*A>>2]=Q,Q=0;Q<T.length;++Q)F[A++>>0]=T.charCodeAt(Q);F[A>>0]=0,y+=T.length+1}),0},B:(h,m)=>{var y=Z2();ie[h>>2]=y.length;var T=0;return y.forEach(A=>T+=A.length+1),ie[m>>2]=T,0},e:function(h){try{var m=Fr(h);return q1(m),0}catch(y){if(typeof er>"u"||y.name!=="ErrnoError")throw y;return y.Ka}},p:function(h,m){try{var y=Fr(h);return F[m>>0]=y.tty?2:He(y.mode)?3:(y.mode&61440)===40960?7:4,ee[m+2>>1]=0,De=[0,(oe=0,1<=+Math.abs(oe)?0<oe?+Math.floor(oe/4294967296)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],q[m+8>>2]=De[0],q[m+12>>2]=De[1],De=[0,(oe=0,1<=+Math.abs(oe)?0<oe?+Math.floor(oe/4294967296)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],q[m+16>>2]=De[0],q[m+20>>2]=De[1],0}catch(T){if(typeof er>"u"||T.name!=="ErrnoError")throw T;return T.Ka}},x:function(h,m,y,T){try{e:{var A=Fr(h);h=m;for(var Q,ne=m=0;ne<y;ne++){var Ye=ie[h>>2],kt=ie[h+4>>2];h+=8;var ft=V2(A,F,Ye,kt,Q);if(0>ft){var $r=-1;break e}if(m+=ft,ft<kt)break;typeof Q<"u"&&(Q+=ft)}$r=m}return ie[T>>2]=$r,0}catch(Kr){if(typeof er>"u"||Kr.name!=="ErrnoError")throw Kr;return Kr.Ka}},m:function(h,m,y,T,A){m=mh(m,y);try{if(isNaN(m))return 61;var Q=Fr(h);return U2(Q,m,T),De=[Q.position>>>0,(oe=Q.position,1<=+Math.abs(oe)?0<oe?+Math.floor(oe/4294967296)>>>0:~~+Math.ceil((oe-+(~~oe>>>0))/4294967296)>>>0:0)],q[A>>2]=De[0],q[A+4>>2]=De[1],Q.hb&&m===0&&T===0&&(Q.hb=null),0}catch(ne){if(typeof er>"u"||ne.name!=="ErrnoError")throw ne;return ne.Ka}},D:function(h){var y;try{var m=Fr(h);return(y=m.Ha)!=null&&y.fsync?m.Ha.fsync(m):0}catch(T){if(typeof er>"u"||T.name!=="ErrnoError")throw T;return T.Ka}},u:function(h,m,y,T){try{e:{var A=Fr(h);h=m;for(var Q,ne=m=0;ne<y;ne++){var Ye=ie[h>>2],kt=ie[h+4>>2];h+=8;var ft=H2(A,F,Ye,kt,Q);if(0>ft){var $r=-1;break e}m+=ft,typeof Q<"u"&&(Q+=ft)}$r=m}return ie[T>>2]=$r,0}catch(Kr){if(typeof er>"u"||Kr.name!=="ErrnoError")throw Kr;return Kr.Ka}}},ze=function(){var y;function h(T){var A;return ze=T.exports,L=ze.I,_e(),ro=ze.Aa,de.unshift(ze.J),K--,(A=u.monitorRunDependencies)==null||A.call(u,K),K==0&&fe&&(T=fe,fe=null,T()),ze}var m={a:YI};if(K++,(y=u.monitorRunDependencies)==null||y.call(u,K),u.instantiateWasm)try{return u.instantiateWasm(m,h)}catch(T){return C(`Module.instantiateWasm callback failed with error: ${T}`),!1}return se(m,function(T){h(T.instance)}),{}}();u._sqlite3_free=h=>(u._sqlite3_free=ze.K)(h),u._sqlite3_value_text=h=>(u._sqlite3_value_text=ze.L)(h);var X2=()=>(X2=ze.M)();u._sqlite3_prepare_v2=(h,m,y,T,A)=>(u._sqlite3_prepare_v2=ze.N)(h,m,y,T,A),u._sqlite3_step=h=>(u._sqlite3_step=ze.O)(h),u._sqlite3_finalize=h=>(u._sqlite3_finalize=ze.P)(h),u._sqlite3_reset=h=>(u._sqlite3_reset=ze.Q)(h),u._sqlite3_clear_bindings=h=>(u._sqlite3_clear_bindings=ze.R)(h),u._sqlite3_value_blob=h=>(u._sqlite3_value_blob=ze.S)(h),u._sqlite3_value_bytes=h=>(u._sqlite3_value_bytes=ze.T)(h),u._sqlite3_value_double=h=>(u._sqlite3_value_double=ze.U)(h),u._sqlite3_value_int=h=>(u._sqlite3_value_int=ze.V)(h),u._sqlite3_value_type=h=>(u._sqlite3_value_type=ze.W)(h),u._sqlite3_result_blob=(h,m,y,T)=>(u._sqlite3_result_blob=ze.X)(h,m,y,T),u._sqlite3_result_double=(h,m)=>(u._sqlite3_result_double=ze.Y)(h,m),u._sqlite3_result_error=(h,m,y)=>(u._sqlite3_result_error=ze.Z)(h,m,y),u._sqlite3_result_int=(h,m)=>(u._sqlite3_result_int=ze._)(h,m),u._sqlite3_result_int64=(h,m,y)=>(u._sqlite3_result_int64=ze.$)(h,m,y),u._sqlite3_result_null=h=>(u._sqlite3_result_null=ze.aa)(h),u._sqlite3_result_text=(h,m,y,T)=>(u._sqlite3_result_text=ze.ba)(h,m,y,T),u._sqlite3_aggregate_context=(h,m)=>(u._sqlite3_aggregate_context=ze.ca)(h,m),u._sqlite3_column_count=h=>(u._sqlite3_column_count=ze.da)(h),u._sqlite3_data_count=h=>(u._sqlite3_data_count=ze.ea)(h),u._sqlite3_column_blob=(h,m)=>(u._sqlite3_column_blob=ze.fa)(h,m),u._sqlite3_column_bytes=(h,m)=>(u._sqlite3_column_bytes=ze.ga)(h,m),u._sqlite3_column_double=(h,m)=>(u._sqlite3_column_double=ze.ha)(h,m),u._sqlite3_column_text=(h,m)=>(u._sqlite3_column_text=ze.ia)(h,m),u._sqlite3_column_type=(h,m)=>(u._sqlite3_column_type=ze.ja)(h,m),u._sqlite3_column_name=(h,m)=>(u._sqlite3_column_name=ze.ka)(h,m),u._sqlite3_bind_blob=(h,m,y,T,A)=>(u._sqlite3_bind_blob=ze.la)(h,m,y,T,A),u._sqlite3_bind_double=(h,m,y)=>(u._sqlite3_bind_double=ze.ma)(h,m,y),u._sqlite3_bind_int=(h,m,y)=>(u._sqlite3_bind_int=ze.na)(h,m,y),u._sqlite3_bind_text=(h,m,y,T,A)=>(u._sqlite3_bind_text=ze.oa)(h,m,y,T,A),u._sqlite3_bind_parameter_index=(h,m)=>(u._sqlite3_bind_parameter_index=ze.pa)(h,m),u._sqlite3_sql=h=>(u._sqlite3_sql=ze.qa)(h),u._sqlite3_normalized_sql=h=>(u._sqlite3_normalized_sql=ze.ra)(h),u._sqlite3_errmsg=h=>(u._sqlite3_errmsg=ze.sa)(h),u._sqlite3_exec=(h,m,y,T,A)=>(u._sqlite3_exec=ze.ta)(h,m,y,T,A),u._sqlite3_changes=h=>(u._sqlite3_changes=ze.ua)(h),u._sqlite3_close_v2=h=>(u._sqlite3_close_v2=ze.va)(h),u._sqlite3_create_function_v2=(h,m,y,T,A,Q,ne,Ye,kt)=>(u._sqlite3_create_function_v2=ze.wa)(h,m,y,T,A,Q,ne,Ye,kt),u._sqlite3_open=(h,m)=>(u._sqlite3_open=ze.xa)(h,m);var og=u._malloc=h=>(og=u._malloc=ze.ya)(h),ag=u._free=h=>(ag=u._free=ze.za)(h);u._RegisterExtensionFunctions=h=>(u._RegisterExtensionFunctions=ze.Ba)(h);var eS=(h,m)=>(eS=ze.Ca)(h,m),gh=()=>(gh=ze.Da)(),yh=h=>(yh=ze.Ea)(h),ia=h=>(ia=ze.Fa)(h);u.stackAlloc=ia,u.stackSave=gh,u.stackRestore=yh,u.cwrap=(h,m,y,T)=>{var A=!y||y.every(Q=>Q==="number"||Q==="boolean");return m!=="string"&&A&&!T?u["_"+h]:function(){return ZI(h,m,y,arguments)}},u.addFunction=sg,u.removeFunction=rc,u.UTF8ToString=U,u.ALLOC_NORMAL=ng,u.allocate=ig,u.allocateUTF8OnStack=G1;var lg;fe=function h(){lg||tS(),lg||(fe=h)};function tS(){function h(){if(!lg&&(lg=!0,u.calledRun=!0,!G)){if(u.noFSInit||Q2||(Q2=!0,G2(),u.stdin=u.stdin,u.stdout=u.stdout,u.stderr=u.stderr,u.stdin?fh("stdin",u.stdin):na("/dev/tty","/dev/stdin"),u.stdout?fh("stdout",null,u.stdout):na("/dev/tty","/dev/stdout"),u.stderr?fh("stderr",null,u.stderr):na("/dev/tty1","/dev/stderr"),tc("/dev/stdin",0),tc("/dev/stdout",1),tc("/dev/stderr",1)),re=!1,Te(de),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var m=u.postRun.shift();pe.unshift(m)}Te(pe)}}if(!(0<K)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)ke();Te(H),0<K||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),h()},1)):h())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return tS(),a}),r)};e.exports=n,e.exports.default=n})(tI);var AK=tI.exports;const IK=Vo(AK),f2=async()=>await IK({locateFile:t=>`https://sql.js.org/dist/${t}`}),Md="files",p2="book.db",m2=()=>new Promise((e,t)=>{const r=indexedDB.open("myDatabase",1);r.onupgradeneeded=n=>{const s=n.target.result;s.objectStoreNames.contains("files")||s.createObjectStore("files",{keyPath:"id"})},r.onsuccess=n=>{const i=n.target;e(i.result)},r.onerror=n=>{const i=n.target;t(i.error)}}),$K=async e=>{const n=(await m2()).transaction(Md,"readwrite").objectStore(Md);return new Promise((i,s)=>{const o={id:p2,buffer:e.export()},a=n.put(o);a.onsuccess=()=>{i(!0)},a.onerror=l=>{const u=l.target;s(u.error)}})},LK=async()=>{const r=(await m2()).transaction(Md,"readonly").objectStore(Md);return new Promise((n,i)=>{const s=r.get(p2);s.onsuccess=o=>{const a=o.target;if(a.result)n(a.result.buffer);else{const l=new Error("file not found");i(l)}},s.onerror=o=>{const a=o.target;i(a.error)}})},DK=async()=>{const e=await LK();return rI(e)},jK=async()=>{const r=(await m2()).transaction(Md,"readwrite").objectStore(Md);return new Promise((n,i)=>{const s=r.delete(p2);s.onsuccess=o=>{o.target,n(!0)},s.onerror=o=>{const a=o.target;i(a.error)}})},MK=async()=>{const e=await f2();return new e.Database},rI=async e=>{const t=await f2();return new t.Database(new Uint8Array(e))},Ju={load:DK,save:$K,del:jK,empty:MK,initial:rI},O1=e=>{const t=new k1;return t.route(FC.path,FC.createApp(e)),t.route(gC.path,gC.createApp(e)),t.route(MC.path,MC.createApp(e)),t},FK=e=>{const{setDataSource:t,setError:r}=e,n=async()=>{try{const i=await Ju.empty(),s=Hs.createDialect(i),o=Hs.createKysely(s);await _U.createSchema(o);const a=O1(o);t({_tag:"sandbox",sqlite:i,db:o,app:a})}catch(i){r(i)}};return S.jsxs(S.Fragment,{children:[S.jsx("h3",{children:"blank project"}),S.jsx(xr,{type:"button",onClick:n,children:"start"})]})};function BK(e){function t(K,fe,le,Ce,j){for(var Ee=0,Z=0,je=0,Pe=0,xe,se,oe=0,De=0,Te,dt=Te=xe=0,rt=0,P=0,D=0,U=0,we=le.length,me=we-1,ae,X="",Oe="",Tt="",jt="",Xt;rt<we;){if(se=le.charCodeAt(rt),rt===me&&Z+Pe+je+Ee!==0&&(Z!==0&&(se=Z===47?10:47),Pe=je=Ee=0,we++,me++),Z+Pe+je+Ee===0){if(rt===me&&(0<P&&(X=X.replace(p,"")),0<X.trim().length)){switch(se){case 32:case 9:case 59:case 13:case 10:break;default:X+=le.charAt(rt)}se=59}switch(se){case 123:for(X=X.trim(),xe=X.charCodeAt(0),Te=1,U=++rt;rt<we;){switch(se=le.charCodeAt(rt)){case 123:Te++;break;case 125:Te--;break;case 47:switch(se=le.charCodeAt(rt+1)){case 42:case 47:e:{for(dt=rt+1;dt<me;++dt)switch(le.charCodeAt(dt)){case 47:if(se===42&&le.charCodeAt(dt-1)===42&&rt+2!==dt){rt=dt+1;break e}break;case 10:if(se===47){rt=dt+1;break e}}rt=dt}}break;case 91:se++;case 40:se++;case 34:case 39:for(;rt++<me&&le.charCodeAt(rt)!==se;);}if(Te===0)break;rt++}switch(Te=le.substring(U,rt),xe===0&&(xe=(X=X.replace(f,"").trim()).charCodeAt(0)),xe){case 64:switch(0<P&&(X=X.replace(p,"")),se=X.charCodeAt(1),se){case 100:case 109:case 115:case 45:P=fe;break;default:P=Se}if(Te=t(fe,P,Te,se,j+1),U=Te.length,0<H&&(P=r(Se,X,D),Xt=a(3,Te,P,fe,q,ee,U,se,j,Ce),X=P.join(""),Xt!==void 0&&(U=(Te=Xt.trim()).length)===0&&(se=0,Te="")),0<U)switch(se){case 115:X=X.replace(C,o);case 100:case 109:case 45:Te=X+"{"+Te+"}";break;case 107:X=X.replace(v,"$1 $2"),Te=X+"{"+Te+"}",Te=ve===1||ve===2&&s("@"+Te,3)?"@-webkit-"+Te+"@"+Te:"@"+Te;break;default:Te=X+Te,Ce===112&&(Te=(Oe+=Te,""))}else Te="";break;default:Te=t(fe,r(fe,X,D),Te,Ce,j+1)}Tt+=Te,Te=D=P=dt=xe=0,X="",se=le.charCodeAt(++rt);break;case 125:case 59:if(X=(0<P?X.replace(p,""):X).trim(),1<(U=X.length))switch(dt===0&&(xe=X.charCodeAt(0),xe===45||96<xe&&123>xe)&&(U=(X=X.replace(" ",":")).length),0<H&&(Xt=a(1,X,fe,K,q,ee,Oe.length,Ce,j,Ce))!==void 0&&(U=(X=Xt.trim()).length)===0&&(X="\0\0"),xe=X.charCodeAt(0),se=X.charCodeAt(1),xe){case 0:break;case 64:if(se===105||se===99){jt+=X+le.charAt(rt);break}default:X.charCodeAt(U-1)!==58&&(Oe+=i(X,xe,se,X.charCodeAt(2)))}D=P=dt=xe=0,X="",se=le.charCodeAt(++rt)}}switch(se){case 13:case 10:Z===47?Z=0:1+xe===0&&Ce!==107&&0<X.length&&(P=1,X+="\0"),0<H*pe&&a(0,X,fe,K,q,ee,Oe.length,Ce,j,Ce),ee=1,q++;break;case 59:case 125:if(Z+Pe+je+Ee===0){ee++;break}default:switch(ee++,ae=le.charAt(rt),se){case 9:case 32:if(Pe+Ee+Z===0)switch(oe){case 44:case 58:case 9:case 32:ae="";break;default:se!==32&&(ae=" ")}break;case 0:ae="\\0";break;case 12:ae="\\f";break;case 11:ae="\\v";break;case 38:Pe+Z+Ee===0&&(P=D=1,ae="\f"+ae);break;case 108:if(Pe+Z+Ee+ie===0&&0<dt)switch(rt-dt){case 2:oe===112&&le.charCodeAt(rt-3)===58&&(ie=oe);case 8:De===111&&(ie=De)}break;case 58:Pe+Z+Ee===0&&(dt=rt);break;case 44:Z+je+Pe+Ee===0&&(P=1,ae+="\r");break;case 34:case 39:Z===0&&(Pe=Pe===se?0:Pe===0?se:Pe);break;case 91:Pe+Z+je===0&&Ee++;break;case 93:Pe+Z+je===0&&Ee--;break;case 41:Pe+Z+Ee===0&&je--;break;case 40:if(Pe+Z+Ee===0){if(xe===0)switch(2*oe+3*De){case 533:break;default:xe=1}je++}break;case 64:Z+je+Pe+Ee+dt+Te===0&&(Te=1);break;case 42:case 47:if(!(0<Pe+Ee+je))switch(Z){case 0:switch(2*se+3*le.charCodeAt(rt+1)){case 235:Z=47;break;case 220:U=rt,Z=42}break;case 42:se===47&&oe===42&&U+2!==rt&&(le.charCodeAt(U+2)===33&&(Oe+=le.substring(U,rt+1)),ae="",Z=0)}}Z===0&&(X+=ae)}De=oe,oe=se,rt++}if(U=Oe.length,0<U){if(P=fe,0<H&&(Xt=a(2,Oe,P,K,q,ee,U,Ce,j,Ce),Xt!==void 0&&(Oe=Xt).length===0))return jt+Oe+Tt;if(Oe=P.join(",")+"{"+Oe+"}",ve*ie!==0){switch(ve!==2||s(Oe,2)||(ie=0),ie){case 111:Oe=Oe.replace(O,":-moz-$1")+Oe;break;case 112:Oe=Oe.replace(N,"::-webkit-input-$1")+Oe.replace(N,"::-moz-$1")+Oe.replace(N,":-ms-input-$1")+Oe}ie=0}}return jt+Oe+Tt}function r(K,fe,le){var Ce=fe.trim().split(E);fe=Ce;var j=Ce.length,Ee=K.length;switch(Ee){case 0:case 1:var Z=0;for(K=Ee===0?"":K[0]+" ";Z<j;++Z)fe[Z]=n(K,fe[Z],le).trim();break;default:var je=Z=0;for(fe=[];Z<j;++Z)for(var Pe=0;Pe<Ee;++Pe)fe[je++]=n(K[Pe]+" ",Ce[Z],le).trim()}return fe}function n(K,fe,le){var Ce=fe.charCodeAt(0);switch(33>Ce&&(Ce=(fe=fe.trim()).charCodeAt(0)),Ce){case 38:return fe.replace(g,"$1"+K.trim());case 58:return K.trim()+fe.replace(g,"$1"+K.trim());default:if(0<1*le&&0<fe.indexOf("\f"))return fe.replace(g,(K.charCodeAt(0)===58?"":"$1")+K.trim())}return K+fe}function i(K,fe,le,Ce){var j=K+";",Ee=2*fe+3*le+4*Ce;if(Ee===944){K=j.indexOf(":",9)+1;var Z=j.substring(K,j.length-1).trim();return Z=j.substring(0,K).trim()+Z+";",ve===1||ve===2&&s(Z,1)?"-webkit-"+Z+Z:Z}if(ve===0||ve===2&&!s(j,1))return j;switch(Ee){case 1015:return j.charCodeAt(10)===97?"-webkit-"+j+j:j;case 951:return j.charCodeAt(3)===116?"-webkit-"+j+j:j;case 963:return j.charCodeAt(5)===110?"-webkit-"+j+j:j;case 1009:if(j.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+j+j;case 978:return"-webkit-"+j+"-moz-"+j+j;case 1019:case 983:return"-webkit-"+j+"-moz-"+j+"-ms-"+j+j;case 883:if(j.charCodeAt(8)===45)return"-webkit-"+j+j;if(0<j.indexOf("image-set(",11))return j.replace(J,"$1-webkit-$2")+j;break;case 932:if(j.charCodeAt(4)===45)switch(j.charCodeAt(5)){case 103:return"-webkit-box-"+j.replace("-grow","")+"-webkit-"+j+"-ms-"+j.replace("grow","positive")+j;case 115:return"-webkit-"+j+"-ms-"+j.replace("shrink","negative")+j;case 98:return"-webkit-"+j+"-ms-"+j.replace("basis","preferred-size")+j}return"-webkit-"+j+"-ms-"+j+j;case 964:return"-webkit-"+j+"-ms-flex-"+j+j;case 1023:if(j.charCodeAt(8)!==99)break;return Z=j.substring(j.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Z+"-webkit-"+j+"-ms-flex-pack"+Z+j;case 1005:return b.test(j)?j.replace(w,":-webkit-")+j.replace(w,":-moz-")+j:j;case 1e3:switch(Z=j.substring(13).trim(),fe=Z.indexOf("-")+1,Z.charCodeAt(0)+Z.charCodeAt(fe)){case 226:Z=j.replace(R,"tb");break;case 232:Z=j.replace(R,"tb-rl");break;case 220:Z=j.replace(R,"lr");break;default:return j}return"-webkit-"+j+"-ms-"+Z+j;case 1017:if(j.indexOf("sticky",9)===-1)break;case 975:switch(fe=(j=K).length-10,Z=(j.charCodeAt(fe)===33?j.substring(0,fe):j).substring(K.indexOf(":",7)+1).trim(),Ee=Z.charCodeAt(0)+(Z.charCodeAt(7)|0)){case 203:if(111>Z.charCodeAt(8))break;case 115:j=j.replace(Z,"-webkit-"+Z)+";"+j;break;case 207:case 102:j=j.replace(Z,"-webkit-"+(102<Ee?"inline-":"")+"box")+";"+j.replace(Z,"-webkit-"+Z)+";"+j.replace(Z,"-ms-"+Z+"box")+";"+j}return j+";";case 938:if(j.charCodeAt(5)===45)switch(j.charCodeAt(6)){case 105:return Z=j.replace("-items",""),"-webkit-"+j+"-webkit-box-"+Z+"-ms-flex-"+Z+j;case 115:return"-webkit-"+j+"-ms-flex-item-"+j.replace(L,"")+j;default:return"-webkit-"+j+"-ms-flex-line-pack"+j.replace("align-content","").replace(L,"")+j}break;case 973:case 989:if(j.charCodeAt(3)!==45||j.charCodeAt(4)===122)break;case 931:case 953:if(F.test(K)===!0)return(Z=K.substring(K.indexOf(":")+1)).charCodeAt(0)===115?i(K.replace("stretch","fill-available"),fe,le,Ce).replace(":fill-available",":stretch"):j.replace(Z,"-webkit-"+Z)+j.replace(Z,"-moz-"+Z.replace("fill-",""))+j;break;case 962:if(j="-webkit-"+j+(j.charCodeAt(5)===102?"-ms-"+j:"")+j,le+Ce===211&&j.charCodeAt(13)===105&&0<j.indexOf("transform",10))return j.substring(0,j.indexOf(";",27)+1).replace(x,"$1-webkit-$2")+j}return j}function s(K,fe){var le=K.indexOf(fe===1?":":"{"),Ce=K.substring(0,fe!==3?le:10);return le=K.substring(le+1,K.length-1),de(fe!==2?Ce:Ce.replace(G,"$1"),le,fe)}function o(K,fe){var le=i(fe,fe.charCodeAt(0),fe.charCodeAt(1),fe.charCodeAt(2));return le!==fe+";"?le.replace($," or ($1)").substring(4):"("+fe+")"}function a(K,fe,le,Ce,j,Ee,Z,je,Pe,xe){for(var se=0,oe=fe,De;se<H;++se)switch(De=_e[se].call(c,K,oe,le,Ce,j,Ee,Z,je,Pe,xe)){case void 0:case!1:case!0:case null:break;default:oe=De}if(oe!==fe)return oe}function l(K){switch(K){case void 0:case null:H=_e.length=0;break;default:if(typeof K=="function")_e[H++]=K;else if(typeof K=="object")for(var fe=0,le=K.length;fe<le;++fe)l(K[fe]);else pe=!!K|0}return l}function u(K){return K=K.prefix,K!==void 0&&(de=null,K?typeof K!="function"?ve=1:(ve=2,de=K):ve=0),u}function c(K,fe){var le=K;if(33>le.charCodeAt(0)&&(le=le.trim()),ke=le,le=[ke],0<H){var Ce=a(-1,fe,le,le,q,ee,0,0,0,0);Ce!==void 0&&typeof Ce=="string"&&(fe=Ce)}var j=t(Se,le,fe,0,0);return 0<H&&(Ce=a(-2,j,le,le,q,ee,j.length,0,0,0),Ce!==void 0&&(j=Ce)),ke="",ie=0,ee=q=1,j}var f=/^\0+/g,p=/[\0\r\f]/g,w=/: */g,b=/zoo|gra/,x=/([,: ])(transform)/g,E=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,N=/::(place)/g,O=/:(read-only)/g,R=/[svh]\w+-[tblr]{2}/,C=/\(\s*(.*)\s*\)/g,$=/([\s\S]*?);/g,L=/-self|flex-/g,G=/[^]*?(:[rp][el]a[\w-]+)[^]*/,F=/stretch|:\s*\w+\-(?:conte|avail)/,J=/([^-])(image-set\()/,ee=1,q=1,ie=0,ve=1,Se=[],_e=[],H=0,de=null,pe=0,ke="";return c.use=l,c.set=u,e!==void 0&&u(e),c}var WK={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function zK(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var qK=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,BC=zK(function(e){return qK.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),nI={exports:{}},qt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sn=typeof Symbol=="function"&&Symbol.for,g2=sn?Symbol.for("react.element"):60103,y2=sn?Symbol.for("react.portal"):60106,R1=sn?Symbol.for("react.fragment"):60107,P1=sn?Symbol.for("react.strict_mode"):60108,A1=sn?Symbol.for("react.profiler"):60114,I1=sn?Symbol.for("react.provider"):60109,$1=sn?Symbol.for("react.context"):60110,v2=sn?Symbol.for("react.async_mode"):60111,L1=sn?Symbol.for("react.concurrent_mode"):60111,D1=sn?Symbol.for("react.forward_ref"):60112,j1=sn?Symbol.for("react.suspense"):60113,UK=sn?Symbol.for("react.suspense_list"):60120,M1=sn?Symbol.for("react.memo"):60115,F1=sn?Symbol.for("react.lazy"):60116,VK=sn?Symbol.for("react.block"):60121,HK=sn?Symbol.for("react.fundamental"):60117,GK=sn?Symbol.for("react.responder"):60118,QK=sn?Symbol.for("react.scope"):60119;function Si(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case g2:switch(e=e.type,e){case v2:case L1:case R1:case A1:case P1:case j1:return e;default:switch(e=e&&e.$$typeof,e){case $1:case D1:case F1:case M1:case I1:return e;default:return t}}case y2:return t}}}function iI(e){return Si(e)===L1}qt.AsyncMode=v2;qt.ConcurrentMode=L1;qt.ContextConsumer=$1;qt.ContextProvider=I1;qt.Element=g2;qt.ForwardRef=D1;qt.Fragment=R1;qt.Lazy=F1;qt.Memo=M1;qt.Portal=y2;qt.Profiler=A1;qt.StrictMode=P1;qt.Suspense=j1;qt.isAsyncMode=function(e){return iI(e)||Si(e)===v2};qt.isConcurrentMode=iI;qt.isContextConsumer=function(e){return Si(e)===$1};qt.isContextProvider=function(e){return Si(e)===I1};qt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===g2};qt.isForwardRef=function(e){return Si(e)===D1};qt.isFragment=function(e){return Si(e)===R1};qt.isLazy=function(e){return Si(e)===F1};qt.isMemo=function(e){return Si(e)===M1};qt.isPortal=function(e){return Si(e)===y2};qt.isProfiler=function(e){return Si(e)===A1};qt.isStrictMode=function(e){return Si(e)===P1};qt.isSuspense=function(e){return Si(e)===j1};qt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===R1||e===L1||e===A1||e===P1||e===j1||e===UK||typeof e=="object"&&e!==null&&(e.$$typeof===F1||e.$$typeof===M1||e.$$typeof===I1||e.$$typeof===$1||e.$$typeof===D1||e.$$typeof===HK||e.$$typeof===GK||e.$$typeof===QK||e.$$typeof===VK)};qt.typeOf=Si;nI.exports=qt;var JK=nI.exports,w2=JK,KK={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},YK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},sI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},b2={};b2[w2.ForwardRef]=YK;b2[w2.Memo]=sI;function WC(e){return w2.isMemo(e)?sI:b2[e.$$typeof]||KK}var XK=Object.defineProperty,eZ=Object.getOwnPropertyNames,zC=Object.getOwnPropertySymbols,tZ=Object.getOwnPropertyDescriptor,rZ=Object.getPrototypeOf,qC=Object.prototype;function oI(e,t,r){if(typeof t!="string"){if(qC){var n=rZ(t);n&&n!==qC&&oI(e,n,r)}var i=eZ(t);zC&&(i=i.concat(zC(t)));for(var s=WC(e),o=WC(t),a=0;a<i.length;++a){var l=i[a];if(!ZK[l]&&!(r&&r[l])&&!(o&&o[l])&&!(s&&s[l])){var u=tZ(t,l);try{XK(e,l,u)}catch{}}}}return e}var nZ=oI;const iZ=Vo(nZ);var Ti={};function ko(){return(ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var UC=function(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r},tx=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!tm.typeOf(e)},Jv=Object.freeze([]),Ja=Object.freeze({});function Np(e){return typeof e=="function"}function VC(e){return e.displayName||e.name||"Component"}function _2(e){return e&&typeof e.styledComponentId=="string"}var Fd=typeof process<"u"&&Ti!==void 0&&(Ti.REACT_APP_SC_ATTR||Ti.SC_ATTR)||"data-styled",x2=typeof window<"u"&&"HTMLElement"in window,sZ=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ti!==void 0&&(Ti.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ti.REACT_APP_SC_DISABLE_SPEEDY!==""?Ti.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ti.REACT_APP_SC_DISABLE_SPEEDY:Ti.SC_DISABLE_SPEEDY!==void 0&&Ti.SC_DISABLE_SPEEDY!==""&&Ti.SC_DISABLE_SPEEDY!=="false"&&Ti.SC_DISABLE_SPEEDY));function Um(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var oZ=function(){function e(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var t=e.prototype;return t.indexOfGroup=function(r){for(var n=0,i=0;i<r;i++)n+=this.groupSizes[i];return n},t.insertRules=function(r,n){if(r>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;r>=o;)(o<<=1)<0&&Um(16,""+r);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(r+1),u=0,c=n.length;u<c;u++)this.tag.insertRule(l,n[u])&&(this.groupSizes[r]++,l++)},t.clearGroup=function(r){if(r<this.length){var n=this.groupSizes[r],i=this.indexOfGroup(r),s=i+n;this.groupSizes[r]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},t.getGroup=function(r){var n="";if(r>=this.length||this.groupSizes[r]===0)return n;for(var i=this.groupSizes[r],s=this.indexOfGroup(r),o=s+i,a=s;a<o;a++)n+=this.tag.getRule(a)+`/*!sc*/
`;return n},e}(),yy=new Map,Kv=new Map,pf=1,Mg=function(e){if(yy.has(e))return yy.get(e);for(;Kv.has(pf);)pf++;var t=pf++;return yy.set(e,t),Kv.set(t,e),t},aZ=function(e){return Kv.get(e)},lZ=function(e,t){t>=pf&&(pf=t+1),yy.set(e,t),Kv.set(t,e)},uZ="style["+Fd+'][data-styled-version="5.3.11"]',cZ=new RegExp("^"+Fd+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),dZ=function(e,t,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&e.registerName(t,n)},hZ=function(e,t){for(var r=(t.textContent||"").split(`/*!sc*/
`),n=[],i=0,s=r.length;i<s;i++){var o=r[i].trim();if(o){var a=o.match(cZ);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(lZ(u,l),dZ(e,u,a[3]),e.getTag().insertRules(l,n)),n.length=0}else n.push(o)}}},fZ=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},aI=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(Fd))return c}}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(Fd,"active"),n.setAttribute("data-styled-version","5.3.11");var o=fZ();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},pZ=function(){function e(r){var n=this.element=aI(r);n.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}Um(17)}(n),this.length=0}var t=e.prototype;return t.insertRule=function(r,n){try{return this.sheet.insertRule(n,r),this.length++,!0}catch{return!1}},t.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.getRule=function(r){var n=this.sheet.cssRules[r];return n!==void 0&&typeof n.cssText=="string"?n.cssText:""},e}(),mZ=function(){function e(r){var n=this.element=aI(r);this.nodes=n.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(r,n){if(r<=this.length&&r>=0){var i=document.createTextNode(n),s=this.nodes[r];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},t.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},e}(),gZ=function(){function e(r){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(r,n){return r<=this.length&&(this.rules.splice(r,0,n),this.length++,!0)},t.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.getRule=function(r){return r<this.length?this.rules[r]:""},e}(),HC=x2,yZ={isServer:!x2,useCSSOMInjection:!sZ},lI=function(){function e(r,n,i){r===void 0&&(r=Ja),n===void 0&&(n={}),this.options=ko({},yZ,{},r),this.gs=n,this.names=new Map(i),this.server=!!r.isServer,!this.server&&x2&&HC&&(HC=!1,function(s){for(var o=document.querySelectorAll(uZ),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(Fd)!=="active"&&(hZ(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}e.registerId=function(r){return Mg(r)};var t=e.prototype;return t.reconstructWithOptions=function(r,n){return n===void 0&&(n=!0),new e(ko({},this.options,{},r),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(n=this.options).isServer,s=n.useCSSOMInjection,o=n.target,r=i?new gZ(o):s?new pZ(o):new mZ(o),new oZ(r)));var r,n,i,s,o},t.hasNameForId=function(r,n){return this.names.has(r)&&this.names.get(r).has(n)},t.registerName=function(r,n){if(Mg(r),this.names.has(r))this.names.get(r).add(n);else{var i=new Set;i.add(n),this.names.set(r,i)}},t.insertRules=function(r,n,i){this.registerName(r,n),this.getTag().insertRules(Mg(r),i)},t.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.clearRules=function(r){this.getTag().clearGroup(Mg(r)),this.clearNames(r)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(r){for(var n=r.getTag(),i=n.length,s="",o=0;o<i;o++){var a=aZ(o);if(a!==void 0){var l=r.names.get(a),u=n.getGroup(o);if(l&&u&&l.size){var c=Fd+".g"+o+'[id="'+a+'"]',f="";l!==void 0&&l.forEach(function(p){p.length>0&&(f+=p+",")}),s+=""+u+c+'{content:"'+f+`"}/*!sc*/
`}}}return s}(this)},e}(),vZ=/(a)(d)/gi,GC=function(e){return String.fromCharCode(e+(e>25?39:97))};function rx(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=GC(t%52)+r;return(GC(t%52)+r).replace(vZ,"$1-$2")}var jc=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},uI=function(e){return jc(5381,e)};function wZ(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Np(r)&&!_2(r))return!1}return!0}var bZ=uI("5.3.11"),_Z=function(){function e(t,r,n){this.rules=t,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&wZ(t),this.componentId=r,this.baseHash=jc(bZ,r),this.baseStyle=n,lI.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,n){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(t,r,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=Bd(this.rules,t,r,n).join(""),a=rx(jc(this.baseHash,o)>>>0);if(!r.hasNameForId(i,a)){var l=n(o,"."+a,void 0,i);r.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=jc(this.baseHash,n.hash),f="",p=0;p<u;p++){var w=this.rules[p];if(typeof w=="string")f+=w;else if(w){var b=Bd(w,t,r,n),x=Array.isArray(b)?b.join(""):b;c=jc(c,x+p),f+=x}}if(f){var E=rx(c>>>0);if(!r.hasNameForId(i,E)){var g=n(f,"."+E,void 0,i);r.insertRules(i,E,g)}s.push(E)}}return s.join(" ")},e}(),xZ=/^\s*\/\/.*$/gm,NZ=[":","[",".","#"];function SZ(e){var t,r,n,i,s=e===void 0?Ja:e,o=s.options,a=o===void 0?Ja:o,l=s.plugins,u=l===void 0?Jv:l,c=new BK(a),f=[],p=function(x){function E(g){if(g)try{x(g+"}")}catch{}}return function(g,v,N,O,R,C,$,L,G,F){switch(g){case 1:if(G===0&&v.charCodeAt(0)===64)return x(v+";"),"";break;case 2:if(L===0)return v+"/*|*/";break;case 3:switch(L){case 102:case 112:return x(N[0]+v),"";default:return v+(F===0?"/*|*/":"")}case-2:v.split("/*|*/}").forEach(E)}}}(function(x){f.push(x)}),w=function(x,E,g){return E===0&&NZ.indexOf(g[r.length])!==-1||g.match(i)?x:"."+t};function b(x,E,g,v){v===void 0&&(v="&");var N=x.replace(xZ,""),O=E&&g?g+" "+E+" { "+N+" }":N;return t=v,r=E,n=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),c(g||!E?"":E,O)}return c.use([].concat(u,[function(x,E,g){x===2&&g.length&&g[0].lastIndexOf(r)>0&&(g[0]=g[0].replace(n,w))},p,function(x){if(x===-2){var E=f;return f=[],E}}])),b.hash=u.length?u.reduce(function(x,E){return E.name||Um(15),jc(x,E.name)},5381).toString():"",b}var cI=I.createContext();cI.Consumer;var dI=I.createContext(),kZ=(dI.Consumer,new lI),nx=SZ();function EZ(){return k.useContext(cI)||kZ}function CZ(){return k.useContext(dI)||nx}var TZ=function(){function e(t,r){var n=this;this.inject=function(i,s){s===void 0&&(s=nx);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.toString=function(){return Um(12,String(n.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=r}return e.prototype.getName=function(t){return t===void 0&&(t=nx),this.name+t.hash},e}(),OZ=/([A-Z])/,RZ=/([A-Z])/g,PZ=/^ms-/,AZ=function(e){return"-"+e.toLowerCase()};function QC(e){return OZ.test(e)?e.replace(RZ,AZ).replace(PZ,"-ms-"):e}var JC=function(e){return e==null||e===!1||e===""};function Bd(e,t,r,n){if(Array.isArray(e)){for(var i,s=[],o=0,a=e.length;o<a;o+=1)(i=Bd(e[o],t,r,n))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(JC(e))return"";if(_2(e))return"."+e.styledComponentId;if(Np(e)){if(typeof(u=e)!="function"||u.prototype&&u.prototype.isReactComponent||!t)return e;var l=e(t);return Bd(l,t,r,n)}var u;return e instanceof TZ?r?(e.inject(r,n),e.getName(n)):e:tx(e)?function c(f,p){var w,b,x=[];for(var E in f)f.hasOwnProperty(E)&&!JC(f[E])&&(Array.isArray(f[E])&&f[E].isCss||Np(f[E])?x.push(QC(E)+":",f[E],";"):tx(f[E])?x.push.apply(x,c(f[E],E)):x.push(QC(E)+": "+(w=E,(b=f[E])==null||typeof b=="boolean"||b===""?"":typeof b!="number"||b===0||w in WK||w.startsWith("--")?String(b).trim():b+"px")+";"));return p?[p+" {"].concat(x,["}"]):x}(e):e.toString()}var KC=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function hI(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Np(e)||tx(e)?KC(Bd(UC(Jv,[e].concat(r)))):r.length===0&&e.length===1&&typeof e[0]=="string"?e:KC(Bd(UC(e,r)))}var IZ=function(e,t,r){return r===void 0&&(r=Ja),e.theme!==r.theme&&e.theme||t||r.theme},$Z=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,LZ=/(^-|-$)/g;function Qw(e){return e.replace($Z,"-").replace(LZ,"")}var DZ=function(e){return rx(uI(e)>>>0)};function Fg(e){return typeof e=="string"&&!0}var ix=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},jZ=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function MZ(e,t,r){var n=e[r];ix(t)&&ix(n)?fI(n,t):e[r]=t}function fI(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,s=r;i<s.length;i++){var o=s[i];if(ix(o))for(var a in o)jZ(a)&&MZ(e,o[a],a)}return e}var pI=I.createContext();pI.Consumer;var Jw={};function mI(e,t,r){var n=_2(e),i=!Fg(e),s=t.attrs,o=s===void 0?Jv:s,a=t.componentId,l=a===void 0?function(v,N){var O=typeof v!="string"?"sc":Qw(v);Jw[O]=(Jw[O]||0)+1;var R=O+"-"+DZ("5.3.11"+O+Jw[O]);return N?N+"-"+R:R}(t.displayName,t.parentComponentId):a,u=t.displayName,c=u===void 0?function(v){return Fg(v)?"styled."+v:"Styled("+VC(v)+")"}(e):u,f=t.displayName&&t.componentId?Qw(t.displayName)+"-"+t.componentId:t.componentId||l,p=n&&e.attrs?Array.prototype.concat(e.attrs,o).filter(Boolean):o,w=t.shouldForwardProp;n&&e.shouldForwardProp&&(w=t.shouldForwardProp?function(v,N,O){return e.shouldForwardProp(v,N,O)&&t.shouldForwardProp(v,N,O)}:e.shouldForwardProp);var b,x=new _Z(r,f,n?e.componentStyle:void 0),E=x.isStatic&&o.length===0,g=function(v,N){return function(O,R,C,$){var L=O.attrs,G=O.componentStyle,F=O.defaultProps,J=O.foldedComponentIds,ee=O.shouldForwardProp,q=O.styledComponentId,ie=O.target,ve=function(Ce,j,Ee){Ce===void 0&&(Ce=Ja);var Z=ko({},j,{theme:Ce}),je={};return Ee.forEach(function(Pe){var xe,se,oe,De=Pe;for(xe in Np(De)&&(De=De(Z)),De)Z[xe]=je[xe]=xe==="className"?(se=je[xe],oe=De[xe],se&&oe?se+" "+oe:se||oe):De[xe]}),[Z,je]}(IZ(R,k.useContext(pI),F)||Ja,R,L),Se=ve[0],_e=ve[1],H=function(Ce,j,Ee,Z){var je=EZ(),Pe=CZ(),xe=j?Ce.generateAndInjectStyles(Ja,je,Pe):Ce.generateAndInjectStyles(Ee,je,Pe);return xe}(G,$,Se),de=C,pe=_e.$as||R.$as||_e.as||R.as||ie,ke=Fg(pe),K=_e!==R?ko({},R,{},_e):R,fe={};for(var le in K)le[0]!=="$"&&le!=="as"&&(le==="forwardedAs"?fe.as=K[le]:(ee?ee(le,BC,pe):!ke||BC(le))&&(fe[le]=K[le]));return R.style&&_e.style!==R.style&&(fe.style=ko({},R.style,{},_e.style)),fe.className=Array.prototype.concat(J,q,H!==q?H:null,R.className,_e.className).filter(Boolean).join(" "),fe.ref=de,k.createElement(pe,fe)}(b,v,N,E)};return g.displayName=c,(b=I.forwardRef(g)).attrs=p,b.componentStyle=x,b.displayName=c,b.shouldForwardProp=w,b.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Jv,b.styledComponentId=f,b.target=n?e.target:e,b.withComponent=function(v){var N=t.componentId,O=function(C,$){if(C==null)return{};var L,G,F={},J=Object.keys(C);for(G=0;G<J.length;G++)L=J[G],$.indexOf(L)>=0||(F[L]=C[L]);return F}(t,["componentId"]),R=N&&N+"-"+(Fg(v)?v:Qw(VC(v)));return mI(v,ko({},O,{attrs:p,componentId:R}),r)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=n?fI({},e.defaultProps,v):v}}),Object.defineProperty(b,"toString",{value:function(){return"."+b.styledComponentId}}),i&&iZ(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}var sx=function(e){return function t(r,n,i){if(i===void 0&&(i=Ja),!tm.isValidElementType(n))return Um(1,String(n));var s=function(){return r(n,i,hI.apply(void 0,arguments))};return s.withConfig=function(o){return t(r,n,ko({},i,{},o))},s.attrs=function(o){return t(r,n,ko({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(mI,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){sx[e]=sx(e)});const B1=sx;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wu=function(){return wu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wu.apply(this,arguments)};function Vm(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var ZC,YC,XC,eT,tT,FZ=hI(ZC||(ZC=Vm([`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`],[`
  display: flex;
  align-items: center;
  min-width: 322px;
  max-width: 508px;
  height: 48px;
  border: dashed 2px `,`;
  padding: 8px 16px 8px 8px;
  border-radius: 5px;
  cursor: pointer;
  flex-grow: 0;

  &.is-disabled {
    border: dashed 2px `,`;
    cursor: no-drop;
    svg {
      fill: `,`;
      color: `,`;
      path {
        fill: `,`;
        color: `,`;
      }
    }
  }
`])),"#0658c2","#666","#666","#666","#666","#666"),BZ=B1.label(YC||(YC=Vm([`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`],[`
  position: relative;
  `,`;
  &:focus-within {
    outline: 2px solid black;
  }
  & > input {
    display: block;
    opacity: 0;
    position: absolute;
    pointer-events: none;
  }
`])),function(e){return e.overRide?"":FZ}),WZ=B1.div(XC||(XC=Vm([`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.5;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`],[`
  border: dashed 2px `,`;
  border-radius: 5px;
  background-color: `,`;
  opacity: 0.5;
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  & > span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
  }
`])),"#666","#999"),zZ=B1.div(eT||(eT=Vm([`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`],[`
  display: flex;
  justify-content: space-between;
  flex-grow: 1;
  & > span {
    font-size: 12px;
    color: `,`;
  }
  .file-types {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100px;
  }
`])),function(e){return e.error?"red":"#666"}),qZ=B1.span(tT||(tT=Vm([`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`],[`
  font-size: 14px;
  color: `,`;
  span {
    text-decoration: underline;
  }
`])),"#666"),rT=function(e){return e/1e3/1e3},UZ=function(e){return e===void 0?"":e.map(function(t){return".".concat(t.toLowerCase())}).join(",")};function VZ(e){var t=e.types,r=e.minSize,n=e.maxSize;if(t){var i=t.toString(),s="";return n&&(s+="size >= ".concat(n,", ")),r&&(s+="size <= ".concat(r,", ")),S.jsx("span",wu({title:"".concat(s,"types: ").concat(i),className:"file-types"},{children:i}),void 0)}return null}function HZ(){return S.jsxs("svg",wu({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[S.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),S.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),S.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var Kw=0,GZ=function(e,t,r,n,i){return r?S.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):S.jsx(qZ,{children:n?S.jsx("span",{children:"Upload disabled"},void 0):e||t?S.jsxs(S.Fragment,{children:[S.jsx("span",{children:"Uploaded Successfully!"},void 0)," Upload another?"]},void 0):S.jsx(S.Fragment,{children:S.jsxs(S.Fragment,i?{children:[S.jsx("span",{children:i.split(" ")[0]},void 0)," ",i.substr(i.indexOf(" ")+1)]}:{children:[S.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},void 0)},QZ=function(e){var t=e.name,r=e.hoverTitle,n=e.types,i=e.handleChange,s=e.classes,o=e.children,a=e.maxSize,l=e.minSize,u=e.fileOrFiles,c=e.onSizeError,f=e.onTypeError,p=e.onSelect,w=e.onDrop,b=e.disabled,x=e.label,E=e.multiple,g=e.required,v=e.onDraggingStateChange,N=e.dropMessageStyle,O=k.useRef(null),R=k.useRef(null),C=k.useState(!1),$=C[0],L=C[1],G=k.useState(null),F=G[0],J=G[1],ee=k.useState(!1),q=ee[0],ie=ee[1],ve=function(H){return n&&!function(de,pe){var ke=de.name.split(".").pop();return pe.map(function(K){return K.toLowerCase()}).includes(ke.toLowerCase())}(H,n)?(ie(!0),f&&f("File type is not supported"),!1):a&&rT(H.size)>a?(ie(!0),c&&c("File size is too big"),!1):!(l&&rT(H.size)<l)||(ie(!0),c&&c("File size is too small"),!1)},Se=function(H){var de=!1;if(H){if(H instanceof File)de=!ve(H);else for(var pe=0;pe<H.length;pe++){var ke=H[pe];de=!ve(ke)||de}return!de&&(i&&i(H),J(H),L(!0),ie(!1),!0)}return!1},_e=function(H){var de=H.labelRef,pe=H.inputRef,ke=H.multiple,K=H.handleChanges,fe=H.onDrop,le=k.useState(!1),Ce=le[0],j=le[1],Ee=k.useCallback(function(){pe.current.click()},[pe]),Z=k.useCallback(function(se){se.preventDefault(),se.stopPropagation(),Kw++,se.dataTransfer.items&&se.dataTransfer.items.length!==0&&j(!0)},[]),je=k.useCallback(function(se){se.preventDefault(),se.stopPropagation(),--Kw>0||j(!1)},[]),Pe=k.useCallback(function(se){se.preventDefault(),se.stopPropagation()},[]),xe=k.useCallback(function(se){se.preventDefault(),se.stopPropagation(),j(!1),Kw=0;var oe=se.dataTransfer.files;if(oe&&oe.length>0){var De=ke?oe:oe[0],Te=K(De);fe&&Te&&fe(De)}},[K]);return k.useEffect(function(){var se=de.current;return se.addEventListener("click",Ee),se.addEventListener("dragenter",Z),se.addEventListener("dragleave",je),se.addEventListener("dragover",Pe),se.addEventListener("drop",xe),function(){se.removeEventListener("click",Ee),se.removeEventListener("dragenter",Z),se.removeEventListener("dragleave",je),se.removeEventListener("dragover",Pe),se.removeEventListener("drop",xe)}},[Ee,Z,je,Pe,xe,de]),Ce}({labelRef:O,inputRef:R,multiple:E,handleChanges:Se,onDrop:w});return k.useEffect(function(){v==null||v(_e)},[_e]),k.useEffect(function(){u?(L(!0),J(u)):(R.current&&(R.current.value=""),L(!1),J(null))},[u]),S.jsxs(BZ,wu({overRide:o,className:"".concat(s||""," ").concat(b?"is-disabled":""),ref:O,htmlFor:t,onClick:function(H){H.preventDefault(),H.stopPropagation()}},{children:[S.jsx("input",{onClick:function(H){H.stopPropagation(),R&&R.current&&(R.current.value="",R.current.click())},onChange:function(H){var de=H.target.files,pe=E?de:de[0],ke=Se(pe);p&&ke&&p(pe)},accept:UZ(n),ref:R,type:"file",name:t,disabled:b,multiple:E,required:g},void 0),_e&&S.jsx(WZ,wu({style:N},{children:S.jsx("span",{children:r||"Drop Here"},void 0)}),void 0),!o&&S.jsxs(S.Fragment,{children:[S.jsx(HZ,{},void 0),S.jsxs(zZ,wu({error:q},{children:[GZ(F,$,q,b,x),S.jsx(VZ,{types:n,minSize:l,maxSize:a},void 0)]}),void 0)]},void 0),o]}),void 0)};const JZ=e=>{const t=["sqlite","db"],{setDataSource:r,setError:n}=e,[i,s]=k.useState(null),o=async a=>{s(a);try{const l=await a.arrayBuffer(),u=await Ju.initial(l),c=Hs.createDialect(u),f=Hs.createKysely(c),p=O1(f);r({_tag:"sandbox",sqlite:u,db:f,app:p})}catch(l){n(l)}};return S.jsxs(S.Fragment,{children:[S.jsx("h3",{children:"drag and drop"}),S.jsx(QZ,{multiple:!1,handleChange:o,name:"file",types:t}),S.jsx("p",{children:i?`File name: ${i.name}`:"no files uploaded yet"})]})},KZ=e=>{const{setDataSource:t,setError:r}=e,[n,i]=k.useState("/yuuka/sqlite.db"),s=async()=>{try{const a=await(await fetch(n)).arrayBuffer(),l=await Ju.initial(a),u=Hs.createDialect(l),c=Hs.createKysely(u),f=O1(c);t({_tag:"sandbox",sqlite:l,db:c,app:f})}catch(o){r(o)}};return S.jsxs(S.Fragment,{children:[S.jsx("h3",{children:"remote file"}),S.jsxs(m1,{onSubmit:s,children:[S.jsx(Vr,{children:S.jsx("input",{type:"url",onChange:o=>i(o.target.value),value:n})}),S.jsx(Vr,{children:S.jsx(xr,{type:"submit",disabled:n.length===0,children:"fetch"})})]})]})},ZZ=e=>{const{setDataSource:t,setError:r}=e,[n,i]=k.useState("http://127.0.0.1:3000"),s=async()=>{t({_tag:"server",endpoint:n})};return S.jsxs(S.Fragment,{children:[S.jsx("h3",{children:"api server"}),S.jsxs(m1,{onSubmit:s,children:[S.jsx(Vr,{children:S.jsx("input",{type:"text",onChange:o=>i(o.target.value),value:n})}),S.jsx(Vr,{children:S.jsx(xr,{type:"submit",disabled:n.length===0,children:"connect"})})]})]})};var nT,Ut="colors",Cn="sizes",Le="space",YZ={gap:Le,gridGap:Le,columnGap:Le,gridColumnGap:Le,rowGap:Le,gridRowGap:Le,inset:Le,insetBlock:Le,insetBlockEnd:Le,insetBlockStart:Le,insetInline:Le,insetInlineEnd:Le,insetInlineStart:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,marginBlock:Le,marginBlockEnd:Le,marginBlockStart:Le,marginInline:Le,marginInlineEnd:Le,marginInlineStart:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,paddingBlock:Le,paddingBlockEnd:Le,paddingBlockStart:Le,paddingInline:Le,paddingInlineEnd:Le,paddingInlineStart:Le,top:Le,right:Le,bottom:Le,left:Le,scrollMargin:Le,scrollMarginTop:Le,scrollMarginRight:Le,scrollMarginBottom:Le,scrollMarginLeft:Le,scrollMarginX:Le,scrollMarginY:Le,scrollMarginBlock:Le,scrollMarginBlockEnd:Le,scrollMarginBlockStart:Le,scrollMarginInline:Le,scrollMarginInlineEnd:Le,scrollMarginInlineStart:Le,scrollPadding:Le,scrollPaddingTop:Le,scrollPaddingRight:Le,scrollPaddingBottom:Le,scrollPaddingLeft:Le,scrollPaddingX:Le,scrollPaddingY:Le,scrollPaddingBlock:Le,scrollPaddingBlockEnd:Le,scrollPaddingBlockStart:Le,scrollPaddingInline:Le,scrollPaddingInlineEnd:Le,scrollPaddingInlineStart:Le,fontSize:"fontSizes",background:Ut,backgroundColor:Ut,backgroundImage:Ut,borderImage:Ut,border:Ut,borderBlock:Ut,borderBlockEnd:Ut,borderBlockStart:Ut,borderBottom:Ut,borderBottomColor:Ut,borderColor:Ut,borderInline:Ut,borderInlineEnd:Ut,borderInlineStart:Ut,borderLeft:Ut,borderLeftColor:Ut,borderRight:Ut,borderRightColor:Ut,borderTop:Ut,borderTopColor:Ut,caretColor:Ut,color:Ut,columnRuleColor:Ut,fill:Ut,outline:Ut,outlineColor:Ut,stroke:Ut,textDecorationColor:Ut,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Cn,minBlockSize:Cn,maxBlockSize:Cn,inlineSize:Cn,minInlineSize:Cn,maxInlineSize:Cn,width:Cn,minWidth:Cn,maxWidth:Cn,height:Cn,minHeight:Cn,maxHeight:Cn,flexBasis:Cn,gridTemplateColumns:Cn,gridTemplateRows:Cn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},XZ=(e,t)=>typeof t=="function"?{"()":Function.prototype.toString.call(t)}:t,Hm=()=>{const e=Object.create(null);return(t,r,...n)=>{const i=(s=>JSON.stringify(s,XZ))(t);return i in e?e[i]:e[i]=r(t,...n)}},vy=Symbol.for("sxs.internal"),N2=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),iT=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:eY}=Object.prototype,ox=e=>e.includes("-")?e:e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),tY=/\s+(?![^()]*\))/,oc=e=>t=>e(...typeof t=="string"?String(t).split(tY):[t]),sT={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:oc((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:oc((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:oc((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:oc((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:oc((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:oc((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},Zw=/([\d.]+)([^]*)/,rY=(e,t)=>e.length?e.reduce((r,n)=>(r.push(...t.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i)),r),[]):t,nY=(e,t)=>e in iY&&typeof t=="string"?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(r,n,i,s)=>n+(i==="stretch"?`-moz-available${s};${ox(e)}:${n}-webkit-fill-available`:`-moz-fit-content${s};${ox(e)}:${n}fit-content`)+s):String(t),iY={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Uo=e=>e?e+"-":"",gI=(e,t,r)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,i,s,o,a)=>o=="$"==!!s?n:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Uo(t)+(a.includes("$")?"":Uo(r))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),sY=/\s*,\s*(?![^()]*\))/,oY=Object.prototype.toString,Mc=(e,t,r,n,i)=>{let s,o,a;const l=(u,c,f)=>{let p,w;const b=x=>{for(p in x){const v=p.charCodeAt(0)===64,N=v&&Array.isArray(x[p])?x[p]:[x[p]];for(w of N){const O=/[A-Z]/.test(g=p)?g:g.replace(/-[^]/g,C=>C[1].toUpperCase()),R=typeof w=="object"&&w&&w.toString===oY&&(!n.utils[O]||!c.length);if(O in n.utils&&!R){const C=n.utils[O];if(C!==o){o=C,b(C(w)),o=null;continue}}else if(O in sT){const C=sT[O];if(C!==a){a=C,b(C(w)),a=null;continue}}if(v&&(E=p.slice(1)in n.media?"@media "+n.media[p.slice(1)]:p,p=E.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(C,$,L,G,F,J)=>{const ee=Zw.test($),q=.0625*(ee?-1:1),[ie,ve]=ee?[G,$]:[$,G];return"("+(L[0]==="="?"":L[0]===">"===ee?"max-":"min-")+ie+":"+(L[0]!=="="&&L.length===1?ve.replace(Zw,(Se,_e,H)=>Number(_e)+q*(L===">"?1:-1)+H):ve)+(F?") and ("+(F[0]===">"?"min-":"max-")+ie+":"+(F.length===1?J.replace(Zw,(Se,_e,H)=>Number(_e)+q*(F===">"?-1:1)+H):J):"")+")"})),R){const C=v?f.concat(p):[...f],$=v?[...c]:rY(c,p.split(sY));s!==void 0&&i(oT(...s)),s=void 0,l(w,$,C)}else s===void 0&&(s=[[],c,f]),p=v||p.charCodeAt(0)!==36?p:`--${Uo(n.prefix)}${p.slice(1).replace(/\$/g,"-")}`,w=R?w:typeof w=="number"?w&&O in aY?String(w)+"px":String(w):gI(nY(O,w??""),n.prefix,n.themeMap[O]),s[0].push(`${v?`${p} `:`${ox(p)}:`}${w}`)}}var E,g};b(u),s!==void 0&&i(oT(...s)),s=void 0};l(e,t,r)},oT=(e,t,r)=>`${r.map(n=>`${n}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,aY={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},aT=e=>String.fromCharCode(e+(e>25?39:97)),bu=e=>(t=>{let r,n="";for(r=Math.abs(t);r>52;r=r/52|0)n=aT(r%52)+n;return aT(r%52)+n})(((t,r)=>{let n=r.length;for(;n;)t=33*t^r.charCodeAt(--n);return t})(5381,JSON.stringify(e))>>>0),Uh=["themed","global","styled","onevar","resonevar","allvar","inline"],lY=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch{return!1}},uY=e=>{let t;const r=()=>{const{cssRules:i}=t.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in t.rules)if(t.rules[u].group===s)return`--sxs{--sxs:${[...t.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},n=()=>{if(t){const{rules:a,sheet:l}=t;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(e).styleSheets||[];for(const a of i)if(lY(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const f=Object(u[l+1]);if(f.type!==4)continue;++l;const{cssText:p}=c;if(!p.startsWith("--sxs"))continue;const w=p.slice(14,-3).trim().split(/\s+/),b=Uh[w[0]];b&&(t||(t={sheet:a,reset:n,rules:{},toString:r}),t.rules[b]={group:f,index:l,cache:new Set(w)})}if(t)break}if(!t){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,f){this.cssRules.splice(f,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:n,toString:r}}const{sheet:s,rules:o}=t;for(let a=Uh.length-1;a>=0;--a){const l=Uh[a];if(!o[l]){const u=Uh[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}cY(o[l])}};return n(),t},cY=e=>{const t=e.group;let r=t.cssRules.length;e.apply=n=>{try{t.insertRule(n,r),++r}catch{}}},Dh=Symbol(),dY=Hm(),hY=(e,t)=>dY(e,()=>(...r)=>{let n={type:null,composers:new Set};for(const i of r)if(i!=null)if(i[vy]){n.type==null&&(n.type=i[vy].type);for(const s of i[vy].composers)n.composers.add(s)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(fY(i,e));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),pY(e,n,t)}),fY=({variants:e,compoundVariants:t,defaultVariants:r,...n},i)=>{const s=`${Uo(i.prefix)}c-${bu(n)}`,o=[],a=[],l=Object.create(null),u=[];for(const p in r)l[p]=String(r[p]);if(typeof e=="object"&&e)for(const p in e){c=l,f=p,eY.call(c,f)||(l[p]="undefined");const w=e[p];for(const b in w){const x={[p]:String(b)};String(b)==="undefined"&&u.push(p);const E=w[b],g=[x,E,!iT(E)];o.push(g)}}var c,f;if(typeof t=="object"&&t)for(const p of t){let{css:w,...b}=p;w=typeof w=="object"&&w||{};for(const E in b)b[E]=String(b[E]);const x=[b,w,!iT(w)];a.push(x)}return[s,n,o,a,l,u]},pY=(e,t,r)=>{const[n,i,s,o]=mY(t.composers),a=typeof t.type=="function"||t.type.$$typeof?(f=>{function p(){for(let w=0;w<p[Dh].length;w++){const[b,x]=p[Dh][w];f.rules[b].apply(x)}return p[Dh]=[],null}return p[Dh]=[],p.rules={},Uh.forEach(w=>p.rules[w]={apply:b=>p[Dh].push([w,b])}),p})(r):null,l=(a||r).rules,u=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=f=>{f=typeof f=="object"&&f||gY;const{css:p,...w}=f,b={};for(const g in s)if(delete w[g],g in f){let v=f[g];typeof v=="object"&&v?b[g]={"@initial":s[g],...v}:(v=String(v),b[g]=v!=="undefined"||o.has(g)?v:s[g])}else b[g]=s[g];const x=new Set([...i]);for(const[g,v,N,O]of t.composers){r.rules.styled.cache.has(g)||(r.rules.styled.cache.add(g),Mc(v,[`.${g}`],[],e,$=>{l.styled.apply($)}));const R=lT(N,b,e.media),C=lT(O,b,e.media,!0);for(const $ of R)if($!==void 0)for(const[L,G,F]of $){const J=`${g}-${bu(G)}-${L}`;x.add(J);const ee=(F?r.rules.resonevar:r.rules.onevar).cache,q=F?l.resonevar:l.onevar;ee.has(J)||(ee.add(J),Mc(G,[`.${J}`],[],e,ie=>{q.apply(ie)}))}for(const $ of C)if($!==void 0)for(const[L,G]of $){const F=`${g}-${bu(G)}-${L}`;x.add(F),r.rules.allvar.cache.has(F)||(r.rules.allvar.cache.add(F),Mc(G,[`.${F}`],[],e,J=>{l.allvar.apply(J)}))}}if(typeof p=="object"&&p){const g=`${n}-i${bu(p)}-css`;x.add(g),r.rules.inline.cache.has(g)||(r.rules.inline.cache.add(g),Mc(p,[`.${g}`],[],e,v=>{l.inline.apply(v)}))}for(const g of String(f.className||"").trim().split(/\s+/))g&&x.add(g);const E=w.className=[...x].join(" ");return{type:t.type,className:E,selector:u,props:w,toString:()=>E,deferredInjector:a}};return N2(c,{className:n,selector:u,[vy]:t,toString:()=>(r.rules.styled.cache.has(n)||c(),n)})},mY=e=>{let t="";const r=[],n={},i=[];for(const[s,,,,o,a]of e){t===""&&(t=s),r.push(s),i.push(...a);for(const l in o){const u=o[l];(n[l]===void 0||u!=="undefined"||a.includes(u))&&(n[l]=u)}}return[t,r,n,new Set(i)]},lT=(e,t,r,n)=>{const i=[];e:for(let[s,o,a]of e){if(a)continue;let l,u=0,c=!1;for(l in s){const f=s[l];let p=t[l];if(p!==f){if(typeof p!="object"||!p)continue e;{let w,b,x=0;for(const E in p){if(f===String(p[E])){if(E!=="@initial"){const g=E.slice(1);(b=b||[]).push(g in r?r[g]:E.replace(/^@media ?/,"")),c=!0}u+=x,w=!0}++x}if(b&&b.length&&(o={["@media "+b.join(", ")]:o}),!w)continue e}}}(i[u]=i[u]||[]).push([n?"cv":`${l}-${s[l]}`,o,c])}return i},gY={},yY=Hm(),vY=(e,t)=>yY(e,()=>(...r)=>{const n=()=>{for(let i of r){i=typeof i=="object"&&i||{};let s=bu(i);if(!t.rules.global.cache.has(s)){if(t.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,t.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Mc(i,[],[],e,o=>{t.rules.global.apply(o)})}}return""};return N2(n,{toString:n})}),wY=Hm(),bY=(e,t)=>wY(e,()=>r=>{const n=`${Uo(e.prefix)}k-${bu(r)}`,i=()=>{if(!t.rules.global.cache.has(n)){t.rules.global.cache.add(n);const s=[];Mc(r,[],[],e,a=>s.push(a));const o=`@keyframes ${n}{${s.join("")}}`;t.rules.global.apply(o)}return n};return N2(i,{get name(){return i()},toString:i})}),_Y=class{constructor(t,r,n,i){this.token=t==null?"":String(t),this.value=r==null?"":String(r),this.scale=n==null?"":String(n),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Uo(this.prefix)+Uo(this.scale)+this.token}toString(){return this.computedValue}},xY=Hm(),NY=(e,t)=>xY(e,()=>(r,n)=>{n=typeof r=="object"&&r||Object(n);const i=`.${r=(r=typeof r=="string"?r:"")||`${Uo(e.prefix)}t-${bu(n)}`}`,s={},o=[];for(const l in n){s[l]={};for(const u in n[l]){const c=`--${Uo(e.prefix)}${l}-${u}`,f=gI(String(n[l][u]),e.prefix,l);s[l][u]=new _Y(u,f,l,e.prefix),o.push(`${c}:${f}`)}}const a=()=>{if(o.length&&!t.rules.themed.cache.has(r)){t.rules.themed.cache.add(r);const l=`${n===e.theme?":root,":""}.${r}{${o.join(";")}}`;t.rules.themed.apply(l)}return r};return{...s,get className(){return a()},selector:i,toString:a}}),SY=Hm(),yI=e=>{let t=!1;const r=SY(e,n=>{t=!0;const i="prefix"in(n=typeof n=="object"&&n||{})?String(n.prefix):"",s=typeof n.media=="object"&&n.media||{},o=typeof n.root=="object"?n.root||null:globalThis.document||null,a=typeof n.theme=="object"&&n.theme||{},l={prefix:i,media:s,theme:a,themeMap:typeof n.themeMap=="object"&&n.themeMap||{...YZ},utils:typeof n.utils=="object"&&n.utils||{}},u=uY(o),c={css:hY(l,u),globalCss:vY(l,u),keyframes:bY(l,u),createTheme:NY(l,u),reset(){u.reset(),c.theme.toString()},theme:{},sheet:u,config:l,prefix:i,getCssText:u.toString,toString:u.toString};return String(c.theme=c.createTheme(a)),c});return t||r.reset(),r},vI=()=>nT||(nT=yI()),kY=(...e)=>vI().createTheme(...e),ta=(...e)=>vI().css(...e),EY={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},Rr={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},CY="supabase-auth-ui",TY={ROOT:"root",SIGN_IN:Rr.SIGN_IN,SIGN_UP:Rr.SIGN_UP,FORGOTTEN_PASSWORD:Rr.FORGOTTEN_PASSWORD,MAGIC_LINK:Rr.MAGIC_LINK,UPDATE_PASSWORD:Rr.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function Ku(e,t,r){var n,i;const s=[],o=TY[e];return s.push(r!=null&&r.prependedClassName?(r==null?void 0:r.prependedClassName)+"_"+o:CY+"_"+o),(n=r==null?void 0:r.className)!=null&&n[e]&&s.push((i=r==null?void 0:r.className)==null?void 0:i[e]),((r==null?void 0:r.extend)===void 0||(r==null?void 0:r.extend)===!0)&&s.push(t),s}function ax(e,t){let r;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(t))for(r=0;r<t.length;r++)e[r]=ax(e[r],t[r]);else for(r in t)e[r]=ax(e[r],t[r]);return e}return t}function Yw(e,...t){let r=t.length;for(let n=0;n<r;n++)e=ax(e,t[n]);return e}function OY(e,t){return e.replace(/{{(\w+)}}/g,(r,n)=>t.hasOwnProperty(n)?t[n]:r)}var RY={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const PY=ta({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Zl=({children:e,appearance:t,...r})=>{var n;const i=Ku("anchor",PY(),t);return I.createElement("a",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.anchor,className:i.join(" ")},e)},AY=ta({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),ah=({children:e,color:t="default",appearance:r,icon:n,loading:i=!1,...s})=>{var o;const a=Ku("button",AY({color:t}),r);return I.createElement("button",{...s,style:(o=r==null?void 0:r.style)==null?void 0:o.button,className:a.join(" "),disabled:i},n,e)},IY=ta({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),Bs=({children:e,appearance:t,...r})=>{var n;const i=Ku("container",IY({direction:r.direction,gap:r.gap}),t);return I.createElement("div",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.container,className:i.join(" ")},e)},$Y=ta({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),LY=({children:e,appearance:t,...r})=>{var n;const i=Ku("divider",$Y(),t);return I.createElement("div",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.divider,className:i.join(" ")})},DY=ta({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Ka=({children:e,appearance:t,...r})=>{var n;const i=Ku("input",DY({type:r.type==="password"?"password":"default"}),t);return I.createElement("input",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.input,className:i.join(" ")},e)},jY=ta({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Za=({children:e,appearance:t,...r})=>{var n;const i=Ku("label",jY(),t);return I.createElement("label",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.label,className:i.join(" ")},e)},MY=ta({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),Ks=({children:e,appearance:t,...r})=>{var n;const i=Ku("message",MY({color:r.color}),t);return I.createElement("span",{...r,style:(n=t==null?void 0:t.style)==null?void 0:n.message,className:i.join(" ")},e)};function wI({setAuthView:e=()=>{},supabaseClient:t,redirectTo:r,i18n:n,appearance:i,showLinks:s=!1}){var o;const[a,l]=k.useState(""),[u,c]=k.useState(""),[f,p]=k.useState(""),[w,b]=k.useState(!1),x=async g=>{var v,N;if(g.preventDefault(),c(""),p(""),b(!0),a.length===0){c((v=n==null?void 0:n.magic_link)==null?void 0:v.empty_email_address),b(!1);return}const{error:O}=await t.auth.signInWithOtp({email:a,options:{emailRedirectTo:r}});O?c(O.message):p((N=n==null?void 0:n.magic_link)==null?void 0:N.confirmation_text),b(!1)},E=n==null?void 0:n.magic_link;return I.createElement("form",{id:"auth-magic-link",onSubmit:x},I.createElement(Bs,{gap:"large",direction:"vertical",appearance:i},I.createElement("div",null,I.createElement(Za,{htmlFor:"email",appearance:i},E==null?void 0:E.email_input_label),I.createElement(Ka,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:E==null?void 0:E.email_input_placeholder,onChange:g=>{c&&c(""),l(g.target.value)},appearance:i})),I.createElement(ah,{color:"primary",type:"submit",loading:w,appearance:i},w?E==null?void 0:E.loading_button_label:E==null?void 0:E.button_label),s&&I.createElement(Zl,{href:"#auth-sign-in",onClick:g=>{g.preventDefault(),e(Rr.SIGN_IN)},appearance:i},(o=n==null?void 0:n.sign_in)==null?void 0:o.link_text),f&&I.createElement(Ks,{appearance:i},f),u&&I.createElement(Ks,{color:"danger",appearance:i},u)))}const vn=ta({width:"21px",height:"21px"}),FY=({provider:e})=>e=="google"?BY():e=="facebook"?WY():e=="twitter"?zY():e=="apple"?qY():e=="github"?UY():e=="gitlab"?VY():e=="bitbucket"?HY():e=="discord"?GY():e=="azure"?QY():e=="keycloak"?JY():e=="linkedin"?KY():e=="notion"?ZY():e=="slack"?YY():e=="spotify"?XY():e=="twitch"?eX():e=="workos"?tX():e=="kakao"?rX():null,BY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),I.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),I.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),I.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),WY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),I.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),zY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),qY=()=>I.createElement("svg",{className:vn(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",I.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),UY=()=>I.createElement("svg",{className:vn(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",I.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),VY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),I.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),I.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),I.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),I.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),I.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),I.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),HY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},I.createElement("defs",null,I.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),I.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),I.createElement("title",null,"Bitbucket-blue"),I.createElement("g",{id:"Layer_2","data-name":"Layer 2"},I.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},I.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),I.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),GY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),QY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{offset:"0",stopColor:"#114a8b"}),I.createElement("stop",{offset:"1",stopColor:"#0669bc"})),I.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),I.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),I.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{offset:"0",stopOpacity:".3"}),I.createElement("stop",{offset:".071",stopOpacity:".2"}),I.createElement("stop",{offset:".321",stopOpacity:".1"}),I.createElement("stop",{offset:".623",stopOpacity:".05"}),I.createElement("stop",{offset:"1",stopOpacity:"0"})),I.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),I.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),I.createElement("stop",{offset:"1",stopColor:"#2892df"})),I.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),JY=()=>I.createElement("svg",{className:vn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),KY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),I.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),ZY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},I.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),I.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),I.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),YY=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},I.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),I.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),I.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),I.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),I.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),I.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),I.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),I.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),XY=()=>I.createElement("svg",{className:vn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),eX=()=>I.createElement("svg",{className:vn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),I.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),I.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),I.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),tX=()=>I.createElement("svg",{className:vn(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),I.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),rX=()=>I.createElement("svg",{className:vn(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},I.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),I.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),I.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function nX({supabaseClient:e,socialLayout:t="vertical",providers:r=["github","google","azure"],providerScopes:n,queryParams:i,redirectTo:s,onlyThirdPartyProviders:o=!0,view:a="sign_in",i18n:l,appearance:u}){const[c,f]=k.useState(!1),[p,w]=k.useState(""),b=t==="vertical",x=a==="magic_link"?"sign_in":a,E=async v=>{f(!0);const{error:N}=await e.auth.signInWithOAuth({provider:v,options:{redirectTo:s,scopes:n==null?void 0:n[v],queryParams:i}});N&&w(N.message),f(!1)};function g(v){const N=v.toLowerCase();return v.charAt(0).toUpperCase()+N.slice(1)}return I.createElement(I.Fragment,null,r&&r.length>0&&I.createElement(I.Fragment,null,I.createElement(Bs,{gap:"large",direction:"vertical",appearance:u},I.createElement(Bs,{direction:b?"vertical":"horizontal",gap:b?"small":"medium",appearance:u},r.map(v=>{var N;return I.createElement(ah,{key:v,color:"default",loading:c,onClick:()=>E(v),appearance:u},I.createElement(FY,{provider:v}),b&&OY((N=l==null?void 0:l[x])==null?void 0:N.social_provider_text,{provider:g(v)}))}))),!o&&I.createElement(LY,{appearance:u})))}function uT({authView:e="sign_in",defaultEmail:t="",defaultPassword:r="",setAuthView:n=()=>{},setDefaultEmail:i=b=>{},setDefaultPassword:s=b=>{},supabaseClient:o,showLinks:a=!1,redirectTo:l,additionalData:u,magicLink:c,i18n:f,appearance:p,children:w}){var b,x,E,g;const v=k.useRef(!0),[N,O]=k.useState(t),[R,C]=k.useState(r),[$,L]=k.useState(""),[G,F]=k.useState(!1),[J,ee]=k.useState("");k.useEffect(()=>(v.current=!0,O(t),C(r),()=>{v.current=!1}),[e]);const q=async Se=>{var _e;switch(Se.preventDefault(),L(""),F(!0),e){case"sign_in":const{error:H}=await o.auth.signInWithPassword({email:N,password:R});H&&L(H.message);break;case"sign_up":let de={emailRedirectTo:l};u&&(de.data=u);const{data:{user:pe,session:ke},error:K}=await o.auth.signUp({email:N,password:R,options:de});K?L(K.message):pe&&!ke&&ee((_e=f==null?void 0:f.sign_up)==null?void 0:_e.confirmation_text);break}v.current&&F(!1)},ie=Se=>{i(N),s(R),n(Se)},ve=f==null?void 0:f[e];return I.createElement("form",{id:e==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:q,autoComplete:"on",style:{width:"100%"}},I.createElement(Bs,{direction:"vertical",gap:"large",appearance:p},I.createElement(Bs,{direction:"vertical",gap:"large",appearance:p},I.createElement("div",null,I.createElement(Za,{htmlFor:"email",appearance:p},ve==null?void 0:ve.email_label),I.createElement(Ka,{id:"email",type:"email",name:"email",placeholder:ve==null?void 0:ve.email_input_placeholder,defaultValue:N,onChange:Se=>O(Se.target.value),autoComplete:"email",appearance:p})),I.createElement("div",null,I.createElement(Za,{htmlFor:"password",appearance:p},ve==null?void 0:ve.password_label),I.createElement(Ka,{id:"password",type:"password",name:"password",placeholder:ve==null?void 0:ve.password_input_placeholder,defaultValue:R,onChange:Se=>C(Se.target.value),autoComplete:e==="sign_in"?"current-password":"new-password",appearance:p})),w),I.createElement(ah,{type:"submit",color:"primary",loading:G,appearance:p},G?ve==null?void 0:ve.loading_button_label:ve==null?void 0:ve.button_label),a&&I.createElement(Bs,{direction:"vertical",gap:"small",appearance:p},e===Rr.SIGN_IN&&c&&I.createElement(Zl,{href:"#auth-magic-link",onClick:Se=>{Se.preventDefault(),n(Rr.MAGIC_LINK)},appearance:p},(b=f==null?void 0:f.magic_link)==null?void 0:b.link_text),e===Rr.SIGN_IN&&I.createElement(Zl,{href:"#auth-forgot-password",onClick:Se=>{Se.preventDefault(),n(Rr.FORGOTTEN_PASSWORD)},appearance:p},(x=f==null?void 0:f.forgotten_password)==null?void 0:x.link_text),e===Rr.SIGN_IN?I.createElement(Zl,{href:"#auth-sign-up",onClick:Se=>{Se.preventDefault(),ie(Rr.SIGN_UP)},appearance:p},(E=f==null?void 0:f.sign_up)==null?void 0:E.link_text):I.createElement(Zl,{href:"#auth-sign-in",onClick:Se=>{Se.preventDefault(),ie(Rr.SIGN_IN)},appearance:p},(g=f==null?void 0:f.sign_in)==null?void 0:g.link_text))),J&&I.createElement(Ks,{appearance:p},J),$&&I.createElement(Ks,{color:"danger",appearance:p},$))}function bI({setAuthView:e=()=>{},supabaseClient:t,redirectTo:r,i18n:n,appearance:i,showLinks:s=!1}){var o;const[a,l]=k.useState(""),[u,c]=k.useState(""),[f,p]=k.useState(""),[w,b]=k.useState(!1),x=async g=>{var v;g.preventDefault(),c(""),p(""),b(!0);const{error:N}=await t.auth.resetPasswordForEmail(a,{redirectTo:r});N?c(N.message):p((v=n==null?void 0:n.forgotten_password)==null?void 0:v.confirmation_text),b(!1)},E=n==null?void 0:n.forgotten_password;return I.createElement("form",{id:"auth-forgot-password",onSubmit:x},I.createElement(Bs,{direction:"vertical",gap:"large",appearance:i},I.createElement(Bs,{gap:"large",direction:"vertical",appearance:i},I.createElement("div",null,I.createElement(Za,{htmlFor:"email",appearance:i},E==null?void 0:E.email_label),I.createElement(Ka,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:E==null?void 0:E.email_input_placeholder,onChange:g=>l(g.target.value),appearance:i})),I.createElement(ah,{type:"submit",color:"primary",loading:w,appearance:i},w?E==null?void 0:E.loading_button_label:E==null?void 0:E.button_label),s&&I.createElement(Zl,{href:"#auth-sign-in",onClick:g=>{g.preventDefault(),e(Rr.SIGN_IN)},appearance:i},(o=n==null?void 0:n.sign_in)==null?void 0:o.link_text),f&&I.createElement(Ks,{appearance:i},f),u&&I.createElement(Ks,{color:"danger",appearance:i},u))))}function _I({supabaseClient:e,i18n:t,appearance:r}){const[n,i]=k.useState(""),[s,o]=k.useState(""),[a,l]=k.useState(""),[u,c]=k.useState(!1),f=async w=>{var b;w.preventDefault(),o(""),l(""),c(!0);const{error:x}=await e.auth.updateUser({password:n});x?o(x.message):l((b=t==null?void 0:t.update_password)==null?void 0:b.confirmation_text),c(!1)},p=t==null?void 0:t.update_password;return I.createElement("form",{id:"auth-update-password",onSubmit:f},I.createElement(Bs,{gap:"large",direction:"vertical",appearance:r},I.createElement("div",null,I.createElement(Za,{htmlFor:"password",appearance:r},p==null?void 0:p.password_label),I.createElement(Ka,{id:"password",name:"password",placeholder:p==null?void 0:p.password_input_placeholder,type:"password",autoFocus:!0,onChange:w=>i(w.target.value),appearance:r})),I.createElement(ah,{type:"submit",color:"primary",loading:u,appearance:r},u?p==null?void 0:p.loading_button_label:p==null?void 0:p.button_label),a&&I.createElement(Ks,{appearance:r},a),s&&I.createElement(Ks,{color:"danger",appearance:r},s)))}function iX({setAuthView:e=()=>{},supabaseClient:t,otpType:r="email",i18n:n,appearance:i,showLinks:s=!1}){var o;const[a,l]=k.useState(""),[u,c]=k.useState(""),[f,p]=k.useState(""),[w,b]=k.useState(""),[x,E]=k.useState(""),[g,v]=k.useState(!1),N=async R=>{R.preventDefault(),b(""),E(""),v(!0);let C={email:a,token:f,type:r};["sms","phone_change"].includes(r)&&(C={phone:u,token:f,type:r});const{error:$}=await t.auth.verifyOtp(C);$&&b($.message),v(!1)},O=n==null?void 0:n.verify_otp;return I.createElement("form",{id:"auth-magic-link",onSubmit:N},I.createElement(Bs,{gap:"large",direction:"vertical",appearance:i},["sms","phone_change"].includes(r)?I.createElement("div",null,I.createElement(Za,{htmlFor:"phone",appearance:i},O==null?void 0:O.phone_input_label),I.createElement(Ka,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:O==null?void 0:O.phone_input_placeholder,onChange:R=>c(R.target.value),appearance:i})):I.createElement("div",null,I.createElement(Za,{htmlFor:"email",appearance:i},O==null?void 0:O.email_input_label),I.createElement(Ka,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:O==null?void 0:O.email_input_placeholder,onChange:R=>l(R.target.value),appearance:i})),I.createElement("div",null,I.createElement(Za,{htmlFor:"token",appearance:i},O==null?void 0:O.token_input_label),I.createElement(Ka,{id:"token",name:"token",type:"text",placeholder:O==null?void 0:O.token_input_placeholder,onChange:R=>p(R.target.value),appearance:i})),I.createElement(ah,{color:"primary",type:"submit",loading:g,appearance:i},g?O==null?void 0:O.loading_button_label:O==null?void 0:O.button_label),s&&I.createElement(Zl,{href:"#auth-sign-in",onClick:R=>{R.preventDefault(),e(Rr.SIGN_IN)},appearance:i},(o=n==null?void 0:n.sign_in)==null?void 0:o.link_text),x&&I.createElement(Ks,{appearance:i},x),w&&I.createElement(Ks,{color:"danger",appearance:i},w)))}const xI=k.createContext({user:null,session:null}),sX=e=>{const{supabaseClient:t}=e,[r,n]=k.useState(null),[i,s]=k.useState((r==null?void 0:r.user)??null);k.useEffect(()=>{(async()=>{var l;const{data:u}=await t.auth.getSession();n(u.session),s(((l=u.session)==null?void 0:l.user)??null)})();const{data:a}=t.auth.onAuthStateChange(async(l,u)=>{n(u),s((u==null?void 0:u.user)??null)});return()=>{a==null||a.subscription.unsubscribe()}},[]);const o={session:r,user:i};return I.createElement(xI.Provider,{value:o,...e})},oX=()=>{const e=k.useContext(xI);if(e===void 0)throw new Error("useUser must be used within a UserContextProvider.");return e};function lh({supabaseClient:e,socialLayout:t="vertical",providers:r,providerScopes:n,queryParams:i,view:s="sign_in",redirectTo:o,onlyThirdPartyProviders:a=!1,magicLink:l=!1,showLinks:u=!0,appearance:c,theme:f="default",localization:p={variables:{}},otpType:w="email",additionalData:b,children:x}){const E=Yw(RY,p.variables??{}),[g,v]=k.useState(s),[N,O]=k.useState(""),[R,C]=k.useState(""),$=g==="sign_in"||g==="sign_up"||g==="magic_link";k.useEffect(()=>{var F,J;yI({theme:Yw(((F=c==null?void 0:c.theme)==null?void 0:F.default)??{},((J=c==null?void 0:c.variables)==null?void 0:J.default)??{})})},[c]);const L=({children:F})=>{var J;return I.createElement("div",{className:f!=="default"?kY(Yw(c==null?void 0:c.theme[f],((J=c==null?void 0:c.variables)==null?void 0:J[f])??{})):""},$&&I.createElement(nX,{appearance:c,supabaseClient:e,providers:r,providerScopes:n,queryParams:i,socialLayout:t,redirectTo:o,onlyThirdPartyProviders:a,i18n:E,view:g}),!a&&F)};k.useEffect(()=>{const{data:F}=e.auth.onAuthStateChange(J=>{J==="PASSWORD_RECOVERY"?v("update_password"):J==="USER_UPDATED"&&v("sign_in")});return v(s),()=>F.subscription.unsubscribe()},[s]);const G={supabaseClient:e,setAuthView:v,defaultEmail:N,defaultPassword:R,setDefaultEmail:O,setDefaultPassword:C,redirectTo:o,magicLink:l,showLinks:u,i18n:E,appearance:c};switch(g){case Rr.SIGN_IN:return I.createElement(L,null,I.createElement(uT,{...G,authView:"sign_in"}));case Rr.SIGN_UP:return I.createElement(L,null,I.createElement(uT,{appearance:c,supabaseClient:e,authView:"sign_up",setAuthView:v,defaultEmail:N,defaultPassword:R,setDefaultEmail:O,setDefaultPassword:C,redirectTo:o,magicLink:l,showLinks:u,i18n:E,additionalData:b,children:x}));case Rr.FORGOTTEN_PASSWORD:return I.createElement(L,null,I.createElement(bI,{appearance:c,supabaseClient:e,setAuthView:v,redirectTo:o,showLinks:u,i18n:E}));case Rr.MAGIC_LINK:return I.createElement(L,null,I.createElement(wI,{appearance:c,supabaseClient:e,setAuthView:v,redirectTo:o,showLinks:u,i18n:E}));case Rr.UPDATE_PASSWORD:return I.createElement(_I,{appearance:c,supabaseClient:e,i18n:E});case Rr.VERIFY_OTP:return I.createElement(iX,{appearance:c,supabaseClient:e,otpType:w,i18n:E});default:return null}}lh.ForgottenPassword=bI;lh.UpdatePassword=_I;lh.MagicLink=wI;lh.UserContextProvider=sX;lh.useUser=oX;ta({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const aX=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$d(()=>Promise.resolve().then(()=>Gm),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class S2 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lX extends S2{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uX extends S2{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cX extends S2{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var lx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(lx||(lx={}));var dX=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class hX{constructor(t,{headers:r={},customFetch:n,region:i=lx.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=aX(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return dX(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(b=>{throw new lX(b)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new uX(c);if(!c.ok)throw new cX(c);let p=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield c.json():p==="application/octet-stream"?w=yield c.blob():p==="multipart/form-data"?w=yield c.formData():w=yield c.text(),{data:w,error:null}}catch(i){return{data:null,error:i}}})}}var fX=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wd=fX();const pX=Wd.fetch,k2=Wd.fetch.bind(Wd),NI=Wd.Headers,mX=Wd.Request,gX=Wd.Response,Gm=Object.freeze(Object.defineProperty({__proto__:null,Headers:NI,Request:mX,Response:gX,default:k2,fetch:pX},Symbol.toStringTag,{value:"Module"}));class yX extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}class vX{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=k2:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,c=null,f=null,p=s.status,w=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=g:c=JSON.parse(g))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),E=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&E&&E.length>1&&(f=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,p=406,w="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const x=await s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(c=[],u=null,p=200,w="OK")}catch{s.status===404&&x===""?(p=204,w="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,w="OK"),u&&this.shouldThrowOnError)throw new yX(u)}return{error:u,data:c,count:f,status:p,statusText:w}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}}class wX extends vX{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class vc extends wX{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=r.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}}class bX{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new vc({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new vc({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new vc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new vc({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new vc({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const _X="1.9.2",xX={"X-Client-Info":`postgrest-js/${_X}`};class E2{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},xX),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new bX(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new E2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let a;n?(s="HEAD",Object.entries(r).forEach(([u,c])=>{o.searchParams.append(u,`${c}`)})):(s="POST",a=r);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new vc({method:s,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const NX="2.9.3",SX={"X-Client-Info":`realtime-js/${NX}`},kX="1.0.0",SI=1e4,EX=1e3;var Yc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Yc||(Yc={}));var ii;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ii||(ii={}));var os;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(os||(os={}));var ux;(function(e){e.websocket="websocket"})(ux||(ux={}));var Fl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fl||(Fl={}));class kI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class CX{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Xw{constructor(t,r,n={},i=SI){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cT||(cT={}));class mf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mf.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=mf.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=mf.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=s[u];if(f){const p=c.map(E=>E.presence_ref),w=f.map(E=>E.presence_ref),b=c.filter(E=>w.indexOf(E.presence_ref)<0),x=f.filter(E=>p.indexOf(E.presence_ref)<0);b.length>0&&(a[u]=b),x.length>0&&(l[u]=x)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(w=>w.presence_ref),p=c.filter(w=>f.indexOf(w.presence_ref)<0);t[a].unshift(...p)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Qt||(Qt={}));const dT=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=TX(o,e,t,i),s),{})},TX=(e,t,r,n)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?EI(s,o):cx(o)},EI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return AX(t,r)}switch(e){case Qt.bool:return OX(t);case Qt.float4:case Qt.float8:case Qt.int2:case Qt.int4:case Qt.int8:case Qt.numeric:case Qt.oid:return RX(t);case Qt.json:case Qt.jsonb:return PX(t);case Qt.timestamp:return IX(t);case Qt.abstime:case Qt.date:case Qt.daterange:case Qt.int4range:case Qt.int8range:case Qt.money:case Qt.reltime:case Qt.text:case Qt.time:case Qt.timestamptz:case Qt.timetz:case Qt.tsrange:case Qt.tstzrange:return cx(t);default:return cx(t)}},cx=e=>e,OX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AX=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>EI(t,a))}return e},IX=e=>typeof e=="string"?e.replace(" ","T"):e;var hT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hT||(hT={}));var fT;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(fT||(fT={}));var pT;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pT||(pT={}));class C2{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ii.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xw(this,os.join,this.params,this.timeout),this.rejoinTimer=new kI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ii.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ii.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ii.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ii.errored,this.rejoinTimer.scheduleTimeout())}),this._on(os.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new mf(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){t&&t("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,p=(c=f==null?void 0:f.length)!==null&&c!==void 0?c:0,w=[];for(let b=0;b<p;b++){const x=f[b],{filter:{event:E,schema:g,table:v,filter:N}}=x,O=u&&u[b];if(O&&O.event===E&&O.schema===g&&O.table===v&&O.filter===N)w.push(Object.assign(Object.assign({},x),{id:O.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t("SUBSCRIBED");return}}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,a={method:"POST",headers:{apikey:(n=this.socket.apiKey)!==null&&n!==void 0?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ii.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(os.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new Xw(this,os.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xw(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=os;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var b,x,E;return((b=w.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(x=w.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(w=>w.callback(p,n)):(s=this.bindings[o])===null||s===void 0||s.filter(w=>{var b,x,E,g,v,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const O=w.id,R=(b=w.filter)===null||b===void 0?void 0:b.event;return O&&((x=r.ids)===null||x===void 0?void 0:x.includes(O))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const O=(v=(g=w==null?void 0:w.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return O==="*"||O===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:x,table:E,commit_timestamp:g,type:v,errors:N}=b;p=Object.assign(Object.assign({},{schema:x,table:E,commit_timestamp:g,eventType:v,new:{},old:{},errors:N}),this._getPayloadRecords(b))}w.callback(p,n)})}_isClosed(){return this.state===ii.closed}_isJoined(){return this.state===ii.joined}_isJoining(){return this.state===ii.joining}_isLeaving(){return this.state===ii.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&C2.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(os.close,{},t)}_onError(t){this._on(os.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ii.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=dT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=dT(t.columns,t.old_record)),r}}const $X=()=>{},LX=typeof WebSocket<"u";class DX{constructor(t,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=SX,this.params={},this.timeout=SI,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$X,this.conn=null,this.sendBuffer=[],this.serializer=new CX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>$d(()=>Promise.resolve().then(()=>Gm),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ux.websocket}`,r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kI(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(LX){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new jX(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),$d(()=>import("./browser-vokuCU7G.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yc.connecting:return Fl.Connecting;case Yc.open:return Fl.Open;case Yc.closing:return Fl.Closing;default:return Fl.Closed}}isConnected(){return this.connectionState()===Fl.Open}channel(t,r={config:{}}){const n=new C2(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t}),r.joinedOnce&&r._isJoined()&&r._push(os.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kX}))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(os.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(EX,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class jX{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Yc.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class T2 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class MX extends T2{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mT extends T2{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var FX=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const CI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$d(()=>Promise.resolve().then(()=>Gm),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},BX=()=>FX(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $d(()=>Promise.resolve().then(()=>Gm),void 0)).Response:Response});var uh=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const eb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WX=(e,t)=>uh(void 0,void 0,void 0,function*(){const r=yield BX();e instanceof r?e.json().then(n=>{t(new MX(eb(n),e.status||500))}).catch(n=>{t(new mT(eb(n),n))}):t(new mT(eb(e),e))}),zX=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function W1(e,t,r,n,i,s){return uh(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,zX(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>WX(l,a))})})}function dx(e,t,r,n){return uh(this,void 0,void 0,function*(){return W1(e,"GET",t,r,n)})}function ha(e,t,r,n,i){return uh(this,void 0,void 0,function*(){return W1(e,"POST",t,n,i,r)})}function qX(e,t,r,n,i){return uh(this,void 0,void 0,function*(){return W1(e,"PUT",t,n,i,r)})}function TI(e,t,r,n,i){return uh(this,void 0,void 0,function*(){return W1(e,"DELETE",t,n,i,r)})}var Ei=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const UX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VX{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=CI(i)}uploadOrUpdate(t,r,n,i){return Ei(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},gT),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl)):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(r),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield c.json();return c.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(Nn(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ei(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ei(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:gT.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield f.json();return f.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(Nn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t){return Ei(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=yield ha(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:this.headers}),i=new URL(this.url+n.url),s=i.searchParams.get("token");if(!s)throw new T2("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:s},error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}update(t,r,n){return Ei(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r){return Ei(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}copy(t,r){return Ei(this,void 0,void 0,function*(){try{return{data:{path:(yield ha(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r},{headers:this.headers})).Key},error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}createSignedUrl(t,r,n){return Ei(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ha(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ei(this,void 0,void 0,function*(){try{const i=yield ha(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}download(t,r){return Ei(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield dx(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Ei(this,void 0,void 0,function*(){try{return{data:yield TI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ei(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},UX),r),{prefix:t||""});return{data:yield ha(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const HX="2.5.5",GX={"X-Client-Info":`storage-js/${HX}`};var ac=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class QX{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},GX),r),this.fetch=CI(n)}listBuckets(){return ac(this,void 0,void 0,function*(){try{return{data:yield dx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Nn(t))return{data:null,error:t};throw t}})}getBucket(t){return ac(this,void 0,void 0,function*(){try{return{data:yield dx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ac(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ac(this,void 0,void 0,function*(){try{return{data:yield qX(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ac(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ac(this,void 0,void 0,function*(){try{return{data:yield TI(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}}class JX extends QX{constructor(t,r={},n){super(t,r,n)}from(t){return new VX(this.url,this.headers,t,this.fetch)}}const KX="2.41.1";let Vh="";typeof Deno<"u"?Vh="deno":typeof document<"u"?Vh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vh="react-native":Vh="node";const ZX={"X-Client-Info":`supabase-js-${Vh}/${KX}`},YX={headers:ZX},XX={schema:"public"},eee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tee={};var ree=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const nee=e=>{let t;return e?t=e:typeof fetch>"u"?t=k2:t=fetch,(...r)=>t(...r)},iee=()=>typeof Headers>"u"?NI:Headers,see=(e,t,r)=>{const n=nee(r),i=iee();return(s,o)=>ree(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};function oee(e){return e.replace(/\/$/,"")}function aee(e,t){const{db:r,auth:n,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:u}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}const OI="2.63.0",lee="http://localhost:9999",uee="supabase.auth.token",cee={"X-Client-Info":`gotrue-js/${OI}`},yT=10,hx="X-Supabase-Api-Version",RI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function dee(e){return Math.round(Date.now()/1e3)+e}function hee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ui=()=>typeof document<"u",Rl={tested:!1,writable:!1},gf=()=>{if(!Ui())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rl.tested)return Rl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Rl.tested=!0,Rl.writable=!0}catch{Rl.tested=!0,Rl.writable=!1}return Rl.writable};function tb(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const PI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$d(()=>Promise.resolve().then(()=>Gm),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fee=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",AI=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bg=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},rb=async(e,t)=>{await e.removeItem(t)};function pee(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,s,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),n=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|u,r=r+String.fromCharCode(n),l!=64&&i!=0&&(r=r+String.fromCharCode(i)),u!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class z1{constructor(){this.promise=new z1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}z1.promiseConstructor=Promise;function vT(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(pee(n))}async function mee(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gee(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function yee(e){return("0"+e.toString(16)).substr(-2)}function vee(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,yee).join("")}async function wee(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function bee(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _ee(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wee(e);return bee(r)}async function lc(e,t,r=!1){const n=vee();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await AI(e,`${t}-code-verifier`,i);const s=await _ee(n);return[s,n===s?"plain":"s256"]}const xee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nee(e){const t=e.headers.get(hx);if(!t||!t.match(xee))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class O2 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function bt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class See extends O2{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function kee(e){return bt(e)&&e.name==="AuthApiError"}class II extends O2{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zu extends O2{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class uc extends Zu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class nb extends Zu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wg extends Zu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zg extends Zu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wT extends Zu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fx extends Zu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ib(e){return bt(e)&&e.name==="AuthRetryableFetchError"}class bT extends Zu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Eee=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Dl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cee=[502,503,504];async function _T(e){var t;if(!fee(e))throw new fx(Dl(e),0);if(Cee.includes(e.status))throw new fx(Dl(e),e.status);let r;try{r=await e.json()}catch(s){throw new II(Dl(s),s)}let n;const i=Nee(e);if(i&&i.getTime()>=RI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bT(Dl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[])}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new bT(Dl(r),e.status,r.weak_password.reasons);throw new See(Dl(r),e.status||500,n)}const Tee=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Nt(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[hx]||(s[hx]=RI["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Oee(e,t,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Oee(e,t,r,n,i,s){const o=Tee(t,n,i,s);let a;try{a=await e(r,Object.assign(Object.assign({},o),{cache:"no-store"}))}catch(l){throw console.error(l),new fx(Dl(l),0)}if(a.ok||await _T(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await _T(l)}}function la(e){var t;let r=null;Iee(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dee(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function xT(e){const t=la(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ree(e){return{data:e,error:null}}function Pee(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=Eee(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Aee(e){return e}function Iee(e){return e.access_token&&e.refresh_token&&e.expires_in}var $ee=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Lee{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=PI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xa})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=$ee(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Pee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(bt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xa})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Aee});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);u[`${E}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(bt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xa})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:xa})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:xa})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}}}const Dee={getItem:e=>gf()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{gf()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{gf()&&globalThis.localStorage.removeItem(e)}};function NT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function jee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cc={debug:!!(globalThis&&gf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $I extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Mee extends $I{}async function Fee(e,t,r){cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),cc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Mee(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}jee();const Bee={url:lee,storageKey:uee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cee,flowType:"implicit",debug:!1},jh=30*1e3,ST=3;async function kT(e,t,r){return await r()}class Sp{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.insecureGetSessionWarningShown=!1,this.instanceID=Sp.nextInstanceID,Sp.nextInstanceID+=1,this.instanceID>0&&Ui()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Bee),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Lee({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=PI(i.fetch),this.lock=i.lock||kT,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,i.lock?this.lock=i.lock:Ui()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Fee:this.lock=kT,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:gf()?this.storage=Dee:(this.memoryStorage={},this.storage=NT(this.memoryStorage)):(this.memoryStorage={},this.storage=NT(this.memoryStorage)),Ui()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${OI}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=Ui()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return bt(t)?{error:t}:{error:new II("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{await this._removeSession();const s=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:la}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(bt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{await this._removeSession();let s;if("email"in t){const{email:c,password:f,options:p}=t;let w=null,b=null;this.flowType==="pkce"&&([w,b]=await lc(this.storage,this.storageKey)),s=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:w,code_challenge_method:b},xform:la})}else if("phone"in t){const{phone:c,password:f,options:p}=t;s=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:la})}else throw new Wg("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(bt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{await this._removeSession();let r;if("email"in t){const{email:s,password:o,options:a}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xT})}else if("phone"in t){const{phone:s,password:o,options:a}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xT})}else throw new Wg("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nb}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Bg(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/"),{data:s,error:o}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:la});return await rb(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new nb}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}async signInWithIdToken(t){await this._removeSession();try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,a=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:la}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new nb}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if(await this._removeSession(),"email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await lc(this.storage,this.storageKey));const{error:f}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Wg("You must provide either an email or phone number.")}catch(a){if(bt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:la});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(bt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{await this._removeSession();let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await lc(this.storage,this.storageKey)),await Nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Ree})}catch(s){if(bt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new uc;const{error:i}=await Nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(bt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:a}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Wg("You must provide either an email or phone number and a type")}catch(r){if(bt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){await this.initializePromise;const t=await this._acquireLock(-1,async()=>this._useSession(async r=>r));return t.data&&this.storage.isServer&&(this.insecureGetSessionWarningShown||(console.warn("Using supabase.auth.getSession() is potentially insecure as it loads data directly from the storage medium (typically cookies) which may not be authentic. Prefer using supabase.auth.getUser() instead. To suppress this warning call supabase.auth.getUser() before you call supabase.auth.getSession()."),this.insecureGetSessionWarningShown=!0)),t}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=t.user;delete t.user,Object.defineProperty(t,"user",{enumerable:!0,get:()=>(t.__suppressUserWarning||console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o),set:a=>{o=a}})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data&&this.storage.isServer&&(this.insecureGetSessionWarningShown=!0),r}async _getUser(t){try{return t?await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xa}):await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:xa})})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new uc;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await lc(this.storage,this.storageKey));const{data:u,error:c}=await Nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xa});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return vT(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new uc;const r=Date.now()/1e3;let n=r,i=!0,s=null;const o=vT(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(bt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new uc;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(bt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t){try{if(!Ui())throw new zg("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new zg("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new wT("Not a valid PKCE flow url.");const r=tb(window.location.href);if(t){if(!r.code)throw new wT("No code detected.");const{data:v,error:N}=await this._exchangeCodeForSession(r.code);if(N)throw N;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:v.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new zg(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=r;if(!s||!a||!o||!u)throw new zg("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let p=c+f;l&&(p=parseInt(l));const w=p-c;w*1e3<=jh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${f}s`);const b=p-f;c-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,c):c-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",b,p,c);const{data:x,error:E}=await this._getUser(s);if(E)throw E;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:r.type},error:null}}catch(r){if(bt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const t=tb(window.location.href);return!!(Ui()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=tb(window.location.href),r=await Bg(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(kee(a)&&(a.status===404||a.status===401)))return{error:a}}return t!=="others"&&(await this._removeSession(),await rb(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=hee(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await lc(this.storage,this.storageKey,!0));try{return await Nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(bt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:f,error:p}=s;if(p)throw p;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Nt(this.fetch,"GET",w,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Ui()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(bt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gee(async i=>(await mee(i*200),this._debug(r,"refreshing attempt",i),await Nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:la})),(i,s,o)=>o&&o.error&&ib(o.error)&&Date.now()+(i+1)*200-n<jh)}catch(n){if(this._debug(r,"error",n),bt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ui()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Bg(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<i+yT;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${yT}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ib(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new uc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new z1;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new uc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),bt(s)){const o={session:null,error:s};return ib(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await AI(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await rb(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ui()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/jh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${jh}ms, refresh threshold is ${ST} ticks`),i<=ST&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $I)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ui()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await lc(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:l}=await Nt(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:a}=await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(bt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(bt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:n,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Sp.nextInstanceID=0;const Wee=Sp;class zee extends Wee{constructor(t){super(t)}}var qee=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Uee{constructor(t,r,n){var i,s,o,a,l,u,c,f;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const p=oee(t);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const w=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,b={db:XX,realtime:tee,auth:Object.assign(Object.assign({},eee),{storageKey:w}),global:YX},x=aee(n??{},b);this.storageKey=(s=(i=x.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=x.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=x.auth)!==null&&l!==void 0?l:{},this.headers,(u=x.global)===null||u===void 0?void 0:u.fetch),this.fetch=see(r,this._getAccessToken.bind(this),(c=x.global)===null||c===void 0?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new E2(`${p}/rest/v1`,{headers:this.headers,schema:(f=x.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new hX(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new JX(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return qee(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,debug:a},l,u){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zee({url:this.authUrl,headers:Object.assign(Object.assign({},c),l),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,debug:a,fetch:u})}_initRealtimeClient(t){return new DX(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vee=(e,t,r)=>new Uee(e,t,r),Hee="https://mjrrhdjdbsaystkbxvup.supabase.co",Gee="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qcnJoZGpkYnNheXN0a2J4dnVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjIzMDI2NzcsImV4cCI6MTk3Nzg3ODY3N30.eC3WDXnaIXy21bI8oGPaHTsLeE0jEmjk2qCDycB-AXc",Da=Vee(Hee,Gee),LI="yuuka",DI=e=>`${e}/book.db`,Qee=async(e,t)=>{const r=DI(e),n=t.export(),{data:i,error:s}=await Da.storage.from(LI).upload(r,n,{upsert:!0,contentType:"application/x-sqlite3",cacheControl:"10"});if(s)throw s;return i},Jee=async e=>{const t=DI(e),{data:r,error:n}=await Da.storage.from(LI).download(t);if(n)throw n;return await r.arrayBuffer()},Kee=async e=>{const t=await f2(),r=await Jee(e);return new t.Database(new Uint8Array(r))},jI={upload:Qee,download:Kee},Zee=async e=>{const t=await jI.download(e.user.id),r=Hs.createDialect(t),n=Hs.createKysely(r);return await Ju.save(t),{db:n,sqlite:t}},Yee=async e=>{const t=await Ju.load(),r=Hs.createDialect(t);return{db:Hs.createKysely(r),sqlite:t}},ET=e=>{const{setDataSource:t,setError:r,session:n}=e,[i,s]=k.useState(!1),o=async()=>{try{s(!0);const{db:a,sqlite:l}=await e.load(n);t({_tag:"supabase",sqlite:l,db:a,app:O1(a),session:n})}catch(a){r(a)}finally{s(!1)}};return S.jsx(xr,{type:"button",onClick:o,loading:i,children:e.children})},Xee=e=>{const[t,r]=k.useState(null),n=async()=>{await Da.auth.signOut()},i=async()=>{await Ju.del()};return k.useEffect(()=>{Da.auth.getSession().then(({data:{session:o}})=>{r(o)});const{data:{subscription:s}}=Da.auth.onAuthStateChange((o,a)=>{r(a)});return()=>s.unsubscribe()},[]),t?S.jsxs(S.Fragment,{children:[S.jsx("h3",{children:"supabase"}),S.jsxs(PN,{children:[S.jsx(ET,{...e,session:t,load:Zee,children:"remote"}),S.jsx(pu,{}),S.jsx(ET,{...e,session:t,load:Yee,children:"browser"}),S.jsx(pu,{}),S.jsx(xr,{type:"button",onClick:n,negative:!0,children:"sign out"}),S.jsx(pu,{}),S.jsx(xr,{type:"button",onClick:i,negative:!0,children:"delete"})]})]}):S.jsxs(S.Fragment,{children:[S.jsx("h3",{children:"supabase"}),S.jsx(lh,{supabaseClient:Da,appearance:{theme:EY},providers:[]})]})},ete=e=>{const[t,r]=k.useState(null),[n,i]=k.useState(null);if(n)return S.jsxs(tv,{text:!0,children:[S.jsx("h1",{children:"yuuka"}),S.jsxs("p",{children:["error: ",n.name]}),S.jsx("p",{children:n.message})]});if(t===null)return S.jsxs(tv,{text:!0,children:[S.jsx("h1",{children:"project: yuuka"}),S.jsx(p1,{src:"/yuuka/yuuka-plain.jpg"}),S.jsx(ZZ,{setDataSource:r,setError:i}),S.jsx(Xee,{setDataSource:r,setError:i}),S.jsx(JZ,{setDataSource:r,setError:i}),S.jsx(KZ,{setDataSource:r,setError:i}),S.jsx(FK,{setDataSource:r,setError:i}),S.jsx("hr",{}),S.jsx("footer",{children:S.jsx("p",{children:S.jsx("a",{href:"https://github.com/if1live/yuuka",children:"github"})})})]});if(t._tag==="server")return S.jsx(sp.Provider,{value:t,children:S.jsx(AE,{value:{fetcher:Rq()},children:e.children})});const{app:s}=t;return S.jsx(sp.Provider,{value:t,children:S.jsx(AE,{value:{fetcher:Pq(s)},children:e.children})})},tte={accountTags:[],accountCodes:[]},Qm=k.createContext(tte),rte=e=>{const r=vA.masterdata,n=`${yA}${r.endpoint.path}`,{data:i,error:s,isLoading:o}=v1(n),a=i;if(s)return S.jsx("div",{children:"failed to load masterdata"});if(o)return S.jsx("div",{children:"loading..."});const l={accountTags:a.accountTags,accountCodes:a.accountCodes};return S.jsx(Qm.Provider,{value:l,children:e.children})};function R2(e,t){const n=t.exec(e.sql,e.parameters)[0];return n.values.map(s=>{const o=G_(n.columns,s);return Object.fromEntries(o)})}function nte(e,t){return R2(e,t)[0]}function ite(e,t){const r=R2(e,t);if(r.length===0)throw new Error("No rows found");return r[0]}const ste={execute:R2,executeTakeFirst:nte,executeTakeFirstOrThrow:ite},ote=(e,t)=>{const r=e.selectFrom(aA).select(n=>n.fn.count("code").as("cnt")).compile();return ste.executeTakeFirst(r,t)},ate=()=>{const e=k.useContext(sp),t=e._tag!=="server"?e.sqlite:null,r=e._tag!=="server"?e.db:null;if(!t)return S.jsx("p",{children:"no sqlite"});if(!r)return S.jsx("p",{children:"no db"});const n=async()=>{await Ju.save(t)},i=ote(r,t);return console.log(i),S.jsxs(S.Fragment,{children:[S.jsx("h1",{children:"book"}),S.jsx(xr,{onClick:n,children:"save"})]})},lte=()=>S.jsx(q0,{children:S.jsx(jn,{index:!0,element:S.jsx(ate,{})})});var Jm=e=>e.type==="checkbox",Fc=e=>e instanceof Date,In=e=>e==null;const MI=e=>typeof e=="object";var Jr=e=>!In(e)&&!Array.isArray(e)&&MI(e)&&!Fc(e),ute=e=>Jr(e)&&e.target?Jm(e.target)?e.target.checked:e.target.value:e,cte=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dte=(e,t)=>e.has(cte(t)),hte=e=>{const t=e.constructor&&e.constructor.prototype;return Jr(t)&&t.hasOwnProperty("isPrototypeOf")},P2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ci(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(P2&&(e instanceof Blob||e instanceof FileList))&&(r||Jr(e)))if(t=r?[]:{},!r&&!hte(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ci(e[n]));else return e;return t}var Km=e=>Array.isArray(e)?e.filter(Boolean):[],Or=e=>e===void 0,Me=(e,t,r)=>{if(!t||!Jr(e))return r;const n=Km(t.split(/[,[\].]+?/)).reduce((i,s)=>In(i)?i:i[s],e);return Or(n)||n===e?Or(e[t])?r:e[t]:n},co=e=>typeof e=="boolean";const CT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},io={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fte=I.createContext(null),pte=()=>I.useContext(fte);var mte=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==cs.all&&(t._proxyFormState[o]=!n||cs.all),r&&(r[o]=!0),e[o]}});return i},ci=e=>Jr(e)&&!Object.keys(e).length,gte=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return ci(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||cs.all))},sb=e=>Array.isArray(e)?e:[e];function yte(e){const t=I.useRef(e);t.current=e,I.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var js=e=>typeof e=="string",vte=(e,t,r,n,i)=>js(e)?(n&&t.watch.add(e),Me(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Me(r,s))):(n&&(t.watchAll=!0),r),A2=e=>/^\w*$/.test(e),FI=e=>Km(e.replace(/["|']|\]/g,"").split(/\.|\[/)),rr=(e,t,r)=>{let n=-1;const i=A2(t)?[t]:FI(t),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let l=r;if(n!==o){const u=e[a];l=Jr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}e[a]=l,e=e[a]}return e},wte=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},TT=e=>({isOnSubmit:!e||e===cs.onSubmit,isOnBlur:e===cs.onBlur,isOnChange:e===cs.onChange,isOnAll:e===cs.all,isOnTouch:e===cs.onTouched}),OT=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const yf=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=Me(e,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)break;if(o.ref&&t(o.ref,o.name)&&!n)break;yf(a,t)}else Jr(a)&&yf(a,t)}}};var bte=(e,t,r)=>{const n=Km(Me(e,r));return rr(n,"root",t[r]),rr(e,r,n),e},I2=e=>e.type==="file",ja=e=>typeof e=="function",Zv=e=>{if(!P2)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},wy=e=>js(e),$2=e=>e.type==="radio",Yv=e=>e instanceof RegExp;const RT={value:!1,isValid:!1},PT={value:!0,isValid:!0};var BI=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Or(e[0].attributes.value)?Or(e[0].value)||e[0].value===""?PT:{value:e[0].value,isValid:!0}:PT:RT}return RT};const AT={isValid:!1,value:null};var WI=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,AT):AT;function IT(e,t,r="validate"){if(wy(e)||Array.isArray(e)&&e.every(wy)||co(e)&&!e)return{type:r,message:wy(e)?e:"",ref:t}}var dc=e=>Jr(e)&&!Yv(e)?e:{value:e,message:""},$T=async(e,t,r,n,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:p,validate:w,name:b,valueAsNumber:x,mount:E,disabled:g}=e._f,v=Me(t,b);if(!E||g)return{};const N=o?o[0]:s,O=ee=>{n&&N.reportValidity&&(N.setCustomValidity(co(ee)?"":ee||""),N.reportValidity())},R={},C=$2(s),$=Jm(s),L=C||$,G=(x||I2(s))&&Or(s.value)&&Or(v)||Zv(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,F=wte.bind(null,b,r,R),J=(ee,q,ie,ve=io.maxLength,Se=io.minLength)=>{const _e=ee?q:ie;R[b]={type:ee?ve:Se,message:_e,ref:s,...F(ee?ve:Se,_e)}};if(i?!Array.isArray(v)||!v.length:a&&(!L&&(G||In(v))||co(v)&&!v||$&&!BI(o).isValid||C&&!WI(o).isValid)){const{value:ee,message:q}=wy(a)?{value:!!a,message:a}:dc(a);if(ee&&(R[b]={type:io.required,message:q,ref:N,...F(io.required,q)},!r))return O(q),R}if(!G&&(!In(c)||!In(f))){let ee,q;const ie=dc(f),ve=dc(c);if(!In(v)&&!isNaN(v)){const Se=s.valueAsNumber||v&&+v;In(ie.value)||(ee=Se>ie.value),In(ve.value)||(q=Se<ve.value)}else{const Se=s.valueAsDate||new Date(v),_e=pe=>new Date(new Date().toDateString()+" "+pe),H=s.type=="time",de=s.type=="week";js(ie.value)&&v&&(ee=H?_e(v)>_e(ie.value):de?v>ie.value:Se>new Date(ie.value)),js(ve.value)&&v&&(q=H?_e(v)<_e(ve.value):de?v<ve.value:Se<new Date(ve.value))}if((ee||q)&&(J(!!ee,ie.message,ve.message,io.max,io.min),!r))return O(R[b].message),R}if((l||u)&&!G&&(js(v)||i&&Array.isArray(v))){const ee=dc(l),q=dc(u),ie=!In(ee.value)&&v.length>+ee.value,ve=!In(q.value)&&v.length<+q.value;if((ie||ve)&&(J(ie,ee.message,q.message),!r))return O(R[b].message),R}if(p&&!G&&js(v)){const{value:ee,message:q}=dc(p);if(Yv(ee)&&!v.match(ee)&&(R[b]={type:io.pattern,message:q,ref:s,...F(io.pattern,q)},!r))return O(q),R}if(w){if(ja(w)){const ee=await w(v,t),q=IT(ee,N);if(q&&(R[b]={...q,...F(io.validate,q.message)},!r))return O(q.message),R}else if(Jr(w)){let ee={};for(const q in w){if(!ci(ee)&&!r)break;const ie=IT(await w[q](v,t),N,q);ie&&(ee={...ie,...F(q,ie.message)},O(ie.message),r&&(R[b]=ee))}if(!ci(ee)&&(R[b]={ref:N,...ee},!r))return R}}return O(!0),R};function _te(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Or(e)?n++:e[t[n++]];return e}function xte(e){for(const t in e)if(e.hasOwnProperty(t)&&!Or(e[t]))return!1;return!0}function Br(e,t){const r=Array.isArray(t)?t:A2(t)?[t]:FI(t),n=r.length===1?e:_te(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Jr(n)&&ci(n)||Array.isArray(n)&&xte(n))&&Br(e,r.slice(0,-1)),e}var ob=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},Xv=e=>In(e)||!MI(e);function Yl(e,t){if(Xv(e)||Xv(t))return e===t;if(Fc(e)&&Fc(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Fc(s)&&Fc(o)||Jr(s)&&Jr(o)||Array.isArray(s)&&Array.isArray(o)?!Yl(s,o):s!==o)return!1}}return!0}var zI=e=>e.type==="select-multiple",Nte=e=>$2(e)||Jm(e),ab=e=>Zv(e)&&e.isConnected,qI=e=>{for(const t in e)if(ja(e[t]))return!0;return!1};function e0(e,t={}){const r=Array.isArray(e);if(Jr(e)||r)for(const n in e)Array.isArray(e[n])||Jr(e[n])&&!qI(e[n])?(t[n]=Array.isArray(e[n])?[]:{},e0(e[n],t[n])):In(e[n])||(t[n]=!0);return t}function UI(e,t,r){const n=Array.isArray(e);if(Jr(e)||n)for(const i in e)Array.isArray(e[i])||Jr(e[i])&&!qI(e[i])?Or(t)||Xv(r[i])?r[i]=Array.isArray(e[i])?e0(e[i],[]):{...e0(e[i])}:UI(e[i],In(t)?{}:t[i],r[i]):r[i]=!Yl(e[i],t[i]);return r}var qg=(e,t)=>UI(e,t,e0(t)),VI=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Or(e)?e:t?e===""?NaN:e&&+e:r&&js(e)?new Date(e):n?n(e):e;function lb(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return I2(t)?t.files:$2(t)?WI(e.refs).value:zI(t)?[...t.selectedOptions].map(({value:r})=>r):Jm(t)?BI(e.refs).value:VI(Or(t.value)?e.ref.value:t.value,e)}var Ste=(e,t,r,n)=>{const i={};for(const s of e){const o=Me(t,s);o&&rr(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Mh=e=>Or(e)?e:Yv(e)?e.source:Jr(e)?Yv(e.value)?e.value.source:e.value:e,kte=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function LT(e,t,r){const n=Me(e,r);if(n||A2(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=Me(t,s),a=Me(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:r}}var Ete=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Cte=(e,t)=>!Km(Me(e,t)).length&&Br(e,t);const Tte={mode:cs.onSubmit,reValidateMode:cs.onChange,shouldFocusError:!0};function Ote(e={}){let t={...Tte,...e},r={submitCount:0,isDirty:!1,isLoading:ja(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Jr(t.defaultValues)||Jr(t.values)?Ci(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Ci(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:ob(),array:ob(),state:ob()},p=TT(t.mode),w=TT(t.reValidateMode),b=t.criteriaMode===cs.all,x=P=>D=>{clearTimeout(u),u=setTimeout(P,D)},E=async P=>{if(c.isValid||P){const D=t.resolver?ci((await L()).errors):await F(n,!0);D!==r.isValid&&f.state.next({isValid:D})}},g=(P,D)=>{(c.isValidating||c.validatingFields)&&((P||Array.from(a.mount)).forEach(U=>{U&&(D?rr(r.validatingFields,U,D):Br(r.validatingFields,U))}),f.state.next({validatingFields:r.validatingFields,isValidating:!ci(r.validatingFields)}))},v=(P,D=[],U,we,me=!0,ae=!0)=>{if(we&&U){if(o.action=!0,ae&&Array.isArray(Me(n,P))){const X=U(Me(n,P),we.argA,we.argB);me&&rr(n,P,X)}if(ae&&Array.isArray(Me(r.errors,P))){const X=U(Me(r.errors,P),we.argA,we.argB);me&&rr(r.errors,P,X),Cte(r.errors,P)}if(c.touchedFields&&ae&&Array.isArray(Me(r.touchedFields,P))){const X=U(Me(r.touchedFields,P),we.argA,we.argB);me&&rr(r.touchedFields,P,X)}c.dirtyFields&&(r.dirtyFields=qg(i,s)),f.state.next({name:P,isDirty:ee(P,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else rr(s,P,D)},N=(P,D)=>{rr(r.errors,P,D),f.state.next({errors:r.errors})},O=P=>{r.errors=P,f.state.next({errors:r.errors,isValid:!1})},R=(P,D,U,we)=>{const me=Me(n,P);if(me){const ae=Me(s,P,Or(U)?Me(i,P):U);Or(ae)||we&&we.defaultChecked||D?rr(s,P,D?ae:lb(me._f)):ve(P,ae),o.mount&&E()}},C=(P,D,U,we,me)=>{let ae=!1,X=!1;const Oe={name:P},Tt=!!(Me(n,P)&&Me(n,P)._f.disabled);if(!U||we){c.isDirty&&(X=r.isDirty,r.isDirty=Oe.isDirty=ee(),ae=X!==Oe.isDirty);const jt=Tt||Yl(Me(i,P),D);X=!!(!Tt&&Me(r.dirtyFields,P)),jt||Tt?Br(r.dirtyFields,P):rr(r.dirtyFields,P,!0),Oe.dirtyFields=r.dirtyFields,ae=ae||c.dirtyFields&&X!==!jt}if(U){const jt=Me(r.touchedFields,P);jt||(rr(r.touchedFields,P,U),Oe.touchedFields=r.touchedFields,ae=ae||c.touchedFields&&jt!==U)}return ae&&me&&f.state.next(Oe),ae?Oe:{}},$=(P,D,U,we)=>{const me=Me(r.errors,P),ae=c.isValid&&co(D)&&r.isValid!==D;if(e.delayError&&U?(l=x(()=>N(P,U)),l(e.delayError)):(clearTimeout(u),l=null,U?rr(r.errors,P,U):Br(r.errors,P)),(U?!Yl(me,U):me)||!ci(we)||ae){const X={...we,...ae&&co(D)?{isValid:D}:{},errors:r.errors,name:P};r={...r,...X},f.state.next(X)}},L=async P=>{g(P,!0);const D=await t.resolver(s,t.context,Ste(P||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(P),D},G=async P=>{const{errors:D}=await L(P);if(P)for(const U of P){const we=Me(D,U);we?rr(r.errors,U,we):Br(r.errors,U)}else r.errors=D;return D},F=async(P,D,U={valid:!0})=>{for(const we in P){const me=P[we];if(me){const{_f:ae,...X}=me;if(ae){const Oe=a.array.has(ae.name);g([we],!0);const Tt=await $T(me,s,b,t.shouldUseNativeValidation&&!D,Oe);if(g([we]),Tt[ae.name]&&(U.valid=!1,D))break;!D&&(Me(Tt,ae.name)?Oe?bte(r.errors,Tt,ae.name):rr(r.errors,ae.name,Tt[ae.name]):Br(r.errors,ae.name))}X&&await F(X,D,U)}}return U.valid},J=()=>{for(const P of a.unMount){const D=Me(n,P);D&&(D._f.refs?D._f.refs.every(U=>!ab(U)):!ab(D._f.ref))&&j(P)}a.unMount=new Set},ee=(P,D)=>(P&&D&&rr(s,P,D),!Yl(ke(),i)),q=(P,D,U)=>vte(P,a,{...o.mount?s:Or(D)?i:js(P)?{[P]:D}:D},U,D),ie=P=>Km(Me(o.mount?s:i,P,e.shouldUnregister?Me(i,P,[]):[])),ve=(P,D,U={})=>{const we=Me(n,P);let me=D;if(we){const ae=we._f;ae&&(!ae.disabled&&rr(s,P,VI(D,ae)),me=Zv(ae.ref)&&In(D)?"":D,zI(ae.ref)?[...ae.ref.options].forEach(X=>X.selected=me.includes(X.value)):ae.refs?Jm(ae.ref)?ae.refs.length>1?ae.refs.forEach(X=>(!X.defaultChecked||!X.disabled)&&(X.checked=Array.isArray(me)?!!me.find(Oe=>Oe===X.value):me===X.value)):ae.refs[0]&&(ae.refs[0].checked=!!me):ae.refs.forEach(X=>X.checked=X.value===me):I2(ae.ref)?ae.ref.value="":(ae.ref.value=me,ae.ref.type||f.values.next({name:P,values:{...s}})))}(U.shouldDirty||U.shouldTouch)&&C(P,me,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&pe(P)},Se=(P,D,U)=>{for(const we in D){const me=D[we],ae=`${P}.${we}`,X=Me(n,ae);(a.array.has(P)||!Xv(me)||X&&!X._f)&&!Fc(me)?Se(ae,me,U):ve(ae,me,U)}},_e=(P,D,U={})=>{const we=Me(n,P),me=a.array.has(P),ae=Ci(D);rr(s,P,ae),me?(f.array.next({name:P,values:{...s}}),(c.isDirty||c.dirtyFields)&&U.shouldDirty&&f.state.next({name:P,dirtyFields:qg(i,s),isDirty:ee(P,ae)})):we&&!we._f&&!In(ae)?Se(P,ae,U):ve(P,ae,U),OT(P,a)&&f.state.next({...r}),f.values.next({name:o.mount?P:void 0,values:{...s}})},H=async P=>{const D=P.target;let U=D.name,we=!0;const me=Me(n,U),ae=()=>D.type?lb(me._f):ute(P),X=Oe=>{we=Number.isNaN(Oe)||Oe===Me(s,U,Oe)};if(me){let Oe,Tt;const jt=ae(),Xt=P.type===CT.BLUR||P.type===CT.FOCUS_OUT,on=!kte(me._f)&&!t.resolver&&!Me(r.errors,U)&&!me._f.deps||Ete(Xt,Me(r.touchedFields,U),r.isSubmitted,w,p),ti=OT(U,a,Xt);rr(s,U,jt),Xt?(me._f.onBlur&&me._f.onBlur(P),l&&l(0)):me._f.onChange&&me._f.onChange(P);const Xs=C(U,jt,Xt,!1),Nl=!ci(Xs)||ti;if(!Xt&&f.values.next({name:U,type:P.type,values:{...s}}),on)return c.isValid&&E(),Nl&&f.state.next({name:U,...ti?{}:Xs});if(!Xt&&ti&&f.state.next({...r}),t.resolver){const{errors:Sl}=await L([U]);if(X(jt),we){const Yu=LT(r.errors,n,U),eo=LT(Sl,n,Yu.name||U);Oe=eo.error,U=eo.name,Tt=ci(Sl)}}else g([U],!0),Oe=(await $T(me,s,b,t.shouldUseNativeValidation))[U],g([U]),X(jt),we&&(Oe?Tt=!1:c.isValid&&(Tt=await F(n,!0)));we&&(me._f.deps&&pe(me._f.deps),$(U,Tt,Oe,Xs))}},de=(P,D)=>{if(Me(r.errors,D)&&P.focus)return P.focus(),1},pe=async(P,D={})=>{let U,we;const me=sb(P);if(t.resolver){const ae=await G(Or(P)?P:me);U=ci(ae),we=P?!me.some(X=>Me(ae,X)):U}else P?(we=(await Promise.all(me.map(async ae=>{const X=Me(n,ae);return await F(X&&X._f?{[ae]:X}:X)}))).every(Boolean),!(!we&&!r.isValid)&&E()):we=U=await F(n);return f.state.next({...!js(P)||c.isValid&&U!==r.isValid?{}:{name:P},...t.resolver||!P?{isValid:U}:{},errors:r.errors}),D.shouldFocus&&!we&&yf(n,de,P?me:a.mount),we},ke=P=>{const D={...i,...o.mount?s:{}};return Or(P)?D:js(P)?Me(D,P):P.map(U=>Me(D,U))},K=(P,D)=>({invalid:!!Me((D||r).errors,P),isDirty:!!Me((D||r).dirtyFields,P),isTouched:!!Me((D||r).touchedFields,P),isValidating:!!Me((D||r).validatingFields,P),error:Me((D||r).errors,P)}),fe=P=>{P&&sb(P).forEach(D=>Br(r.errors,D)),f.state.next({errors:P?r.errors:{}})},le=(P,D,U)=>{const we=(Me(n,P,{_f:{}})._f||{}).ref;rr(r.errors,P,{...D,ref:we}),f.state.next({name:P,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&we&&we.focus&&we.focus()},Ce=(P,D)=>ja(P)?f.values.subscribe({next:U=>P(q(void 0,D),U)}):q(P,D,!0),j=(P,D={})=>{for(const U of P?sb(P):a.mount)a.mount.delete(U),a.array.delete(U),D.keepValue||(Br(n,U),Br(s,U)),!D.keepError&&Br(r.errors,U),!D.keepDirty&&Br(r.dirtyFields,U),!D.keepTouched&&Br(r.touchedFields,U),!D.keepIsValidating&&Br(r.validatingFields,U),!t.shouldUnregister&&!D.keepDefaultValue&&Br(i,U);f.values.next({values:{...s}}),f.state.next({...r,...D.keepDirty?{isDirty:ee()}:{}}),!D.keepIsValid&&E()},Ee=({disabled:P,name:D,field:U,fields:we,value:me})=>{if(co(P)){const ae=P?void 0:Or(me)?lb(U?U._f:Me(we,D)._f):me;rr(s,D,ae),C(D,ae,!1,!1,!0)}},Z=(P,D={})=>{let U=Me(n,P);const we=co(D.disabled);return rr(n,P,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:P}},name:P,mount:!0,...D}}),a.mount.add(P),U?Ee({field:U,disabled:D.disabled,name:P,value:D.value}):R(P,!0,D.value),{...we?{disabled:D.disabled}:{},...t.progressive?{required:!!D.required,min:Mh(D.min),max:Mh(D.max),minLength:Mh(D.minLength),maxLength:Mh(D.maxLength),pattern:Mh(D.pattern)}:{},name:P,onChange:H,onBlur:H,ref:me=>{if(me){Z(P,D),U=Me(n,P);const ae=Or(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,X=Nte(ae),Oe=U._f.refs||[];if(X?Oe.find(Tt=>Tt===ae):ae===U._f.ref)return;rr(n,P,{_f:{...U._f,...X?{refs:[...Oe.filter(ab),ae,...Array.isArray(Me(i,P))?[{}]:[]],ref:{type:ae.type,name:P}}:{ref:ae}}}),R(P,!1,void 0,ae)}else U=Me(n,P,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||D.shouldUnregister)&&!(dte(a.array,P)&&o.action)&&a.unMount.add(P)}}},je=()=>t.shouldFocusError&&yf(n,de,a.mount),Pe=P=>{co(P)&&(f.state.next({disabled:P}),yf(n,(D,U)=>{let we=P;const me=Me(n,U);me&&co(me._f.disabled)&&(we||(we=me._f.disabled)),D.disabled=we},0,!1))},xe=(P,D)=>async U=>{let we;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let me=Ci(s);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:ae,values:X}=await L();r.errors=ae,me=X}else await F(n);if(Br(r.errors,"root"),ci(r.errors)){f.state.next({errors:{}});try{await P(me,U)}catch(ae){we=ae}}else D&&await D({...r.errors},U),je(),setTimeout(je);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ci(r.errors)&&!we,submitCount:r.submitCount+1,errors:r.errors}),we)throw we},se=(P,D={})=>{Me(n,P)&&(Or(D.defaultValue)?_e(P,Ci(Me(i,P))):(_e(P,D.defaultValue),rr(i,P,Ci(D.defaultValue))),D.keepTouched||Br(r.touchedFields,P),D.keepDirty||(Br(r.dirtyFields,P),r.isDirty=D.defaultValue?ee(P,Ci(Me(i,P))):ee()),D.keepError||(Br(r.errors,P),c.isValid&&E()),f.state.next({...r}))},oe=(P,D={})=>{const U=P?Ci(P):i,we=Ci(U),me=ci(P),ae=me?i:we;if(D.keepDefaultValues||(i=U),!D.keepValues){if(D.keepDirtyValues)for(const X of a.mount)Me(r.dirtyFields,X)?rr(ae,X,Me(s,X)):_e(X,Me(ae,X));else{if(P2&&Or(P))for(const X of a.mount){const Oe=Me(n,X);if(Oe&&Oe._f){const Tt=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(Zv(Tt)){const jt=Tt.closest("form");if(jt){jt.reset();break}}}}n={}}s=e.shouldUnregister?D.keepDefaultValues?Ci(i):{}:Ci(ae),f.array.next({values:{...ae}}),f.values.next({values:{...ae}})}a={mount:D.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!D.keepIsValid||!!D.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:me?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Yl(P,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:me?[]:D.keepDirtyValues?D.keepDefaultValues&&s?qg(i,s):r.dirtyFields:D.keepDefaultValues&&P?qg(i,P):{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},De=(P,D)=>oe(ja(P)?P(s):P,D);return{control:{register:Z,unregister:j,getFieldState:K,handleSubmit:xe,setError:le,_executeSchema:L,_getWatch:q,_getDirty:ee,_updateValid:E,_removeUnmounted:J,_updateFieldArray:v,_updateDisabledField:Ee,_getFieldArray:ie,_reset:oe,_resetDefaultValues:()=>ja(t.defaultValues)&&t.defaultValues().then(P=>{De(P,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:P=>{r={...r,...P}},_disableForm:Pe,_subjects:f,_proxyFormState:c,_setErrors:O,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(P){o=P},get _defaultValues(){return i},get _names(){return a},set _names(P){a=P},get _formState(){return r},set _formState(P){r=P},get _options(){return t},set _options(P){t={...t,...P}}},trigger:pe,register:Z,handleSubmit:xe,watch:Ce,setValue:_e,getValues:ke,reset:De,resetField:se,clearErrors:fe,unregister:j,setError:le,setFocus:(P,D={})=>{const U=Me(n,P),we=U&&U._f;if(we){const me=we.refs?we.refs[0]:we.ref;me.focus&&(me.focus(),D.shouldSelect&&me.select())}},getFieldState:K}}function Rte(e={}){const t=I.useRef(),r=I.useRef(),[n,i]=I.useState({isDirty:!1,isValidating:!1,isLoading:ja(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ja(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Ote(e),formState:n});const s=t.current.control;return s._options=e,yte({subject:s._subjects.state,next:o=>{gte(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),I.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),I.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),I.useEffect(()=>{e.values&&!Yl(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),I.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),I.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),I.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=mte(n,s),t.current}var DT=function(e){var t=e.as,r=e.errors,n=e.name,i=e.message,s=e.render,o=function(p,w){if(p==null)return{};var b,x,E={},g=Object.keys(p);for(x=0;x<g.length;x++)w.indexOf(b=g[x])>=0||(E[b]=p[b]);return E}(e,["as","errors","name","message","render"]),a=pte(),l=Me(r||a.formState.errors,n);if(!l)return null;var u=l.message,c=l.types,f=Object.assign({},o,{children:u||i});return k.isValidElement(t)?k.cloneElement(t,f):s?s({message:u||i,messages:c}):k.createElement(t||k.Fragment,f)};const Pte=()=>{const e=new Date;return S.jsx(Ate,{now:e})},jT=e=>e.toISOString().split("T")[0]??"",HI=e=>{const t=new Date(e);t.setDate(1);const r=new Date(e);return r.setDate(1),r.setUTCMonth(r.getUTCMonth()+1),{startDate:jT(t),endDate:jT(r)}},Ate=e=>{const{accountTags:t,accountCodes:r}=k.useContext(Qm),{now:n}=e,i=HI(n),[s,o]=k.useState(i.startDate),[a,l]=k.useState(i.endDate),u=new Map(t.map(c=>[c.code,c]));return Lv(r,c=>op.toTag(c.code)),S.jsxs(S.Fragment,{children:[S.jsx("h2",{children:"date range"}),S.jsxs(m1,{children:[S.jsxs(Vr,{children:[S.jsx("label",{children:"start date"}),S.jsx("input",{type:"date",value:s,onChange:c=>o(c.target.value)})]}),S.jsxs(Vr,{children:[S.jsx("label",{children:"end date"}),S.jsx("input",{type:"date",value:a,onChange:c=>l(c.target.value)})]})]}),S.jsxs(wr,{selectable:!0,compact:"very",children:[S.jsx(Yo,{children:S.jsxs(wr.Row,{children:[S.jsx(wr.HeaderCell,{children:""}),S.jsx(wr.HeaderCell,{children:""}),S.jsx(wr.HeaderCell,{children:""}),S.jsxs(wr.HeaderCell,{children:[": ",s," ~ ",a]})]})}),S.jsx(al,{children:r.map(c=>{const f=op.toTag(c.code),p=u.get(f);if(!p)throw new Error("tag not found");const w=XP.toKorean(p.major),b=p.minor,x=f*1e3===c.code;return S.jsxs(wr.Row,{children:[S.jsx(wr.Cell,{children:w}),S.jsx(wr.Cell,{children:b}),S.jsx(wr.Cell,{children:x?f:c.code}),S.jsx(wr.Cell,{children:S.jsx(L2,{code:c.code,startDate:s,endDate:a})})]},c.code)})})]})]})},Eo=e=>{const{amount:t}=e,r=new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"});return S.jsx("span",{children:r.format(t)})},L2=e=>{const{accountCodes:t,accountTags:r}=k.useContext(Qm),n=e.code<1e3?e.code*1e3:e.code,i=t.find(b=>b.code===n),s=op.toTag(n),o=r.find(b=>b.code===s),l=HI(new Date),u=e.startDate??l.startDate,c=e.endDate??l.endDate,f=`/ledger/account/${n}/${u}/${c}`,p=o?XP.toKorean(o.major):"unknown",w=(o==null?void 0:o.minor)??"unknown";return S.jsxs(Is,{to:f,children:["[",n,"] ",p," ",">"," ",w," ",">"," ",i==null?void 0:i.name]})},GI=e=>{const{id:t,label:r}=e,n=r??t,i=`/journal/entry/${t}`;return S.jsx(Is,{to:i,children:n})},Ite=e=>{const{entry:t,prev:r}=e;return t.lines.map((n,i)=>{const s=`${t.id}-${n.code}`,o=i===0,a=i===1,l=i===t.lines.length-1,u=n._tag==="debit"?n.debit:null,c=n._tag==="credit"?n.credit:null,f=o&&(r==null?void 0:r.date)!==t.date,p=Dv.safeValidate(t),w=p.isErr()?p.error:null,b=l?"last-row":void 0,x=l?{borderBottom:"1px solid #ccc"}:void 0;return S.jsxs(Hr,{error:p.isErr(),children:[S.jsx(fn,{children:f?t.date:null}),S.jsxs(fn,{className:b,style:x,children:[o?S.jsx(GI,{id:t.id,label:t.brief}):null,a&&w?w.message:null]}),S.jsx(fn,{className:b,style:x,children:S.jsx(L2,{code:n.code})}),S.jsx(fn,{className:b,style:x,textAlign:"right",children:u?S.jsx(Eo,{amount:u}):null}),S.jsx(fn,{className:b,style:x,textAlign:"right",children:c?S.jsx(Eo,{amount:c}):null})]},s)})},D2=e=>{const{entries:t}=e,r=H_(t,up(i=>i.lines),$u(i=>i._tag==="debit"?i.debit:0),hl(i=>i)),n=H_(t,up(i=>i.lines),$u(i=>i._tag==="credit"?i.credit:0),hl(i=>i));return S.jsx(S.Fragment,{children:S.jsxs(wr,{compact:"very",selectable:!0,celled:!0,unstackable:!0,children:[S.jsx(Yo,{children:S.jsxs(Hr,{children:[S.jsx(wt,{children:"date"}),S.jsx(wt,{children:"brief"}),S.jsx(wt,{children:"code"}),S.jsx(wt,{children:"debit"}),S.jsx(wt,{children:"credit"})]})}),S.jsx(al,{children:t.map((i,s)=>{const o=t[s-1];return S.jsx(Ite,{prev:o,entry:i,order:s},i.id)})}),S.jsx(g1,{children:S.jsxs(Hr,{negative:!0,children:[S.jsx(wt,{children:" "}),S.jsx(wt,{children:" "}),S.jsx(wt,{children:r!==n?"unbalanced!":null}),S.jsx(wt,{textAlign:"right",children:S.jsx(Eo,{amount:r})}),S.jsx(wt,{textAlign:"right",children:S.jsx(Eo,{amount:n})})]})})]})})},$te=e=>{const{onSubmit:t}=e,r=k.useContext(Qm),{register:n,handleSubmit:i,watch:s,setValue:o,formState:{errors:a}}=Rte({defaultValues:e.defaultValue}),l=s(),c=Dv.safeValidate(l).isOk()&&Kq(a),f=()=>{const N=l.lines.map(C=>C.code),O=r.accountCodes.map(C=>C.code);return ap(O,N)[0]??101e3},p=()=>{const N=Hn.filter_debit(l.lines),O=Hn.filter_credit(l.lines),R={_tag:"debit",code:f(),debit:0},C=[...N,R,...O];o("lines",C)},w=()=>{const N=Hn.filter_debit(l.lines),O=Hn.filter_credit(l.lines),R={_tag:"credit",code:f(),credit:0},C=[...N,...O,R];o("lines",C)},b=()=>{const N=Hn.filter_credit(l.lines).map(C=>({_tag:"debit",code:C.code,debit:C.credit})),O=Hn.filter_debit(l.lines).map(C=>({_tag:"credit",code:C.code,credit:C.debit})),R=[...N,...O];o("lines",R)},x=()=>{o("brief",e.defaultValue.brief),o("lines",e.defaultValue.lines)},E=N=>{const O=l.lines.filter(R=>R.code!==N);o("lines",O)},g=N=>Dv.toCSV(N).map(R=>R.join(",")).join(`
`),v=N=>{const O=l.lines.map(C=>C.code);return r.accountCodes.filter(C=>C.code===N.code?!0:!O.includes(C.code))};return S.jsxs(S.Fragment,{children:[S.jsxs(m1,{onSubmit:i(t),children:[S.jsxs(Vr,{children:[S.jsx("label",{children:"date"}),S.jsx("input",{type:"date",...n("date",{onChange:N=>{const R=N.target.value.split("-"),C=Number.parseInt(R[0],10)-2e3,$=R[1],L=R[2],G=`${C}${$}${L}_000000`;o("id",G)}})})]}),S.jsxs(Vr,{children:[S.jsx("label",{children:"id"}),S.jsx("input",{...n("id",{required:"id is required"})}),S.jsx(DT,{errors:a,name:"id",render:({message:N})=>S.jsx("p",{children:N})})]}),S.jsxs(Vr,{children:[S.jsx("label",{children:"brief"}),S.jsx("input",{...n("brief",{required:"brief is required"})}),S.jsx(DT,{errors:a,name:"brief",render:({message:N})=>S.jsx("p",{children:N})})]}),S.jsxs(wr,{compact:"very",color:"blue",children:[S.jsx(Lte,{}),S.jsx(al,{children:l.lines.map((N,O)=>{const R=`${N._tag}-${N.code}`,C=v(N);return N._tag!=="debit"?null:S.jsxs(Hr,{children:[S.jsx(fn,{children:S.jsx("select",{...n(`lines.${O}.code`,{valueAsNumber:!0}),children:C.map($=>S.jsxs("option",{value:$.code,children:["[",$.code,"] ",$.name]},$.code))})}),S.jsx(fn,{children:S.jsx("input",{type:"number",...n(`lines.${O}.debit`,{valueAsNumber:!0})})}),S.jsx(fn,{children:S.jsx(xr,{type:"button",size:"mini",onClick:()=>E(N.code),children:"del"})})]},R)})})]}),S.jsxs(wr,{compact:"very",color:"red",children:[S.jsx(Dte,{}),S.jsx(al,{children:l.lines.map((N,O)=>{const R=`${N._tag}-${N.code}`,C=v(N);return N._tag!=="credit"?null:S.jsxs(Hr,{children:[S.jsx(fn,{children:S.jsx("select",{...n(`lines.${O}.code`,{valueAsNumber:!0}),children:C.map($=>S.jsxs("option",{value:$.code,children:["[",$.code,"] ",$.name]},$.code))})}),S.jsx(fn,{children:S.jsx("input",{type:"number",...n(`lines.${O}.credit`,{valueAsNumber:!0})})}),S.jsx(fn,{children:S.jsx(xr,{type:"button",size:"mini",onClick:()=>E(N.code),children:"del"})})]},R)})})]}),S.jsx(Vr,{children:S.jsx(jte,{debit:p,credit:w,swap:b,reset:x})}),S.jsx(Vr,{children:S.jsx(xr,{type:"submit",disabled:!c,children:"submit"})})]}),S.jsx(D2,{entries:[l]}),c?S.jsx("pre",{children:g(l)}):null]})},Lte=()=>S.jsx(Yo,{children:S.jsxs(Hr,{children:[S.jsx(wt,{children:"code"}),S.jsx(wt,{children:"debit"}),S.jsx(wt,{children:"actions"})]})}),Dte=()=>S.jsx(Yo,{children:S.jsxs(Hr,{children:[S.jsx(wt,{children:"code"}),S.jsx(wt,{children:"credit"}),S.jsx(wt,{children:"actions"})]})}),jte=e=>S.jsxs(PN,{size:"mini",children:[S.jsx(xr,{type:"button",onClick:e.debit,children:"debit"}),S.jsx(pu,{}),S.jsx(xr,{type:"button",onClick:e.credit,children:"credit"}),S.jsx(pu,{}),S.jsx(xr,{type:"button",onClick:e.swap,children:"swap"}),S.jsx(pu,{}),S.jsx(xr,{type:"button",onClick:e.reset,children:"reset"})]}),Mte=()=>{k.useContext(Qm);const e=new Date,t=p=>`${p}`.padStart(2,"0"),r=e.getFullYear(),n=t(e.getMonth()+1),i=t(e.getDate()),s=t(e.getHours()),o=t(e.getMinutes()),a=t(e.getSeconds()),l=`${r}-${n}-${i}`,u=`${r-2e3}${n}${i}_${s}${o}${a}`,c={brief:"",date:l,id:u,lines:[{code:96e4,_tag:"debit",debit:0},{code:93e4,_tag:"credit",credit:0}]},f=async p=>{console.log(p)};return S.jsxs(S.Fragment,{children:[S.jsx("h1",{children:"Journal Entry: create"}),S.jsx($te,{defaultValue:c,onSubmit:f})]})},Fte=()=>S.jsx("div",{children:"TODO: edit"}),Bte=()=>{const t=t2.list,r=hN(),n=t.schema.req.parse(r),i=new URLSearchParams(n),o=`${`${e2}${t.endpoint.path}`}?${i}`,{data:a,error:l,isLoading:u}=v1(o),c=a;return l?S.jsx("div",{children:"failed to load"}):u?S.jsx("div",{children:"loading..."}):S.jsx(Wte,{req:n,resp:c})},Wte=e=>{const{req:t,resp:r}=e,{startDate:n,endDate:i}=t,{entries:s}=r;return S.jsxs(S.Fragment,{children:[S.jsx("h1",{children:"Journal Entries"}),S.jsxs("h2",{children:[n," ~ ",i]}),S.jsx(D2,{entries:s})]})},zte=()=>{const t=t2.get,r=hN(),n=t.schema.req.parse(r),i=new URLSearchParams(n),o=`${`${e2}${t.endpoint.path}`}?${i}`,{data:a,error:l,isLoading:u}=v1(o),c=a;return l?S.jsx("div",{children:"failed to load"}):u?S.jsx("div",{children:"loading..."}):S.jsx(qte,{req:n,resp:c})},qte=e=>{const{req:t,resp:r}=e,{id:n}=t,i=r,s=Dv.safeValidate(i);return S.jsxs(S.Fragment,{children:[S.jsxs("h1",{children:["Journal Entry: ",n]}),s.isErr()?S.jsxs("h2",{children:["error: ",s.error.message]}):null,S.jsx(D2,{entries:[i]}),S.jsx(xr,{as:Is,to:`/journal/entry/${n}/edit`,children:"edit"})]})},Ute=()=>{const t=Zq(1,12).map(n=>{const i=`2024-${n.toString().padStart(2,"0")}-01`,s=`2024-${(n+1).toString().padStart(2,"0")}-01`;return{startDate:i,endDate:s}}),r=new Date;return S.jsxs(S.Fragment,{children:[S.jsx("h1",{children:"Journal"}),S.jsx(xr,{as:Is,to:"/journal/action/create",children:"create"}),S.jsxs(wr,{selectable:!0,celled:!0,compact:"very",children:[S.jsx(Yo,{children:S.jsxs(Hr,{children:[S.jsx(wt,{children:"start date"}),S.jsx(wt,{children:"end date"}),S.jsx(wt,{children:"journal"})]})}),S.jsx(al,{children:t.map((n,i)=>{const{startDate:s,endDate:o}=n,a=`/journal/list/${s}/${o}`,l=s<=r.toISOString()&&r.toISOString()<o;return S.jsxs(Hr,{positive:l,children:[S.jsx(fn,{children:s}),S.jsx(fn,{children:o}),S.jsx(fn,{children:S.jsx(Is,{to:a,children:"journal"})})]},n.startDate)})})]})]})},Vte=()=>S.jsxs(q0,{children:[S.jsx(jn,{index:!0,element:S.jsx(Ute,{})}),S.jsx(jn,{path:"/list/:startDate/:endDate",element:S.jsx(Bte,{})}),S.jsx(jn,{path:"/entry/:id",element:S.jsx(zte,{})}),S.jsx(jn,{path:"/entry/:id/edit",element:S.jsx(Fte,{})}),S.jsx(jn,{path:"/action/create",element:S.jsx(Mte,{})})]}),Hte=()=>{const t=bA.list,r=hN(),n=t.schema.req.parse(r),i=new URLSearchParams;i.append("code",`${n.code}`),i.append("startDate",`${n.startDate}`),i.append("endDate",`${n.endDate}`);const s=`${wA}${t.endpoint.path}?${i}`,{data:o,error:a,isLoading:l}=v1(s),u=o;return a?S.jsx("div",{children:"failed to load"}):l?S.jsx("div",{children:"loading..."}):S.jsx(Gte,{req:n,resp:u})},Gte=e=>{const{req:t,resp:r}=e,{code:n,startDate:i,endDate:s}=t,{statement:o,ledgers:a}=r,l=[],u=[];for(const g of a)g.debit>0&&l.push(g),g.credit>0&&u.push(g);const c=[],f=Math.max(l.length,u.length);for(let g=0;g<f;g++){const v=l[g],N=u[g];c.push({debit:v,credit:N})}const p={id:"",brief:"TODO_",date:i,debit:0,credit:0},w={...p,debit:o.totalDebit+o.closingBalance},b={...p,credit:o.totalCredit},x=hl([w,...l],g=>g.debit),E=hl([b,...u],g=>g.credit);return S.jsxs(S.Fragment,{children:[S.jsx("h1",{children:S.jsx(L2,{code:n,startDate:i,endDate:s})}),S.jsxs(wr,{selectable:!0,celled:!0,compact:"very",unstackable:!0,children:[S.jsx(Yo,{children:S.jsxs(Hr,{children:[S.jsx(wt,{children:""}),S.jsx(wt,{children:""}),S.jsx(wt,{children:""}),S.jsx(wt,{children:""}),S.jsx(wt,{children:""}),S.jsx(wt,{children:""})]})}),S.jsxs(al,{children:[S.jsxs(Hr,{children:[S.jsx(Ug,{ledger:w,prev:void 0}),S.jsx(Ug,{ledger:b,prev:void 0})]}),c.map((g,v)=>{const{debit:N,credit:O}=g,R=c[v-1],C=[N==null?void 0:N.id,O==null?void 0:O.id].join("-");return S.jsxs(Hr,{children:[S.jsx(Ug,{ledger:N,prev:R==null?void 0:R.debit}),S.jsx(Ug,{ledger:O,prev:R==null?void 0:R.credit})]},C)})]}),S.jsxs(g1,{children:[S.jsxs(Hr,{children:[S.jsx(wt,{children:" "}),S.jsx(wt,{children:" "}),S.jsx(wt,{textAlign:"right",children:S.jsx(Eo,{amount:x})}),S.jsx(wt,{children:" "}),S.jsx(wt,{children:" "}),S.jsx(wt,{textAlign:"right",children:S.jsx(Eo,{amount:E})})]}),S.jsxs(Hr,{children:[S.jsx(wt,{children:" "}),S.jsx(wt,{children:"debit - credit"}),S.jsx(wt,{textAlign:"right",children:S.jsx(Eo,{amount:x-E})}),S.jsx(wt,{children:" "}),S.jsx(wt,{children:"credit - debit"}),S.jsx(wt,{textAlign:"right",children:S.jsx(Eo,{amount:E-x})})]})]})]})]})},Ug=e=>{const{ledger:t,prev:r}=e;return t?S.jsx(Jte,{ledger:t,prev:r}):S.jsx(Qte,{})},Qte=()=>S.jsxs(S.Fragment,{children:[S.jsx(wr.Cell,{}),S.jsx(wr.Cell,{}),S.jsx(wr.Cell,{})]}),Jte=e=>{const{ledger:t,prev:r}=e,n=t.credit>0?t.credit:t.debit,i=t.date!==(r==null?void 0:r.date);return S.jsxs(S.Fragment,{children:[S.jsx(wr.Cell,{children:i?t.date:null}),S.jsx(wr.Cell,{children:S.jsx(GI,{id:t.id,label:t.brief})}),S.jsx(wr.Cell,{textAlign:"right",children:S.jsx(Eo,{amount:n})})]})},Kte=()=>S.jsxs(q0,{children:[S.jsx(jn,{index:!0,element:S.jsx(Pte,{})}),S.jsx(jn,{path:"/account/:code/:startDate/:endDate",element:S.jsx(Hte,{})})]}),Zte=async()=>{var n;const{data:e,error:t}=await Da.auth.getSession();if(t)throw t;const r=(n=e.session)==null?void 0:n.user.id;if(!r)throw new Error("user id is null");return r},Yte=()=>{const e=k.useContext(sp),t=e._tag==="supabase"?e.session:null,[r,n]=k.useState(!1),i=async()=>{const s=e._tag!=="server"?e.sqlite:null;if(!s){console.log("sqlite is null");return}try{n(!0);const o=await Zte(),a=await jI.upload(o,s);console.log(a)}catch(o){console.error(o)}finally{n(!1)}};return t?S.jsx(xr,{onClick:i,loading:r,children:"upload"}):S.jsx(xr,{disabled:!0,children:"upload"})},Xte=()=>{const e=Qp(),t=r=>e.pathname.startsWith(r);return S.jsxs(S.Fragment,{children:[S.jsx(tv,{children:S.jsxs(Ol,{fiexed:"top",size:"small",children:[S.jsx(Ol.Item,{as:Is,to:"/",header:!0,children:"yuuka"}),S.jsx(Ol.Item,{as:Is,to:"/journal",active:t("/journal"),children:"journal"}),S.jsx(Ol.Item,{as:Is,to:"/ledger",active:t("/ledger"),children:"ledger"}),S.jsx(Ol.Item,{as:Is,to:"/book",active:t("/book"),children:"book"}),S.jsxs(IR,{position:"right",children:[S.jsx(Ol.Item,{children:S.jsx(Yte,{})}),S.jsx(Ol.Item,{as:Is,to:"/user",active:t("/user"),children:"user"})]})]})}),S.jsx("div",{style:{paddingTop:"20px",paddingBottom:"60px"},children:S.jsx(tv,{children:S.jsx(uD,{})})})]})},ere=()=>{const e=k.useContext(sp),t=e._tag==="supabase"?e.session:null,r=async()=>{await Da.auth.signOut()};return S.jsxs(S.Fragment,{children:[S.jsx("h1",{children:"user"}),S.jsxs("h2",{children:["data source: ",e._tag]}),t?S.jsxs(S.Fragment,{children:[S.jsx("h2",{children:"supabase"}),S.jsx(xr,{onClick:r,children:"Sign Out"})]}):null]})},tre=()=>S.jsx(q0,{children:S.jsx(jn,{index:!0,element:S.jsx(ere,{})})}),rre=yD(Vy(S.jsxs(jn,{path:"/",element:S.jsx(Xte,{}),children:[S.jsx(jn,{path:"/journal/*",element:S.jsx(Vte,{})}),S.jsx(jn,{path:"/ledger/*",element:S.jsx(Kte,{})}),S.jsx(jn,{path:"/book/*",element:S.jsx(lte,{})}),S.jsx(jn,{path:"/user/*",element:S.jsx(tre,{})})]})),{}),nre=()=>S.jsx(ete,{children:S.jsx(rte,{children:S.jsx(ED,{router:rre})})});ub.createRoot(document.getElementById("root")).render(S.jsx(nre,{}));export{Vo as g};
